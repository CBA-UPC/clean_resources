var ApcRecWidget=[function(e,t){e.exports=react_and_react_dom.React},function(e,t,n){"use strict";(function(e){var r,o=n(30),i=Object.prototype.toString,a=Object.getPrototypeOf,c=(r=Object.create(null),,u=s=l=Array.isArray,f=s("undefined");var d=u("ArrayBuffer");var p=s("string"),h=s("function"),v=s("number"),y=m=g=u("Date"),b=u("File"),w=u("Blob"),E=u("FileList"),S=u("URLSearchParams");r C="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:e,A=var P,R=(P="undefined"!==typeof Uint8Array&&a(Uint8Array),,T=u("HTMLFormElement"),x=),k=u("RegExp"),L=M="abcdefghijklmnopqrstuvwxyz",N={DIGIT:"0123456789",ALPHA:M,ALPHA_DIGIT:M+M.toUpperCase()+"0123456789"};var I=u("AsyncFunction");t.a={isArray:l,isArrayBuffer:d,isBuffer:isFormData:isArrayBufferView:isString:p,isNumber:v,isBoolean:isObject:y,isPlainObject:m,isUndefined:f,isDate:g,isFile:b,isBlob:w,isRegExp:k,isFunction:h,isStream:isURLSearchParams:S,isTypedArray:R,isFileList:E,forEach:O,merge:extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return O(t,(,{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:inherits:toFlatObject:kindOf:c,kindOfTest:u,endsWith:toArray:forEachEntry:matchAll:isHTMLForm:T,hasOwnProperty:x,hasOwnProp:x,reduceDescriptors:L,freezeMethods:toObjectSet:toCamelCase:noop:function(){},toFiniteNumber:findKey:_,global:C,isContextDefined:A,ALPHABET:N,generateString:isSpecCompliantForm:toJSONObject:isAsyncFn:I,isThenable:}).call(this,n(52))},function(e,t,n){"use strict";d(e){return W&&e instanceof Map}rn j})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i}));var D,U,G="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),W="undefined"!=typeof Map,V="undefined"!=typeof Set,Y="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,z=G?Symbol.for("immer-nothing"):((D={})["immer-nothing"]=!0,D),H=G?Symbol.for("immer-draftable"):"__$immer_draftable",q=G?Symbol.for("immer-state"):"__$immer_state",K=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?Object.getOwnPropertyNames,J=Object.getOwnPropertyDescriptors||X={},Z={get:has:ownKeys:function(e){return Reflect.ownKeys(h(e))},set:deleteProperty:getOwnPropertyDescriptor:defineProperty:function(){r(11)},getPrototypeOf:setPrototypeOf:,Q={};a(Z,(),Q.deleteProperty=Q.set=var ee=new()),te=ee.produce;ee.produceWithPatches.bind(ee),ee.setAutoFreeze.bind(ee),ee.setUseProxies.bind(ee),ee.applyPatches.bind(ee),ee.createDraft.bind(ee),ee.finishDraft.bind(ee);t.b=te},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(21)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(8),o=n(22);e.exports=n(9)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(34)("wks"),o=n(23),i=n(5).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return S}));var r=n(3),o=(n(29),n(4)),i=n(51),a=),c=u=Object.defineProperty,s=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=p=h="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;ar y=Array);ion S(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,o="function"==typeof e.initialState?e.initialState:m(e.initialState),i=e.reducers||{},a=Object.keys(i),u={},s={},l={};function f(){var t="function"===typeof e.extraReducers?E(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],u=void 0===a?[]:a,l=t[2],f=void 0===l?void 0:l,d=p(p({},i),s);return o,d,u,f)}return a.forEach((),{name:t,reducer:actions:l,caseReducers:u,getInitialState:}Object.assign;var O="listenerMiddleware";w(O+"/add"),w(O+"/removeAll"),w(O+"/remove");Object(r.c)()}).call(this,n(169))},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){var r=n(25);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var r=n(96);n(53)(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(101)),i="undefined"===typeof window?{}:window.device,a={};"undefined"!==typeof window&&(window.device=a);var c="undefined"===typeof window?"REACTSSR":window.navigator.userAgent.toLowerCase(),u=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];macos=function(){return s("mac")},a.ios=a.iphone=function(){return!a.windows()&&s("iphone")},a.ipod=function(){return s("ipod")},a.ipad=function(){return s("ipad")},a.android=a.androidPhone=function(){return a.android()&&s("mobile")},a.androidTablet=function(){return a.android()&&!s("mobile")},a.blackberry=a.blackberryPhone=a.blackberryTablet=function(){return a.blackberry()&&s("tablet")},a.windows=function(){return s("windows")},a.windowsPhone=function(){return a.windows()&&s("phone")},a.windowsTablet=a.fxos=a.fxosPhone=function(){return a.fxos()&&s("mobile")},a.fxosTablet=a.meego=a.cordova=function(){return"undefined"!==typeof window&&!(!window.cordova||"file:"!==location.protocol)},a.nodeWebkit=function(){return"undefined"!==typeof window&&"object"===(0,o.default)(window.process)},a.mobile=a.tablet=a.desktop=a.television=a.portrait=function(){return"undefined"!==typeof window&&window.innerHeight/window.innerWidth>1},a.landscape=function(){return"undefined"!==typeof window&&window.innerHeight/window.innerWidth<1},a.noConflict=function(){return"undefined"!==typeof window&&(window.device=i),this},a.type=l(["mobile","tablet","desktop"]),a.os=l(["ios","iphone","ipad","ipod","android","blackberry","windows","fxos","meego","television"]);var f=a;t.default=f},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=react_and_react_dom.ReactDOM},function(e,t,n){"use strict";var r=function(e,t){return e===t};(t,"a",(function(){return c}));var c=a(o)},function(e,t,n){var r=n(15),o=n(5),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(24)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){t.f=n(12)},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";e.exports=n(90)},function(e,t,n){e.exports=n(97)},function(e,t,n){e.exports=n(11)},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVisitorId=function(){var e=document.cookie.split(";"),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){for(var a=o.value;" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf("visitor")){var c=a.indexOf("=")+2,u=a.length-1;return a.substring(c,u)}}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return""},t.getBeaconServerUrl=function(e){if("production"===e)return"https://beacon.shutterfly.com/log";return"https://beacon.".concat(e,".shutterfly.com/log")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e){return Math.random().toString(16).slice(-4)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(73),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=n(91)},function(e,t,n){"use strict";e.exports=n(94)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e){var t=e.name,n=e.additionalLogData,i=e.globalLogData,a=e.batch,c=e.env,u=e.enableNRD,s=void 0!==u&&u,l=e.batchSize,f=void 0===l?10:l,d=e.batchInterval,p=void 0===d?15e3:d;return s?(0,r.default)(t,i,f,p):(0,o.default)(t,n,a,c)}(e)};var r=i(n(130)),o=i(n(154));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){e.exports=n(171)},function(e,t,n){},function(e,t,n){e.exports=n(103)},function(e,t,n){n(37)("asyncIterator")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=var r=l(n(65)),o=l(n(131)),i=n(66),a=l(n(67)),c=l(n(132)),u=l(n(152)),s=l(n(153));unction f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n,r,o){!this,e),this.name=t,this.batchSize=r,this.batchInterval=o,this.fetch=u.default,this.bowser=this.initiateBowser(),this.globalLogData=function(e,t,n){var r={};try{r={os:n.getOSName(),osVersion:n.getOSVersion(),browser:n.getBrowserName(),browserVersion:n.getBrowserVersion(),device:n.getPlatformType(),engineName:n.getEngineName()}}catch(c){r={}}var o={appName:e,serviceLogVersion:"v2",brandId:"SFLY",visitorId:(0,i.getVisitorId)(),sessionId:(0,a.default)(),appContext:f({},r)};return(0,s.default)({},o,t||{})}(t,n,this.bowser),(0,c.default)(this)}var t,n,l;return t=e,(n=[{key:"asyncMetric",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new o.default(this,e,t)}},{key:"debug",value:function(e){this.buildLog("DEBUG",e,!0)}},{key:"info",value:function(e){this.buildLog("INFO",e,!0)}},{key:"warn",value:function(e){this.buildLog("WARN",e,!0)}},{key:"error",value:,{key:"metric",value:function(e){e=f({appContext:{success:!0}},e),this.buildLog("METRIC",e)}},{key:"buildLog",value:function(e,t,n){t.hasOwnProperty("appContext")||(t.appContext={}),e&&(t.appContext.metric=e),void 0!=n&&(t.appContext.success=n),t=f({startMillis:Date.now(),endMillis:Date.now()},(0,s.default)({},this.globalLogData,t)),(0,c.default)(this).add(t)}},{key:"dispatchLogs",value:,{key:"initiateBowser",value:function(){if("undefined"===typeof window)return{};try{var e=window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"";return r.default.getParser(e)}catch(t){return{}}}}])&&p(t.prototype,n),l&&p(t,l),e}()},function(e,t,n){"use strict";ct.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,e),this.logger=t,this.eventId=n,this.startTime=Date.now(),this.logToSignalFX=r}var t,n,c;return t=e,(n=[{key:"success",value:function(e){e.hasOwnProperty("appContext")||(e.appContext={}),e.appContext.success=!0,this.createLog(e)}},{key:"failure",value:function(e){e.hasOwnProperty("appContext")||(e.appContext={}),e.appContext.success=!1,this.createLog(e)}},{key:"createLog",value:function(e){this.endTime=Date.now(),e=r({},e,{startMillis:this.startTime,endMillis:this.endTime,eventId:this.eventId}),this.logToSignalFX&&(this.perfSummary=r(o({},this.eventId,[this.endTime-this.startTime]),e.perfSummary),e=r({},e,{perfSummary:this.perfSummary})),this.logger.metric(e)}}])&&a(t.prototype,n),c&&a(t,c),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.deleteInstance=var r=n(133),o=n(66);unction a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=null,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logStack=[],this.logger=t,this.env=(0,r.getCurrentEnv)(),setInterval(this.requestNRD,this.logger.batchInterval)}var t,n,u;return t=e,(n=[{key:"add",value:function(e){c.logStack.push(e),c.logStack.length>=c.logger.batchSize&&this.requestNRD()}},{key:"deleteLogs",value:,{key:"requestNRD",value:function(){if(c.logStack&&c.logStack.length>0){var e=(0,o.getBeaconServerUrl)(c.env),t=i(c.logStack);c.logger.fetch(e,t),c.deleteLogs()}}}])&&a(t.prototype,n),u&&a(t,u),e}()},function(e,t,n){"use strict";n(53)(t,"__esModule",{value:!0}),t.getEnvByHost=i,t.getCurrentEnv=c,t.getBaseHostname=u,t.getHostname=t.getCDNHostname=function(){var e=c();if("dev"===e||"dev1"===e)return"www.".concat(e,".shutterfly.com");if("beta1"===e||"stage1"===e){var t=e.substr(0,e.length-1);return"cdn-".concat(t,".staticsfly.com")}var n="production"===e?"":"-".concat(e);return"cdn".concat(n,".staticsfly.com")},t.getEnvPrefix=function(){var e=c();if("production"===e)return"";return"".concat(e,".")},n(134),n(151);var r={dev:1,beta:1,kappa:1,stage:1,stage1:1,kappa1:1},o=null;function i(e){if(!e)return"production";if(function(e){return e.match(/^\d+\.\d+\.\d+\.\d+$/)}(e))return"dev";var t=function(e){if(0===e.indexOf("localhost"))return"dev";var t=e.split(".");if(t.length>1)for(var n=1,r=t.length;n<r;n++)if(t[n].toLowerCase().match(/^(shutterfly|tinyprints)$/))return t[n-1].toLowerCase();return null}(e);return"local"===t||"int"===t?"dev":t&&r[t]?t:"production"}function a(){return function(){try{if("undefined"!==typeof window)return!0}catch(e){return!1}}()?i(window.location.host):)}unction u(){var e=c();return"production"===e?"shutterfly.com":"".concat(e,".shutterfly.com")}},function(e,t){e.exports=!1},function(e,t,n){var r=n(73),o=n(74);e.exports=function(e){return function(t,n){var i,a,c=String(o(t)),u=r(n),s=c.length;return u<0||u>=s?e?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===s||(a=c.charCodeAt(u+1))<56320||a>57343?e?c.charAt(u):i:e?c.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(18),o=n(144),i=n(146),a=Object.defineProperty;t.f=n(48)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(48)&&!n(27)((function(){return 7!=Object.defineProperty(n(145)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(25),o=n(17).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(25);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(71);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("undefined"===typeof window)return{catch:function(){}};if("function"===typeof window.fetch)return function(e,t){fetch(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){})).catch((function(t){return console.error("Unable to log message: ".concat(e,", received ").concat(t))}))}(e,t);var n=function(e){},r=new XMLHttpRequest;return r.open("POST",e,!0),r.send(t),r.onload=function(){},r.addEventListener("error",(function(e){return n(e)})),{catch:function(e){return n=e}}}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.reduce((function(t,n){if("object"!==r(n))throw new Error("merge only works on objects");for(var o in n)if("object"!==r(n[o])||"object"!==r(t[o])||Array.isArray(n[o]))if(Array.isArray(t[o])||Array.isArray(n[o])){var i=(t[o]?t[o]:[]).concat(n[o]?n[o]:[]);t[o]=i}else t[o]=n[o];else t[o]=e(t[o],n[o]);return t}),{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return new d(e,t,n,r||h())};var r=c(n(65)),o=c(n(67)),i=c(n(155)),a=c(n(156));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=(0,o.default)(),d=function(){function e(t,n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fetch=a.fetch,this.composed=void 0,this.batchSize=o.size,this.batchUnit=o.unit||"log",this.composed=this.batchSize?(0,i.default)(n):void 0,this.name=t,this.additionalLogData=n,this.performanceApi=a.performance,this.beaconApi=a.beacon,this.bowser=r.default.getParser(a.userAgent),this.additionalLogData.logSession||(this.additionalLogData.logSession=f),this.commonFields={os:this.bowser.getOSName(),osVersion:this.bowser.getOSVersion(),browser:this.bowser.getBrowserName(),browserVersion:this.bowser.getBrowserVersion(),device:this.bowser.getPlatformType(),engineName:this.bowser.getEngineName()},this.resource=this.additionalLogData.resource||"/application/log.gif"}var t,n,o;return t=e,(n=[{key:"debug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._log("DEBUG",!0,e,t,Date.now())}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._log("INFO",!0,e,t,Date.now())}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._log("WARN",!0,e,t,Date.now())}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._log("ERROR",!1,e,t,Date.now())}},{key:"metric",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._log("METRIC",!0,e,u({},n,{duration:t}),Date.now())}},{key:"asyncMetric",value:function(e,t){return new a.default(this,e,t,this.performanceApi)}},{key:"pause",value:function(){if(this.composed)return null;this.composed=(0,i.default)(this.additionalLogData)}},{key:"resume",value:function(){if(this.composed){var e=this.composed.serialize();this.composed=void 0;var t={name:this.name,level:"BATCH",payload:e};this._logData(t),this.batchSize&&this.pause()}}},{key:"_log",value:function(e,t,n,r,o){var i=u({},{name:this.name,level:e,message:n,success:t,msg:n,timestamp:o},this.commonFields,this.additionalLogData,r);if(i=this._cleanupData(i),this.composed)return this.composed.add(n,i),void(this.batchSize&&this.composed.size()>=this.batchSize&&this.resume());this._logData(i)}},{key:"_logData",value:function(e){var t=Object.keys(e).map((function(t){var n=e[t];return!n&&0!==n||"string"!==typeof n&&"number"!==typeof n&&"boolean"!==typeof n?"":"".concat(t,"=").concat(encodeURIComponent(n))}));this._request(t.join("&"))}},{key:"_cleanupData",value:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],o="function"===typeof r?r():r;null!=o&&(t[n]="".concat(o).substring(0,1e3))}return t}},{key:"_request",value:function(e){var t="".concat(this.resource,"?").concat(e);this.beaconApi?this.beaconApi.sendBeacon(t):this.fetch(t).catch(()}}])&&l(t.prototype,n),o&&l(t,o),e}();function p(e){if("undefined"===typeof window)return Promise.reject("Not available during SSR");if("function"===typeof window.fetch)return window.fetch(e);var t=n=new XMLHttpRequest;return n.addEventListener("error",(function(e){return t(e)})),n.open("GET",e),n.send(),{catch:}var h=function(){try{var e=p,t="undefined"!==typeof window&&(window.navigator&&"function"===typeof window.navigator.sendBeacon),n="undefined"===typeof window?"REACTSSR":window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"";return{performance:"undefined"===typeof window?function(){return 0}:window.performance,beacon:t?window.navigator:void 0,fetch:e,userAgent:n}}catch(r){return{}}}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{_logs:[],_logCache:{},_pairsFound:{},_requiredUnique:{timestamp:!0,time:!0,clientStartTime:!0,duration:!0,success:!0},size:add:function(e,t){var n=Object.keys(t).sort(),r={},o="",i=!0,a=!1,c=void 0;try{for(var u,s=n[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value,f="".concat(l).concat(t[l]),d=!0===this._requiredUnique[l];o+=f,d||void 0===this._pairsFound[f]?d||(this._pairsFound[f]={key:l,value:t[l],count:1}):this._pairsFound[f].count+=1,(d||this._pairsFound[f].count<2)&&(r[l]=t[l])}}catch(h){a=!0,c=h}finally{try{i||null==s.return||s.return()}finally{if(a)throw c}}var p="".concat(e).concat(o);!0!==this._logCache[p]&&(this._logCache[p]=!0,this._logs.push({message:e,data:r,sortedKeys:n}))},serialize:function(){var t=this._dedupeCommonFields(),n=r({},t.common,e);return n.logList=t.logs,JSON.stringify(n)},_dedupeCommonFields:function(){var t=[],n={},r=!0,o=!1,i=void 0;try{for(var a,c=this._logs[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value,s={message:u.message,msg:u.message},l=!0,f=!1,d=void 0;try{for(var p,h=u.sortedKeys[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var v=p.value,y=this._pairsFound["".concat(v).concat(u.data[v])];(void 0===y||y.count<2)&&e[v]!==u.data[v]?s[v]=u.data[v]:y&&y.count>1&&void 0===n[v]&&(n[v]=y.value)}}catch(m){f=!0,d=m}finally{try{l||null==h.return||h.return()}finally{if(f)throw d}}t.push(s)}}catch(m){o=!0,i=m}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return{common:n,logs:t}}}}},function(e,t,n){"use strict";unction o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=0,a=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logger=t,this.message=n,this.url=r,this.perf=void 0,this._isCompletePerformance(o)&&(this.perf=o),this.startTime=Date.now();var a=i++;this.startMark="".concat("SFJS","-").concat(this.message,"-").concat(a,"-start"),this.endMark="".concat("SFJS","-").concat(this.message,"-").concat(a,"-end"),this.resolved=!1,this.perf&&this.perf.mark(this.startMark)}var t,n,a;return t=e,(n=[{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.resolved)return!1;var t=this._duration();return e.clientStartTime=this.startTime,this.url&&(e.url=this.url),this.logger.metric(this.message,t,e),this._clearMarks(),!0}},{key:"success",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.success=!0,this.log(e),this.resolved=!0}},{key:"failure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.success=!1,this.log(e),this.resolved=!0}},{key:"_duration",value:function(){var e=Date.now()-this.startTime;if(!this.perf)return e;if(this.perf.mark(this.endMark),this.perf.measure(this.message,this.startMark,this.endMark),this.perf.getEntriesByName(this.message).count<=0)return e;var t=this.perf.getEntriesByName(this.message)[0];return parseInt(t.duration,10)}},{key:"_clearMarks",value:function(){this.perf&&void 0!==this.perf.clearMarks&&void 0!==this.perf.clearMeasures&&(this.perf.clearMarks(this.startMark),this.perf.clearMarks(this.endMark),this.perf.clearMeasures(this.message))}},{key:"_isCompletePerformance",value:function(e){return!(!e||"object"!=r(e))&&"function"==typeof e.mark&&"function"==typeof e.measure&&"function"==typeof e.getEntriesByName}}])&&o(t.prototype,n),a&&o(t,a),e}();t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};nction a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r(r),n.d(r,"hasBrowserEnv",(function(){return I})),n.d(r,"hasStandardBrowserWebWorkerEnv",(function(){return F})),n.d(r,"hasStandardBrowserEnv",(function(){return j}));var s=n(0),l=n.n(s),f=n(28),d=n.n(f),p=n(14);tion g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}unction w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var E=n(1),S=n(30),O=n(6);r A=C.prototype;A.append=A.toString=var P=C;r x,k=function(){eturn b(e,[{key:"use",value:,{key:"eject",value:,{key:"clear",value:,{key:"forEach",value:]),e}(),L=n(2),M={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:P,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},I="undefined"!==typeof window&&"undefined"!==typeof document,j=(x="undefined"!==typeof navigator&&navigator.product,I&&["ReactNative","NativeScript","NS"].indexOf(x)<0),F="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,B=u(u({},r),N);var D=function(e){function t(e,n,r,o){var i=e[o++];if("__proto__"===i)return!0;var a=Number.isFinite(+i),c=o>=e.length;return i=!i&&E.a.isArray(r)?r.length:i,c?(E.a.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&E.a.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&E.a.isArray(r[i])&&(r[i]=r[i])),!a)}if(E.a.isFormData(e)&&E.a.isFunction(e.entries)){var n={};return E.a.forEachEntry(e,(),n}return null};var U={transitional:M,adapter:["xhr","http"],transformRequest:[,transformResponse:[,timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:B.classes.FormData,Blob:B.classes.Blob},validateStatus:headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.a.forEach(["delete","get","head","post","put","patch"],();var G=U; z=E.a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H=Symbol("internals"); J=function(e,t){eturn b(n,[{key:"set",value:function(e,t,n){var r=this;ar i=return E.a.isPlainObject(e)||e instanceof this.constructor?i(e,t):E.a.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i(e),t):null!=e&&o(t,e,n),this}},{key:"get",value:,{key:"has",value:,{key:"delete",value:,{key:"clear",value:,{key:"normalize",value:,{key:"concat",value:,{key:"toJSON",value:,{key:Symbol.iterator,value:,{key:"toString",value:,{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:,{key:"concat",value:,{key:"accessor",value:]),n}();J.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),E.a.reduceDescriptors(J.prototype,(),E.a.freezeMethods(J);var X=J;.inherits(ee,L.a,{__CANCEL__:!0});var te=ee,ne=n(31);var re=B.hasStandardBrowserEnv?{write:read:remove::{write:function(){},read:function(){return null},remove:function(){}};ar ie=B.hasStandardBrowserEnv?):function(){return!0};var ae=ar ue="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,o,i,a=e.data,c=X.from(e.headers).normalize(),u=e.responseType,s=e.withXSRFToken;f(E.a.isFormData(a))if(B.hasStandardBrowserEnv||B.hasStandardBrowserWebWorkerEnv)c.setContentType(!1);else if(!1!==(o=c.getContentType())){var f=o?o.split(";").map(().filter(Boolean):[],d=W(i=f)||v(i)||y(i)||V(),p=d[0],h=d.slice(1);c.setContentType([p||"multipart/form-data"].concat(m(h)).join("; "))}var g=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";c.set("Authorization","Basic "+btoa(b+":"+w))}var S=oe(e.baseURL,e.url);f(g.open(e.method.toUpperCase(),T(S,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=O:g.onreadystatechange=g.onabort=g.onerror=g.ontimeout=B.hasStandardBrowserEnv&&(s&&E.a.isFunction(s)&&(s=s(e)),s||!1!==s&&ie(S))){var _=e.xsrfHeaderName&&e.xsrfCookieName&&re.read(e.xsrfCookieName);_&&c.set(e.xsrfHeaderName,_)}void 0===a&&c.setContentType(null),"setRequestHeader"in g&&E.a.forEach(c.toJSON(),(),E.a.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),u&&"json"!==u&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",ce(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",ce(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var C=S);C&&-1===B.protocols.indexOf(C)?n(new L.a("Unsupported protocol "+C+":",L.a.ERR_BAD_REQUEST,e)):g.send(a||null)}))},se={http:ne.a,xhr:ue};E.a.forEach(se,();var le=function(e){return"- ".concat(e)},fe=de=function(e){for(var t,n,r=(e=E.a.isArray(e)?e:[e]).length,o={},i=0;i<r;i++){var a=void 0;if(n=t=e[i],!fe(t)&&void 0===(n=se[(a=String(t)).toLowerCase()]))throw new L.a("Unknown adapter '".concat(a,"'"));if(n)break;o[a||"#"+i]=n}if(!n){var c=Object.entries(o).map((),u=r?c.length>1?"since :\n"+c.map(le).join("\n"):" "+le(c[0]):"as no adapter specified";throw new L.a("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return n};r ve=function ye(e,t){t=t||{};var n={};={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:;return E.a.forEach(Object.keys(Object.assign({},e,t)),(),n}var me={};["object","boolean","number","function","string","symbol"].forEach(();var ge={};me.transitional=var be={assertOptions:function(e,t,n){if("object"!==typeof e)throw new L.a("options must be an object",L.a.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var c=e[i],u=void 0===c||a(c,i,e);if(!0!==u)throw new L.a("option "+i+" must be "+u,L.a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new L.a("Unknown option "+i,L.a.ERR_BAD_OPTION)}},validators:me},we=be.validators,Ee=function(){eturn b(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=ye(this.defaults,t),r=n.transitional,o=n.paramsSerializer,i=n.headers;void 0!==r&&be.assertOptions(r,{silentJSONParsing:we.transitional(we.boolean),forcedJSONParsing:we.transitional(we.boolean),clarifyTimeoutError:we.transitional(we.boolean)},!1),null!=o&&(E.a.isFunction(o)?t.paramsSerializer={serialize:o}:be.assertOptions(o,{encode:we.function,serialize:we.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=i&&E.a.merge(i.common,i[t.method]);i&&E.a.forEach(["delete","get","head","post","put","patch","common"],(),t.headers=X.concat(a,i);var c=[],u=!0;this.interceptors.request.forEach(();var s,l=[];this.interceptors.response.forEach(();var f,d=0;if(!u){var p=[he.bind(this),void 0];for(p.unshift.apply(p,c),p.push.apply(p,l),f=p.length,s=Promise.resolve(t);d<f;)s=s.then(p[d++],p[d++]);return s}f=c.length;var h=t;for(d=0;d<f;){var v=c[d++],y=c[d++];try{h=v(h)}catch(m){y.call(this,m);break}}try{s=he.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=l.length;d<f;)s=s.then(l[d++],l[d++]);return s}},{key:"getUri",value:]),e}();E.a.forEach(["delete","get","head","options"],(),E.a.forEach(["post","put","patch"],();var Se=Ee,Oe=function(){eturn b(e,[{key:"throwIfRequested",value:,{key:"subscribe",value:,{key:"unsubscribe",value:],[{key:"source",value:]),e}();var _e={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_e).forEach(();var Ce=_e;var Ae=G);Ae.Axios=Se,Ae.CanceledError=te,Ae.CancelToken=Oe,Ae.isCancel=Q,Ae.VERSION="1.6.5",Ae.toFormData=O.a,Ae.AxiosError=L.a,Ae.Cancel=Ae.CanceledError,Ae.all=function(e){return Promise.all(e)},Ae.spread=Ae.isAxiosError=Ae.mergeConfig=ye,Ae.AxiosHeaders=X,Ae.formToJSON=Ae.getAdapter=de,Ae.HttpStatusCode=Ce,Ae.default=Ae;var Pe=Ae,Re="OK",Te="FAIL",xe="PENDING",ke="IDLE",Le=b((function e(){w(this,e)}));Le.get=function(e){var t=e.url,n=e.headers,r=(e._data,e.timeout),o=e.noRetryErr;return new Promise((function(e,i){var a=o?1:3;!function o(){var c={headers:n,timeout:r};Pe.get(t,c).then((function(t){e(t)})).catch((function(e){e.response.status>=500&&--a>0?setTimeout(o,1e3):i(e.toJSON())}))}()}))},Le.post=function(e){var t=e.url,n=e.headers,r=void 0===n?{}:n,o=e._data,i=e.timeout,a=void 0===i?0:i,c=e.noRetryErr,u=void 0!==c&&c;return new Promise((function(e,n){var i=u?1:3;!function c(){var u={headers:r,timeout:a};Pe.post(t,o,u).then((function(t){e(t)})).catch((function(e){e.response.status>=500&&--i>0?setTimeout(c,1e3):n(e.toJSON())}))}()}))};var Me={IS_SIGNED_OUT:!1,PAGENAME:"homepage"},Ne={SEE_MORE:"SEE MORE",REPLACE:"REVEAL MORE PRODUCTS"},Ie={FETCH_REC_PRODUCTS:function(e){return"https://container".concat("prod"!==e?"-"+e:"",".photoccino.com/v2/container")},FETCH_PRODUCT_REVIEW:function(e,t){return"https://readservices-b2c.powerreviews.com/m/".concat("prod"===e?"881372":"620126","/l/en_US/product/").concat(t,"/reviews?apikey=").concat("prod"===e?"9f3de4fd-98a0-45f9-ab19-d8d4d3f0c8d1":"2d6aeb49-5793-4626-aaf3-7831f90ee0ea")},FETCH_WEB_WORKER:function(e){return e?"https://widgets.photoccino.com/apcWorker/".concat(e,"/apcWorker.js"):"blob:https://".concat(window.location.hostname,"/")+window.apcWorkerGuid},POST_CROSS_CATEGORY_FEEDBACK:function(e){return"https://cross-cat-rec-api".concat("prod"!==e?"-"+e:"",".photoccino.com/feedback")}},je={SIZE:{SMALL_WIDTH:768,MEDIUM_WIDTH:992,LARGE_WIDTH:1200},PLATFORM:{WEB:"web",MWEB:"mweb"}},Fe={DYN:"dyn_personalization",PHOTOS_TYPE:"non-personalized"},Be={SCROLL_DISTANCE:720,MAX_WIDTH:1600},De={TOTAL_STARS:5,PLACEMENT:"Shutterfly's Choice",MIN_REVIEW_RESPONSES_TO_DISPLAY_REVIEW_BAR:0,ERROR:"error"},Ue={STATIC:"static_recipe",CROSS_CATEGORY:"cross_category"},Ge={REPLACE:"replace",REVIEWS:"reviews",SCROLLBAR:"scrollbar",BADGE:"badges",LAZY_LOAD:"lazyLoad",AVOID_DUPLICATIONS:"avoidDuplications",PERSONALIZED_TITLE:"personalizedTitle",PRICES:"prices",NO_FALLBACK:"noFallback"},We={CLOCK:"ON SALE!"},Ve={TITLE_TEXT:"You\u2019ll Also Love These Products"},Ye={CROSS_CATEGORY:function(e){return"crossCatRecApiKey-".concat(e)}},ze={GENERAL_KEY:"apc-rec",SAVED_RESPONSES_CAPACITY:5,CROSS_CATEGORY_ARRAY_KEY:"cross-category-keys",CROSS_CATEGORY_RES_KEY:,He={PREFIX:"Starting at"},qe=n(49),Ke=n(82);var $e=Je=l.a.createContext(null);ar Ze=Qe=Ze,et=function tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=e===Je?Xe:function(){return Object(s.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et;var r=t(),o=r.store,i=r.subscription,a=r.getServerState,c=Qe(i.addNestedSub,o.getState,a||o.getState,e,n);return Object(s.useDebugValue)(c),c}}var nt=tt();n(50),n(83);ar ot={notify:function(){},get:;ar at=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?s.useLayoutEffect:s.useEffect;var ct=function(e){var t=e.store,n=e.context,r=e.children,o=e.serverState,i=Object(s.useMemo)((,[t,o]),a=Object(s.useMemo)((,[t]);at((,[i,a]);var c=n||Je;return l.a.createElement(c.Provider,{value:i},r)};function ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=e===Je?Xe:return function(){return t().store}}var st=ut();ar ft,dt,pt=lt();ft=Ke.useSyncExternalStoreWithSelector,Qe=ft,qe.useSyncExternalStore),dt=f.unstable_batchedUpdates,$e=dt;n(95);function ht(){var e,t,n,r,o,i,a=Object(s.useContext)(un),c=nt((function(e){return e.globalContainersState[a]})),u=c.containerState,f=c.configState,d=nt((function(e){return e.globalContainersState})).sessionState,p=(null===f||void 0===f||null===(e=f.style)||void 0===e?void 0:e.titleTheme)||"homepage",h=Boolean((null===f||void 0===f||null===(t=f.features)||void 0===t?void 0:t.includes(Ge.REPLACE))&&(null===u||void 0===u?void 0:u.containers)&&Object.keys(null===u||void 0===u?void 0:u.containers).length>1),v={text:"".concat(d.isSignedIn&&(f.features.includes(Ge.PERSONALIZED_TITLE)||h)?d.userGivenName.charAt(0).toUpperCase().concat(d.userGivenName.slice(1)).concat(","):""," ").concat(h?Ve.TITLE_TEXT:null===(n=u.containers[null===u||void 0===u?void 0:u.displayedContainer])||void 0===n||null===(r=n.title)||void 0===r?void 0:r.text),show:null===(o=u.containers[null===u||void 0===u?void 0:u.displayedContainer])||void 0===o||null===(i=o.title)||void 0===i?void 0:i.show};return l.a.createElement(l.a.Fragment,null,(null===v||void 0===v?void 0:v.show)&&l.a.createElement("div",{className:"apc-rec-title ".concat(p,"-theme")},v.text))}var vt=n(19),yt=n.n(vt);var mt=function(){var e=Y(Object(s.useState)(window.innerWidth<je.SIZE.SMALL_WIDTH?"mobile":window.innerWidth<je.SIZE.LARGE_WIDTH?"tablet":""),2),t=e[0],n=e[1],r=Y(Object(s.useState)(window.innerWidth<window.innerHeight?"portrait":"landscape"),2),o=r[0],i=r[1],a=Object(s.useCallback)((function(){var e=yt.a.mobile()?"mobile":yt.a.tablet()?"tablet":"",t=yt.a.portrait()?"portrait":yt.a.landscape()?"landscape":"";n(e),i(t)}),[]);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=Object(s.useRef)();Object(s.useEffect)((,[t]),Object(s.useEffect)((function(){var t=n&&n.addEventListener,o=r.current&&"function"===typeof r.current;if(t&&o){var i=return n.addEventListener(e,i),}),[e,n])}("resize",Object(s.useCallback)((function(){var e=window.innerWidth,t=window.innerHeight;if(e&&t){var r=je.SIZE.SMALL_WIDTH,o=je.SIZE.LARGE_WIDTH,a=e<t?"portrait":"landscape";n(e<r?"mobile":e<o?"tablet":""),i(a)}}),[])),Object(s.useEffect)((function(){a()}),[a]),{type:t,orientation:o,platform:"mobile"===t||"tablet"===t?je.PLATFORM.MWEB:je.PLATFORM.WEB}};n(129);(64);function bt(e){var t=e.subtitle,n=e.titleTheme,r=e.isDisplayReplace,o=e.displayedContainer,i=e.containers,a=e.onReplace;return l.a.createElement(l.a.Fragment,null,r?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"apc-rec-subtitles-wrapper"},Object.keys(i).map((function(e,t){return l.a.createElement(l.a.Fragment,{key:t},l.a.createElement("div",{className:"apc-rec-subtitle ".concat(n,"-subtitle-theme clickable ").concat(e===o?"apc-rec-subtitle-active":"apc-rec-subtitle-inactive"," "),onClick:,i[e].subtitle.text),t<Object.keys(i).length-1&&l.a.createElement(gt,null))})))):(null===t||void 0===t?void 0:t.show)&&l.a.createElement("div",{className:"apc-rec-subtitle ".concat(n,"-subtitle-theme")},t.text))}var wt={INIT_SPLUNK:{NAME:"apc-recommendation-widget",BATCH_INTERVAL:500},EVENTS:{INIT:"init",CONTAINER_ERROR:"container-error",FIRST_PRODUCT:"first-product",GET_PRODUCTS:"get-products",FEEDBACK_LOOP:"feedback-loop",GET_PRODUCTS_FALLBACK:"get-products-fallback",GET_REVIEW:"get-review",CAROUSEL_NAVIGATE:"carousel-navigate",SEE_MORE:"see-more",CLICK_PRODUCT:"click-product",REPLACE:"replace",CRASH:"crash"},MESSAGES:{GET_PRODUCTS_SUCCESS:"get-products-success",GET_PRODUCTS_FAILURE:"get-products-failure",NO_PRODUCTS:"no-products",GET_PRODUCTS_FALLBACK_SUCCESS:"get-products-success-fallback",GET_PRODUCTS_FALLBACK_FAILURE:"get-products-failure-fallback",GET_REVIEW_SUCCESS:"get-review-success",GET_REVIEW_FAILURE:"get-review-failure"}},Et={EVENTS:{VIEW:"rec_widget_view",CLICK_PRODUCT:"rec_widget_tile_clicked",SCROLL:"rec_widget_scroll",EXTEND:"rec_widget_extend",REPLACE:"replaceProductsFeature"}},St=window,Ot=function(){var e=Object(s.useCallback)((function(e,t){return t&&{event:{eventInfo:{eventName:e},eventDetails:t}}||{event:{eventInfo:{eventName:e}}}}),[]);return Object(s.useCallback)((function(t,n){var r=e(t,n);try{St._satellite&&St._satellite.track(t,r),console.debug("Adobe::sendTracking: _satellite",JSON.stringify(r))}catch(o){console.error("failed to send adobe report",JSON.stringify(r))}}),[e])},_t=n(84),Ct=n.n(_t),At=function(){var e=Object(s.useContext)(un)||"",t=nt((function(e){return e.globalContainersState.sessionState})),n=t.userId,r=t.pageName,o=nt((function(t){var n;return null===(n=t.globalContainersState[e])||void 0===n?void 0:n.configState.content.recipes})),i=nt((),a=u({userId:n,appVersion:r,transactionId:o?1===o.length?o[0].name:"recommendation_for_you":""},i&&i.enabled&&{appContext:{testGroup:i.testGroup}});return Object(s.useRef)(Ct()({name:wt.INIT_SPLUNK.NAME,enableNRD:!0,globalLogData:a,batchInterval:wt.INIT_SPLUNK.BATCH_INTERVAL})).current},Pt=n(7),Rt=window,Tt=function(){var e=Object(s.useContext)(sn),t=Object(s.useContext)(un),n=pt(),r=nt((function(e){return e.globalContainersState})),o=r.sessionState,i=o.env,a=o.userId,c=o.localId,l=o.token,f=o.isSignedIn,d=o.pageName,p=r[t].configState,h=p.layout,v=p.features,y=p.content,g=y.recipes,b=y.fallback,w=y.badges,E=y.filters,S=r[t].containerState,O=S.containers,_=S.displayedContainer,C=At(),A=mt(),P=Object(s.useRef)(Date.now()),R=Object(s.useRef)("".concat(A.platform,"/").concat(Fe.DYN,"/").concat(d,"_").concat(t,"/").concat(h,"/")),T=Object(s.useRef)(!1),x=Object(s.useRef)(!1),k=Boolean(null===v||void 0===v?void 0:v.includes(Ge.REPLACE)),L=Boolean(null===v||void 0===v?void 0:v.includes(Ge.BADGE)),M=Boolean(v.includes(Ge.NO_FALLBACK)),N={name:Ue.STATIC,maxProducts:10,minProducts:1,title:{show:!0,text:Pt.a.title},subtitle:{show:!0,text:Pt.a.subtitle},status:Re},I=function(e,t){var n=Tn(ze.CROSS_CATEGORY_ARRAY_KEY)||[],r=n.indexOf(e);if(-1!==r)n.splice(r,1);else if(n.length===t){var o=n.shift();kn(o)}n.push(e),xn(ze.CROSS_CATEGORY_ARRAY_KEY,n)},j=function(e,t){var n=g.find((function(t){return t.name===e.name}));n||e.name!==Ue.STATIC||b.name===Ue.STATIC?!n&&b&&b.name&&b.name===e.name&&(n=b):n=N;var r="title"in n?n.title:{},o=u({show:!0,text:f&&(v.includes(Ge.PERSONALIZED_TITLE)||k&&Object.keys(O).length>1)?Ve.TITLE_TEXT:t.title},r),i="subtitle"in n?n.subtitle:{};return{title:o,subtitle:u({show:!0,text:t.subtitle},i)}},F=function(e){var t=JSON.parse(JSON.stringify(e));if(w){var n=w.positionBy,r=w.positionValue,o=w.text;if(n&&r){var i=o.trim().length>0?o:We.CLOCK;if("index"===n){var a=Number(r);!isNaN(a)&&t.products[a]&&(t.products[a].badge=i)}else t.products.forEach(()}}return t},B=function(){if(!O[N.name]&&!T.current){var e="".concat(R.current,"fallback_manual_recipe/").concat(Fe.PHOTOS_TYPE),r=j(N,Pt.a),o=r.title,i=r.subtitle,a=L?F(Pt.a):Pt.a;n(Gn({containerId:t,interceptSource:e,isFallback:!1,isStatic:!0,containerInitTime:P.current,container:a,maxProducts:N.maxProducts,title:o,subtitle:i})),C.asyncMetric(wt.EVENTS.GET_PRODUCTS).success({appContext:u({message:wt.MESSAGES.GET_PRODUCTS_SUCCESS,recipeName:N.name},"mweb"===A.platform&&{deviceOrientation:A.orientation})}),T.current=!0}},D=function(){var e=g.filter(();if(k&&e.length>1)return e;if(!k&&e.length>0)return e;var t=Boolean(g.find((function(e){return e.name===b.name})));return b&&b.name&&!t&&!M?e.concat(b):M?[]:(B(),e.concat(N))},U=function(e,t,n){var r=Ie.FETCH_REC_PRODUCTS(i.targetEnv),o=function(){var e={};return l&&(e.Authorization="Bearer "+l),e}(),s=k?e.filter((function(e){return e.status===ke})):[t],d=s.map((function(e){return function(e,t){var n,r,o,i,s,l,d,p,h,y=null===e||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.productCode,g=m(t);y&&g.push(y);var b=E?m(E):[];v&&v.includes(Ge.AVOID_DUPLICATIONS)&&!k&&g.length>0&&b.push({type:"product_code",blacklist:g});var w=u(u({criteria:[u(u({criteria:e.name.split("@")[0]},f?{userId:a}:{}),{},{localId:c,platform:je.PLATFORM.WEB,currentPixelData:{SFLY_DTL:{pageDetails:{productType:(null===e||void 0===e||null===(r=e.metadata)||void 0===r||null===(o=r.productDetails)||void 0===o?void 0:o.productType)||(null===Rt||void 0===Rt||null===(i=Rt.SFLY_DTL)||void 0===i||null===(s=i.page)||void 0===s||null===(l=s.pageDetails)||void 0===l?void 0:l.productType)||""},productDetails:(null===e||void 0===e||null===(d=e.metadata)||void 0===d?void 0:d.productDetails)||(null===Rt||void 0===Rt||null===(p=Rt.SFLY_DTL)||void 0===p||null===(h=p.page)||void 0===h?void 0:h.productDetails)||{}}}})]},b.length>0&&{filters:b}),{},{minProducts:e.minProducts,maxProducts:e.maxProducts});return e.metadata&&Object.entries(e.metadata).forEach((function(e){var t=Y(e,2),n=t[0],r=t[1];"productDetails"!==n&&(w.criteria[0][n]=r)})),w}(e,n)}));return s.map((function(e,t){return Le.post({url:r,headers:o,_data:d[t],timeout:0,noRetryErr:!0})}))},G=function(r,o,i){var a,c,s,l,f,d;r.name===Ue.CROSS_CATEGORY&&(l=ze.CROSS_CATEGORY_RES_KEY((null===(s=r.metadata)||void 0===s?void 0:s.categoryCode)||""),f=o,d=ze.SAVED_RESPONSES_CAPACITY,xn(l,f),I(l,d));o.data.criteria!==r.name&&(o.data.criteria=r.name),n(Xn({containerId:t,request:r,status:Re})),i.success({appContext:u({message:wt.MESSAGES.GET_PRODUCTS_SUCCESS,recipeName:r.name,currentProductCode:(null===r||void 0===r||null===(a=r.metadata)||void 0===a?void 0:a.productCode)||"",ProductCodes:(null===(c=o.data.products)||void 0===c?void 0:c.map((function(e){return e.productCode})).join("|"))||""},"mweb"===A.platform&&{deviceOrientation:A.orientation})});var p=j(r,o.data),h=p.title,v=p.subtitle,y="".concat(R.current).concat(o.data.recommendationEngine,"_").concat(o.data.criteria,"/").concat(Fe.PHOTOS_TYPE);if(e){var m={messageType:"updateDisplayedProducts",widgetType:"V4",containerId:t,products:o.data.products,includeInBlackList:!k};e.port.postMessage(m)}var g=L?F(o.data):o.data;n(Gn({containerId:t,interceptSource:y,isFallback:!1,isStatic:!1,containerInitTime:P.current,container:g,title:h,subtitle:v}))},W=function(r,o,i){var a,c,s,l,f,d;"fulfilled"===(null===o||void 0===o?void 0:o.status)&&200===(null===o||void 0===o?void 0:o.value.status)&&(null===o||void 0===o||null===(a=o.value)||void 0===a||null===(c=a.data)||void 0===c||null===(s=c.products)||void 0===s?void 0:s.length)>0?G(r,null===o||void 0===o?void 0:o.value,i):"fulfilled"!==(null===o||void 0===o?void 0:o.status)||200===(null===o||void 0===o?void 0:o.value.status)&&0!==(null===o||void 0===o||null===(l=o.value)||void 0===l||null===(f=l.data)||void 0===f||null===(d=f.products)||void 0===d?void 0:d.length)?"rejected"===(null===o||void 0===o?void 0:o.status)&&function(r,o,i){if(n(Xn({containerId:t,request:r,status:Te})),i.failure({appContext:u({message:wt.MESSAGES.GET_PRODUCTS_FAILURE,recipeName:r.name,errorName:null===o||void 0===o?void 0:o.name,errorMessage:null===o||void 0===o?void 0:o.message,errorStack:(null===o||void 0===o?void 0:o.stack)||""},"mweb"===A.platform&&{deviceOrientation:A.orientation})}),e){var a={messageType:"updateDisplayedProducts",widgetType:"V4",containerId:t,products:[]};e.port.postMessage(a)}}(r,null===o||void 0===o?void 0:o.reason,i):function(r,o){if(n(Xn({containerId:t,request:r,status:Te})),o.success({appContext:u({message:wt.MESSAGES.NO_PRODUCTS,recipeName:r.name},"mweb"===A.platform&&{deviceOrientation:A.orientation})}),e){var i={messageType:"updateDisplayedProducts",widgetType:"V4",containerId:t,products:[]};e.port.postMessage(i)}}(r,i)},V=function(e,r,o){var i,u=C.asyncMetric(wt.EVENTS.GET_PRODUCTS),s=k?e:[r];s.filter((function(e){return e.status===ke})).length>0&&(f&&a&&""!==a||!f&&c&&""!==c)&&(null===(i=Promise.allSettled(U(e,r,o)))||void 0===i||i.then((function(e){e.forEach((),n(Zn({allSettled:!0,containerId:t}))})),s.forEach((function(e){e.status&&e.status===ke&&n(Xn({containerId:t,request:e,status:xe}))})))},z=function(e,r,o){if(r.name===Ue.STATIC)B();else if(r.name===Ue.CROSS_CATEGORY){var i,a,c=Tn(ze.CROSS_CATEGORY_RES_KEY((null===(i=r.metadata)||void 0===i?void 0:i.categoryCode)||""));if(c)!function(e,r){if(!O[e.name]&&!x.current){var o="".concat(R.current).concat(r.data.recommendationEngine,"_").concat(r.data.criteria,"/").concat(Fe.PHOTOS_TYPE),i=j(e,r.data),a=i.title,c=i.subtitle,s=L?F(r.data):r.data;n(Gn({containerId:t,interceptSource:o,isFallback:!1,isStatic:!1,containerInitTime:P.current,container:s,title:a,subtitle:c})),n(Xn({containerId:t,request:e,status:Re})),C.asyncMetric(wt.EVENTS.GET_PRODUCTS).success({appContext:u({message:wt.MESSAGES.GET_PRODUCTS_SUCCESS,recipeName:e.name},"mweb"===A.platform&&{deviceOrientation:A.orientation})}),x.current=!0}}(r,c),I(ze.CROSS_CATEGORY_RES_KEY((null===(a=r.metadata)||void 0===a?void 0:a.categoryCode)||""),ze.SAVED_RESPONSES_CAPACITY);else V(e,r,o)}else V(e,r,o)};return{getContainers:function(e,r){var o,i=D(),a=i[e%i.length];i.length>0&&(z(i,a,r),o=a.name,_!==o&&n(Jn({containerId:t,displayedContainer:o})))},getActiveRecipes:D}};function xt(){var e,t,n,r=pt(),o=mt(),i=Ot(),a=At(),c=Tt(),f=Object(s.useContext)(un),d=nt((function(e){return e.globalContainersState.sessionState})).pageName,p=nt((function(e){return e.globalContainersState[f]})),h=p.containerState,v=p.configState,y=nt((function(e){return e.globalContainersState[f].containerState})),m=y.containers,g=y.displayedContainer,b=y.visible,w=y.isReplaceClicked,E=Boolean((null===v||void 0===v||null===(e=v.features)||void 0===e?void 0:e.includes(Ge.REPLACE))&&m&&Object.keys(m).length>1),S=Object(s.useCallback)((function(e){var t,n;c.getContainers(e,[]);var s=c.getActiveRecipes(),l="".concat(o.platform,"/").concat(Fe.DYN,"/").concat(d,"_").concat(f,"/").concat(null===v||void 0===v?void 0:v.layout,"/\n                ").concat(null===(t=m[s[e%s.length]])||void 0===t?void 0:t.recommendationEngine,"_").concat(null===(n=s[e%s.length])||void 0===n?void 0:n.name,"/").concat(Fe.PHOTOS_TYPE);if(!b&&!w){var p,y,E=m&&g&&m[g],S=(null===E||void 0===E?void 0:E.containerInitTime)?Date.now()-(null===E||void 0===E?void 0:E.containerInitTime):null,O={widgetLocation:l,containerId:f,recommendationEngine:null===E||void 0===E?void 0:E.recommendationEngine,recipeSource:null===E||void 0===E?void 0:E.criteria,title:null===E||void 0===E||null===(p=E.title)||void 0===p?void 0:p.text,subtitle:null===(y=E.subtitle)||void 0===y?void 0:y.text,isFallback:(null===E||void 0===E?void 0:E.isFallback)||!1,loadTime:S};i(Et.EVENTS.VIEW,O)}var _={actionType:"reveal more products feature",widgetLocation:l,recipeSource:g};i(Et.EVENTS.REPLACE,_),(null===h||void 0===h?void 0:h.isReplaceClicked)||(a.info({eventId:wt.EVENTS.REPLACE,appContext:u({recipeName:g},"mweb"===o.platform&&{deviceOrientation:o.orientation})}),r(zn({containerId:f,isReplaceClicked:!0})))}),[c,o.platform,o.orientation,d,f,v,m,b,w,g,i,h,a,r]),O=(null===v||void 0===v||null===(t=v.style)||void 0===t?void 0:t.titleTheme)||"homepage",_=null===(n=h.containers[null===h||void 0===h?void 0:h.displayedContainer])||void 0===n?void 0:n.subtitle;return l.a.createElement(bt,{subtitle:_,onReplace:S,titleTheme:O,containers:m,isDisplayReplace:E,displayedContainer:g})}n(157);function kt(){var e,t,n,r=Object(s.useContext)(un),o=nt((function(e){return e.globalContainersState[r].configState})),i=mt();return l.a.createElement("div",{className:"apc-rec-header ".concat("mobile"===i.type&&(null===o||void 0===o||null===(e=o.style)||void 0===e?void 0:e.mobileHeaderAlignment)?"align-"+(null===o||void 0===o||null===(t=o.style)||void 0===t?void 0:t.mobileHeaderAlignment):"align-"+(null===o||void 0===o||null===(n=o.style)||void 0===n?void 0:n.headerAlignment))},l.a.createElement(ht,null),l.a.createElement(xt,null))}n(158);function Lt(e){var t=e.badge;return l.a.createElement("div",{className:"apc-rec-clock"},l.a.createElement("div",{className:"ring"}),l.a.createElement("div",{className:"hand"},l.a.createElement("div",{className:"cutout"}),l.a.createElement("div",{className:"ball"})),l.a.createElement("div",{className:"text"},t))}n(159);function Mt(e){var t=e.product;return l.a.createElement("div",{className:"apc-rec-price"},He.PREFIX," $",function(){var e,n,r=null===t||void 0===t||null===(e=t.price)||void 0===e?void 0:e.sale,o=null===t||void 0===t||null===(n=t.price)||void 0===n?void 0:n.base;return o===r?o:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"apc-rec-base-price"},o),l.a.createElement("div",{className:"apc-rec-sale-price"},"$",r))}())}function Nt(e){var t=e.modifyStarColor;return l.a.createElement("svg",{width:"16px",height:"16px",viewBox:"-1 -1 16 16",fill:"".concat(t?"#D74012":"#58595B")},l.a.createElement("path",{d:"M11.7240827,5.24593685 L9.39537501,7.61422944 L10.2968102,10.8069277 C10.4239959,11.1690397 10.3026249,11.5716652 9.99633183,11.8037091 C9.85396986,11.9056176 9.68326927,11.9606395 9.50805441,11.9610956 C9.30780446,11.9574541 9.11360474,11.8919977 8.95216936,11.7737307 L6.00748097,9.79515711 L3.07030454,11.8037091 C2.77003447,12.0517434 2.33974903,12.0661492 2.02348798,11.8387561 C1.70722693,11.6113629 1.58480867,11.1995606 1.72566367,10.8369061 L2.62709889,7.64420783 L0.298391231,5.24593685 C0.0281893169,4.99968266 -0.0692658912,4.6166556 0.0504965447,4.27163927 C0.204232718,3.95830146 0.51974744,3.75614568 0.869300205,3.74701749 L3.94169192,3.46222281 L5.17365339,0.584297635 C5.30041127,0.233686099 5.63389528,0 6.00748097,0 C6.38106666,0 6.71455066,0.233686099 6.84130855,0.584297635 L8.08078198,3.42474983 L11.1531737,3.74701749 C11.5157854,3.76436493 11.8339538,3.99362211 11.9644654,4.33159604 C12.0572877,4.65730803 11.9651921,5.00761104 11.7240827,5.24593685 Z"}))}n(160);var It=new Map;function jt(e){var t=e.icon,n=t&&It.get(t);return l.a.createElement("span",{className:"apc-rec-icon apc-rec-icon-".concat(t)},n&&l.a.createElement(n,null))}It.set("replace",(function(){return l.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1"},l.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"#585B58",fillRule:"evenodd"},l.a.createElement("path",{d:"M5.5,8.5 C6.05228475,8.5 6.5,8.94771525 6.5,9.5 C6.5,10.0522847 6.05228475,10.5 5.5,10.5 L4.625,10.5 L4.6418151,10.5265316 C5.1522812,11.2802994 5.88004214,11.8644992 6.75238224,12.1993592 C9.07259228,13.0900044 11.6755047,11.9311131 12.5661499,9.61090308 C12.7640711,9.09530085 13.3424961,8.83776945 13.8580983,9.0356906 C14.3737005,9.23361175 14.6312319,9.81203675 14.4333108,10.327639 C13.1468233,13.6790535 9.38706085,15.3530076 6.03564634,14.0665201 C5.04526865,13.6863497 4.18150382,13.0811122 3.49891885,12.3095315 L3.5,12.5 C3.5,13.0522847 3.05228475,13.5 2.5,13.5 C1.94771525,13.5 1.5,13.0522847 1.5,12.5 L1.5,9.5 C1.5,8.98716416 1.88604019,8.56449284 2.38337887,8.50672773 L2.5,8.5 L5.5,8.5 Z M9.96435366,1.93347992 C10.9547314,2.3136503 11.8184962,2.91888779 12.5010812,3.69046845 L12.5,3.5 C12.5,2.94771525 12.9477153,2.5 13.5,2.5 C14.0522847,2.5 14.5,2.94771525 14.5,3.5 L14.5,6.5 C14.5,7.01283584 14.1139598,7.43550716 13.6166211,7.49327227 L13.5,7.5 L10.5,7.5 C9.94771525,7.5 9.5,7.05228475 9.5,6.5 C9.5,5.94771525 9.94771525,5.5 10.5,5.5 L11.375,5.5 L11.3581849,5.47346839 C10.8477188,4.71970065 10.1199579,4.13550076 9.24761776,3.80064078 C6.92740772,2.90999559 4.32449526,4.06888688 3.43385007,6.38909692 C3.23592892,6.90469915 2.65750393,7.16223055 2.1419017,6.9643094 C1.62629946,6.76638825 1.36876807,6.18796325 1.56668922,5.67236102 C2.85317672,2.32094651 6.61293915,0.646992426 9.96435366,1.93347992 Z"})))})),It.set("full-star",Nt),It.set("half-full-star",(function(){return l.a.createElement("svg",{width:"16px",height:"16px",viewBox:"-1 -1 16 16"},l.a.createElement("path",{d:"M11.7240827,5.24593685 L9.39537501,7.61422944 L10.2968102,10.8069277 C10.4239959,11.1690397 10.3026249,11.5716652 9.99633183,11.8037091 C9.85396986,11.9056176 9.68326927,11.9606395 9.50805441,11.9610956 C9.30780446,11.9574541 9.11360474,11.8919977 8.95216936,11.7737307 L6.00748097,9.79515711 L3.07030454,11.8037091 C2.77003447,12.0517434 2.33974903,12.0661492 2.02348798,11.8387561 C1.70722693,11.6113629 1.58480867,11.1995606 1.72566367,10.8369061 L2.62709889,7.64420783 L0.298391231,5.24593685 C0.0281893169,4.99968266 -0.0692658912,4.6166556 0.0504965447,4.27163927 C0.204232718,3.95830146 0.51974744,3.75614568 0.869300205,3.74701749 L3.94169192,3.46222281 L5.17365339,0.584297635 C5.30041127,0.233686099 5.63389528,0 6.00748097,0 C6.38106666,0 6.71455066,0.233686099 6.84130855,0.584297635 L8.08078198,3.42474983 L11.1531737,3.74701749 C11.5157854,3.76436493 11.8339538,3.99362211 11.9644654,4.33159604 C12.0572877,4.65730803 11.9651921,5.00761104 11.7240827,5.24593685 Z",fill:"#C6C7C9"}),l.a.createElement("path",{d:"M6,9.79515711 L3.06645195,11.8037091 C2.76655866,12.0517434 2.33681314,12.0661492 2.02094893,11.8387561 C1.70508473,11.6113629 1.58282007,11.1995606 1.72349832,10.8369061 L2.62380243,7.64420783 L0.298016813,5.24593685 C0.0281539453,4.99968266 -0.0691789771,4.6166556 0.0504331822,4.27163927 C0.20397645,3.95830146 0.519095267,3.75614568 0.868209417,3.74701749 L3.93674593,3.46222281 L5.16716155,0.584297635 C5.29376038,0.233686099 5.62682593,0 6,0 C6,0.307335059 6,3.57238743 6,9.79515711 Z",fill:"#58595B"}))})),It.set("empty-star",();var Ft=function(){var e=Object(s.useContext)(un),t=nt((function(e){return e.globalContainersState.sessionState})).env,n=nt((function(t){return t.globalContainersState[e].containerState})),r=n.containers,o=n.displayedContainer,i=pt(),c=At(),l=Object(s.useRef)(),f=Y(Object(s.useState)([{}]),2),d=f[0],p=f[1],h=mt(),v=function(e){var n,r=(n=e.productCode,Ie.FETCH_PRODUCT_REVIEW(t.targetEnv,n)),o={"content-type":"application/json"};return Le.get({url:r,headers:o,timeout:0,noRetryErr:!0})},y=function(n){var s,l,f;if(!(r&&o&&(null===(s=r[o])||void 0===s?void 0:s.reviews)&&(null===(l=r[o])||void 0===l?void 0:l.reviews.hasOwnProperty(n.productCode))&&(null===(f=r[o])||void 0===f?void 0:f.reviews[n.productCode]))&&t.targetEnv&&n.productCode){var d=c.asyncMetric(wt.EVENTS.GET_REVIEW);v(n).then((function(t){return function(t,n,r){var o=(t&&t.data).results,c=o&&o[0]&&o[0].rollup&&o[0].rollup.average_rating;c?(i(Qn({containerId:e,criteria:r.criteria,productCode:r.productCode,review:c})),p((function(e){var t,n;return 0===Object.keys(e[0]).length?[(t={},a(t,r.productCode,c),a(t,"criteria",r.criteria),t)]:[].concat(m(e),[(n={},a(n,r.productCode,c),a(n,"criteria",r.criteria),n)])}))):p((function(e){var t,n;return 0===Object.keys(e[0]).length?[(t={},a(t,r.productCode,De.ERROR),a(t,"criteria",r.criteria),t)]:[].concat(m(e),[(n={},a(n,r.productCode,De.ERROR),a(n,"criteria",r.criteria),n)])}))}(t,0,n)})).catch((function(e){return function(e,t,n){t.failure({appContext:u({message:wt.MESSAGES.GET_REVIEW_FAILURE,productCode:n.productCode,errorName:null===e||void 0===e?void 0:e.name,errorMessage:null===e||void 0===e?void 0:e.message,errorStack:(null===e||void 0===e?void 0:e.stack)||""},"mweb"===h.platform&&{deviceOrientation:h.orientation})}),p((function(e){var t,r;return 0===Object.keys(e[0]).length?[(t={},a(t,n.productCode,De.ERROR),a(t,"criteria",n.criteria),t)]:[].concat(m(e),[(r={},a(r,n.productCode,De.ERROR),a(r,"criteria",n.criteria),r)])}))}(e,d,n)}))}};return Object(s.useEffect)((function(){if(d&&l.current&&l.current.length===d.length){var e=d.filter((),t=d.filter(();c.info({eventId:wt.EVENTS.GET_REVIEW,appContext:u({message:wt.MESSAGES.GET_REVIEW_SUCCESS,validReviews:"(".concat(e.length,")-").concat(e.map((function(e){return"".concat(Object.keys(e)[0],":").concat(Object.values(e)[1])})).join("|")),missingReviews:"(".concat(t.length,")-").concat(t.map((function(e){return"".concat(Object.keys(e)[0],":").concat(Object.values(e)[1])})).join("|"))},"mweb"===h.platform&&{deviceOrientation:h.orientation})})}}),[d,h.orientation,h.platform,c]),{getAllReviews:function(e){l.current=e,t.targetEnv&&e.forEach((function(e){y(e)}))},calculateStarType:function(e,t){var n=Math.floor(t);return e<=t&&e!==n?"full-star":e===n&&0!==t-n?"half-full-star":"empty-star"}}};n(161);function Bt(e){var t=e.productCode,n=Object(s.useContext)(un),r=nt((function(e){return e.globalContainersState[n].containerState})),o=r.containers,i=r.displayedContainer,a=o&&i&&o[i].reviews&&o[i].reviews.hasOwnProperty(t)&&o[i].reviews[t],c=Ft();return l.a.createElement(l.a.Fragment,null,a>0?l.a.createElement("div",{className:"apc-rec-review-bar"},m(new Array(De.TOTAL_STARS)).map((function(e,t){return l.a.createElement(jt,{key:t,icon:c.calculateStarType(t,a)})})),l.a.createElement("span",{className:"review-number"},a)):l.a.createElement("div",{className:"review-placement"},l.a.createElement(Nt,{modifyStarColor:!0}),De.PLACEMENT))}n(162);function Dt(){return l.a.createElement("div",{className:"apc-rec-spinner"},l.a.createElement("div",{className:"bounce1"}),l.a.createElement("div",{className:"bounce2"}),l.a.createElement("div",{className:"bounce3"}))}n(163);function Ut(){return l.a.createElement("span",{className:"apc-rec-shimmer-background"},l.a.createElement("span",{className:"shimmer-thumb"},l.a.createElement(Dt,null)),l.a.createElement("span",{className:"shimmer-text"}),l.a.createElement("span",{className:"shimmer-text"}))}n(79);function Gt(e){var t=e.product,n=e.isLoading,r=e.productIndex,o=e.isDisplayBadge,i=e.isDisplayPrices,a=e.isReplaceClicked,c=e.isActivateReviewBar,u=e.isDisplayProductTitle,s=e.isMinimumReviewsReceived,f=e.handleClick,d=e.handleOnImageLoad,p=e.productRef;return l.a.createElement("div",{className:"apc-rec-product-wrapper ".concat(a?"replace":""," ").concat(n?"":"shown"),"data-test-id":"apc-rec-widget-product".concat(n?"":"-rendered"),"data-product-category":t.categoryCode||"",ref:p},l.a.createElement("button",{className:"apc-rec-product",onClick:f,"data-test-id":"apc-rec-widget-product-button"},n&&l.a.createElement(Ut,null),o&&t.badge&&l.a.createElement(Lt,{badge:t.badge}),l.a.createElement("div",{id:"product-".concat(r),className:"product-image-wrapper".concat(c?" review-adjustment":"")},l.a.createElement("img",{src:t.thumbnailUrl,alt:"",className:"product-image",onLoad:d})),l.a.createElement("div",{className:"product-name"},t.name),u&&l.a.createElement("div",{className:"product-title"},t.title),i&&l.a.createElement(Mt,{product:t}),c&&s&&l.a.createElement(Bt,{productCode:t.productCode})))}function Wt(e){var t=e.product,n=e.products,r=e.productIndex,o=e.interceptSource,i=e.isFallback,a=e.containerInitTime,c=e.containerId,f=e.widgetTitle,d=e.widgetSubTitle,p=e.visible,h=e.observer,v=e.handleChangeCategoryClicked,y=nt((function(e){return e.globalContainersState[c].containerState})),m=y.displayedContainer,g=y.containers,b=y.isReplaceClicked,w=y.isWidgetScrolled,E=nt((function(e){return e.globalContainersState[c].configState})),S=E.features,O=E.content,_=g&&m&&g[m],C=Boolean(S&&S.includes(Ge.REVIEWS)),A=Boolean(S&&S.includes(Ge.PRICES)&&m!==Ue.STATIC),P=Boolean(S&&S.includes(Ge.BADGE)),R=Object(s.useRef)(P&&O&&O.badges),T=Boolean(_&&_.reviews&&Object.keys(_.reviews).length>De.MIN_REVIEW_RESPONSES_TO_DISPLAY_REVIEW_BAR),x=!C||!A,k=Y(Object(s.useState)(!0),2),L=k[0],M=k[1],N=At(),I=Ot(),j=mt(),F=Object(s.useRef)(null);Object(s.useEffect)((function(){if(m===Ue.CROSS_CATEGORY&&h&&F.current){var e=F.current;return h.observe(e),}),[m,h]),Object(s.useEffect)((function(){if(0===r){var e={loadTime:a?Date.now()-a:null,widgetLocation:o,containerId:c,recommendationEngine:t.recommendationEngine,recipeSource:t.criteria,title:f,subtitle:d,photoSource:"static",isFallback:i};p&&!b&&!w&&I(Et.EVENTS.VIEW,e)}}),[b,p,i,c,o,t.criteria,t.recommendationEngine,f,d,r,a,I,N,w]),Object(s.useEffect)((function(){0===r&&N.info(u({eventId:wt.EVENTS.FIRST_PRODUCT},"mweb"===j.platform&&{appContext:{deviceOrientation:j.orientation}}))}),[N,r,j.orientation,j.platform]),Object(s.useEffect)((function(){p&&0===r&&N.info({eventId:wt.EVENTS.FEEDBACK_LOOP,appContext:u({currentProductCode:t.productCode||"",criteriaReceived:t.criteria||"",ProductCodes:n.map(().join("|")||"",badgePosition:R.current?R.current.positionValue:"",badgeText:R.current?R.current.text:""},"mweb"===j.platform&&{deviceOrientation:j.orientation})})}),[N,t,p,r,n,j.orientation,j.platform]);return l.a.createElement(Gt,{product:t,isLoading:L,productIndex:r,isDisplayBadge:P,isDisplayPrices:A,isReplaceClicked:b,isActivateReviewBar:C,isDisplayProductTitle:x,isMinimumReviewsReceived:T,handleClick:function(){m===Ue.CROSS_CATEGORY&&v((null===t||void 0===t?void 0:t.categoryCode)||"");var e={widgetLocation:o,containerId:c,recommendationEngine:t.recommendationEngine,recipeSource:t.criteria,title:f,subtitle:d,isFallback:i};if(!p&&!b){var n=a?Date.now()-a:null,s=u(u({},e),{},{loadTime:n});I(Et.EVENTS.VIEW,s)}var l=u(u({},e),{},{prodIndex:r,productName:t.name,productTitle:t.title,productCode:t.productCode,skuCode:t.sku,sku:t.price.sflySku,price:t.price.sale});I(Et.EVENTS.CLICK_PRODUCT,l),N.info({eventId:wt.EVENTS.CLICK_PRODUCT,appContext:u({productIndex:r,thumbnailUrl:t.thumbnailUrl,pipPageUrl:t.pipUrl,productName:t.name,productStyle:t.title,sku:t.sku||"",productCode:t.productCode||"",recipeName:t.criteria,badgeText:t.badge?t.badge:""},"mweb"===j.platform&&{deviceOrientation:j.orientation})}),setTimeout((function(){var e,n=o?(null===(e=t.pipUrl)||void 0===e?void 0:e.indexOf("?"))>0?"&interceptSource="+o:"?interceptSource="+o:"";fn("".concat(t.pipUrl).concat(n),pn().targetEnv)}),500)},handleOnImageLoad:productRef:F})}n(164);function Vt(e){var t=e.displayedContainer,n=e.container,r=e.containerId,o=e.visible,i=e.observer,a=e.handleChangeCategoryClicked;return l.a.createElement("div",{id:"apc-product-list",key:t,className:"apc-rec-product-list","data-test-id":"apc-rec-widget-product-list"},n&&n.products&&n.products.map((function(e,t){var c,u;return l.a.createElement(Wt,{key:t,product:e,products:n.products,productIndex:t,isFallback:n.isFallback||!1,interceptSource:n.interceptSource,containerInitTime:n.containerInitTime||0,widgetTitle:null===(c=n.title)||void 0===c?void 0:c.text,widgetSubTitle:null===(u=n.subtitle)||void 0===u?void 0:u.text,containerId:r,visible:o,observer:i,handleChangeCategoryClicked:a})})))}var Yt=b(();function zt(){var e=Object(s.useContext)(un),t=nt((function(t){return t.globalContainersState[e].containerState})),n=t.displayedContainer,r=t.containers,o=t.visible,i=nt(().env,a=r&&n&&r[n]||void 0,c=Object(s.useRef)(null),u=Object(s.useRef)([]),f=Object(s.useRef)(""),d=Object(s.useRef)(nt((function(t){var n,r,o,i;return null===(n=t.globalContainersState[e].configState)||void 0===n||null===(r=n.content)||void 0===r||null===(o=r.recipes.find(())||void 0===o||null===(i=o.metadata)||void 0===i?void 0:i.categoryCode}))),p=Object(s.useCallback)((function(){if(u.current.length>0){""===f.current||u.current.includes(f.current)||u.current.push(f.current);var e={currentCategoryCode:d.current,viewedCategoryCodes:u.current,clickedCategoryCode:f.current};Yt.post({url:Ie.POST_CROSS_CATEGORY_FEEDBACK(i.targetEnv),body:JSON.stringify(e),headers:{"Content-Type":"application/json","x-api-key":"".concat(Ye.CROSS_CATEGORY(i.targetEnv))},keepAlive:!0})}}),[i.targetEnv,u,f]);return Object(s.useEffect)((function(){if(n===Ue.CROSS_CATEGORY)return window.addEventListener("beforeunload",p),),[p,n]),Object(s.useEffect)((function(){if(n===Ue.CROSS_CATEGORY&&null===c.current)return c.current=new IntersectionObserver((function(e){e.forEach((function(e){var t;e.isIntersecting&&(u.current=[].concat(m(u.current),[e.target.getAttribute("data-product-category")]),null===(t=c.current)||void 0===t||t.unobserve(e.target))}))}),{threshold:.5}),),[n]),l.a.createElement(Vt,{displayedContainer:n,container:a,containerId:e,visible:o,observer:c.current,handleChangeCategoryClicked:)}Yt.post=function(e){var t=e.url,n=e.body,r=e.headers,o=void 0===r?{}:r,i=e.noRetryErr,a=void 0!==i&&i,c=e.keepAlive,u=void 0!==c&&c;return new Promise((function(e,r){var i=a?1:3;!function a(){fetch(t,{method:"POST",body:n,headers:o,keepalive:u}).then(().catch((function(e){e.response.status>=500&&--i>0?setTimeout(a,1e3):r(e.toJSON())}))}()}))};n(80);function Ht(e){var t=e.isDisplayAllGrid,n=e.handleClick;return l.a.createElement("div",{className:"apc-rec-grid-wrapper hide-scroll".concat(t?"":" preview")},l.a.createElement(zt,null),!t&&l.a.createElement("button",{className:"see-more",onClick:n},Ne.SEE_MORE,l.a.createElement("div",{className:"arrow-icon see-more-icon"})))}function qt(){var e=Object(s.useContext)(un),t=Y(Object(s.useState)(!1),2),n=t[0],r=t[1],o=mt(),i=At(),a=Ot(),c=nt((function(t){return t.globalContainersState[e].containerState}));return l.a.createElement(Ht,{isDisplayAllGrid:n,handleClick:function(){var t;r(!0);var n=null===c||void 0===c?void 0:c.containers[null===c||void 0===c?void 0:c.displayedContainer],s={containerId:e,widgetLocation:(null===n||void 0===n?void 0:n.interceptSource)||"",recommendationEngine:(null===n||void 0===n?void 0:n.recommendationEngine)||"",recipeSource:(null===n||void 0===n?void 0:n.criteria)||"",title:(null===n||void 0===n?void 0:n.title)||"",subtitle:(null===n||void 0===n?void 0:n.subtitle)||"",photoSource:"static",prodCount:(null===n||void 0===n||null===(t=n.products)||void 0===t?void 0:t.length)||"",isFallback:(null===n||void 0===n?void 0:n.isStatic)||""};a(Et.EVENTS.EXTEND,s),i.info(u({eventId:wt.EVENTS.SEE_MORE},"mweb"===o.platform&&{appContext:{deviceOrientation:o.orientation}}))}})}n(165);function Kt(e){var t=e.direction,n=e.onClick,r=e.isActive,o=void 0===r||r;return l.a.createElement("button",{className:"apc-rec-arrow".concat(o?"":" disable"),onClick:,l.a.createElement("div",{className:"arrow-icon ".concat(t)}))}n(81);function $t(e){var t=e.isActivateScrollbar,n=e.handleArrowClick,r=e.isLeftArrowActive,o=e.isRightArrowActive,i=e.isDisplayArrows,a=e.productListRef,c=e.numOfProducts,u=e.isMweb;return l.a.createElement("div",{className:"apc-rec-carousel-wrapper".concat(c<2&&u?" single-product-mweb":"")},i&&l.a.createElement(Kt,{direction:"left",onClick:n,isActive:r}),l.a.createElement("div",{className:"carousel-product-list-wrapper".concat(t?" scrollbar":" "),ref:a},l.a.createElement(zt,null)),i&&l.a.createElement(Kt,{direction:"right",onClick:n,isActive:o}))}function Jt(){var e,t=Object(s.useContext)(un),n=pt(),r=Y(Object(s.useState)(!1),2),o=r[0],i=r[1],a=Y(Object(s.useState)(!1),2),c=a[0],f=a[1],d=Y(Object(s.useState)(!0),2),p=d[0],h=d[1],v=function(e,t){var n=Y(Object(s.useState)({width:e,height:t}),2),r=n[0],o=n[1];return Object(s.useEffect)((,[]),r}(window.innerWidth,window.innerHeight),y=Object(s.useRef)(!1),m=Object(s.useRef)(!1),g=Object(s.useRef)(null),b=At(),w=Ot(),E=mt(),S=nt((function(e){return e.globalContainersState[t].containerState})),O=nt((function(e){return e.globalContainersState[t].configState})).features,_=Boolean(O&&O.includes(Ge.SCROLLBAR)),C=(null===S||void 0===S?void 0:S.containers)&&(null===S||void 0===S?void 0:S.displayedContainer)&&(null===S||void 0===S?void 0:S.containers[null===S||void 0===S?void 0:S.displayedContainer]),A=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(g.current){var t=g.current.scrollLeft,n=t+e,r=g.current.offsetWidth,o=g.current.scrollWidth;n<=0?(f(!1),h(!0)):n+r<o?(f(!0),h(!0)):n+r>=o&&(f(!0),h(!1))}}),[]),P=Object(s.useCallback)((function(e){if(g.current&&("left"===e?(A(0-Be.SCROLL_DISTANCE),g.current.scroll({left:g.current.scrollLeft-Be.SCROLL_DISTANCE,behavior:"smooth"})):(A(Be.SCROLL_DISTANCE),g.current.scroll({left:g.current.scrollLeft+Be.SCROLL_DISTANCE,behavior:"smooth"}))),!m.current&&!y.current){var r;if(!(null===S||void 0===S?void 0:S.visible)&&!(null===S||void 0===S?void 0:S.isReplaceClicked)&&!(null===S||void 0===S?void 0:S.isWidgetScrolled)){var o,i,a=(null===C||void 0===C?void 0:C.containerInitTime)?Date.now()-(null===C||void 0===C?void 0:C.containerInitTime):null,c={widgetLocation:(null===C||void 0===C?void 0:C.interceptSource)||"",containerId:t,recommendationEngine:null===C||void 0===C?void 0:C.recommendationEngine,recipeSource:null===C||void 0===C?void 0:C.criteria,title:null===C||void 0===C||null===(o=C.title)||void 0===o?void 0:o.text,subtitle:null===(i=C.subtitle)||void 0===i?void 0:i.text,isFallback:(null===C||void 0===C?void 0:C.isFallback)||!1,loadTime:a};w(Et.EVENTS.VIEW,c)}var s={containerId:t,widgetLocation:(null===C||void 0===C?void 0:C.interceptSource)||"",recommendationEngine:(null===C||void 0===C?void 0:C.recommendationEngine)||"",recipeSource:(null===C||void 0===C?void 0:C.criteria)||"",title:(null===C||void 0===C?void 0:C.title)||"",subtitle:(null===C||void 0===C?void 0:C.subtitle)||"",photoSource:"static",prodCount:(null===C||void 0===C||null===(r=C.products)||void 0===r?void 0:r.length)||"",scrollDirection:e,isFallback:(null===C||void 0===C?void 0:C.isStatic)||""};w(Et.EVENTS.SCROLL,s),b.info(u({eventId:wt.EVENTS.CAROUSEL_NAVIGATE},"mweb"===E.platform&&{appContext:{deviceOrientation:E.orientation}})),y.current=!0}!(null===S||void 0===S?void 0:S.isWidgetScrolled)&&n(Hn({containerId:t,isWidgetScrolled:!0}))}),[A,S,t,C,w,b,E.platform,E.orientation,n]);return Object(s.useEffect)((function(){if(C){var e,t=g.current&&(null===(e=g.current)||void 0===e?void 0:e.getBoundingClientRect().width)/Be.MAX_WIDTH<.9,n="mobile"===E.type;i(!(n||t))}}),[E.type,C]),Object(s.useEffect)((function(){A(0),g.current&&g.current.scroll({left:0,behavior:"smooth"})}),[S.displayedContainer,A]),Object(s.useEffect)((function(){if(g.current){var e=function(){if(A(),!m.current&&!y.current){var e;if(!(null===S||void 0===S?void 0:S.visible)&&!(null===S||void 0===S?void 0:S.isReplaceClicked)&&!(null===S||void 0===S?void 0:S.isWidgetScrolled)){var r,o,i=(null===C||void 0===C?void 0:C.containerInitTime)?Date.now()-(null===C||void 0===C?void 0:C.containerInitTime):null,a={widgetLocation:(null===C||void 0===C?void 0:C.interceptSource)||"",containerId:t,recommendationEngine:null===C||void 0===C?void 0:C.recommendationEngine,recipeSource:null===C||void 0===C?void 0:C.criteria,title:null===C||void 0===C||null===(r=C.title)||void 0===r?void 0:r.text,subtitle:null===(o=C.subtitle)||void 0===o?void 0:o.text,isFallback:(null===C||void 0===C?void 0:C.isFallback)||!1,loadTime:i};w(Et.EVENTS.VIEW,a)}var c={containerId:t,widgetLocation:(null===C||void 0===C?void 0:C.interceptSource)||"",recommendationEngine:(null===C||void 0===C?void 0:C.recommendationEngine)||"",recipeSource:(null===C||void 0===C?void 0:C.criteria)||"",title:(null===C||void 0===C?void 0:C.title)||"",subtitle:(null===C||void 0===C?void 0:C.subtitle)||"",photoSource:"static",prodCount:(null===C||void 0===C||null===(e=C.products)||void 0===e?void 0:e.length)||"",scrollDirection:"noArrowScroll",isFallback:(null===C||void 0===C?void 0:C.isStatic)||""};w(Et.EVENTS.SCROLL,c),b.info(u({eventId:wt.EVENTS.CAROUSEL_NAVIGATE},"mweb"===E.platform&&{appContext:{deviceOrientation:E.orientation}})),m.current=!0}!(null===S||void 0===S?void 0:S.isWidgetScrolled)&&n(Hn({containerId:t,isWidgetScrolled:!0}))};g.current.addEventListener("scroll",e);var r=g.current;return }),[v,A,E.type,S,n,t,C,w,b,E.platform,E.orientation]),l.a.createElement($t,{handleArrowClick:P,isActivateScrollbar:_,isDisplayArrows:o,isLeftArrowActive:c,isRightArrowActive:p,productListRef:g,numOfProducts:null===C||void 0===C||null===(e=C.products)||void 0===e?void 0:e.length,isMweb:"mweb"===E.platform})}n(166);function Xt(){var e=Object(s.useContext)(un),t=mt(),n=nt((function(t){return t.globalContainersState[e].configState}));return l.a.createElement("div",{id:"rec-container-widget",className:"apc-rec-wrapper ".concat(t.type," ").concat(t.orientation," ").concat(null===n||void 0===n?void 0:n.layout,"-layout"),"data-test-id":"apc-rec-widget-wrapper"},l.a.createElement("div",{className:"apc-rec-container"},l.a.createElement(kt,null),l.a.createElement("div",{id:"container-content",className:"container-content hide-scroll"},"carousel"===(null===n||void 0===n?void 0:n.layout)&&l.a.createElement(Jt,null),"grid"===(null===n||void 0===n?void 0:n.layout)&&l.a.createElement(qt,null))))}ar Qt=["count","wrapper","className","containerClassName","containerTestId","circle","style"],en=l.a.createContext({});function tn(e){for(var t,n,r,o=e.count,i=void 0===o?1:o,a=e.wrapper,c=e.className,s=e.containerClassName,f=e.containerTestId,d=e.circle,p=void 0!==d&&d,h=e.style,v=Zt(e,Qt),y=l.a.useContext(en),m=u({},v),g=0,b=Object.entries(v);g<b.length;g++){var w=Y(b[g],2),E=w[0];"undefined"===typeof w[1]&&delete m[E]}var S=u(u(u({},y),m),{},{circle:p}),O=u(u({},h),S)),_="react-loading-skeleton";c&&(_+=" ".concat(c));for(var C=null!==(t=S.inline)&&void 0!==t&&t,A=[],P=Math.ceil(i),R=0;R<P;R++){var T=O;if(P>i&&R===P-1){var x=null!==(n=T.width)&&void 0!==n?n:"100%",k=i%1,L="number"===typeof x?x*k:"calc(".concat(x," * ").concat(k,")");T=u(u({},T),{},{width:L})}var M=l.a.createElement("span",{className:_,style:T,key:R},"\u200c");C?A.push(M):A.push(l.a.createElement(l.a.Fragment,{key:R},M,l.a.createElement("br",null)))}return l.a.createElement("span",{className:s,"data-testid":f,"aria-live":"polite","aria-busy":null===(r=S.enableAnimation)||void 0===r||r},a?A.map(():A)}n(167),n(168);function nn(e){var t=e.skeletonConfig,n=e.noFallback,r=mt();return l.a.createElement("div",null,function(){var e,o,i,a,c,u,s,f,d,p,h,v="grid"===(null===t||void 0===t?void 0:t.layout)?null===t||void 0===t||null===(e=t.content)||void 0===e||null===(o=e.recipes[0])||void 0===o?void 0:o.maxProducts:null===t||void 0===t||null===(i=t.content)||void 0===i||null===(a=i.recipes[0])||void 0===a?void 0:a.minProducts,y=(null===t||void 0===t||null===(c=t.features)||void 0===c?void 0:c.includes(Ge.PRICES))||(null===t||void 0===t||null===(u=t.features)||void 0===u?void 0:u.includes(Ge.REVIEWS));return l.a.createElement("div",{className:"apc-rec-wrapper".concat(r.type?" ".concat(r.type):"").concat(r.orientation?" ".concat(r.orientation):"").concat(r.platform===je.PLATFORM.WEB?" ".concat(null===t||void 0===t?void 0:t.layout):" ".concat(null===t||void 0===t||null===(s=t.style)||void 0===s?void 0:s.mobileHeaderAlignment),"-layout").concat(n?" fadeOut":"")},l.a.createElement("div",{className:"apc-rec-container"},l.a.createElement("div",{className:"apc-rec-header align-".concat(null===t||void 0===t||null===(f=t.style)||void 0===f?void 0:f.headerAlignment)},l.a.createElement("div",{className:"apc-rec-title"},l.a.createElement(tn,{className:"".concat(null===t||void 0===t?void 0:t.layout,"-skeleton")})),(null===t||void 0===t||null===(d=t.content)||void 0===d||null===(p=d.recipes[0])||void 0===p||null===(h=p.subtitle)||void 0===h?void 0:h.show)&&l.a.createElement("div",{className:"apc-rec-subtitles-wrapper"},l.a.createElement("div",{className:"apc-rec-subtitle"},l.a.createElement(tn,{className:"".concat(null===t||void 0===t?void 0:t.layout,"-skeleton")})))),l.a.createElement("div",{className:"container-content"},l.a.createElement("div",{className:"apc-rec-".concat(null===t||void 0===t?void 0:t.layout,"-wrapper skeleton hide-scroll preview")},l.a.createElement("div",{className:"apc-rec-product-list"},Array.from(Array(v),(function(e,n){return l.a.createElement("div",{className:"apc-rec-product-wrapper",key:n},l.a.createElement("div",{className:"apc-rec-product ".concat(null===t||void 0===t?void 0:t.layout,"-skeleton")},l.a.createElement("span",{className:"apc-rec-shimmer-background"},l.a.createElement("span",{className:"shimmer-thumb skeleton"},l.a.createElement(tn,{className:"thumb-skeleton"})),l.a.createElement("span",{className:"shimmer-text"},l.a.createElement(tn,null)),l.a.createElement("span",{className:"shimmer-text"},l.a.createElement(tn,null)),y&&l.a.createElement("span",{className:"shimmer-text"},l.a.createElement(tn,null)))))})))))))}())}function rn(e){var t=e.cmsTimeout,n=Object(s.useContext)(sn),r=Object(s.useContext)(un),o=nt((function(e){return e.globalContainersState[r].containerState})),i=o.displayedContainer,a=o.isReplaceClicked,c=o.containers,f=o.intersected,d=o.blackListProducts,p=o.allSettled,h=nt((function(e){return e.globalContainersState[r].configState})),v=nt((),y=v.features,m=v.content,g=mt(),b=At(),w=Y(Object(s.useState)(!0),2),E=w[0],S=w[1],O=Object(s.useRef)(!1),_=Boolean(y&&y.includes(Ge.REVIEWS)),C=Object(s.useRef)(!1),A=y&&y.includes(Ge.LAZY_LOAD),P=Tt(),R=Ft(),T=Boolean(null===y||void 0===y?void 0:y.includes(Ge.REPLACE)),x=Object(s.useRef)(0),k=Boolean(0===P.getActiveRecipes().length);Object(s.useEffect)((function(){var e=P.getActiveRecipes();T&&!a&&m.recipes.filter((function(e){return e.status===ke})).length<1?x.current=Math.round(e.length/2-1):x.current=e.findIndex((function(e){return e.name===i}))}),[m.recipes,i,T,a,P]),Object(s.useEffect)((function(){var e=!A||f;!n&&e&&P.getContainers(x.current,[]),n&&e&&d&&P.getContainers(x.current,d)}),[P,n,A,f,d]),Object(s.useEffect)((function(){var e=null===m||void 0===m?void 0:m.recipes.filter((),t=null===e||void 0===e?void 0:e.length,n=Object.keys(c),r=null===n||void 0===n?void 0:n.length;if(_&&!C.current&&p&&r>0&&t<=r){var o=[];Object.entries(c).forEach((function(e){var t,n=Y(e,1)[0];o=o.concat(null===(t=c[n])||void 0===t?void 0:t.products.map((function(e){return{productCode:null===e||void 0===e?void 0:e.productCode,criteria:n}})))})),R.getAllReviews(o),C.current=!0}}),[R,_,c,i,m.recipes,m,p]),Object(s.useEffect)((function(){var e,t,n,r,o=P.getActiveRecipes().find(();(o&&o.status===Re||(null===m||void 0===m?void 0:m.fallback)&&(null===m||void 0===m||null===(e=m.fallback)||void 0===e?void 0:e.name)&&(null===m||void 0===m||null===(t=m.fallback)||void 0===t?void 0:t.status)&&(null===m||void 0===m||null===(n=m.fallback)||void 0===n?void 0:n.name)===i&&(null===m||void 0===m||null===(r=m.fallback)||void 0===r?void 0:r.status)===Re)&&S(!1)}),[i,P,m,y]),Object(s.useEffect)((function(){O.current||(b.info({eventId:wt.EVENTS.INIT,appContext:u({loadingTime:Date.now()-window.performance.timing.domLoading,cmsTimeout:t||!1},"mweb"===g.platform&&{deviceOrientation:g.orientation})}),O.current=!1)}),[t,b,g.orientation,g.platform]);return E&&l.a.createElement(nn,{skeletonConfig:h,noFallback:k})||l.a.createElement(Xt,null)}function on(){on=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var l={};function f(){}function d(){}function p(){}var h={};c(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var m=p.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,c){var u=s(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,c(m,"constructor",p),c(p,"constructor",d),d.displayName=c(p,a,"GeneratorFunction"),e.isGeneratorFunction=e.mark=e.awrap=g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=g(m),c(m,a,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=e.values=_,O.prototype={constructor:O,reset:stop:dispatchException:abrupt:complete:finish:catch:delegateYield:,e}var an=window;function cn(e){var t,n,r=e.containerId,o=e.config,a=e.apcWorkerProp,c=e.cmsTimeout,u=pt(),f=Y(Object(s.useState)(!0),2),d=f[0],p=f[1],h=Y(Object(s.useState)(!1),2),v=h[0],y=h[1],m=Object(s.useRef)(),g=Object(s.useRef)(!0),b=!((null===o||void 0===o?void 0:o.features)&&o.features.includes(Ge.LAZY_LOAD))||!!(null===(t=tr.getState().globalContainersState[r])||void 0===t||null===(n=t.containerState)||void 0===n?void 0:n.intersected),w=Y(Object(s.useState)(a),2),E=w[0],S=w[1],O=Y(Object(s.useState)(!1),2),_=O[0],C=O[1],A=Object(s.useRef)(!1),P=function(){var e,t,n,r;(null===(e=an.SFLY_DTL)||void 0===e||null===(t=e.page)||void 0===t||null===(n=t.pageInfo)||void 0===n?void 0:n.pageName)?r=(an.SFLY_DTL.page.pageInfo.pageName.split("/").reverse().find(()||"").replace(" ","").toLowerCase():""===(r=window.location.pathname.replace("/",""))&&(r="homepage");return r},R=Object(s.useCallback)((function(){u(Kn({localId:dn(),token:"",isSignedIn:!1,userGivenName:"",userFamilyName:""}));var e=P();u($n({pageName:e})),p(!1)}),[u]);return Object(s.useEffect)((function(){function e(){return(e=i(on().mark((function e(){return on().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(an);case 2:e.sent?y(!0):R();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(m.current="undefined"===typeof m.current?function(e,t,n){try{var r=tr.getState().globalContainersState.sessionState;return"local"===r.env.workEnv&&(r.pageName?(t(!1),!0):(new URLSearchParams(window.location.search).has("signedOut")||Me.IS_SIGNED_OUT?(e(Kn({localId:dn(),token:"",isSignedIn:!1,userGivenName:"",userFamilyName:""})),e($n({pageName:Me.PAGENAME})),t(!1)):(e($n({pageName:Me.PAGENAME})),n.initSflyAuth().then((function(r){n.$sflyAuth.getIdToken().then((function(n){e(Kn({userId:n.payload.sfly_uid,localId:dn(),token:n.jwtToken,isSignedIn:!0,userGivenName:n.payload.given_name,userFamilyName:n.payload.family_name})),t(!1)}))}))),!0))}catch(o){return console.log("Failed while trying to set local dev env. The Error is: ".concat(o.message)),!1}}(u,p,an):m.current,!m.current)if(g.current)g.current=!1,function(){return e.apply(this,arguments)}().then();else if(v){var t=P();an.$sflyAuth.getIdToken().then((function(e){u(Kn({userId:e.payload.sfly_uid,localId:dn(),token:e.jwtToken,isSignedIn:!0,userGivenName:e.payload.given_name,userFamilyName:e.payload.family_name})),u($n({pageName:t})),p(!1)})).catch(()}if(E){E.port.onmessage||function(e){e.port.onmessage=function(t){!function(e){var t=e.message,n=e.setWidgetSubscribed,r=e.workerTimeout,o=e.apcWorker,i=t.data;switch(i.type){case"sub_ack":if(!r.current){console.log("".concat(i.containerId," subscription in apcWorker was acknowledged")),n(!0);var a={messageType:"getDisplayedProducts",widgetType:"V4",containerId:i.containerId};o.port.postMessage(a)}break;case"getContainers":tr.dispatch(Yn({containerId:i.containerId,blackListProducts:i.displayedProducts}))}}({message:t,setWidgetSubscribed:C,workerTimeout:A,apcWorker:e})},e.onerror=(E);var n={messageType:"subscribe",widgetType:"V4",containerId:r,intersected:b};E.port.postMessage(n),setTimeout((function(){if(!_){A.current=!0;var e={messageType:"cancelSubscription",containerId:r};E.port.postMessage(e),S(void 0)}}),2e3,r)}}),[u,r,E,b,v,R,_]),Object(s.useEffect)((,[u,o,r]),(d||E&&!_)&&l.a.createElement(nn,{skeletonConfig:o})||l.a.createElement(sn.Provider,{value:E},l.a.createElement(un.Provider,{value:r},l.a.createElement(rn,{cmsTimeout:c})))}var un=Object(s.createContext)(""),sn=Object(s.createContext)(void 0);ar fn=function(e,t){t&&"prod"!==t&&(e=e.replace("www.shutterfly.com","www.".concat(t,".shutterfly.com"))),window.location.href=e},dn=function(){var e,t,n,r=null===(e=document.cookie)||void 0===e||null===(t=e.split("; "))||void 0===t||null===(n=t.find((function(e){return e.startsWith("pixel_browsing_uid=")})))||void 0===n?void 0:n.split("=")[1];return document.cookie&&r&&JSON.parse(r).uid||an.$sflyAuth.iamConfig.appClientId||"fallback_user_id"};function pn(){var e=window.location.href;return e.indexOf("local")>-1?{workEnv:"local",targetEnv:"internal"===e.split(".")[1]?"prod":e.split(".")[1]}:e.indexOf("beta")>-1?{workEnv:"beta",targetEnv:"beta"}:e.indexOf("stage")>-1?{workEnv:"stage",targetEnv:"stage"}:e.indexOf("kappa")>-1?{workEnv:"kappa",targetEnv:"kappa"}:{workEnv:"prod",targetEnv:"prod"}}function hn(e,t){try{new IntersectionObserver((function(n,r){n.forEach((function(n){var o,i;n.isIntersecting&&((null===(o=tr.getState().globalContainersState[e.id])||void 0===o||null===(i=o.containerStat)||void 0===i?void 0:i.intersected)||(tr.dispatch(Vn({intersected:!0,containerId:e.id})),t&&t.port.postMessage({messageType:"widgetIntersected",widgetType:"V4",containerId:e.id})),1===n.intersectionRatio&&(tr.dispatch(Wn({visible:!0,containerId:e.id})),r&&r.unobserve(n.target)))}))}),{root:null,rootMargin:"0px 0px 120px 0px",threshold:[0,1]}).observe(e)}catch(n){console.log("%cCan't create Intersection Observer","color:blue;"),tr.dispatch(Vn({intersected:!0,containerId:e.id})),tr.dispatch(Wn({visible:!0,containerId:e.id}))}}function vn(e,t){for(var n in t)"object"===typeof t[n]?(e[n]||(e[n]=Array.isArray(t[n])?[]:{}),vn(e[n],t[n])):e[n]=t[n];return e}function yn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=e.map((function(e){return e})),r=n.length-1;r>0;r--){var o=Math.floor(Math.random()*(r+1)),i=[n[o],n[r]];n[r]=i[0],n[o]=i[1]}return n.splice(0,t)}function mn(){var e=pn(),t=Ie.FETCH_WEB_WORKER(e.targetEnv),n=new URL(t);if(null!=n&&n.origin!==window.location.origin)if(window.apcWorkerGuid)t=Ie.FETCH_WEB_WORKER();else{var r=(t=URL.createObjectURL(new Blob(["importScripts('".concat(n.href,"')")],{type:"application/javascript"}))).lastIndexOf("/")+1;window.apcWorkerGuid=t.slice(r)}return new SharedWorker(t)}unction bn(e){return"string"===typeof e}ction On(e){var t=[];return null===e||void 0===e||e.forEach((function(e){if(!t.find((function(t){return t.name===e.name&&(!t.metadata||!e.metadata||function(e,t){var n=!1;return Object.keys(e).forEach((),n}(t.metadata,e.metadata))}))){var n=t.filter(().length;n>0&&(e.name+="@"+n),t.push(e)}})),t}function _n(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=i(ln().mark((function e(t){var n,r=arguments;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:0,!t.$sflyAuth){e.next=3;break}return e.abrupt("return",!0);case 3:if(!(n>3)){e.next=6;break}return console.log("Failed to initialize SSO library"),e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,t.initSflyAuth();case 9:return e.next=11,An(300);case 11:return e.next=13,t.$sflyAuth.getIdToken();case 13:e.next=22;break;case 15:return e.prev=15,e.t0=e.catch(6),e.next=19,An(300);case 19:return e.next=21,_n(t,++n);case 21:return e.abrupt("return",e.sent);case 22:return e.next=24,An(300);case 24:return e.next=26,_n(t,++n);case 26:return e.abrupt("return",e.sent);case 27:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}unction Pn(){return(Pn=i(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(e,t){if(e>t.length){var n=Pt.a.products.filter(();return t.concat(n.splice(0,Math.min(e-t.length,n.length)))}return t}var Tn=function(e){try{var t=sessionStorage.getItem(ze.GENERAL_KEY);if(null!==t)return JSON.parse(t)[e]||null}catch(n){console.error("Error retrieving data from session storage:",n)}return null},xn=function(e,t){try{var n=sessionStorage.getItem(ze.GENERAL_KEY)||"{}",r=JSON.parse(n);r[e]=t;var o=JSON.stringify(r);sessionStorage.setItem(ze.GENERAL_KEY,o)}catch(i){console.error("Error storing data in session storage:",i)}},kn=function(e){try{var t=sessionStorage.getItem(ze.GENERAL_KEY)||"{}",n=JSON.parse(t);delete n[e];var r=JSON.stringify(n);sessionStorage.setItem(ze.GENERAL_KEY,r)}catch(o){console.error("Error removing item with key: ".concat(e," from session storage."),o)}},Ln={abTest:{enabled:!1,testGroup:-1},layout:"carousel",style:{headerAlignment:"center",mobileHeaderAlignment:"left",titleTheme:"homepage"},flow:{},content:{recipes:[{name:"trending_products",metadata:{},minProducts:6,maxProducts:15,status:ke}],fallback:{name:"best_seller",metadata:{},minProducts:6,maxProducts:15,status:ke}},features:[]},Mn={displayedContainer:"trending_products",containers:{},containerId:"",visible:!1,intersected:!1,isReplaceClicked:!1,isWidgetScrolled:!1,allSettled:!1},Nn={containerState:Mn},In=Object(p.b)({name:"container",initialState:Nn,reducers:{addContainer:function(e,t){var n,r,o,i,c=(null===e||void 0===e||null===(n=e.containerState)||void 0===n?void 0:n.containers)||{},s=t.payload.container.criteria&&a({},t.payload.container.criteria,u(u({},t.payload.container),{},{containerId:t.payload.containerId,interceptSource:t.payload.interceptSource,isFallback:t.payload.isFallback,isStatic:t.payload.isStatic,containerInitTime:t.payload.containerInitTime,title:t.payload.title,subtitle:t.payload.subtitle,products:t.payload.isStatic?yn(null===(r=t.payload.container)||void 0===r?void 0:r.products,t.payload.maxProducts):Rn(null===(o=t.payload.container)||void 0===o?void 0:o.products.length,null===(i=t.payload.container)||void 0===i?void 0:i.products.filter(())}));return u(u({},e),{},{containerState:u(u({},e.containerState),{},{containers:u(u({},c),s)})})},setDisplayedContainer:function(e,t){return u(u({},e),{},{containerState:u(u({},e.containerState),{},{displayedContainer:t.payload.displayedContainer})})},updateVisibility:function(e,t){return u(u({},e),{},{containerState:u(u({},e.containerState),{},{visible:t.payload.visible})})},updateIntersection:function(e,t){return u(u({},e),{},{containerState:u(u({},e.containerState),{},{intersected:t.payload.intersected})})},updateBlackList:function(e,t){return u(u({},e),{},{containerState:u(u({},e.containerState),{},{blackListProducts:t.payload.blackListProducts})})},setIsReplaceClicked:function(e,t){return u(u({},e),{},{containerState:u(u({},e.containerState),{},{isReplaceClicked:t.payload.isReplaceClicked})})},setIsWidgetScrolled:function(e,t){return u(u({},e),{},{containerState:u(u({},e.containerState),{},{isWidgetScrolled:t.payload.isWidgetScrolled})})},setConfig:function(e,t){var n,r,o,i,a,c,s,l,f,d,p=JSON.parse(JSON.stringify(Ln)),h=(null===p||void 0===p||null===(n=p.content)||void 0===n||null===(r=n.recipes[0])||void 0===r?void 0:r.name)||"",v=t.payload.config,y=function(e){if(e){if(e.layout&&"grid"!==e.layout&&"carousel"!==e.layout&&"double"!==e.layout&&"mosaic"!==e.layout)return console.error("Invalid type: config.layout"),!1;if(e.style){if(!En(e.style))return console.error("Invalid type: config.style"),!1;if(e.style.headerAlignment&&"left"!==e.style.headerAlignment&&"center"!==e.style.headerAlignment&&"right"!==e.style.headerAlignment)return console.error("Invalid type: config.style.headerAlignment"),!1;if(e.style.mobileHeaderAlignment&&"left"!==e.style.mobileHeaderAlignment&&"center"!==e.style.mobileHeaderAlignment&&"right"!==e.style.mobileHeaderAlignment)return console.error("Invalid type: config.style.mobileHeaderAlignment"),!1}if(e.content){if(!En(e.content))return console.error("Invalid type: config.content"),!1;if(e.content.recipes){if(!Sn(e.content.recipes))return console.error("Invalid type: config.content.recipes"),!1;for(var t=0;t<e.content.recipes.length;t++){var n=e.content.recipes[t];if(!En(n))return console.error("Invalid type: recipe"),!1;if(n.name&&!bn(n.name))return console.error("Invalid type: recipe.name"),!1;if(n.minProducts&&!wn(n.minProducts))return console.error("Invalid type: recipe.minProducts"),!1;if(n.maxProducts&&!wn(n.maxProducts))return console.error("Invalid type: recipe.maxProducts"),!1;if(n.title&&(!En(n.title)||n.title.text&&!bn(n.title.text)||n.title.show&&!gn(n.title.show)))return console.error("Invalid type: recipe.title"),!1;if(n.subtitle&&(!En(n.subtitle)||n.subtitle.text&&!bn(n.subtitle.text)||n.subtitle.show&&!gn(n.subtitle.show)))return console.error("Invalid type: recipe.subtitle"),!1}}if(e.content.fallback){if(e.content.fallback.name&&!bn(e.content.fallback.name))return console.error("Invalid type: fallback.name"),!1;if(e.content.fallback.minProducts&&!wn(e.content.fallback.minProducts))return console.error("Invalid type: fallback.minProducts"),!1;if(e.content.fallback.maxProducts&&!wn(e.content.fallback.maxProducts))return console.error("Invalid type: fallback.maxProducts"),!1}}if(e.features){var r=["replace","reviews","scrollbar","lazyLoad","badges","avoidDuplications","personalizedTitle","prices","noFallback"];if(!Sn(e.features)||!e.features.every((function(e){return r.includes(e)})))return console.error("Invalid type: feature"),!1}}return!0}(v),m=On(v.content.recipes);return(v=u(u({},v),{},{content:u(u({},null===(o=v)||void 0===o?void 0:o.content),{},{recipes:m})}))&&y?(h=(null===(i=v)||void 0===i||null===(a=i.content)||void 0===a?void 0:a.recipes.length)>0&&(null===(c=v.content)||void 0===c||null===(s=c.recipes[0])||void 0===s?void 0:s.name),null===(l=v)||void 0===l||null===(f=l.content)||void 0===f||null===(d=f.recipes)||void 0===d||d.map((function(e){return e.name===Ue.STATIC?e.status=Re:e.status=ke})),v&&v.content&&v.content.fallback&&Object.assign(v.content.fallback,{status:ke}),v&&v.content&&v.content.fallback&&v.content.fallback.status&&v.content.fallback.name===Ue.STATIC&&(v.content.fallback.status=Re),u(u({},e),{},{configState:u(u({},p),vn(p,v)),containerState:u(u(u({},Mn),e.containerState),{},{displayedContainer:h})})):u(u({},e),{},{configState:u({},Ln),containerState:u(u(u({},Mn),e.containerState),{},{displayedContainer:h})})},removeRecipe:function(e,t){var n,r=m(e&&e.configState&&e.configState.content&&e.configState.content.recipes||[]);return r.splice(t.payload.containerIndex,1),u(u({},e),{},{configState:u(u({},e.configState),{},{content:u(u({},null===e||void 0===e||null===(n=e.configState)||void 0===n?void 0:n.content),{},{recipes:m(r)})})})},updateRequestStatus:function(e,t){var n,r=e&&e.configState&&e.configState.content&&e.configState.content.recipes||[],o=JSON.parse(JSON.stringify(r))||[],i=o.findIndex(();return i>-1?o[i].status=t.payload.status:(o.push(u({},t.payload.request)),o[o.length-1].status=t.payload.status),u(u({},e),{},{configState:u(u({},e.configState),{},{content:u(u({},null===e||void 0===e||null===(n=e.configState)||void 0===n?void 0:n.content),{},{recipes:m(o)})})})},updateAllPromisesSettled:removeFeature:function(e,t){var n=(e&&e.configState&&e.configState.features||[]).filter(();return u(u({},e),{},{configState:u(u({},e.configState),{},{features:m(n)})})},setReview:function(e,t){var n=t.payload,r=n.criteria,o=n.productCode,i=n.review;return e&&e.containerState&&e.containerState.containers?u(u({},e),{},{containerState:u(u({},e.containerState),{},{containers:u(u({},e.containerState.containers),{},a({},r,u(u({},e.containerState.containers[r]),{},{reviews:u(u({},e.containerState.containers[r].reviews),{},a({},o,i))})))})}):e}}}),jn=In.actions,Fn=(jn.addContainer,jn.updateVisibility,jn.updateIntersection,jn.updateBlackList,jn.setIsReplaceClicked,jn.setIsWidgetScrolled,jn.setConfig,jn.setDisplayedContainer,jn.removeRecipe,jn.updateRequestStatus,jn.updateAllPromisesSettled,jn.removeFeature,jn.setReview,In.reducer),Bn={sessionState:{env:pn(),userId:"",localId:"",token:"",isSignedIn:!1,userGivenName:"",userFamilyName:"",pageName:"",platform:""}},Dn=Object(p.b)({name:"globalContainersState",initialState:Bn,reducers:{addContainer:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/addContainer"})))},updateVisibility:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/updateVisibility"})))},updateIntersection:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/updateIntersection"})))},updateBlackList:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/updateBlackList"})))},setIsReplaceClicked:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/setIsReplaceClicked"})))},setIsWidgetScrolled:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/setIsWidgetScrolled"})))},setDisplayedContainer:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/setDisplayedContainer"})))},setConfig:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/setConfig"})))},removeRecipe:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/removeRecipe"})))},updateRequestStatus:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/updateRequestStatus"})))},updateAllPromisesSettled:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/updateAllPromisesSettled"})))},removeFeature:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/removeFeature"})))},setReview:function(e,t){return u(u({},e),{},a({},t.payload.containerId,Fn(e[t.payload.containerId],{payload:t.payload,type:"container/setReview"})))},setAuth:function(e,t){t.payload.userId&&(e.sessionState.userId=t.payload.userId),e.sessionState.localId=t.payload.localId,e.sessionState.token=t.payload.token,e.sessionState.isSignedIn=t.payload.isSignedIn,e.sessionState.userGivenName=t.payload.userGivenName,e.sessionState.userFamilyName=t.payload.userFamilyName},setPageName:function(e,t){e.sessionState.pageName=t.payload.pageName},setPlatform:}),Un=Dn.actions,Gn=Un.addContainer,Wn=Un.updateVisibility,Vn=Un.updateIntersection,Yn=Un.updateBlackList,zn=Un.setIsReplaceClicked,Hn=Un.setIsWidgetScrolled,qn=Un.setConfig,Kn=Un.setAuth,$n=Un.setPageName,Jn=Un.setDisplayedContainer,Xn=(Un.removeRecipe,Un.updateRequestStatus),Zn=Un.updateAllPromisesSettled,Qn=(Un.removeFeature,Un.setReview),er=Dn.reducer,tr=Object(p.a)({reducer:{globalContainersState:er}});ction ir(e){return(ir="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}unction cr(e){var t=e.children,n=e.containerId,r=At(),o=mt(),i=nt((function(e){return e.globalContainersState.sessionState})),a=i.userId,c=i.pageName,u=nt((function(e){var t;return null===(t=e.globalContainersState[n])||void 0===t?void 0:t.configState.content.recipes})),s=nt((function(e){var t;return null===(t=e.globalContainersState[n])||void 0===t?void 0:t.configState.abTest}));return l.a.createElement(ur,{splunkLogger:r,device:o,userId:a,pageName:c,recipes:u,abTest:s,children:t})}var ur=function(e){!r,e);var t,n=(t=r,;eturn b(r,[{key:"componentDidCatch",value:function(e,t){var n=this.props.splunkLogger,r=this.props.device,o=this.props.userId,i=this.props.recipes,a=this.props.pageName,c=this.props.abTest;n.error({eventId:wt.EVENTS.CRASH,userId:o,appVersion:a,transactionId:i?1===i.length?i[0].name:"recommendation_for_you":"",appContext:u(u({error:e,errorInfo:t},c&&c.enabled&&{testGroup:c.testGroup.toString()}),"mweb"===r.platform&&{deviceOrientation:r.orientation})})}},{key:"render",value:function(){return this.state.hasError?"Error":l.a.createElement(l.a.Fragment,null,this.props.children)}}],[{key:"getDerivedStateFromError",value:]),r}(s.Component);n(170);function sr(e){var t,n,r=e.containerId,o=e.activate,i=e.config,a=Object(s.useRef)(r.toLowerCase().indexOf("test")>-1?fr({containerId:r,activate:o}):{activate:!0}),c=(null===(t=a.current.config)||void 0===t||null===(n=t.content)||void 0===n?void 0:n.recipe)?r.toLowerCase().split("test")[0].concat(a.current.config.content.recipe[0].name).replace(/_/g,"-").trim():r;return Object(s.useEffect)((function(){if(a.current.activate){var e=i&&a.current.hasOwnProperty("config")?vn(JSON.parse(JSON.stringify(i)),a.current.config):i||a.current.config||{};dr({containerId:c,activate:o,config:e}).then((function(){}))}}),[c,o,i]),a.current.activate&&l.a.createElement("div",{id:c})}function lr(){lr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=w(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var l={};function f(){}function d(){}function p(){}var h={};c(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,o)&&(h=y);var m=p.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,c){var u=s(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,c(m,"constructor",p),c(p,"constructor",d),d.displayName=c(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(m),c(m,a,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function fr(e){var t,n,r={containerId:e.containerId};try{return(n=localStorage.getItem(e.containerId))?(t=(r=u(u({},r),JSON.parse(n))).expiryDate,Date.now()>=t?(localStorage.removeItem(e.containerId),r.activate=!1,r):r):(r.activate=!!e.hasOwnProperty("activate")&&e.activate,r)}catch(o){return console.error("Couldn't get ".concat(e.containerId," config JSON from local storage => ").concat(o.message)),r.activate=!!e.hasOwnProperty("activate")&&e.activate,r}}n.d(t,"getTestConfig",(function(){return fr})),n.d(t,"run",(function(){return dr})),n.d(t,"ApcRecWidget",(function(){return sr}));var dr=function(){var e=i(lr().mark((function e(t){var n,r,o,i,a,c;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===t||void 0===t||null===(n=t.config)||void 0===n?void 0:n.abTest,!(o=(null===r||void 0===r?void 0:r.enabled)&&-1===(null===r||void 0===r?void 0:r.testGroup)?fr(t):{activate:!0}).activate){e.next=9;break}return(i=(null===t||void 0===t?void 0:t.containerId)&&document.getElementById(t.containerId))&&i.classList.add("apc-rec-global"),i?(a=(null===t||void 0===t?void 0:t.config)&&o.hasOwnProperty("config")?vn(null===t||void 0===t?void 0:t.config,o.config):(null===t||void 0===t?void 0:t.config)||o.config||{},c="undefined"!==typeof SharedWorker?mn():void 0,hn(i,c),d.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ct,{store:tr},l.a.createElement(cr,{containerId:i.id},l.a.createElement(cn,{containerId:i.id,config:a,apcWorkerProp:c,cmsTimeout:null===t||void 0===t?void 0:t.cmsTimeout})))),i)):console.error("Container ".concat(t.containerId," wasn't loaded due to missing DOM element to consume it")),e.abrupt("return",{domElemExists:!!i,renderWidget:!0});case 9:return e.abrupt("return",{renderWidget:!1});case 10:case"end":return e.stop()}}),e)})));return ()}]);
//# sourceMappingURL=ApcRecWidget.fe649f093a.js.map