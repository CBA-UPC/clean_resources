!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[46],{67645:(e,t,a)=>{a.d(t,{Z:()=>n});var s=(0,a(36343).q)("posts-empty");s.defaultProps={size:{width:100,height:100}};let n=s},98724:(e,t,a)=>{a.d(t,{w:()=>i});var s=a(5754),n=a.n(s),o=a(6135),r=a(2629),i=e=>{var t=e.color,a=e.condensed;return(0,r.jsx)("div",{className:n()("gG278",{ops60:a}),children:(0,r.jsx)(o.Z,{centerOrientation:"horizontalAndVertical",color:t})})}},84665:(e,t,a)=>{a.d(t,{ZP:()=>I});var s=a(54138),n=a.n(s),o=a(50209),r=a.n(o),i=a(5754),l=a.n(i),p=a(95004),c=a(44009),h=a(93853),d=a(98384),u=a(10381),g=a(63665),m=a(59215),v=a(7070),b=a(63583),x=a.n(b),f=a(96467),C=a.n(f),P=a(91909);let N={manualPaginatorButtons:"m3lOJ",manualPaginatorButton:"PY8Tb",next:"B5txQ",prev:"jIdvc",manualPaginatorButtonInner:"Xp6EK"};var j=a(2629),B={width:13,height:13},k={href:"DON'T FETCH ME! OH GUY, PLEASE DON'T FETCH ME!"},T={prevNextLinks:[],linkForCurrentPage:k};class y extends P.Z{constructor(){super(...arguments),r()(this,"addObjectsToExisting",this.props.concatenate?e=>{var t=this.state.objects,a=this.props,s=a.direction,n=a.getObjectsFromResponse;return s===g.cU.Top?n(e).concat(t):t.concat(n(e))}:,r()(this,"shouldRenderMainLoader",()=>{var e=this.state,t=e.hasFetchedInitialPage,a=e.loadingNextPage;return!t||a}),r()(this,"preHandleContentFetch",e=>{var t=this.props.updateUrlFromCurrentPageLink,a=this.state.linkForCurrentPage;switch(e){case g.vO.Initial:return;case g.vO.Refresh:null==t||t();return;case g.vO.Pagination:null==t||t(null==a?void 0:a.href);return}}),r()(this,"getHotkeyCommands",()=>{var e=this.state,t=e.prevNextLinks,a=e.nextLink,s=[];return 0!==t.length&&s.push({key:h.SV.Left,command:this.onClickPrevious}),a&&s.push({key:h.SV.Right,command:this.onClickNext}),s}),r()(this,"renderPaginationButtons",e=>{var t=this.state,a=t.prevNextLinks,s=t.nextLink,o=this.props,r=o.prevButtonIsRefresh,i=o.manualPaginatorButtonCss,u=void 0===i?{}:i,g=u.containerClassName,m=u.prevButtonStyle,v=u.nextButtonStyle,b=o.appContext._c,f=o.nextButton,C=o.concatenate,P=b("The label for a button to return to the previous page of results","Previous"),k=b("The label for a button to refresh the contents of a set of posts to show the newest content in it","Latest"),T=b("The label for a button to go to the next page of results","Next"),y=!!a.length,S=y?this.onClickPrevious:this.refresh,w=y?P:k,I=y?{color:x().paletteWhite,background:x().paletteTransparentWhite65}:{color:x().paletteTransparentWhite87,background:"transparent",border:`2px solid ${x().paletteTransparentWhite87}`},z=!C&&y||r,R=!!s;return z||R?(0,j.jsxs)("div",{ref:this.setButtonContainerRef,className:l()(N.manualPaginatorButtons,g),children:[(0,j.jsx)(h.ZP,{hotkey:this.getHotkeyCommands()}),z&&(0,j.jsxs)(c.Z,{label:P,wrapperClassName:l()(N.manualPaginatorButton,N.prev),wrapperStyle:n()(n()({},I),m),className:N.manualPaginatorButtonInner,onClick:S,children:[(0,j.jsx)(d.sz,{size:B,colors:{primary:(null==m?void 0:m.color)||I.color||"currentcolor"}}),w]}),R&&(f?(0,p.cloneElement)(f,{label:T,onClick:this.onClickNext}):(0,j.jsxs)(c.Z,{label:T,wrapperClassName:l()(N.manualPaginatorButton,N.next),wrapperStyle:n()({color:x().paletteWhite,background:x().paletteAccent},this.getNextButtonStyle(e)),className:N.manualPaginatorButtonInner,onClick:this.onClickNext,children:[T,(0,j.jsx)(d.iL,{size:B,colors:{primary:v&&v.color||x().paletteWhite}})]}))]}):null}),r()(this,"onClickPrevious",()=>{var e=this.state,t=e.prevNextLinks,a=e.firstPageInfo,s=e.linkForCurrentPage,o=this.props.updateUrlFromCurrentPageLink,r=t.pop();if(!this.canFetchNextPage(r))return Promise.resolve();if(r===k&&a){var i=a.endpointApiRequest,l=a.objects;return this.nextPageApiRequest=i,null==o||o(i.getSearchParams(),!0),this.setState(n()(n()({},T),{},{objects:l,nextLink:s}),this.scrollToBottom),Promise.resolve()}return this.scrollToTop(),new Promise(e=>{this.setState({prevNextLinks:t,objects:[],linkForCurrentPage:r},e)}).then(.then(()=>this.scrollToBottom())}),r()(this,"onClickNext",()=>{var e=this.state,t=e.prevNextLinks,a=e.linkForCurrentPage,s=e.nextLink,o=e.objects,r=this.props,i=r.endpointApiRequest,l=r.concatenate;return this.canFetchNextPage(s)&&i?(l||this.scrollToTop(),new Promise(e=>{this.setState(n()({objects:l?this.state.objects:[],prevNextLinks:[...t,a],linkForCurrentPage:s},a===k&&{firstPageInfo:{objects:o,endpointApiRequest:i}}),e)}).then():Promise.resolve()}),r()(this,"setButtonContainerRef",,r()(this,"getNextButtonStyle",e=>{var t=this.props,a=t.manualPaginatorButtonCss,s=void 0===a?{}:a,o=s.doNotAccountForLowerRightContent,r=s.nextButtonStyle,i=t.messagingContext.offsetToAvoidLowerRightContentPx;if(o)return r;var l=this.state.buttonsContainerRef,p=l&&e?e-l.getBoundingClientRect().right:0;return n()(n()({},r),{},{transform:`translateX(-${p<i?i-p+C().lowerRightContentEdgeMarginPx:0}px)`})})}render(){var e=this.props.manualPaginatorButtonCss,t=(void 0===e?{}:e).doNotAccountForLowerRightContent;return(0,j.jsxs)(j.Fragment,{children:[super.render(),!this.shouldRenderMainLoader()&&(t?this.renderPaginationButtons():(0,j.jsx)(u.U$,{children:e=>{var t=e.bodyWidth;return this.renderPaginationButtons(t)}}))]})}getEmptyInitialState(){var e,t,a=null===(e=(t=this.props).getInitialPage)||void 0===e||null===(e=e.call(t))||void 0===e?void 0:e.prevLink;return n()(n()(n()({},super.getEmptyInitialState()),T),a&&{prevNextLinks:[a]})}didChangeEndpoint(e){var t,a=super.didChangeEndpoint(e)&&(!this.nextPageApiRequest||!(null!==(t=this.props.endpointApiRequest)&&void 0!==t&&t.isEqualTo(this.nextPageApiRequest,!0)));return a&&(this.nextPageApiRequest=null),a}getFetchNextPageRequest(e){return this.nextPageApiRequest=super.getFetchNextPageRequest(e),this.nextPageApiRequest}onPagination(e){super.onPagination(e);var t=e.requestType,a=e.response,s=this.props.getPrevLink,o=null==s?void 0:s(a);this.setState(e=>n()(n()({},[g.vO.Initial,g.vO.Refresh].includes(t)?T:e),!!o&&{prevNextLinks:[o]}))}}r()(y,"defaultProps",n()({},P.c));var S=(0,m.CN)(y,{appContext:!0,messagingContext:!0});(0,v.D)(S,`Inner${S.name}`);class w extends p.Component{render(){return(0,j.jsx)(S,n()(n()({},this.props),{},{ref:this.props.forwardedRef}))}}let I=w},81e3:(e,t,a)=>{a.r(t),a.d(t,{default:);var s=a(54138),n=a.n(s),o=a(54589),r=a.n(o),i=a(50209),l=a.n(i),p=a(95004),c=a(52980),h=a(64741),d=a(46742),u=a(29860),g=a(98724),m=a(48352),v=a(74754),b=a(43597),x=a(90127),f=a(32468),C=a(43523),P=a(22979),N=a(59215),j=a(93099),B=a(67657),k=a(26963),T=a(55015),y=a(5754),S=a.n(y),w=a(20069),I=a(6135),z=a(30337),R=a(5553),F=a(78667),L=a(63583),O=a.n(L);let A={blogSelectorContainer:"u0h7H",usesNewDimensions:"axfMS",loadingPlaceholder:"COfp8"};var Z=a(2629);let _=e=>{var t=e.blogName,a=e.handleBlogChange,s=(0,F.bp)().features.redpopDesktopVerticalNav,n=(0,R.n)().data,o=(0,Z.jsx)("div",{className:S()(A.blogSelectorContainer,{[A.usesNewDimensions]:s}),children:n?(0,Z.jsx)(w.ZP,{blogs:n,selectedBlog:n.find(||n[0],showUnreadMessagesCount:!1,displayAvatar:!0,textColor:O().paletteWhiteOnDark,avatarDimension:64,maxTextWidth:"fit-content",align:"left",onClickSelectedBlog:a}):(0,Z.jsx)("div",{className:A.loadingPlaceholder,children:(0,Z.jsx)(I.Z,{small:!0,centerOrientation:"vertical"})})});return(0,Z.jsx)(z.Z,{activeBlogPage:f.vS.blaze(t),blogSelector:o,showRadar:!0})};var H=a(55673);let D=e=>{var t=e.blogName,a=e.tabId,s=(0,F.bp)()._c,n=[];return n.push({tab:"posts",path:(0,x.VH)({blogName:t},"posts"),translate:s("Navigational tab at the top of Tumblr Blaze - Campaigns","Your posts")},{tab:"campaigns",path:(0,x.VH)({blogName:t},"campaigns"),translate:s("Navigational tab at the top of Tumblr Blaze - Campaigns","Campaigns")},{tab:"about",path:(0,x.VH)({blogName:t},"about"),translate:s("Navigational tab at the top of Tumblr Blaze - About","About")}),(0,Z.jsx)("div",{className:"ws4bG",children:n.map(e=>{var t=e.tab,s=e.path,n=e.translate;return(0,Z.jsx)(H.OL,{role:"link",className:S()("Z8Fkv",{oxzmz:t===a}),to:s,end:!0,children:n},s)})})};var W=a(78994),E=a(67645);let M={emptyView:"t3NIG",emptyViewCTA:"WNMMa"},q=e=>{var t=e.message,a=e.cta,s=e.blogName,n=(0,W.s0)(),o=(0,F.bp)().logEvent,r=()=>(0,x.TL)({postType:"text"},{name:s});return(0,Z.jsxs)("div",{className:M.emptyView,children:[(0,Z.jsx)(E.Z,{}),t,a&&(0,Z.jsx)("div",{className:M.emptyViewCTA,children:(0,Z.jsx)("a",{href:r(),onClick:e=>{o({eventName:C.J.BlazePromoPageComposePost}),e.preventDefault(),n(r())},children:a})})]})},U=e=>{var t=e.blogName,a=e.tabId,s=(0,F.bp)()._c;return(0,p.useMemo)(()=>"campaigns"===a?(0,Z.jsx)(q,{message:s("Warning message for Blaze campaign page, where Blaze is the brand/service name","Uh oh, can't find any Blaze campaigns."),blogName:t}):(0,Z.jsx)(q,{message:s("Warning message for Blaze promo page, where Blaze is the brand/service name","Uh oh, you donâ€™t have any recent posts to Blaze."),cta:s("CTA when there is no posts to blaze yet (Blaze landing page)","Create your first post"),blogName:t}),[a,t])};var V=a(399),G=a(68782),J=a(26858);let $=e=>{var t=e.message,a=(0,F.bp)(),s=a._t,n=(0,a.getBootstrap)(J.Rn);return(0,Z.jsx)("div",{className:"vq3kt",children:null!=t?t:(0,G.U)((0,V.Pk)(s),n.randomNumber)})};var K=a(18060),Y=a(44009),X=a(86785),Q=a(91264),ee=a(71417),et=a(33970),ea=a.n(et),es=a(28431),en=a(68144),eo=a(53714),er=a(43684);let ei={campaignFilterButton:"RjYS3",dropdownBtnContainer:"aEhD_",dropdownBtnInner:"Gthq0",caret:"GKW5f"};var el=e=>{var t=e.onSelection,a=e.selectedOption,s=(0,p.useState)(!1),n=ea()(s,2),o=n[0],r=n[1],i=()=>r(e=>!e),l=(0,F.bp)()._c,c=["all","active","completed","unsuccessful"],h={all:l("Blaze campaign status filter label for all campaigns","All campaigns"),active:l("Blaze campaign status filter label for active campaigns","Active"),completed:l("Blaze campaign status filter label for completed campaigns","Completed"),unsuccessful:l("Blaze campaign status filter label for unsuccessful campaigns","Unsuccessful")};return(0,Z.jsx)("div",{className:ei.popoverContainer,children:(0,Z.jsx)(eo.ZP,{component:(0,Z.jsx)("div",{role:"listbox",children:null==c?void 0:c.map(e=>(0,Z.jsx)(es.Z,{isWrappingButton:!0,className:ei.dropdownBtnContainer,role:"option",selected:e===a,children:(0,Z.jsx)(Y.Z,{label:h[e],onClic},className:ei.dropdownBtnInner,children:h[e]})},e))}),width:"fit-content",maxWidth:"50vw",maxHeight:"50vh",usePortals:!0,position:er.I2.BottomStart,isOpen:o,toggle:i,popoverWrapperClassName:ei.popoverWrapper,shouldFocusContentOnPopoverOpen:!0,children:(0,Z.jsxs)(Y.Z,{label:h[a],onClick:i,className:ei.campaignFilterButton,role:"button",children:[(0,Z.jsx)("span",{children:h[a]}),(0,Z.jsx)("span",{className:ei.caret,children:o?(0,Z.jsx)(en.Cq,{size:{width:12,height:12},colors:{primary:L.paletteWhiteOnDark}}):(0,Z.jsx)(en.nT,{size:{width:12,height:12},colors:{primary:L.paletteWhiteOnDark}})})]})})})},ep=a(26705),ec=a(43423),eh=a(17287),ed=a(41185),eu=a(67023),eg=a(43166);let em={postContainer:"knK3S",left:"KQ2nh",right:"eSrrB",postBlockWrapper:"xXdaA",postBlock:"xD8C5",postInfo:"t7PCb",noSummary:"HscqY",postInfoHeader:"WeGUR",postDate:"bM0ZX",postTitle:"X4TQ4",postNotes:"C9FEt",noteCount:"_lipV",noteLabel:"sL692",blazeButton:"AhHnq"};var ev=e=>{var t=e.post,a=(0,F.bp)(),s=a._getLocaleDateString,n=a._c,o=a._cn,r=a.logEvent,i=n("Label for a button to promote a post","Blaze"),l=o("Label for a numeric count of notes of a post","note","notes",t.noteCount),c=(0,p.useState)(!1),d=ea()(c,2),u=d[0],g=d[1],m=(0,p.useMemo)(()=>({post:t,presentationStyle:T.Z.blaze}),[t]),);return(0,Z.jsxs)(eg.Mj.Provider,{value:m,children:[(0,Z.jsxs)("div",{className:em.postContainer,children:[(0,Z.jsxs)("div",{className:em.left,children:[(0,Z.jsx)("div",{className:em.postBlockWrapper,children:(0,Z.jsx)("div",{className:em.postBlock,children:(0,Z.jsx)(ed.Z,{timelineObject:t,openInPeepr:!0,showHover:!1})})}),(0,Z.jsxs)("div",{className:S()(em.postInfo,{[em.noSummary]:!t.summary}),children:[(0,Z.jsxs)("div",{className:em.postInfoHeader,children:[t.date&&(0,Z.jsx)("div",{className:S()({[em.postDate]:t.summary,[em.postTitle]:!t.summary}),children:s(new Date(t.date),eu.C.Notes,!0)}),t.summary&&(0,Z.jsx)("div",{className:em.postTitle,children:t.summary})]}),(0,Z.jsx)(eh.Z,{blogName:t.blogName,postId:t.id,href:t.postUrl,showBlogCard:!1,blog:t.blog,children:(0,Z.jsxs)("div",{className:em.postNotes,"aria-label":l,children:[(0,Z.jsx)("div",{className:em.noteCount,children:t.noteCount}),(0,Z.jsx)("div",{className:em.noteLabel,children:l})]})})]})]}),(0,Z.jsx)("div",{className:em.right,children:t.canBlaze&&(0,Z.jsx)(Y.Z,{wrapperClassName:em.blazeButton,onClic},label:i,children:i})})]}),(0,Z.jsx)(h.ZP,{productPopoverIsOpen:u,toggleProductPopover:v})]})},eb=e=>{var t=e.blogName,a=e.searchTerm,s=e.searchMode,n=e.searchPostType,o=e.searchTag,r=(0,F.bp)(),i=r.apiFetch,l=r.apiFetchWithSchema,c=r.getBootstrap,h=(0,p.useMemo)(()),[t,o,n]);return(0,Z.jsxs)("div",{className:"L7irW",children:[(0,Z.jsx)(ec.Z,{blogSettings:{name:t,url:""},generatePath:K.W8,searchCriteriaParamsHoo),wrapperClassName:"dcddO",searchOpenFillColor:O().paletteTransparentWhite65,searchCloseFillColor:O().paletteTransparentWhite65,hasPostTypesOnlyFilter:!a,isAlwaysOpen:!0,clearButtonClassName:"GgsMO"}),(0,Z.jsx)(v.ZP.Provider,{value:h,children:(0,Z.jsx)(ep.ZP,{endpointApiRequest:(0,J.fJ)({apiFetch:i,apiFetchWithSchema:l},t,{tag:o,searchTerm:a,searchMode:s,postType:n}),getInitialPag),loader:(0,Z.jsx)(g.w,{}),getObjectsFromResponse:K.zn,emptyView:(0,Z.jsx)(U,{blogName:t,tabId:"posts"}),children:e=>{var t=e.objects;return(0,Z.jsx)(Z.Fragment,{children:t.map(e=>(0,Z.jsx)(ev,{post:e},`blazeable-post-${e.id}`))})}})})]})};let ex={postColumn:"jFZSo",twoColumn:"zG0RJ",toolbar:"_I4db",pageTitle:"raw1H",introHeader:"vaQzq",fireBackgroundContainer:"nzbJn",fireBackground:"oVoD7",introContainer:"bc1Vg",title:"hofae",subtitleContainer:"HrCCk",subtitle:"ZeiKt",campaignsHeader:"yhjb8",blazeButton:"nf9dC"};var ef=["blogName","searchTerm","id","tag"];class eC extends ee.lb{constructor(){super(...arguments),l()(this,"state",(0,this.props.appContext.getBootstrap)(J.Rn,{headerUseDefaultPalette:!0,campaignStatusFilter:"all"})),l()(this,"blazeTitleRef",(0,p.createRef)()),l()(this,"blazeTitleId","blaze-post-title"),l()(this,"closeIgniteSuccessPopover}),l()(this,"setRefreshCallbacke),l()(this,"conditionallyRefreshBlogs",e=>{var t=e.isModalSuccess,a=e.isReblog,s=e.isNewPost;return!!t&&(a||s)&&this.refreshBlogs()}),l()(this,"refreshBlogs}),l()(this,"generateTaggedPath",e=>{var t=(0,K.Ai)(this.props.params).postType;return(0,x.h1)(this.getBlogNameFromProps(),{tag:e,postType:t})}),l()(this,"igniteSuccessReadParamsHook",()=>({postId:this.props.params.id})),l()(this,"resetCampaignFilter}),l()(this,"getBody",()=>{var e=this.props.appContext,t=e._t,a=e._c,s=this.props.deviceContext.isMobile,o=this.props.params,i=o.blogName,l=o.searchTerm,p=(o.id,o.tag),c=r()(o,ef),d=(0,K.Ai)(c),u=d.searchMode,m=d.postType,b=this.getTabId(this.props.params),f=(0,K.bn)(b),C=a("Button for redirecting user to choose a post to blaze","Blaze new post");return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("main",{className:ex.postColumn,children:[(0,Z.jsx)("div",{className:ex.pageTitle,ref:this.blazeTitleRef,id:"blaze-post-title",children:t("Tumblr Blaze")}),(0,Z.jsx)("div",{className:ex.toolbar,children:(0,Z.jsx)(D,{blogName:i,tabId:b})}),"campaigns"===b&&(0,Z.jsxs)("div",{className:ex.campaignsHeader,children:[(0,Z.jsx)(el,{onSelection:e=>{this.setState({campaignStatusFilter:e})},selectedOption:this.state.campaignStatusFilter}),(0,Z.jsx)(Y.Z,{wrapperClassName:ex.blazeButton,label:C,role:"button",as:"a",href:(0,x.VH)({blogName:i},"posts"),children:C})]}),"about"===b&&(0,Z.jsxs)("div",{className:ex.introContainer,children:[(0,Z.jsxs)("div",{className:ex.introHeader,children:[(0,Z.jsx)("div",{className:ex.fireBackgroundContainer,children:(0,Z.jsx)("div",{className:ex.fireBackground})}),(0,Z.jsx)("h3",{className:ex.title,children:this.props.appContext._c("Blaze About Page Title","Reach more people on Tumblr with Blaze")}),(0,Z.jsx)("div",{className:ex.subtitleContainer,children:(0,Z.jsx)("p",{className:ex.subtitle,children:this.props.appContext._c("Blaze About Page Subtitle","Promote your favorite art, memes, or anything you find that others should see.")})})]}),(0,Z.jsx)(X.p,{showBlazeButton:!0,buttonLink:(0,x.VH)({blogName:i},"posts")})]}),"campaigns"===b&&(0,Z.jsx)(h.eo.Provider,{value:f,children:(0,Z.jsx)(v.ZP.Provider,{value:this.generateTaggedPath,children:(0,Z.jsx)(Q.ZP,{id:`all-blazed-campaigns-${i}-${this.state.campaignStatusFilter}`,endpointApiRequest:(0,J.P9)(this.props.appContext.apiFetchWithSchema,i),getObjectsFromResponse:K.zn,isObjectOmittedFromRender:e=>!!(0,K.Fm)(e)||!K.iO[this.state.campaignStatusFilter].includes(e.status),getNextLink:K.J2,setRefreshCallback:this.setRefreshCallback,getInitialPage:this.getInitialTimeline,emptyView:(0,Z.jsx)(U,{blogName:i,tabId:b}),errorView:(0,Z.jsx)($,{}),displayMode:P.mt.List,overridePresentationStyle:n()(n()({},T.Z.blaze),{},{showsAvatarInline:s}),initialLoader:(0,Z.jsx)(g.w,{})})})}),"posts"===b&&(0,Z.jsx)(h.eo.Provider,{value:f,children:(0,Z.jsx)(eb,{blogName:i,searchTerm:l,searchMode:u,searchPostType:m,searchTag:p})})]})})}),l()(this,"handleBlogChange",e=>{this.props.navigate(`${(0,j.Z)(x.o_.blaze,{blogName:e.name})}#${this.blazeTitleId}`,{replace:!0})}),l()(this,"getSidebar",()=>(0,Z.jsx)(_,{blogName:this.getBlogNameFromProps(),handleBlogChange:this.handleBlogChange})),l()(this,"getInitialTimeline)),l()(this,"getBlogNameFromPropse)}getTabId(e){var t;return null!=e&&e.tabId||void 0===this.state.userInfo?null!==(t=null==e?void 0:e.tabId)&&void 0!==t?t:"posts":this.state.userInfo.hasBlazedBefore?"posts":"about"}componentDidMount(){this.props.appContext.getUserInfo().the}),this.onCloseHandlerCallback=this.props.modalRouteContext.addOnCloseModalRouteHandler(this.conditionallyRefreshBlogs);var e=(0,k.b)(this.props.location.search),t=this.props.params.id;if(e.ignite_tid&&t){var a=(0,B.uG)(t,"transactionUuid");e.ignite_tid===a&&this.setState({igniteTransactionId:e.ignite_tid})}}componentDidUpdate(e,t){if(t.headerUseDefaultPalette==this.state.headerUseDefaultPalette){var a,s=this.getTabId(this.props.params),n=this.getTabId(e.params);s!==n&&(this.props.appContext.logEvent({eventName:C.J.ScreenLeft,page:K.aK[n],eventDetails:{is_admin:(null!==(a=this.props.appContext.isAdmin)&&void 0!==a&&a).toString()}}),"campaigns"===s&&this.resetCampaignFilter())}}componentWillUnmount(){var e,t;this.props.appContext.logEvent({eventName:C.J.ScreenLeft,page:K.aK[this.getTabId(this.props.params)],eventDetails:{is_admin:(null!==(e=this.props.appContext.isAdmin)&&void 0!==e&&e).toString()}}),null===(t=this.onCloseHandlerCallback)||void 0===t||t.call(this)}render(){var e=this.props,t=e.params,a=e.appContext.isAdmin,s=this.state.igniteTransactionId,o={activePage:f.vS.blaze(this.getBlogNameFromProps())};return void 0===this.state.userInfo?null:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{page:K.aK[this.getTabId(t)],eventDetails:{is_admin:(null!=a&&a).toString()}}),(0,Z.jsx)(u.Z,{title:this.props.appContext._c("Title of the Blaze page","Blaze | Tumblr")}),(0,Z.jsx)(c.Z,n()(n()({},o),{},{children:(0,Z.jsxs)(b.Z,{sidebar:this.getSidebar(),className:ex.twoColumn,children:[this.getBody(),s&&(0,Z.jsx)(d.Z,{successPopoverIsOpen:!!s,toggleSuccessPopoverIsOpen:this.closeIgniteSuccessPopover,transactionUuid:s,readParamsHook:this.igniteSuccessReadParamsHook})]})}))]})}}let eP=(0,N.Bg)(eC,{appContext:!0,modalRouteContext:!0,deviceContext:!0})}}]);