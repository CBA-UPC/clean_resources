"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5306],{70610:function(e,t,n){n.d(t,{D:function(){return generateNodeKey}});var r=n(6676),i=n.n(r);let generateNodeKey=()=>"nk_"+i()()},22146:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(70610),i=n(82620),o=n(5001),a=n(79626),s=n(67729),c=n(98751),u=n(39709),l=n(85363),h=n(20731);let d={API_DOMAIN:u.DS.API_DOMAIN,endpoints:{capture:u.DS.endpoints.capture}};var p=new l.Z({rest:{API_DOMAIN:()=>h.Z.NEXT_API_URL,endpoints:{project:"project",guide:"guide",customers:"guide/customers",cutomer:"guide/customer"}},capture:{API_DOMAIN:endpoints:{capture:"capture",update:"capture/update",duplicate:"capture/duplicate",resource:"static/resource",hashcheck:"static/hashcheck",nvstatic:"nv_static",api:"api",flowStepImageUpload:"step/i"}},next:d});let NavatticAPI=class NavatticAPI extends i.Z{sync fetchScreenshotCapture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{init:n,...r}=t;return await this.fetch({url:e.deviceScreenshot,init:{headers:{"Accept-Encoding":"gzip,deflate"},...n},out:a.Z.buffer,...r})}async fetchWebCapture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{init:n,...r}=t;return await this.fetch({url:"".concat(this.endpoints.capture.api,"/").concat(e),init:{headers:{"Accept-Encoding":"gzip,deflate"},...n},...r})}async _fetchCapture(e,t){if("string"==typeof e)return await this.fetchWebCapture(e,t);let{id:n}=e;return e.deviceScreenshot?await this.fetchScreenshotCapture(e,t):await this.fetchWebCapture(n,t)}sync fetchCaptureWithCaching(e){return await this._fetchCapture(e,{cacheOptions:{store:!0}})}async fetchGuide(e,t){let{preview:n}=t||{},r="".concat(this.endpoints.rest.guide,"/").concat(e),i={};n&&(i={preview:!0,t:Date.now()});let o=await this.fetch({url:r,query:i});return null==o?void 0:o.data}async fetchProject(e,t){let{...n}=t||{},r="".concat(this.endpoints.rest.project,"/").concat(e),i=await this.fetch({url:r,query:{...n}});return i.isPasscodeProtected?i:null==i?void 0:i.data}async staticHashcheck(e,t){let{body:n,contentType:r,base64Encoded:i}=e,o={body:"string"==typeof n?n:JSON.stringify(n),contentType:"string"==typeof r?r:JSON.stringify(r),base64Encoded:!!i},a=await this.staticHashcheckDirect(e,t);return"body"in a?{body:a.body==(0,c.d4)(o.body),contentType:a.contentType===o.contentType,base64Encoded:!!a.base64Encoded===o.base64Encoded,key:a.key}:{body:!1,contentType:!1,base64Encoded:!1}}async staticHashcheckDirect(e,t){let{key:n}=e;return await this.fetch({url:"".concat(this.endpoints.capture.hashcheck,"/").concat(n),method:o.Z.POST,init:{headers:{...(0,c.zl)(t),"ngsw-bypass":""},cache:"no-store"},cacheOptions:{store:!0}})}async uploadCaptureStaticResource(e,t){let n=await this.staticHashcheck(e,t);return n.body&&n.contentType&&n.base64Encoded?{body:e.body,responseHeaders:[["content-type",e.contentType]],status:200,key:n.key,[this.nv_status]:200,[this.nv_ok]:!0}:await this.uploadCaptureStaticResourceDirect(e,t)}async uploadCaptureStaticResourceDirect(e,t){let{body:n,contentType:r,key:i,base64Encoded:a,signal:s}=e,u=await this.fetch({url:"".concat(this.endpoints.capture.resource,"/").concat(i),method:o.Z.POST,init:{headers:{...(0,c.zl)(t),"Content-Type":"application/json","ngsw-bypass":""},body:{body:n,contentType:r,base64Encoded:a,refresh:!0},cache:"no-store",signal:s},cacheOptions:{store:!0}});for(;u.incomplete;)u=await this.fetch({url:"".concat(this.endpoints.capture.resource,"/").concat(i),method:o.Z.POST,init:{headers:{"Content-Type":"application/json","ngsw-bypass":""},body:{body:u.incomplete,contentType:r,base64Encoded:a,refresh:!0,hash:u.hash},cache:"no-store"},cacheOptions:{store:!0,bypassCache:!0}});return u}async createCapture(e){let{title:t,token:n,captureId:r,anchorSelector:i}=e;return await this.fetch({url:this.endpoints.next.capture,method:o.Z.POST,init:{headers:{"Content-Type":"application/json","ngsw-bypass":"",...(0,c.zl)(n)},body:{title:t,captureId:r,anchorSelector:i},cache:"no-store"}})}async uploadCapture(e){let{node:t,captureId:n,screenshot:r,token:i}=e;return this.fetch({url:this.endpoints.capture.capture,method:o.Z.POST,init:{headers:{"Content-Type":"application/json","ngsw-bypass":"",...(0,c.zl)(i)},body:{captureId:n,node:t,screenshot:r},cache:"no-store"}})}async uploadFlowStepImage(e){let{imageData:t,token:n}=e,r=await this.fetch({url:"".concat(this.endpoints.capture.flowStepImageUpload),method:o.Z.POST,init:{headers:{"Content-Type":"image/jpeg",...(0,c.zl)(n)},body:t,cache:"no-store"}});return!0!==r[this.nv_ok]&&console.warn("Flow step screenshot saving failed"),r}async saveCapture(e){let{title:t,...n}=e,i=(0,r.D)(),o=await this.uploadCapture({...n,captureId:i});if((null==o?void 0:o.ok)!==!0)return console.warn("Capture creation failed"),{ok:!1,result:o,captureId:void 0};let a=await this.createCapture({...n,title:t,captureId:i});return a&&a[this.nv_ok]&&!1!==a.ok?{ok:!0,result:o,captureId:i}:(console.warn("DB entry creation failed"),{ok:!1})}async updateWebCapture(e){let{token:t,node:n}=e;return await this.fetch({url:this.endpoints.capture.update,method:o.Z.POST,init:{headers:{"Content-Type":"application/json",...(0,c.zl)(t)},body:{node:n},cache:"no-store"}})}async duplicateCapture(e){let{token:t,...n}=e;return this.duplicateCaptures({ids:[n],token:t})}async duplicateCaptures(e){let{ids:t,token:n}=e;return await this.fetch({url:this.endpoints.capture.duplicate,method:o.Z.POST,init:{headers:{"Content-Type":"application/json",...(0,c.zl)(n)},body:{ids:t},cache:"no-store"}})}async externalDownload(e){var t,n;try{return await this.fetch({...e,init:{credentials:"include",...null!==(t=e.init)&&void 0!==t?t:{}}})}catch(t){return await this.fetch({...e,init:{credentials:"include",...null!==(n=e.init)&&void 0!==n?n:{},cache:"no-cache"}})}}constructor(e){super({...e,endpoints:p})}};let g=NavatticAPI.default();var f=g},98751:function(e,t,n){n.d(t,{Ds:function(){return debounce},SJ:function(){return findSerializedNode},SS:function(){return hash62},T9:function(){return findStyleSheetNodes},Xm:function(){return b64UrlEncode},_T:function(){return domDfs},_X:function(){return dfs},d4:function(){return cyrb53},kd:function(){return parseIntWithFallback},mB:function(){return parseQuery},oO:function(){return SingleUse},pH:function(){return maybeApply},qU:function(){return hasDisplay},vF:function(){return b64UrlDecode},zl:function(){return authHeader}}),n(49933),n(3583);var r=n(48893),i=n(83615),o=n(20851);function cyrb53(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=3735928559^t,r=1103547991^t;for(let t=0,i;t<e.length;t++)n=Math.imul(n^(i=e.charCodeAt(t)),2654435761),r=Math.imul(r^i,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&(r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909)))+(n>>>0)}let a=Math.log10(62),s={_0:BigInt(0),_8:BigInt(8),_62:BigInt(62),_256:BigInt(256)},hash62=(e,t)=>(function(e){let t=e&&1!==Math.abs(e)?Math.ceil(Math.log10(Math.abs(e)+1)/a):1,n=new Uint8Array(t),r=BigInt(e);for(;r>s._0;)n[--t]=Number(r%s._62),r/=s._62;return[...n].map(.join("")})(cyrb53(e,t)),parseIntWithFallback=(e,t)=>{if("number"==typeof e)return isNaN(e)?t:e;let n=parseInt(e);return isNaN(n)?t:n},prepForB64Decode=e=>{let t=e.replace(/-/g,"+").replace(/_/g,"/");return pad64(t)},pad64=e=>{let t=e.length%4;switch(t){case 0:return e;case 2:return e+"==";case 3:return e+"=";default:throw Error("InvalidLengthError: Input base64url string is the wrong length to determine padding")}};function b64UrlDecode(e){let t=prepForB64Decode(e),n=atob(t);return decodeUnicode(n)}function b64UrlEncode(e){let t=encodeUnicode(decodeURIComponent(e)),n=btoa(t);return n.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}let encodeUnicode=e=>encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,,c=/[^A-Za-z0-9\-_.!~*'()]/g,decodeUnicode=e=>decodeURIComponent(e.replace(c,(e,t,n)=>{let r=n.charCodeAt(t);return"%".concat(r.toString(16).toUpperCase())}));function authHeader(e){return e?{Authorization:"Bearer ".concat(e)}:{}}let SingleUse=class SingleUse{function maybeApply(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)return e(...n)}let parseQuery=e=>{let t={},n=("?"===e[0]?e.substring(1):e).split("&");for(let e=0;e<n.length;e++){let r=n[e].split("="),[i,o]=r;t[decodeURIComponent(i)]=decodeURIComponent(o||"")}return t};function findSerializedNode(e,t){if(!e)return;if("number"==typeof t){let e=t;t=let n=[e];for(;n.length;){let e=n.pop();if(t(e))return e;(0,i.hQ)(e)&&n.push(...e.childNodes)}}function debounce(e,t,n){let i=null;return function(){for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];let u=n&&!i;return u?e(...s):new r.n((n,r)=>{(0,o.Rw)(i)||clearTimeout(i),i=setTimeout(()=>{try{i=null,n(e(...s))}catch(e){r(e)}},t)})}}function hasDisplay(){let e=document.getElementById("app");return(null==e?void 0:e.offsetParent)!==null}let dfs=e=>{let{node:t,visit:n,skipRecursion:r}=e,i=[t],o=[];for(;i.length>0;){let e=i.pop();if(e.childNodes&&!(r&&r(e))){let t=[...e.childNodes];Array.prototype.push.apply(i,t.reverse())}let t=n(e);o.push(t)}return o},domDfs=e=>{let{node:t,visit:n,skipRecursion:r}=e,i=[t],o=[];for(;i.length>0;){let e=i.pop();if(!(r&&r(e))){if(e.childNodes){let t=[...e.childNodes];Array.prototype.push.apply(i,t.reverse())}if(e.shadowRoot){let t=[...e.shadowRoot.childNodes];Array.prototype.push.apply(i,t.reverse())}if(e.contentWindow)try{let t=e.contentDocument;if(t){let e=[...t.childNodes];Array.prototype.push.apply(i,e.reverse())}}catch(e){}}let t=n(e);o.push(t)}return o};function findStyleSheetNodes(e,t){e&&(0,i.hQ)(e)&&e.childNodes.length&&function traverseFullNode(e,t){if(t(e),(0,i.hQ)(e))for(let n in e.childNodes)traverseFullNode(e.childNodes[n],t);if(e.childDocuments)for(let n in e.childDocuments)traverseFullNode(e.childDocuments[n],t)}(e,}},49933:function(e,t,n){let r;n.d(t,{f:function(){return c}});var i=n(89370),o=n(20851);let a=Symbol("nv_global"),tryKey=(e,t)=>{let n;try{n=e[t]}catch(e){}return n};var s=n(34406);function getNativeWindow(e){var t,n;if(globalThis[i.gg]){if(!0===globalThis[i.gg][a])return globalThis[i.gg];globalThis[i.gg]=void 0}return void 0===e?globalThis.window||globalThis:(null==e?void 0:null===(t=e.document)||void 0===t?void 0:t.body)?(null===(n=e.frameElement)||void 0===n?void 0:n.id)==="nv-native-window-iframe"?e.parent===e?e:getNativeWindow(e.parent):(globalThis[i.gg]=function(e){let t=e.document.getElementById("nv-native-window-iframe"),n=t||e.document.createElement("iframe");t||(n.id="nv-native-window-iframe",n.style.display="none",n.setAttribute("sandbox","allow-same-origin"),e.document.body.appendChild(n));let r=n.contentWindow,i=Object.getOwnPropertyNames(r).map(e=>{let t=tryKey(r,e),n=t&&Object.getPrototypeOf(t);return n&&(0,o.QC)(n)?[e,t]:[e,void 0]}).filter(;i.push(["JSON",r.JSON],["Math",r.Math],["Atomics",r.Atomics],["Infinity",r.Infinity],["NaN",r.NaN],["undefined",r.undefined],["console",r.console],["setTimeout",r.setTimeout.bind(e)],["clearTimeout",r.clearTimeout.bind(e)],["setInterval",r.setInterval.bind(e)],["clearInterval",r.clearInterval.bind(e)],[a,!0]);let s=Object.fromEntries(i);return n.remove(),s}(e),globalThis[i.gg]||globalThis):e}let c=getNativeWindow(globalThis.window);r=100,function _getNative(){void 0===s&&c===globalThis&&0<r--&&(c=getNativeWindow(globalThis.window),setTimeout(_getNative,100))}()},3583:52157:function(e,t,n){n.d(t,{z:function(){return AsyncQueue}});var r=n(113);let AsyncQueue=class AsyncQueue{async run(){if(!this.isRunning||!this.queue.length||this.workers&&this.activeWorkers>=this.workers)return;++this.activeWorkers;let e=this.queue.dequeue();try{await e()}catch(e){}finally{--this.activeWorkers,this.queue.length&&this.run()}}start(){this.isRunning=!0;let e=Math.min(this.workers-this.activeWorkers,this.queue.length);for(let t=0;t<e;++t)this.run()}nqueue(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.lifetimeLength+=t.length;let r=[];for(let e of t)r.push(new Promise((t,n)=>{this.queue.enqueue(async()=>{try{let n=await e();t(n)}catch(e){n(e)}}),this.run()}));return 1===r.length?r[0]:r}et length(){return this.queue.length}constructor({init:e,workers:t=1,startImmediately:n=!0}){this.activeWorkers=0,this.isRunning=!1,this.queue=new r.c(e),this.lifetimeLength=this.queue.length,this.workers=t,n&&this.start()}}},113:function(e,t,n){n.d(t,{c:function(){return Queue}});let Queue=class Queue{resize(){this.queue=this.queue.slice(this.pointer),this.pointer=0}resizeIfNeeded(){this.pointer>10&&this.pointer>this.queue.length/2&&this.resize()}enqueue(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.resizeIfNeeded(),Array.prototype.push.apply(this.queue,t),this}dequeue(){if(this.pointer>=this.queue.length){this.resizeIfNeeded();return}return this.queue[this.pointer++]}ain(){let e=this.queue;return this.queue=[],this.pointer=0,e}*exhaust(){for(;this.pointer<this.queue.length;)yield this.dequeue();this.resize()}Symbol.iterator](){let e=this.queue.length;for(let t=this.pointer;t<e;t++)yield this.queue[t]}constructor(e){this.queue=[],this.pointer=0,e&&(this.queue=[...e])}}},83615:function(e,t,n){n.d(t,{Fc:function(){return isSerializedElement},bZ:function(){return isSerializedDocument},hK:function(){return isStyleSheetNode},hQ:function(){return isSerializedParent},hg:function(){return isSerializedInlinedStyle}});var r=n(89370);function isSerializedDocument(e){return e.type===r.Jq.Document}nction isStyleSheetNode(e){var t,n;return e.type===r.Jq.Element&&(null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())==="link"&&!!e.attributes.href&&"string"==typeof e.attributes.rel&&(null===(n=e.attributes.rel)||void 0===n?void 0:n.toLowerCase())==="stylesheet"}function isSerializedInlinedStyle(e){return e.type===r.Jq.Element&&"style"===e.tagName&&"string"==typeof e.attributes._cssText}},83408:function(e,t,n){let r,i;n.d(t,{SW:function(){return createControlledLogger},hu:function(){return createLogger}});var o=n(15628);function createLogger(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["debug:navattic"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.console,n={enabled:("string"==typeof e?[e]:e).some(e=>!!o.MT.getItem(e)||!!o.rV.getItem(e))},r=createControlledLogger(n,t);return r}function createControlledLogger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.console,n=new Proxy(t,{get:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let[i,o]=n,s=i[o];return"function"==typeof s?e.enabled?s.bind(i):()=>{}:o in a?s}});return n}let a={__proto__:null,assert:!0,clear:!0,count:!0,countReset:!0,debug:!0,dir:!0,dirxml:!0,error:!0,group:!0,groupCollapsed:!0,groupEnd:!0,info:!0,log:!0,table:!0,time:!0,timeEnd:!0,timeLog:!0,timeStamp:!0,trace:!0,warn:!0};try{r=localStorage.getItem("debug:navattic")}catch(e){}let s=customLog("log");function customLog(e){return function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];if(r){let n=performance.now(),r=i?Math.round(n-i):0;i=n,console[e]("%c".concat(t," %c+").concat(r,"ms"),"","color:#1890ff;",...o)}}}s.warn=customLog("warn"),s.error=customLog("error"),s.group=customLog("group"),s.groupCollapsed=customLog("groupCollapsed"),s.groupEnd=t.ZP=s},15628:function(e,t,n){var r,i;let o,a;n.d(t,{MT:function(){return c},rV:function(){return u},tO:);let StorageShim=class StorageShim{dispatchStorageEvent(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.defaultView)return;let{key:r=null,oldValue:i=null,newValue:o=null,bubbles:a,cancelable:s,composed:c}=n,u={key:r,oldValue:i,newValue:o,url:null!==(t=null===(e=this.defaultView.location)||void 0===e?void 0:e.href)&&void 0!==t?t:null,bubbles:a,cancelable:s,composed:c};this.defaultView.dispatchEvent(new StorageEvent("storage",u))}lear(){this.storage.clear(),this.keys.splice(0,this.keys.length),this.dispatchStorageEvent()}eyemoveItem(e){if(!this.storage.has(e))return;let t=this.storage.get(e);this.storage.delete(e);let n=this.keys.indexOf(e);n>-1&&this.keys.splice(n,1),this.dispatchStorageEvent({key:e,oldValue:t})}setItem(e,t){let n=!this.storage.has(e),r=this.getItem(e);this.storage.set(e,t),n&&this.keys.push(e),this.dispatchStorageEvent({key:e,oldValue:r,newValue:t})}constructor(e){this.storage=new Map,this.keys=[],this[o]=StorageShim,this[a]="Storage",this.defaultView=e}};o=Symbol.species,a=Symbol.toStringTag,(i=r||(r={}))[i.LOCAL=0]="LOCAL",i[i.SESSION=1]="SESSION";let getStoreType=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.window;if(!t){if(void 0===globalThis.window)return;t=globalThis.window}let n="__nv_proxy_storage_".concat(r[e]),i=t[n];if(i)return i;try{let r=1==e?t.sessionStorage:t.localStorage;if(!r)throw Error();return t[n]=r,r}catch(i){let e=new StorageShim(t),r=new Proxy(e,{get:(e,t)=>t in e?e[t]:e.getItem(String(t)),has:(e,t)=>t in e||null!==e.getItem(String(t)),set:(e,t,n)=>!(t in e)&&"object"!=typeof n&&"function"!=typeof n&&(e.setItem(String(t),String(n)),!0)});return t[n]=r,r}},makeNvStorage=e=>{let t={PREFIX:"__NAVATTIC_FLOW__",localStorage:getStoreType(0,e),sessionStorage:getStoreType(1,e)};return t},s=function(e){let t=makeNvStorage(e),getStore=get=(e,n)=>{let r=getStore(n),i=r.getItem("".concat(t.PREFIX).concat(e));if(!i)return null;try{return JSON.parse(i)}catch(e){return i}},set=(e,n,r)=>{let i=getStore(r);i.setItem("".concat(t.PREFIX).concat(e),JSON.stringify(n))};return{localStorage:t.localStorage,sessionStorage:t.sessionStorage,getCustomerId:()=>get("__CUSTOMER_ID__"),setCustomerId:e=>set("__CUSTOMER_ID__",e),getSessionId:setSessionId:e=>set("__SESSION_ID__",e,"SESSION"),getCompletions:setCompletions:}(globalThis.window),c=s.localStorage?s.localStorage:makeNvStorage(globalThis).localStorage,u=s.sessionStorage?s.sessionStorage:makeNvStorage(globalThis).sessionStorage;Object.defineProperty({length:0,clear:getItem:function(e){var t;return null!==(t=u.getItem(e))&&void 0!==t?t:c.getItem(e)},key:removeItem:setItem:,"length",{get:)}}]);
//# sourceMappingURL=5306-3e8543a04ad9b917.js.map