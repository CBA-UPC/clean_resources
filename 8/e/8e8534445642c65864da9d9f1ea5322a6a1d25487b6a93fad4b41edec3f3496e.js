"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6624],{CjDN:function(e,n,t){t.d(n,{Z:function(){return I}});var i=t("11lP"),a=t("QslU"),r=t("Oz0t"),s=t("V67U"),o=t.n(s),l=t("3Fx5"),c=t("bBVy"),T=t("8pxB"),E=t("uvxJ"),d=t("aysb");function _(e){var n=e.onLogin,t=(0,r.useContext)(c.Z),s=t.i18n,o=t.domain,_=(0,l.tv)(),N=o.get("config").get("AUTHENTICATION").LOGIN_ERROR_TYPES,u=(0,r.useState)(!1),C=u[0],m=u[1],O=(0,r.useState)(null),A=O[0],h=O[1];return(0,a.jsxs)(a.Fragment,{children:[!A&&(0,a.jsx)(d.Z,{isSpaced:!0,isFullWidth:!0,children:(0,a.jsx)(T.Z,{tab:T.G.LOGIN,onChange:function(e){e===T.G.REGISTER&&window.open(s.url("/LINK_REGISTER"),"_self")},onForgotPasswordClick:onLogin:n,onLoginError:function(e){var n=e.errorCode,t=e.email;n!==N.BLOCKED&&n!==N.REVIEW&&n!==N.CHALLENGE||h({error:n,email:t})},onResetPasswordError:function(e){var n=(void 0===e?{}:e).email;h({email:n}),m(!0)},children:function(e){var n=e.tab,t=e.formProps;return(0,a.jsx)(a.Fragment,{children:n===T.G.LOGIN&&(0,a.jsx)(E.Z,(0,i.Z)({},t,{openLinksInNewTab:!1,defaultSessionPersist:!0,isSocialEnabled:!0}))})}})}),(0,a.jsxs)("div",{className:"ma-ContentLogin-error",children:[C&&(0,a.jsx)(T.Z.ResetPassword,{email:null==A?void 0:A.email,onSubmitSuccess:),A&&!C&&(0,a.jsx)(T.Z.ErrorState,{error:A,onClose:)]})]})}_.propTypes={onLogin:o().func.isRequired},_.displayName="ContentLogin";var N=_,u=t("Ab2B"),C=t("op6l"),m=t("U21o"),O="loading",A="content",h="fallback",S=function(e){var n=e.children,t=e.fallback,i=void 0===t?N:t,s=(0,l.tv)(),o=(0,m.C6)(),c=(0,r.useRef)(!1),T=(0,r.useState)(!1),E=T[0],d=T[1],_=(0,r.useState)(O),S=_[0],I=_[1],p=o.isReady,f=o.isAuthenticated,F=o.isLoading,P=S===A&&!f,x=return(0,r.useEffect)((,[]),(0,r.useEffect)((function(){if(p){if(!F)return c.current?void(f?I(A):s.push("/")):(I(f?A:h),void(c.current=!0));I(O)}}),[s,F,p,f]),!E||P?null:(0,a.jsxs)(u.Z,{isLoading:S===O,hideContentWhileLoading:!0,children:[(0,a.jsx)(C.Z,{value:S===A,children:function(){return n(o)}}),(0,a.jsx)(C.Z,{value:S===h,children:)]})};function I(e,n){return function(t){return(0,a.jsx)(S,{fallback:n,children:function(n){return(0,a.jsx)(e,(0,i.Z)({},n,t))}})}}S.propTypes={children:o().func,fallback:o().node}},"9Y+p":function(e,n,t){t.d(n,{Z:function(){return s}});var i=t("QslU"),a=(t("Oz0t"),t("V67U")),r=t.n(a);.displayName="LayoutFullHeight",s.propTypes={children:r().node}},IBpw:function(e,n,t){var i=t("11lP"),a=t("dLhX"),r=t("QslU"),s=t("Oz0t"),o=t("V67U"),l=t.n(o),c=t("bBVy"),T=t("r4X9"),E=t("3Fx5"),d=function(e){var n=e.seoDefinition,t=void 0===n?{}:n,o=(0,s.useContext)(c.Z),l=o.i18n,d=o.domain,_=(0,E.TH)(),N=""+d.get("config").get("BASE_IMAGES_URL_STATICS"),u=d.get("config").get("CURRENT_ENV_HOST");if(t&&Object.keys(t).length){var C=t.title,m=void 0===C?"HOME_SEO_TITLE":C,O=t.meta,A=void 0===O?[]:O,h=t.link,S=void 0===h?[]:h,I=A.find((),p=""+u+_.pathname,f=N+"/images/icons/icon-square-192x192.ff91f9a5f0.png";return(0,r.jsxs)(T.Z,{children:[(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,r.jsx)("title",{children:l.t(m)}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:title",content:l.t(m)}),(0,r.jsx)("meta",{property:"og:url",content:p}),(0,r.jsx)("meta",{property:"og:image",content:f}),I&&(0,r.jsx)("meta",{property:"og:description",content:l.t(I.content)}),A.map((function(e){return(0,r.jsx)("meta",{name:e.name,property:e.property,content:l.t(e.content)},e.name)})),S.map((function(e){return(0,r.jsx)("link",(0,i.Z)({},(t=(n=e).name,s=n.content,o=(0,a.Z)(n,["name","content"]),(0,i.Z)({rel:t,href:s,key:t},o))));var n,t,s,o}))]})}return null};d.displayName="SeoHeadTags",d.propTypes={seoDefinition:l().object},n.Z=d},aysb:function(e,n,t){t.d(n,{Z:function(){return E}});var i=t("11lP"),a=t("dLhX"),r=t("QslU"),s=(t("Oz0t"),t("7aI0")),o=t.n(s),l=t("V67U"),c=t.n(l),T="ma-SharedBox";function E(e){var n,t=e.isSpaced,s=e.isFullWidth,l=(0,a.Z)(e,["isSpaced","isFullWidth"]),c=o()(T,((n={})[T+"--spaced"]=t,n[T+"--full-width"]=s,n));return(0,r.jsx)("div",(0,i.Z)({className:c},l))}E.displayName="SharedBox",E.propTypes={isSpaced:c().bool,isFullWidth:c().bool}},"5+Eg":function(e,n,t){var i=t("QslU"),a=(t("Oz0t"),t("7aI0")),r=t.n(a),s=t("V67U"),o=t.n(s),l=t("XErn"),c=t("op6l"),T="ma-SharedEmptyState",E=(0,i.jsx)("img",{src:"https://scm-milanuncios-frontend-pro.milanuncios.com/statics/images/search/no-results.svg",alt:""}),d=function(e){var n,t=e.icon,a=void 0===t?E:t,s=e.title,o=e.textList,d=void 0===o?[]:o,_=e.descriptions,N=void 0===_?[]:_,u=e.cta,C=e.children,m=e.isHorizontal,O=r()(T,((n={})[T+"--horizontal"]=m,n)),A=function(e){var n;return r()(T+"-"+e,((n={})[T+"-"+e+"--horizontal"]=m,n))};return(0,i.jsxs)("div",{className:O,children:[(0,i.jsx)("div",{className:A("img"),children:a}),(0,i.jsxs)("div",{className:A("body"),children:[(0,i.jsx)(c.Z,{value:s,children:function(){return(0,i.jsx)("h2",{className:A("title"),children:s})}}),(0,i.jsx)(c.Z,{value:N,children:function(){return N.map((function(e,n){return(0,i.jsx)(l.ZP,{align:l.ZP.alignTypes.center,color:l.ZP.colorTypes.gray,fontWeight:l.ZP.fontWeightTypes.regular,size:l.ZP.sizeTypes.m,className:A("description"),dangerouslySetInnerHTML:{__html:e}},e+"-"+n)}))}}),(0,i.jsx)(c.Z,{value:d,children:function(){return(0,i.jsx)("ul",{className:T+"-text-list",children:d.map((function(e,n){return(0,i.jsx)("li",{className:T+"-item",children:e},e+"-"+n)}))})}}),C,(0,i.jsx)(c.Z,{value:u,children:function(){return(0,i.jsx)("div",{className:A("cta"),children:u},u)}})]})]})};d.displayName="SharedEmptyState",d.propTypes={icon:o().node,title:o().string,descriptions:o().array,textList:o().array,cta:o().node,isHorizontal:o().bool,children:o().node},n.Z=d},Ab2B:function(e,n,t){var i=t("QslU"),a=(t("Oz0t"),t("7aI0")),r=t.n(a),s=t("V67U"),o=t.n(s),l=t("jrL8"),c=function(e){var n,t,a=e.isLoading,s=e.isAnimated,o=e.hideContentWhileLoading,l=e.children,c=e.loaderFactory,T="ma-SharedLoadingContent",E=r()(((n={})[T+"-spinnerContainer"]=!0,n[T+"-spinnerContainer--isAnimated"]=s,n)),d=r()(((t={})[T+"-veil"]=!0,t[T+"-veil--opaque"]=o,t));return(0,i.jsxs)("div",{className:T,children:[l,a&&(0,i.jsx)("div",{className:d,children:(0,i.jsx)("span",{className:E,children:(0,i.jsx)(c,{})})})]})};c.displayName="SharedLoadingContent",c.propTypes={isLoading:o().bool,isAnimated:o().bool,hideContentWhileLoading:o().bool,children:o().node,loaderFactory:o().func},c.defaultProps={isAnimated:!0,loaderFactory:hideContentWhileLoading:!1},n.Z=c},jrL8:function(e,n,t){t.d(n,{E:function(){return c}});var i=t("QslU"),a=(t("Oz0t"),t("7aI0")),r=t.n(a),s=t("V67U"),o=t.n(s),l="ma-SharedSpinner",c={M:"m",L:"l",XL:"xl"},T=function(e){var n,t=e.className,a=e.size,s=void 0===a?c.L:a,o=e.isOverlay,T=e.isTight,E=r()(l,t,((n={})[l+"--"+s]=!0,n[l+"--overlay"]=o,n[l+"--tight"]=T,n));return(0,i.jsx)("span",{className:E})};T.displayName="SharedSpinner",T.propTypes={className:o().string,size:o().oneOf(Object.values(c)),isOverlay:o().bool,isTight:o().bool},n.Z=T},hZ0g:function(e,n,t){t.r(n),t.d(n,{default:);var i=t("Tim7"),a=t("jbFD"),r=t.n(a),s=t("Oz0t"),o=t("beVP"),l=t("11lP"),c=t("dLhX"),T=t("2GZr"),E=t("QslU"),d=t("7aI0"),_=t.n(d),N=t("FhAj"),u=t("bPwt"),C=t("bBVy"),m=t("qBGi"),O=t("UPEt"),A=t("V67U"),h=t.n(A),S=t("5+Eg"),I="ma-EmptyPaymentList",p=function(e){var n=e.onClickConfirm,t=(0,s.useContext)(C.Z).i18n,i=(0,E.jsx)("img",{src:"https://scm-milanuncios-frontend-pro.milanuncios.com/statics/images/backoffice/search-image.d481887ee7.svg",alt:t.t("CONTENT_BACKOFFICE_PAYMENTS_EMPTY_RESULT_TITLE")});return(0,E.jsx)("div",{className:I,children:(0,E.jsx)(S.Z,{title:t.t("CONTENT_BACKOFFICE_PAYMENTS_EMPTY_RESULT_TITLE"),descriptions:[t.t("CONTENT_BACKOFFICE_PAYMENTS_EMPTY_RESULT_SUBTITLE")],textList:[t.t("CONTENT_BACKOFFICE_PAYMENTS_EMPTY_RESULT_TEXT_1"),t.t("CONTENT_BACKOFFICE_PAYMENTS_EMPTY_RESULT_TEXT_2"),t.t("CONTENT_BACKOFFICE_PAYMENTS_EMPTY_RESULT_TEXT_3"),t.t("CONTENT_BACKOFFICE_PAYMENTS_EMPTY_RESULT_TEXT_4")],icon:i,cta:(0,E.jsx)("div",{className:I+"-button",children:(0,E.jsx)(N.ZP,{onClick:color:"primary",children:t.t("CONTENT_BACKOFFICE_PAYMENTS_EMPTY_RESULT_BUTTON")})}),isHorizontal:!0})})};p.displayName="EmptyPaymentList",p.propTypes={onClickConfirm:h().func};var f=p,F=t("WrYh"),P=t("AKq/"),x=t("6M7e"),g=t("qkFZ"),v=t("Z2hT"),R=t("HUch"),j="ma-PaymentForm",B=function(e){var n=e.onSubmit,t=e.onCleanFilters,i=(0,s.useContext)(C.Z),a=i.i18n,r=i.domain.get("config").get("PAYMENT_BACKWEB").PAYMENT_CONSTANTS.TECHNOLOGY_LIST,d={userId:"",amount:"",greaterThanDate:"",lowerThanDate:"",orderId:"",technology:r.PLAY_STORE},u=(0,s.useState)(d),m=u[0],O=u[1];(0,F.Z)(();var A=(0,o.Z)((function(e){return(0,T.__generator)(this,(function(n){return e.preventDefault(),h({form:m,submitted:!0}),[2]}))})),h=function(e){var t=e.form,i=e.submitted,a=void 0!==i&&i,r=t.amount,s=t.greaterThanDate,o=t.lowerThanDate,T=(0,c.Z)(t,["amount","greaterThanDate","lowerThanDate"]);n({submitted:a,form:(0,l.Z)({},T,{amount:100*Number(r),greaterThanDate:t.greaterThanDate&&S({date:s}),lowerThanDate:t.lowerThanDate&&S({date:o})})})},S=function(e){var n=e.date,t=new Date(n),i=6e4*t.getTimezoneOffset(),a=t.getTime()+i;return isNaN(a)?n:new Date(a).toISOString()},I=function(e){var n=e.target,t=n.name,i=n.value;O((function(e){var n;return(0,l.Z)({},e,((n={})[t]=i,n))}))},p=f=function(e){var n,t=e.value;return _()(j+"-icon-clear",((n={})[j+"-icon-clear--hidden"]=!t,n))},B=function(e){return O((function(n){var t;return(0,l.Z)({},n,((t={})[e]="",t))}))};return(0,E.jsxs)("div",{className:j,children:[(0,E.jsx)("h1",{className:j+"-title",children:a.t("CONTENT_BACKOFFICE_PAYMENTS_SEARCHER_TITLE")}),(0,E.jsxs)("form",{onSubmit:A,className:j+"-content",children:[(0,E.jsxs)("div",{className:j+"-row",children:[(0,E.jsx)("div",{className:j+"-input",children:(0,E.jsxs)(P.Z,{fullWidth:!0,label:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_LABEL_TECHNOLOGY"),children:[(0,E.jsx)(N.ZP,{isButton:!0,name:"technology",value:r.PLAY_STORE,design:p(r.PLAY_STORE)?"solid":"outline",onClick:I,children:a.t("CONTENT_BACKOFFICE_PAYMENTS_TECHNOLOGY_LABEL_ANDROID")}),(0,E.jsx)(N.ZP,{isButton:!0,name:"technology",value:r.APP_STORE,design:p(r.APP_STORE)?"solid":"outline",onClick:I,children:a.t("CONTENT_BACKOFFICE_PAYMENTS_TECHNOLOGY_LABEL_IOS")}),(0,E.jsx)(N.ZP,{isButton:!0,name:"technology",value:r.ADYEN,design:p(r.ADYEN)?"solid":"outline",onClick:I,children:a.t("CONTENT_BACKOFFICE_PAYMENTS_TECHNOLOGY_LABEL_WEB")}),(0,E.jsx)(N.ZP,{isButton:!0,name:"technology",value:r.BANK_TRANSFER,design:p(r.BANK_TRANSFER)?"solid":"outline",onClick:I,children:a.t("CONTENT_BACKOFFICE_PAYMENTS_TECHNOLOGY_LABEL_BANK_TRANSFER")})]})}),(0,E.jsx)("div",{className:j+"-input",children:(0,E.jsx)(x.Z,{tabIndex:"0",onChange:I,name:"userId",value:m.userId,type:"text",label:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_LABEL_USER"),placeholder:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_PLACEHOLDER_USER"),rightIcon:(0,E.jsx)(g.Z,{className:f({value:m.userId})}),onClickRightIcon:function(){return B("userId")}})})]}),(0,E.jsxs)("div",{className:j+"-row",children:[(0,E.jsx)("div",{className:j+"-input",children:(0,E.jsx)(x.Z,{tabIndex:"0",onChange:I,name:"orderId",value:m.orderId,type:"text",label:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_LABEL_ORDER"),placeholder:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_PLACEHOLDER_ORDER"),rightIcon:(0,E.jsx)(g.Z,{className:f({value:m.orderId})}),onClickRightIcon:function(){return B("orderId")}})}),(0,E.jsx)("div",{className:j+"-input",children:(0,E.jsx)(x.Z,{tabIndex:"0",onChange:I,name:"amount",value:m.amount,type:"number",step:"0.01",min:"0",pattern:"\\d+(,\\d{2})?",label:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_LABEL_AMOUNT"),rightIcon:(0,E.jsx)(g.Z,{className:f({value:m.amount})}),placeholder:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_PLACEHOLDER_AMOUNT"),onClickRightIcon:function(){return B("amount")}})})]}),(0,E.jsxs)("div",{className:j+"-row",children:[(0,E.jsx)("div",{className:j+"-input",children:(0,E.jsx)(x.Z,{tabIndex:"0",onChange:I,name:"greaterThanDate",value:m.greaterThanDate,charsSize:10,type:"date",label:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_LABEL_GRETAER_THAN_DATE"),placeholder:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_PLACEHOLDER_GREATER_THAN_DATE"),rightIcon:(0,E.jsx)(g.Z,{className:f({value:m.greaterThanDate})}),onClickRightIcon:function(){return B("greaterThanDate")}})}),(0,E.jsx)("div",{className:j+"-input",children:(0,E.jsx)(x.Z,{tabIndex:"0",onChange:I,name:"lowerThanDate",value:m.lowerThanDate,charsSize:10,type:"date",label:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_LABEL_LOWER_THAN_DATE"),placeholder:a.t("CONTENT_BACKOFFICE_PAYMENTS_INPUT_PLACEHOLDER_LOWER_THAN_DATE"),rightIcon:(0,E.jsx)(g.Z,{className:f({value:m.lowerThanDate})}),onClickRightIcon:function(){return B("lowerThanDate")}})})]}),(0,E.jsxs)("div",{className:j+"-submit",children:[function(e){var n=!1;for(var t in e)"technology"!==t&&e[t]&&(n=!0);return n}(m)&&(0,E.jsx)("div",{className:j+"-button-filter",children:(0,E.jsx)(N.ZP,{color:"primary",design:"flat",isButton:!0,leftIcon:(0,E.jsx)(v.Z,{className:j+"-icon-close"}),onClick:function(){O((0,l.Z)({},d,{technology:m.technology})),t()},children:a.t("CONTENT_BACKOFFICE_PAYMENTS_BUTTON_CLEAN_FILTER")})}),(0,E.jsx)("div",{className:j+"-button-search",children:(0,E.jsx)(N.ZP,{fullWidth:!0,color:"primary",isSubmit:!0,leftIcon:(0,E.jsx)(R.Z,{className:j+"-icon-search"}),children:a.t("CONTENT_BACKOFFICE_PAYMENTS_BUTTON_SEARCH")})})]})]})]})};B.displayName="PaymentForm",B.propTypes={onSubmit:h().func,onCleanFilters:h().func};var L=B,y=t("gMkK"),b=t("F1bt"),D=t("WSs1"),Z=t("LbQi"),M=t("qTYZ"),Y=t("lWXS"),U=t("LF2G"),K=t("UT5F"),k=t("VG2F");function w(e){var n=e.payment,t=e.onClose,i=(0,c.Z)(e,["payment","onClose"]),a=(0,C.r)(),r=a.i18n,o=a.domain,T=(0,k.e)().add,d=(0,s.useState)({tokenReceipt:"",transactionId:"",productId:"",userId:n.userId,purchaseId:n.orderId}),_=d[0],u=d[1],m=(0,U.Z)((,{onSuccess:function(){t(),window.location.reload(),T({content:r.t("CONTENT_BACKOFFICE_PAYMENTS_REDEEMED_MESSAGE"),type:"success"})},onError:function(){T({content:r.t("SAVED_SEARCH_GENERIC_ERROR_TITLE"),type:"error"})}}),O=m[0],A=m[1].isLoading,h=_.tokenReceipt&&_.transactionId&&_.productId&&_.purchaseId,S=function(e){var n=(0,l.Z)({},_);n[e.target.name]=e.target.value,u(n)};return(0,E.jsxs)(K.Z,(0,l.Z)({size:"medium",isResponsive:!0,isContentless:!0,onClose:t},i,{children:[(0,E.jsx)(K.Z.Content,{children:(0,E.jsxs)("div",{className:"ma-RedeemPaymentModal",children:[(0,E.jsx)(x.Z,{type:"text",name:"userId",placeholder:"ID Usuario: "+(null==n?void 0:n.userId),disabled:!0}),(0,E.jsx)(x.Z,{type:"text",name:"productId",placeholder:r.t("CONTENT_BACKOFFICE_PAYMENTS_REDEEM_FORM_1"),onChange:S}),(0,E.jsx)(x.Z,{type:"text",name:"tokenReceipt",placeholder:r.t("CONTENT_BACKOFFICE_PAYMENTS_REDEEM_FORM_2"),onChange:S}),(0,E.jsx)(x.Z,{type:"text",name:"transactionId",placeholder:r.t("CONTENT_BACKOFFICE_PAYMENTS_REDEEM_FORM_3"),onChange:S}),(0,E.jsx)(x.Z,{type:"text",name:"purchaseId",placeholder:"ID Transacción: "+(null==n?void 0:n.orderId),disabled:!0})]})}),(0,E.jsx)(K.Z.Footer,{children:(0,E.jsx)(K.Z.FooterActions,{isFullWidth:!0,children:(0,E.jsx)(N.ZP,{design:"solid",disabled:!h,onClick:O,isLoading:A,children:r.t("CONTENT_BACKOFFICE_PAYMENTS_BUTTON_REDEEM")})})})]}))}w.displayName="RedeemPaymentModal",w.propTypes=(0,l.Z)({ad:h().object.isRequired},K.Z.propTypes);var G=t("WfER"),H=t("op6l"),W="ma-RefundPaymentModal",z=function(e){var n=e.orderId,t=e.onClose,i=e.onSuccess,a=(0,s.useContext)(C.Z),r=a.i18n,l=a.domain,c=(0,s.useState)({}),d=c[0],_=c[1],u=!!n,m=(0,o.Z)((function(){var e,t;return(0,T.__generator)(this,(function(a){switch(a.label){case 0:return[4,l.get("refund_payments_payment_backweb_use_case").execute({orderId:n})];case 1:return e=a.sent(),(t=e[0])?O(t):i(),[2]}}))})),O=function(e){var n=l.get("config").get("PAYMENT_BACKWEB").ERRORS.InvalidProfessionalUserRefundPaymentPaymentBackwebError;_(e instanceof n?{title:r.t("CONTENT_BACKOFFICE_PAYMENTS_REFUND_PROFESSIONAL_ERROR_TITLE"),description:r.t("CONTENT_BACKOFFICE_PAYMENTS_REFUND_PROFESSIONAL_ERROR_DESCRIPTION")}:{title:r.t("CONTENT_BACKOFFICE_PAYMENTS_REFUND_GENERIC_ERROR_TITLE"),description:r.t("CONTENT_BACKOFFICE_PAYMENTS_REFUND_GENERIC_ERROR_DESCRIPTION")})},A;return(0,E.jsx)(G.ZP,{isOpen:u,onClose:A,closeOnOutsideClick:!0,iconClose:(0,E.jsx)(v.Z,{}),withoutIndentation:!0,children:(0,E.jsxs)("div",{className:W,children:[(0,E.jsx)(H.Z,{value:!d.title,children:function(){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:W+"-title",children:r.t("CONTENT_BACKOFFICE_PAYMENTS_REFUND_SUCCESS_TITLE")}),(0,E.jsx)("div",{className:W+"-description",children:r.t("CONTENT_BACKOFFICE_PAYMENTS_REFUND_SUCCESS_DESCRIPTION")}),(0,E.jsxs)("div",{className:W+"-buttons",children:[(0,E.jsx)(N.ZP,{color:"primary",design:"flat",onClick:t,children:r.t("CONTENT_BACKOFFICE_PAYMENTS_BUTTON_CANCEL")}),(0,E.jsx)(N.ZP,{color:"primary",onClick:m,children:r.t("CONTENT_BACKOFFICE_PAYMENTS_BUTTON_CONFIRM_REFUND")})]})]})}}),(0,E.jsx)(H.Z,{value:d.title,children:function(){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:W+"-title",children:d.title}),(0,E.jsx)("div",{className:W+"-description",children:null==d?void 0:d.description}),(0,E.jsx)("div",{className:W+"-buttons",children:(0,E.jsx)(N.ZP,{color:"primary",onClick:A,children:r.t("CONTENT_BACKOFFICE_PAYMENTS_BUTTON_CONFIRM")})})]})}})]})})};z.displayName="RefundPaymentModal",z.propTypes={orderId:h().string,onClose:h().func,onSuccess:h().func};var V=z,X="ma-PaymentList",Q=function(e){var n,t=e.payments,i=void 0===t?[]:t,a=e.onRefund,r=e.showNotification,o=(0,s.useContext)(C.Z),l=o.i18n,c=o.domain,T=c.get("config").get("ADYEN_URL"),d=c.get("config").get("PAYMENT_BACKWEB").PAYMENT_CONSTANTS,_=d.STATUS_LIST,u=d.TECHNOLOGY_LIST,m=(0,s.useState)(""),O=m[0],A=m[1],h=(0,s.useState)(""),S=h[0],I=h[1],p=function(){return I("")},f=((n={})[_.INVOICED]={className:X+"-invoiced",label:"CONTENT_BACKOFFICE_PAYMENTS_STATUS_INVOICED",tooltip:"CONTENT_BACKOFFICE_PAYMENTS_TOOLTIP_STATUS_INVOICED"},n[_.SUCCESS]={className:X+"-success",label:"CONTENT_BACKOFFICE_PAYMENTS_STATUS_SUCCESS",tooltip:"CONTENT_BACKOFFICE_PAYMENTS_TOOLTIP_STATUS_SUCCESS"},n[_.PENDING]={className:X+"-pending",label:"CONTENT_BACKOFFICE_PAYMENTS_STATUS_PENDING",tooltip:"CONTENT_BACKOFFICE_PAYMENTS_TOOLTIP_STATUS_PENDING"},n[_.PENDING_TO_REDEEM]={className:X+"-pending-redeem",label:"CONTENT_BACKOFFICE_PAYMENTS_STATUS_PENDING_TO_REDEEM",tooltip:"CONTENT_BACKOFFICE_PAYMENTS_TOOLTIP_STATUS_PENDING_TO_REDEEM"},n[_.PENDING_ACTION]={className:X+"-pending-action",label:"CONTENT_BACKOFFICE_PAYMENTS_STATUS_PENDING_ACTION",tooltip:"CONTENT_BACKOFFICE_PAYMENTS_TOOLTIP_STATUS_PENDING_ACTION"},n[_.REFUNDED]={className:X+"-refunded",label:"CONTENT_BACKOFFICE_PAYMENTS_STATUS_REFUNDED",tooltip:"CONTENT_BACKOFFICE_PAYMENTS_TOOLTIP_STATUS_REFUNDED"},n[_.REFUSED]={className:X+"-refused",label:"CONTENT_BACKOFFICE_PAYMENTS_STATUS_REFUSED",tooltip:"CONTENT_BACKOFFICE_PAYMENTS_TOOLTIP_STATUS_REFUSED"},n[_.STARTED]={className:X+"-started",label:"CONTENT_BACKOFFICE_PAYMENTS_STATUS_STARTED",tooltip:"CONTENT_BACKOFFICE_PAYMENTS_TOOLTIP_STATUS_STARTED"},n[_.PENDING_TO_REFUND]={className:X+"-pending-refund",label:"CONTENT_BACKOFFICE_PAYMENTS_STATUS_PENDING_TO_REFUND",tooltip:"CONTENT_BACKOFFICE_PAYMENTS_TOOLTIP_STATUS_PENDING_TO_REFUND"},n),F=function(e){var n=e.date,t=new Date(n);return isNaN(t.getTime())?n:new Intl.DateTimeFormat(l.culture,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)},P=[l.t("CONTENT_BACKOFFICE_PAYMENTS_TABLE_HEAD_DATE"),l.t("CONTENT_BACKOFFICE_PAYMENTS_TABLE_HEAD_AMOUNT"),l.t("CONTENT_BACKOFFICE_PAYMENTS_TABLE_HEAD_STATUS"),l.t("CONTENT_BACKOFFICE_PAYMENTS_TABLE_HEAD_USER"),l.t("CONTENT_BACKOFFICE_PAYMENTS_TABLE_HEAD_GATEWAY_ID"),"",""],x=i.map((function(e){var n=e.status,t=e.technology,i="STARTED"===n&&"PLAY_STORE"===t;e.redeemButton=i;var a=[];return Object.entries(e).map((function(n){var t=n[0],i=n[1],r={};switch(t){case"purchaseDate":r.content=(0,E.jsx)("span",{className:X+"-date",children:F({date:i})}),a[0]=r;break;case"amount":r.content=(0,E.jsx)("span",{className:X+"-amount",children:l.c(i/100,2)}),a[1]=r;break;case"status":var s,o;r.content=(0,E.jsx)(b.ZP,{content:function(){var e;return(0,E.jsx)("span",{className:X+"-tooltip",children:l.t(null==(e=f[i])?void 0:e.tooltip)})},children:(0,E.jsx)("span",{children:(0,E.jsx)("span",{className:null==(s=f[i])?void 0:s.className,children:l.t(null==(o=f[i])?void 0:o.label)})})}),a[2]=r;break;case"userId":r.content=i,a[3]=r;break;case"gatewayId":r.content=i,a[4]=r;break;case"technology":r.content=function(e){var n,t=e.status,i=e.orderId,a=e.technology,r=e.gatewayId;a===u.ADYEN?n=(0,E.jsxs)("div",{className:X+"-button-refund",children:[(0,E.jsx)("div",{className:X+"-button-refund-icon",children:(0,E.jsx)(N.ZP,{color:"neutral",link:!0,disabled:!r,href:T+"="+r,target:"_blank","data-testid":"CONTENT_BACKOFFICE_PAYMENTS_BUTTON_ADYEN",children:(0,E.jsx)(Y.Z,{className:X+"-icon-credit-card"})})}),(0,E.jsx)(N.ZP,{color:"primary",disabled:g({status:t}),onClick,leftIcon:(0,E.jsx)(M.Z,{className:X+"-icon-bill"}),children:l.t("CONTENT_BACKOFFICE_PAYMENTS_BUTTON_REFUND")})]}):a===u.PLAY_STORE&&(n=(0,E.jsx)(N.ZP,{color:"neutral",link:!0,href:l.t("CONTENT_BACKOFFICE_PAYMENTS_URL_GOOGLE_PLAY")+"/"+r,target:"_blank",disabled:!r,leftIcon:(0,E.jsx)(Z.Z,{className:X+"-icon-android"}),children:l.t("CONTENT_BACKOFFICE_PAYMENTS_BUTTON_ANDROID")}));return n}({status:e.status,orderId:e.orderId,technology:i,gatewayId:e.gatewayId}),a[5]=r;break;case"redeemButton":i&&(r.content=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(N.ZP,{color:"solid",className:X+"-button-redeem",onClick:function(){return n=e.orderId,I(n);var n},children:l.t("CONTENT_BACKOFFICE_PAYMENTS_BUTTON_REDEEM")}),S===e.orderId&&(0,E.jsx)(w,{visible:!0,onClose:p,payment:e})]})),a[6]=r}})),a}));function g(e){var n=!0;return e.status===_.INVOICED&&(n=!1),n}var v,R;return(0,E.jsxs)("div",{className:X,children:[(0,E.jsxs)("div",{className:X+"-total",children:[l.t("CONTENT_BACKOFFICE_PAYMENTS_TOTAL_FOUND",i.length),(0,E.jsx)("div",{className:X+"-search-message",children:(0,E.jsx)(D.default,{variation:"positive",autoClose:"manual",show:r,roundedCorners:D.BRDS_SIZE.medium,children:l.t("CONTENT_BACKOFFICE_PAYMENTS_SEARCH_MESSAGE")})})]}),(0,E.jsx)("div",{className:X+"-list",children:(0,E.jsx)(y.ZP,{head:P,body:x,cellPadding:y.Lf.l,borderBottom:!0})}),(0,E.jsx)(V,{orderId:O,onClose:R,onSuccess})]})};Q.displayName="PaymentList",Q.propTypes={payments:h().array,onRefund:h().func,showNotification:h().bool};var q=Q,J="ma-ContentPaymentsBackoffice",$={forbidden:{title:"CONTENT_BACKOFFICE_PAYMENTS_ERROR_FORBBIDEN_TITLE",button:{label:"CONTENT_BACKOFFICE_PAYMENTS_ERROR_FORBIDDEN_BUTTON",props:{color:"primary",link:!0,href:"/"}}},generic:{title:"CONTENT_BACKOFFICE_PAYMENTS_ERROR_GENERIC_TITLE",description:"CONTENT_BACKOFFICE_PAYMENTS_ERROR_GENERIC_DESCRIPTION",button:{label:"CONTENT_BACKOFFICE_PAYMENTS_ERROR_GENERIC_BUTTON",props:{color:"primary",link:!0,href:""}}}},ee=function(){var e,n=(0,s.useContext)(C.Z),t=n.i18n,i=n.domain,a=(0,s.useState)(!0),r=a[0],d=a[1],A=(0,s.useState)(!1),h=A[0],S=A[1],I=(0,s.useState)({}),p=I[0],F=I[1],P=(0,s.useState)({}),x=P[0],g=P[1],v=(0,s.useState)([]),R=v[0],j=v[1],B=(0,o.Z)((function(e){var n,t;return(0,T.__generator)(this,(function(i){return n=e.form,t=e.submitted,[2,y({form:n,submitted:t})]}))})),y=(0,o.Z)((function(e){var n,t,a,s,o,c,E;return(0,T.__generator)(this,(function(T){switch(T.label){case 0:return t=(n=void 0===e?{}:e).form,a=n.submitted,!r&&d(!0),[4,i.get("get_payment_list_payment_backweb_use_case").execute({filters:t})];case 1:return s=T.sent(),o=s[0],c=s[1],o?(window.console.error(o),a?j([]):b(o)):a&&(E=c.payments,j(E),F((0,l.Z)({},t,{submit:!0}))),d(!1),h||S(!0),[2]}}))})),b,D=function(e){return e instanceof i.get("config").get("PAYMENT_BACKWEB").ERRORS.ForbiddenPaymentBackwebError?$.forbidden:$.generic},Z=_()(J,((e={})[J+"--loaded"]=h,e));return(0,E.jsxs)(E.Fragment,{children:[r&&(0,E.jsx)(u.Z,{}),(0,E.jsxs)("div",{className:Z,children:[x.title&&(0,E.jsxs)("div",{className:J+"-error",children:[(0,E.jsx)("h2",{children:t.t(x.title)}),x.description&&(0,E.jsx)("p",{children:t.t(x.description)}),(0,E.jsx)("div",{className:J+"-errorButton",children:(0,E.jsx)(N.ZP,(0,l.Z)({},x.button.props,{children:t.t(x.button.label)}))})]}),!x.title&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.ZP,{variant:m.Dr.HIGHLIGHTED,children:(0,E.jsx)(m.ko,{numTab:"1",label:t.t("CONTENT_BACKOFFICE_PAYMENTS_TAB_SEARCH"),active:!0})}),(0,E.jsx)(L,{onSubmit:B,onCleanFilters}),p.submit&&R.length>0&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(q,{payments:R,onRefund:function(){var e=p.submit,n=(0,c.Z)(p,["submit"]);y({form:n,submitted:e})},showNotification:!r&&R.length>=50}),R.length>=10&&(0,E.jsx)("div",{className:J+"-button-scroll","data-testid":"CONTENT_BACKOFFICE_PAYMENTS_BUTTON_SCROLL",children:(0,E.jsx)(N.ZP,{onClick,color:"neutral",children:(0,E.jsx)(O.Z,{className:J+"-icon-arrow"})})})]}),p.submit&&0===R.length&&(0,E.jsx)(f,{onClickConfirm:function(){return F())}})]})]})]})};ee.displayName="ContentPaymentsBackoffice";var ne=ee,te=t("CjDN"),ie=t("Bd1x"),ae=t("9Y+p"),re=t("IBpw"),se=(0,te.Z)(ne),oe=function(e){var n=e.seoDefinition;return(0,E.jsx)(ie.Z,{children:(0,E.jsxs)(ae.Z,{children:[(0,E.jsx)(re.Z,{seoDefinition:n}),(0,E.jsx)(ie.Z.Header,{}),(0,E.jsx)(ie.Z.Body,{children:(0,E.jsx)(ie.Z.MainContent,{children:(0,E.jsx)(se,{})})})]})})};oe.displayName="PaymentsBackweb",oe.getInitialProps=function(){var e=(0,i.Z)(r().mark((function e(n){var t,i,a,s,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.context.domain,i=t.get("config").get("PAGES"),e.next=4,t.get("get_definition_by_page_seo_use_case").execute({page:i.PAYMENT_BACKWEB});case 4:return a=e.sent,s=a[0],o=a[1],s&&console.error(s),e.abrupt("return",{seoDefinition:o||{title:"HOME_SEO_TITLE",meta:[],link:[]}});case 9:case"end":return e.stop()}}),e)})));return}();var le=oe},E7IC}]);