(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[9791],{10793:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var o=s(76955),r=s(52377),i=s(5154),a=s.n(i),n=s(54285);class l extends o.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:a(),viewLogger:a()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:s,subCategoryId:o,contentId:r,displayPosition:i,pageId:a,entryId:n,orderId:l,sectionId:d,serviceId:p,tagName:u}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:s,subCategoryId:o,contentId:r,displayPosition:i,pageId:a,entryId:n,orderId:l,sectionId:d,serviceId:p,tagName:u}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(l.intersectionListener||(l.intersectionListener=(0,n.T)({})),this.stopListen(),this.trigger=r.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=l.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=o.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=o.cloneElement(e,{onClick:this.handleClick})),e}}l.displayName="Tracker"},3832:79791:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:);var o,r,i,a,n,l=s(3e4),d=s(41185),p=s(66062),u=(s(91938),s(76955)),c=s(55752),g=s.n(c),h=s(29466),b=s.n(h),f=s(97175),m=s(66948),w=s(73614),y=s(62986),v=s(79751),I=s(90926),k=s(55382),_=s.n(k),R=s(45525),S=s(16176),L=s(3832),M=s(76031),T=s.n(M),A=s(13497),P=s(10793),B=(0,R.w1)(T())((i=r=class extends u.Component{houldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.bloggerType!==e.bloggerType||this.props.executeFollowRequest!==e.executeFollowRequest||this.props.executeUnfollowRequest!==e.executeUnfollowRequest||this.props.isFollowingUpperLimit!==e.isFollowingUpperLimit||this.props.isMember!==e.isMember||this.props.isUserAttributeLoaded!==e.isUserAttributeLoaded||this.props.pageType!==e.pageType||this.props.sessionAmebaId!==e.sessionAmebaId||this.props.useLayout!==e.useLayout||this.props.trackTapLog!==e.trackTapLog||!b()(this.props.followActionStatus,e.followActionStatus)||!b()(this.props.followButtonStatus,e.followButtonStatus)||!b()(this.props.profile,e.profile)}handleClick(e){var{followActionStatus:t,followButtonStatus:s,isMember:o,isUserAttributeLoaded:r,sessionAmebaId:i}=this.props,a=A.p;if(r&&o&&(!o||i)&&s.amebaId!==i&&!(s.hasErrors||s.amebaId===t.amebaId&&t.hasErrors||s.loading))if(s.amebaId===t.amebaId&&t.loading)e.preventDefault();else{if(s.isFollowing)return e.preventDefault(),void this.props.executeUnfollowRequest(s.amebaId,a);e.preventDefault(),this.props.executeFollowRequest(s.amebaId,a)}}renderThumbnail(e){var t;if("official"===this.props.bloggerType)t=(0,l.Z)("span",{className:"snsReaderModuleOfficialBlogProfileImgWrap"},void 0,(0,l.Z)("img",{alt:"",src:"".concat(window.process.env.HTTP_PATH_BLOG_STAT,"/blog/img/ameba/officialblog/face/").concat(this.props.amebaId,"_120.jpg")}));else{var s=this.props.profile.image_filepath||"";t=(0,l.Z)("span",{className:"snsReaderModuleBlogProfileImgWrap"},void 0,(0,l.Z)("img",{alt:"",src:"".concat(s,"?cat=72"),width:"72"}))}return(0,l.Z)("div",{className:_()("snsReaderModuleBlog__profileImg","snsReaderModuleBlog__profileImg--uranus".concat(e))},void 0,t)}renderDescription(e){var t=g()(this.props,["profile","nickname"],this.props.amebaId);return(0,l.Z)("div",{className:_()("snsReaderModuleBlog__text","snsReaderModuleBlog__text--uranus".concat(e))},void 0,(0,l.Z)("p",{className:"snsReaderModuleBlogNickname snsReaderModuleBlogNickname--uranus skinTextColor"},void 0,t,"\u3055\u3093\u3092\u30d5\u30a9\u30ed\u30fc"),a||(a=(0,l.Z)("p",{className:"snsReaderModuleBlogCopy snsReaderModuleBlogCopy--uranus skin-textQuiet skinWeakColor"},void 0,"\u30d6\u30ed\u30b0\u306e\u66f4\u65b0\u60c5\u5831\u304c\u53d7\u3051\u53d6\u308c\u3066\u3001\u30a2\u30af\u30bb\u30b9\u304c\u7c21\u5358\u306b\u306a\u308a\u307e\u3059")))}renderLabel(){var{followButtonStatus:e,followActionStatus:t}=this.props;return e.amebaId===t.amebaId&&t.loading?S.Hj.UPDATE:e.isFollowing?S.Hj.REGISTERED:(0,l.Z)(u.Fragment,{},void 0,(0,l.Z)("i",{"aria-hidden":"true",className:_()("s","s-plus",T().Icon)}),S.Hj.UN_REGISTERED)}renderReaderButton(e){return(0,l.Z)("div",{className:_()("snsReaderModuleBlog__button","snsReaderModuleBlog__button--uranus".concat(e))},void 0,(0,l.Z)(P.f,{activate:["tap"],pageId:this.props.pageType,sectionId:"follow-button",serviceId:this.props.bloggerType,tapLogger:this.props.trackTapLog},void 0,(0,l.Z)("a",{className:"skin-btnPrimary","data-uranus-component":"button",href:"".concat(window.process.env.HTTP_PATH_BLOG_AMEBA,"/reader.do?bnm=").concat(this.props.amebaId),onClick:this.handleClick},void 0,this.renderLabel())))}render(){var e=L.Z[this.props.useLayout],t=e===L.Z.sidebar_both||e===L.Z.sidebar_left_2||e===L.Z.sidebar_right_2?"3cols":"";return(0,l.Z)("div",{className:"snsReaderModuleBlog snsReaderModuleBlog--uranus"},void 0,this.renderThumbnail(t),this.renderDescription(t),this.renderReaderButton(t))}},r.displayName="PcEntryDetailReaderInfoUranus",o=i))||o;class N extends u.Component{shouldComponentUpdate(e){return!b()(this.props.facebookProfile,e.facebookProfile)||!b()(this.props.instagramProfile,e.instagramProfile)||!b()(this.props.twitterProfile,e.twitterProfile)}renderTwitterButton(e,t){return(0,l.Z)("div",{className:_()("snsReaderModuleSnsAccount","snsReaderModuleSnsAccount--".concat(t))},"sns_twitter",(0,l.Z)("a",{className:"snsReaderModuleSnsAccount__link snsReaderModuleSnsAccount__link--tw",href:e.url},void 0,"Twitter"))}renderFacebookButton(e,t){return(0,l.Z)("div",{className:_()("snsReaderModuleSnsAccount","snsReaderModuleSnsAccount--".concat(t),"bd","skin-bd-color","skinBorderColor","skin-borderQuiet")},"sns_facebook",(0,l.Z)("a",{className:"snsReaderModuleSnsAccount__link snsReaderModuleSnsAccount__link--fb",href:e.url},void 0,"Facebook"))}renderInstagramButton(e,t){return(0,l.Z)("div",{className:_()("snsReaderModuleSnsAccount","snsReaderModuleSnsAccount--".concat(t),"bd","skin-bd-color","skinBorderColor","skin-borderQuiet")},"sns_instagram",(0,l.Z)("a",{className:"snsReaderModuleSnsAccount__link snsReaderModuleSnsAccount__link--is",href:e.url},void 0,"Instagram"))}render(){var e,{facebookProfile:t,instagramProfile:s,twitterProfile:o}=this.props,r=[o,t,s].filter(();if(!r.length)return null;switch(r.length){case 1:e="single";break;case 2:e="double";break;case 3:e="triple";break;default:e="null"}return(0,l.Z)("div",{className:"snsReaderModuleSns"},void 0,n||(n=(0,l.Z)("h2",{className:"snsReaderModuleSns__heading  snsReaderModuleSns__heading--uranus skin-textQuiet skinWeakColor"},void 0,(0,l.Z)("span",{className:"snsReaderModuleSnsHeadingLine snsReaderModuleSnsHeadingLine--left bd skin-bd-color skinBorderColor skin-borderQuiet"}),"SNS\u30a2\u30ab\u30a6\u30f3\u30c8",(0,l.Z)("span",{className:"snsReaderModuleSnsHeadingLine snsReaderModuleSnsHeadingLine--right bd skin-bd-color skinBorderColor skin-borderQuiet"}))),(0,l.Z)("div",{className:"snsReaderModuleSns__body snsReaderModuleSns__body--uranus"},void 0,r.map((t=>{switch(t.sns_type){case"twitter":return this.renderTwitterButton(t,e);case"facebook":return this.renderFacebookButton(t,e);case"instagram":return this.renderInstagramButton(t,e);default:return null}}))))}}N.displayName="PcEntryDetailReaderSnsUranus";var U,C,Z,x=s(70317),O=s(5563);unction j(){return(j=(0,p.Z)((function*(e){var{dispatch:t,getState:s,match:o}=e,{params:r}=o,i=r.amebaId,a=yield t((0,w.Rs)(i));if(!a||!a.error){var n=s().bloggerState,l=n.bloggerMap,d=n.blogMap[(l[i]||{}).blog];if(d&&d.blog_id)yield Promise.all([t((0,y.sq)(d.blog_id)),t((0,I.wn)())]),(0,x.jl)(s())&&(yield t((0,I.h$)())),yield t((0,v.fU)(i))}}))).apply(this,arguments)}var E=(0,m.$j)((function(e,t){var{match:s}=t,{params:o,route:r}=s,i=o.amebaId,a=o.entryId,n=r.pageType,l=e.bloggerState,p=e.entryState,u=e.skinState,c=l.bloggerMap,h=l.blogMap,b=p.entryMap,f=c[i]||{},m=(f.attribute||{}).bloggerType,w=f.blog,y=h[f.blog]||{},v=b[a]||{},I=(0,x.jl)(e),k=g()(e.userState,["userAttribute","isLoaded"])||!1,_=e.userState.sessionUser.amebaId||"",{followMap:R,followActionMap:S}=e.followState,L={amebaId:i},R[i]||{});return{amebaId:i,blog:y,blogger:f,bloggerType:m,entry:v,followActionStatus:S.target||{},followButtonStatus:L,isFollowingUpperLimit:S.isUpperLimit||!1,isMember:I,isUserAttributeLoaded:k,pageType:n,sessionAmebaId:_,useLayout:(u.pcSkinMap[w]||{}).use_layout||""}}),{executeFollowRequest:v.Tf,executeUnfollowRequest:v.e0,trackTapLog:O.XI})(U=(0,f.provideHooks)({done:)((Z=C=class extends u.Component{shouldComponentUpdate(e){return!(this.props.amebaId===e.amebaId&&this.props.bloggerType===e.bloggerType&&this.props.executeFollowRequest===e.executeFollowRequest&&this.props.executeUnfollowRequest===e.executeUnfollowRequest&&this.props.isFollowingUpperLimit===e.isFollowingUpperLimit&&this.props.isMember===e.isMember&&this.props.isUserAttributeLoaded===e.isUserAttributeLoaded&&this.props.pageType===e.pageType&&this.props.sessionAmebaId===e.sessionAmebaId&&this.props.useLayout===e.useLayout&&this.props.trackTapLog===e.trackTapLog&&b()(this.props.blog,e.blog)&&b()(this.props.blogger,e.blogger)&&b()(this.props.entry,e.entry)&&b()(this.props.followActionStatus,e.followActionStatus)&&b()(this.props.followButtonStatus,e.followButtonStatus))}hasSnsProfile(){return!!g()(this.props.blogger,["facebook_profile","url"],"")||(!!g()(this.props.blogger,["instagram_profile","url"],"")||!!g()(this.props.blogger,["twitter_profile","url"],""))}render(){var e="deny"!==this.props.blog.deny_reader||this.hasSnsProfile();return this.props.entry.entry_id&&e?(0,l.Z)("div",{className:"snsReaderModule bd skin-bd-color skinBorderColor skin-borderQuiet"},void 0,(0,l.Z)(B,{amebaId:this.props.amebaId,bloggerType:this.props.bloggerType,executeFollowRequest:this.props.executeFollowRequest,executeUnfollowRequest:this.props.executeUnfollowRequest,followActionStatus:this.props.followActionStatus,followButtonStatus:this.props.followButtonStatus,isFollowingUpperLimit:this.props.isFollowingUpperLimit,isMember:this.props.isMember,isUserAttributeLoaded:this.props.isUserAttributeLoaded,pageType:this.props.pageType,profile:this.props.blogger.profile||{},sessionAmebaId:this.props.sessionAmebaId,trackTapLog:this.props.trackTapLog,useLayout:this.props.useLayout}),(0,l.Z)(N,{facebookProfile:this.props.blogger.facebook_profile||{},instagramProfile:this.props.blogger.instagram_profile||{},twitterProfile:this.props.blogger.twitter_profile||{}})):null}},C.displayName="PcEntryDetailReaderModuleUranus",U=Z))||U)||U},92926:(e,t,s)=>{var o=s(18300)(();o.push([e.id,"._3kz9E9MF{vertical-align:middle}._dEN7mTy8{background-image:none!important}",""]),o.locals={Icon:"_3kz9E9MF",Icon__Nobackground:"_dEN7mTy8"},e.exports=o},76031:(e,t,s)=>{var o=s(92926),r=Object.assign||i=Object.defineProperty||"string"==typeof o&&(o=[[e.id,o,""]]),e.exports=function(e){var t=r({},e.locals||{});return i(t,"_",{value:),i(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(o)}}]);