import{A as l,B as h,I as e}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";const t={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},o=e("path",{fill:"#000",d:"m15.128 3.022.006.006c.03.029.03.056.03.09v12.553c0 .1-.034.182-.093.239a.349.349 0 0 1-.248.09H.362a.349.349 0 0 1-.248-.09.323.323 0 0 1-.094-.239V6.934H0v-.658h.02V5.54H0l.02-.657V3.118c0-.034 0-.061.03-.09l.007-.006v-.035L1.5.198A.379.379 0 0 1 1.629.05.322.322 0 0 1 1.808 0h11.569c.069 0 .128.017.178.049a.378.378 0 0 1 .129.15l1.444 2.785v.038Zm-.883-.233h.033l-.015-.028-1.12-2.092-.007-.011H9.051l.003.022.29 2.092.002.017h4.898ZM8.372.675 8.369.658H6.851L6.85.675l-.29 2.092-.002.022h2.107l-.003-.022-.29-2.092ZM2.025.658h-.013l-.006.01L.922 2.762l-.015.028h4.896l.002-.017.29-2.092.002-.022H2.024Zm12.437 14.684h.02V3.447H9.38v.02H5.805v-.02H.703v1.435h.02v.657h-.02v.738h.02v.657h-.02v8.408h13.759Z"},null,-1),n=e("path",{fill:"#000","fill-rule":"evenodd",d:"m4.857 8.95-.812.755 2.165 2.012 4.87-4.275-.811-.755-4.059 3.521-1.353-1.257Z","clip-rule":"evenodd"},null,-1),c=[o,n];function s(i,v){return l(),h("svg",t,c)}const d={render:s};export{d as default,s as render};
ations=t.modal_donations,this.checkoutModalGiftWrapDetails=t.modal_gift_wrap_details,this.checkoutOrderConfirmationRegistration=t.order_confirmation,{success:!0}}).catch(e=>(m().then(t=>{var a,r,i,c;const o=(c=(i=(r=(a=t==null?void 0:t.data)==null?void 0:a.cmsContent)==null?void 0:r.data)==null?void 0:i.entries)==null?void 0:c[0];this.checkoutFooter=o.checkout_footer,this.checkoutModalDeliveryInformation=o.modal_delivery_information,this.checkoutModalDonations=o.modal_donations,this.checkoutModalGiftWrapDetails=o.modal_gift_wrap_details,this.checkoutOrderConfirmationRegistration=o.order_confirmation}),d({err:e,operation:"getCheckoutPartials"}),{success:!1}))}},getters:{}});export{v as u};
abel":i.textAria},j,46,O),n("div",K,[L(e.$slots,"default",{},void 0,!0)])])}const z=v(U,[["render",Q],["__scopeId","data-v-ae1b4c01"]]);const G={inject:["mq"],emits:["input"],model:{prop:"selectedValue"},props:{items:{type:[Array,Object],default:()=>[]},selectedValue:{type:Number,default:0},isRequired:{type:Boolean,default:!1},variation:{type:String,default:""}},components:{SvgIcon:P},data(){return{isActive:!1,selectedDistance:this.selectedValue,displayLebel:this.variation==="1"}},computed:{...A(m,["formattedUserAddress"]),...f(m,["storeSearchParams","distance"])},methods:{handleMobileSelectChange(e){const t=e.target.value;this.setQtyValue(t)},setQtyValue(e){if(this.$emit("input",e),this.selectedDistance!==e){const t=this.storeSearchParams||{};t.radius=e.toString(),t.query=this.formattedUserAddress,this.storeSearchParams=t,V.$emit("storeFinderDistanceChanged")}this.distance=e,this.selectedDistance=e,this.closeSelect()},outsideClickHandler(){this.closeSelect()},closeSelect(){window.removeEventListener("keydown",this.handleFocus),this.isActive=!1},openSelect(){this.isActive=!0,this.tabItems=[...Array.from(this.$el.getElementsByClassName("distance-select__list-item"))],window.addEventListener("keydown",this.handleFocus)},toggleSelect(){this.isActive?this.closeSelect():this.openSelect()},handleFocus(e){if(e.preventDefault(),e.which===27&&this.closeSelect(),e.which===40){e.preventDefault();const t=parseInt(document.activeElement.dataset.index,10),i=t+1;t===this.tabItems.length-1?this.tabItems[0].focus():this.tabItems[i].focus()}if(e.which===38){e.preventDefault();const t=parseInt(document.activeElement.dataset.index,10),i=t-1;t===0?this.tabItems[this.tabItems.length-1].focus():this.tabItems[i].focus()}e.which===13&&document.activeElement.click()},optionDisplayValue(e){let t="";return this.variation==="1"?t=`${e} ${this.$t("i18n.milesMsg")}`:t=`${e} ${this.$t("i18n.storeDistanceText")}`,t}},updated(){this.isActive&&this.tabItems[0].focus()}},H=["textContent"],W=["aria-label","aria-expanded"],J=["textContent"],Y=["textContent"],Z={id:"distance-options",class:"distance-select__list",role:"menu","aria-labelledby":"sort",ref:"distanceRange"},X=["data-value"],ee=["data-value","onClick","aria-label","data-index","textContent"],te={key:1,class:"distance-select__wrapper lsco-row"},se=["textContent"],ie=["aria-label"],oe=["value","selected","textContent"];function ae(e,t,i,_,o,s){const c=p("SvgIcon"),u=E("click-outside");return s.mq.current==="desktop"?B((l(),r("div",{key:0,class:g(["distance-select__wrapper","lsco-row","lsco-row-xs--middle",{isActive:o.isActive}])},[o.displayLebel?(l(),r("label",{key:0,class:g(["distance-select__label",[{required:i.isRequired}]]),for:"sort","aria-labelledby":"sort",textContent:d(e.$t("i18n.distanceMsg"))},null,10,H)):y("",!0),n("button",{ref:"sortMenu",id:"sort",role:"menu","aria-label":`Distance ${o.selectedDistance} Miles`,"aria-controls":"sort-options","aria-haspopup":"","aria-expanded":o.isActive?"true":"false",class:g(["distance-select","lsco-row","lsco-row-xs--middle",{isActive:o.isActive}]),onClick:t[0]||(t[0]=k((...a)=>s.toggleSelect&&s.toggleSelect(...a),["stop"]))},[o.isActive?(l(),r("strong",{key:0,textContent:d(e.$t("i18n.distanceMsg"))},null,8,J)):(l(),r("span",{key:1,textContent:d(s.optionDisplayValue(o.selectedDistance))},null,8,Y)),S(c,{name:"arrow-down",title:"Down Arrow",class:"distance-select__select-arrow","set-aria-hidden":!0})],10,W),n("ul",Z,[(l(!0),r(D,null,w(i.items,(a,h)=>(l(),r("li",{class:"distance-select__list-item-wrapper",key:a,"data-value":a},[n("button",{class:g(["distance-select__list-item"]),role:"menuitem","data-value":a,onClick:k(ye=>s.setQtyValue(a),["stop"]),"aria-label":`${a} Miles`,"data-index":h,textContent:d(s.optionDisplayValue(a))},null,8,ee)],8,X))),128))],512)],2)),[[u,s.outsideClickHandler]]):(l(),r("div",te,[o.displayLebel?(l(),r("span",{key:0,class:"distance-select__label",textContent:d(e.$t("i18n.distanceMsg"))},null,8,se)):y("",!0),n("select",{name:"country","aria-label":e.$t("i18n.distanceMsg"),class:"distance-select__quantity",onChange:t[1]||(t[1]=(...a)=>s.handleMobileSelectChange&&s.handleMobileSelectChange(...a))},[(l(!0),r(D,null,w(i.items,a=>(l(),r("option",{value:a,key:a,selected:a===i.selectedValue,textContent:d(s.optionDisplayValue(a))},null,8,oe))),128))],40,ie),S(c,{name:"arrow-down",title:"Down Arrow",class:"distance-select__select-arrow","set-aria-hidden":!0})]))}const ne=v(G,[["render",ae],["__scopeId","data-v-cb792d9e"]]);const le={emits:["toggle"],components:{SvgIcon:P,ToggleButton:z,DistanceStoresModalSearch:ne},computed:{...f(m,["userAddress","storeData","inStockToggle","detailsStoreId","distance","storeSearchParams","storepickerPDP","formattedUserAddress","showStoreDetails","bopisStore"]),...A(q,["country"]),distanceData(){return b.DROPDOWN_DATA},getToggleTextClass(){return this.inStockToggle?"store-msg-active":"store-msg"},getToggleText(){return this.inStockToggle?`${this.$t("i18n.fisMsgInStock")}`:`${this.$t("i18n.fisMsgAllStores")}`},locationName(){var i,_,o,s,c;if(this.formattedUserAddress)return this.formattedUserAddress;if((o=(_=(i=this.bopisStore)==null?void 0:i.address)==null?void 0:_.region)!=null&&o.name){const{name:u="",isocode:a=""}=this.bopisStore.address.region;return`${u}, ${a.replace("US-","")}`}const{city:e="",state:t=""}=(s=this.bopisStore)!=null&&s.city&&((c=this.bopisStore)!=null&&c.state)?this.bopisStore:this.showStoreDetails??{};if(t){const u=t.replace("US-","");return e?`${e}, ${u}`:u}return e||""},milesMsg(){let e=this.$t("i18n.storeDistanceText");return["US","GB"].includes(this.country)||(e=this.$t("i18n.fisMsgKm")),e},showToggle(){return this.storepickerPDP}},data(){return{isEnabled:!0,switch1:!0,isValidState:!0,isRequired:!0,storeList:[]}},props:{isDisabled:Boolean},async mounted(){this.storeList=await this.getStoreData()},unmounted(){this.storepickerPDP=!1},watch:{storeData:{deep:!0,async handler(e,t){e!==t&&(this.storeList=await this.getStoreData())}},async inStockToggle(e,t){e!==t&&(this.storeList=await this.getStoreData())}},methods:{...x(m,["inStockBOPISStores"]),async getStoreData(){let e;return this.storepickerPDP&&this.inStockToggle?e=await this.inStockBOPISStores():e=this.storeData,e},selectedVal(){var t,i;!this.distance&&this.storeSearchParams&&(this.userAddress=(t=this.storeSearchParams)==null?void 0:t.query,this.distance=(i=this.storeSearchParams)==null?void 0:i.radius);let e=Number(this.distance);return e===0&&(e=["US","CA"].includes(this.country)?b.LSA_DEFAULT_VALUE:b.LSE_DEFAULT_VALUE),this.distance=e,Number(this.distance)},backToSearchPage(){this.detailsStoreId="",V.$emit("backToSearchPage")}}},re=e=>(T("data-v-9dc64c99"),e=e(),I(),e),ce={class:"location-section"},de={class:"loc-name"},ue=["textContent","aria-label"],he={class:"distance-section loc"},ge={key:0,class:"toggle-section","data-testid":"toggle-section"},me={class:"in-stock-label"},_e=["textContent"],Se={class:"toggle-btn"},pe={key:1,class:"store-count-section","data-testid":"store-count-section"},be=["textContent"],fe=re(()=>n("hr",{class:"show-mobile store-count-section-divider"},null,-1));function ve(e,t,i,_,o,s){const c=p("SvgIcon"),u=p("DistanceStoresModalSearch"),a=p("ToggleButton");return l(),r("div",{class:g(["store-filter-section",{"store-filter-section--hide-mobile":e.detailsStoreId}])},[n("div",ce,[n("div",de,[S(c,{name:"pin",title:"Country Pin",class:"icon-pin"}),n("span",{textContent:d(s.locationName),onClick:t[0]||(t[0]=(...h)=>s.backToSearchPage&&s.backToSearchPage(...h)),onKeyup:t[1]||(t[1]=C((...h)=>s.backToSearchPage&&s.backToSearchPage(...h),["enter"])),tabindex:"0","aria-label":`Store Location ${s.locationName}`,role:"button"},null,40,ue)]),n("div",he,[S(u,{class:"distance-label",id:"findStore.distance","state-model":"distance","selected-value":s.selectedVal(),type:"text",items:s.distanceData,"is-valid":o.isValidState,"is-disabled":i.isDisabled,"is-required":o.isRequired,"miles-msg":s.milesMsg,variation:"2"},null,8,["selected-value","items","is-valid","is-disabled","is-required","miles-msg"])])]),s.showToggle?(l(),r("div",ge,[n("div",me,[n("p",{class:g([s.getToggleTextClass]),"data-testid":"toggle-text"},d(s.getToggleText),3),n("span",{class:"store-count","data-testid":"store-count",textContent:d(e.$t("i18n.storesFoundCount",{count:o.storeList.length}))},null,8,_e)]),n("div",Se,[S(a,{modelValue:o.switch1,"onUpdate:modelValue":t[2]||(t[2]=h=>o.switch1=h),"is-enabled":!0,"text-aria":s.getToggleText},null,8,["modelValue","text-aria"])])])):(l(),r("div",pe,[n("span",{class:"store-count hide-mobile",textContent:d(e.$t("i18n.storesFoundCount",{count:o.storeList.length}))},null,8,be),fe]))],2)}const Pe=v(le,[["render",ve],["__scopeId","data-v-9dc64c99"]]);export{Pe as default};
