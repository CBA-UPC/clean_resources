!this,(function(){"use strict";var e=ar n,r=tion c(){return"undefined"!=typeof window}function u(){return"undefined"!=typeof navigator}|(n={}));var d=[n.click,n.custom,n.search,n.view],v=function(e,t){return-1!==d.indexOf(e)?r({language:l()?document.documentElement.lang:"unknown",userAgent:u()?navigator.userAgent:"unknown"},t):t},f=function(){function e(){}return e.set=e.get=e.erase=e}();r y=function(){function e(){}return e.prototype.getItem=e.prototype.removeItem=e.prototype.setItem=e.prefix="coveo_",e}(),S=function(){eturn e.prototype.getItem=e.prototype.removeItem=e.prototype.setItem=e}(),k=),w=Object.freeze({__proto__:null,CookieAndLocalStorage:S,CookieStorage:y,NullStorage:k,getAvailableStorage:m,preferredStorage:null}),I="__coveo.analytics.history",E=function(){eturn e.prototype.addElement=e.prototype.addElementAsync=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return e.internalTime=(new Date).getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e)),[4,this.getHistoryWithInternalTimeAsync()];case 1:return null!=(t=n.sent())?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e]),[2]}}))}))},e.prototype.getHistory=e.prototype.getHistoryAsync=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this.getHistoryWithInternalTimeAsync()];case 1:return e=t.sent(),[2,this.stripEmptyQueries(this.stripInternalTime(e))]}}))}))},e.prototype.getHistoryWithInternalTime=e.prototype.getHistoryWithInternalTimeAsync=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.store.getItem(I)];case 1:return(e=t.sent())?[2,JSON.parse(e)]:[2,[]];case 2:return t.sent(),[2,[]];case 3:return[2]}}))}))},e.prototype.setHistory=e.prototype.clear=e.prototype.getMostRecentElement=e.prototype.cropQueryElement=e.prototype.isValidEntry=e.prototype.stripInternalTime=e.prototype.stripEmptyQuery=e.prototype.stripEmptyQueries=e}(),b=Object.freeze({__proto__:null,HistoryStore:E,MAX_NUMBER_OF_HISTORY_ELEMENTS:20,MAX_VALUE_SIZE:75,MIN_THRESHOLD_FOR_DUPLICATE_VALUE:6e4,STORE_KEY:I,default:E}),C=function(e,t){return i(void 0,void 0,void 0,(function(){return s(this,(function(o){switch(o.label){case 0:return e!==n.view?[3,2]:[4,A(t.contentIdValue)];case 1:return o.sent(),[2,r({location:window.location.toString(),referrer:document.referrer,title:document.title},t)];case 2:return[2,t]}}))}))},A=function(e){return i(void 0,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return t=new E,n={name:"PageView",value:e,time:(new Date).toISOString()},[4,t.addElementAsync(n)];case 1:return r.sent(),[2]}}))}))};let D;const U=new Uint8Array(16);ar P=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;onst F=[];for(let e=0;e<256;++e)F.push((e+256).toString(16).slice(1));ar L={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}; q=function(e,t,n){function r(e,r,o,i){var s;if("string"==typeof e&&(e=e)),"string"==typeof r&&(r=r)),16!==(null===(s=r)||void 0===s?void 0:s.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),a=n(a),a[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(let e=0;e<16;++e)o[i+e]=a[e];return o}return x(a)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}("v5",80,(),_="2.29.1",N=H={pageview:"pageview",event:"event"},G=function(e){var t=e.client,n=e.uuidGenerator,r=void 0===n?O:n;this.client=t,this.uuidGenerator=r},Q=function(e){function n(t){var n=t.client,r=t.uuidGenerator,o=void 0===r?O:r,i=e.call(this,{client:n,uuidGenerator:o})||this;return i.actionData={},i.pageViewId=o(),i.nextPageViewId=i.pageViewId,i.currentLocation=N(window.location),i.lastReferrer=l()?document.referrer:"",i.addHooks(),i}return t(n,e),n.prototype.getApi=n.prototype.setAction=n.prototype.clearData=n.prototype.getLocationInformation=function(e,t){return r({hitType:e},this.getNextValues(e,t))},n.prototype.updateLocationInformation=n.prototype.getDefaultContextInformation=function(e){var t={title:l()?document.title:"",encoding:l()?document.characterSet:"UTF-8"},n={screenResolution:"".concat(screen.width,"x").concat(screen.height),screenColor:"".concat(screen.colorDepth,"-bit")},o={language:navigator.language,userAgent:navigator.userAgent},i={time:Date.now(),eventId:this.uuidGenerator()};return r(r(r(r({},i),n),o),t)},n.prototype.updateLocationForNextPageView=n.prototype.getNextValues=n.prototype.getCurrentLocationFromPayload=function(e){if(e.page){return"".concat((t=this.currentLocation,t.split("/").slice(0,3).join("/"))).concat(e.page.replace(/^\/?(.*)$/,"/$1"))}return N(window.location);var t},n}(G),B=function(){function e(e,t){if(!T(e))throw Error("Not a valid uuid");this.clientId=e,this.creationDate=Math.floor(t/1e3)}return e.prototype.toString=Object.defineProperty(e.prototype,"expired",{get:enumerable:!1,configurable:!0}),e.prototype.validate=e.prototype.matchReferrer=e.fromString=function(t){var n=t.split(".");if(2!==n.length)return null;var r=n[0],o=n[1];if(32!==r.length||isNaN(parseInt(o)))return null;var i=r.substring(0,8)+"-"+r.substring(8,12)+"-"+r.substring(12,16)+"-"+r.substring(16,20)+"-"+r.substring(20,32);return T(i)?new e(i,1e3*Number.parseInt(o)):null},e.cvo_cid="cvo_cid",e.expirationTime=120,e}(),j=function(e){function n(t){var n=t.client,r=t.uuidGenerator,o=void 0===r?O:r;return e.call(this,{client:n,uuidGenerator:o})||this}return t(n,e),n.prototype.getApi=n.prototype.decorate=function(e){return i(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:if(!this.client.getCurrentVisitorId)throw new Error("Could not retrieve current clientId");r.label=1;case 1:return r.trys.push([1,3,,4]),t=new URL(e),[4,this.client.getCurrentVisitorId()];case 2:return n=r.sent(),t.searchParams.set(B.cvo_cid,new B(n,Date.now()).toString()),[2,t.toString()];case 3:throw r.sent(),new Error("Invalid URL provided");case 4:return[2]}}))}))},n.prototype.acceptFrom=function(e){this.client.setAcceptedLinkReferrers(e)},n.Id="link",n}(G),Y=j,K=Object.keys;unction W(e){return"string"!=typeof e||""==e||Number.isNaN(+e)?e:+e}var $={id:"svc_ticket_id",subject:"svc_ticket_subject",description:"svc_ticket_description",category:"svc_ticket_category",productId:"svc_ticket_product_id",custom:"svc_ticket_custom"},J=a([],K($).map((function(e){return $[e]})),!0).join("|"),X=new RegExp("^(".concat(J,"$)")),Z=[function(e){return X.test(e)}],ee={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",price:"pr",quantity:"qt",coupon:"cc",position:"ps",group:"group"},te={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",group:"group"},ne={action:"pa",list:"pal",listSource:"pls"},re={id:"ti",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",affiliation:"ta",step:"cos",option:"col"},oe={id:"quoteId",affiliation:"quoteAffiliation"},ie={id:"reviewId",rating:"reviewRating",comment:"reviewComment"},se={add:ne,bookmark_add:ne,bookmark_remove:ne,click:ne,checkout:ne,checkout_option:ne,detail:ne,impression:ne,remove:ne,refund:r(r({},ne),re),purchase:r(r({},ne),re),quickview:ne,quote:r(r({},ne),oe),review:r(r({},ne),ie)},ae=function(e,t,n,o){return K(e).reduce((function(i,s){var a,c="il".concat(t+1).concat(o).concat(n+1).concat(te[s]||s);return r(r({},i),((a={})[c]=e[s],a))}),{})},ce=K(ee).map((function(e){return ee[e]})),ue=K(te).map((function(e){return te[e]})),le=K(ne).map((function(e){return ne[e]})),pe=K(re).map((function(e){return re[e]})),he=K(ie).map((function(e){return ie[e]})),de=K(oe).map((function(e){return oe[e]})),ve=a(a([],ce,!0),["custom"],!1).join("|"),fe=a(a([],ue,!0),["custom"],!1).join("|"),ge="(pr[0-9]+)",me="(il[0-9]+pi[0-9]+)",ye=new RegExp("^".concat(ge,"(").concat(ve,")$")),Se=new RegExp("^(".concat(me,"(").concat(fe,"))|(il[0-9]+nm)$")),ke=new RegExp("^(".concat(le.join("|"),")$")),we=new RegExp("^(".concat(pe.join("|"),")$")),Ie=new RegExp("^".concat(ge,"custom$")),Ee=new RegExp("^".concat(me,"custom$")),be=new RegExp("^(".concat(a(a(a([],["loyaltyCardId","loyaltyTier","thirdPartyPersona","companyName","favoriteStore","storeName","userIndustry","userRole","userDepartment","businessUnit"],!0),he,!0),de,!0).join("|"),")$")),Ce=[function(e){return Se.test(e)},function(e){return ye.test(e)},function(e){return ke.test(e)},function(e){return we.test(e)},function(e){return be.test(e)}],Ae=[Ie,Ee],De=r(r(r(r({},{anonymizeIp:"aip"}),{eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",page:"dp",visitorId:"cid",clientId:"cid",userId:"uid",currencyCode:"cu"}),{hitType:"t",pageViewId:"pid",encoding:"de",location:"dl",referrer:"dr",screenColor:"sd",screenResolution:"sr",title:"dt",userAgent:"ua",language:"ul",eventId:"z",time:"tm"}),["contentId","contentIdKey","contentType","searchHub","tab","searchUid","permanentId","contentLocale","trackingId"].reduce((,{})),Ue=r(r({},De),{svcAction:"svc_action",svcActionData:"svc_action_data"}),Re=K(Ue).map((function(e){return Ue[e]})),Pe=function(e){return-1!==Re.indexOf(e)},Te=Fe=function(e){var t=void 0;return a([],Ae,!0).every((),t},xe=function(e,t){return K(t).reduce((function(n,o){var i;return r(r({},n),((i={})["".concat(e).concat(o)]=t[o],i))}),{})},Le=function(){function e(e){this.opts=e}return e.prototype.sendEvent=function(e,t){return i(this,void 0,void 0,(function(){var n,r,o,i,a,c,u,l,p;return s(this,(function(s){switch(s.label){case 0:if(!this.isAvailable())throw new Error('navigator.sendBeacon is not supported in this browser. Consider adding a polyfill like "sendbeacon-polyfill".');return n=this.opts,r=n.baseUrl,o=n.preprocessRequest,[4,this.getQueryParamsForEventType(e)];case 1:return i=s.sent(),[4,this.preProcessRequestAsPotentialJSONString("".concat(r,"/analytics/").concat(e,"?").concat(i),t,o)];case 2:return a=s.sent(),c=a.url,u=a.payload,l=this.encodeForEventType(e,u),p=new Blob([l],{type:"application/x-www-form-urlencoded"}),navigator.sendBeacon(c,p),[2]}}))}))},e.prototype.isAvailable=e.prototype.deleteHttpCookieVisitorId=function(){return Promise.resolve()},e.prototype.preProcessRequestAsPotentialJSONString=function(e,t,n){return i(this,void 0,void 0,(function(){var r,o,i,a,c;return s(this,(function(s){switch(s.label){case 0:return r=e,o=t,n?[4,n({url:e,body:JSON.stringify(t)},"analyticsBeacon")]:[3,2];case 1:i=s.sent(),a=i.url,c=i.body,r=a||e;try{o=JSON.parse(c)}catch(e){console.error("Unable to process the request body as a JSON string",e)}s.label=2;case 2:return[2,{payload:o,url:r}]}}))}))},e.prototype.encodeForEventType=function(e,t){return this.isEventTypeLegacy(e)?this.encodeEventToJson(e,t):this.encodeEventToJson(e,t,this.opts.token)},e.prototype.getQueryParamsForEventType=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(o){switch(o.label){case 0:return t=this.opts,n=t.token,[4,t.visitorIdProvider.getCurrentVisitorId()];case 1:return r=o.sent(),[2,[n&&this.isEventTypeLegacy(e)?"access_token=".concat(n):"",r?"visitorId=".concat(r):"","discardVisitInfo=true"].filter(().join("&")]}}))}))},e.prototype.isEventTypeLegacy=function(e){return-1!==[n.click,n.custom,n.search,n.view].indexOf(e)},e.prototype.encodeEventToJson=function(e,t,n){var r="".concat(e,"Event=").concat(encodeURIComponent(JSON.stringify(t)));return n&&(r="access_token=".concat(encodeURIComponent(n),"&").concat(r)),r},e}(),Oe=function(){eturn e.prototype.sendEvent=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,Promise.resolve()]}))}))},e.prototype.deleteHttpCookieVisitorId=e}(),Ve=window.fetch,Me=function(){eturn e.prototype.sendEvent=function(e,t){return i(this,void 0,void 0,(function(){var n,i,a,c,u,l,p,h,d,v,f,g,m,y;return s(this,(function(s){switch(s.label){case 0:return n=this.opts,i=n.baseUrl,a=n.visitorIdProvider,c=n.preprocessRequest,this.shouldAppendVisitorId(e)?[4,this.getVisitorIdParam()]:[3,2];case 1:return l=s.sent(),[3,3];case 2:l="",s.label=3;case 3:return u=l,p={url:"".concat(i,"/analytics/").concat(e).concat(u),credentials:"include",mode:"cors",headers:this.getHeaders(),method:"POST",body:JSON.stringify(t)},f=[r({},p)],c?[4,c(p,"analyticsFetch")]:[3,5];case 4:return g=s.sent(),[3,6];case 5:g={},s.label=6;case 6:return h=r.apply(void 0,f.concat([g])),d=h.url,v=o(h,["url"]),[4,Ve(d,v)];case 7:return(m=s.sent()).ok?[4,m.json()]:[3,9];case 8:return(y=s.sent()).visitorId&&a.setCurrentVisitorId(y.visitorId),[2,y];case 9:try{m.json()}catch(e){}throw console.error('An error has occured when sending the "'.concat(e,'" event.'),m,t),new Error('An error has occurred when sending the "'.concat(e,'" event. Check the console logs for more details.'))}}))}))},e.prototype.deleteHttpCookieVisitorId=function(){return i(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return e=this.opts.baseUrl,t="".concat(e,"/analytics/visit"),[4,Ve(t,{headers:this.getHeaders(),method:"DELETE"})];case 1:return n.sent(),[2]}}))}))},e.prototype.shouldAppendVisitorId=e.prototype.getVisitorIdParam=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this.opts.visitorIdProvider.getCurrentVisitorId()];case 1:return[2,(e=t.sent())?"?visitor=".concat(e):""]}}))}))},e.prototype.getHeaders=function(){var e=this.opts.token;return r(r({},e?{Authorization:"Bearer ".concat(e)}:{}),{"Content-Type":"application/json"})},e}(),qe=function(){function e(e,t){var n=this;p()&&h()?this.storage=new S:p()?this.storage=localStorage:(console.warn("BrowserRuntime detected no valid storage available.",this),this.storage=new k),this.client=new Me(e),this.beaconClient=new Le(e),window.addEventListener("beforeunload",(function(){for(var e=0,r=t();e<r.length;e++){var o=r[e],i=o.eventType,s=o.payload;n.beaconClient.sendEvent(i,s)}}))}return e.prototype.getClientDependingOnEventType=e}(),_e=function(){function e(e,t){this.storage=t||new k,this.client=new Me(e)}return e.prototype.getClientDependingOnEventType=function(e){return this.client},e}(),Ne=function(){eturn e.prototype.getClientDependingOnEventType=e}();var He=["1",1,"yes",!0];ar Qe=Object.freeze({__proto__:null,default:Ge,doNotTrack:Ge}),Be="v15",je={default:"https://analytics.cloud.coveo.com/rest/ua",production:"https://analytics.cloud.coveo.com/rest/ua",hipaa:"https://analyticshipaa.cloud.coveo.com/rest/ua"};function Ye(e,t,n){if(void 0===e&&(e=je.default),void 0===t&&(t=Be),void 0===n&&(n=!1),e=e.replace(/\/$/,""),n)return"".concat(e,"/").concat(t);var r=e.endsWith("/rest")||e.endsWith("/rest/ua");return"".concat(e).concat(r?"":"/rest","/").concat(t)}var Ke,ze,We,$e=function(){function e(e){if(this.acceptedLinkReferrers=[],!e)throw new Error("You have to pass options to this constructor");this.options=r(r({},this.defaultOptions),e),this.visitorId="",this.bufferedRequests=[],this.beforeSendHooks=[C,v].concat(this.options.beforeSendHooks),this.afterSendHooks=this.options.afterSendHooks,this.eventTypeMapping={};var t={baseUrl:this.baseUrl,token:this.options.token,visitorIdProvider:this,preprocessRequest:this.options.preprocessRequest};this.runtime=this.options.runtimeEnvironment||this.initRuntime(t),Ge()&&(this.clear(),this.runtime.storage=new k),this.addEventTypeMapping(n.view,{newEventType:n.view,addClientIdParameter:!0}),this.addEventTypeMapping(n.click,{newEventType:n.click,addClientIdParameter:!0}),this.addEventTypeMapping(n.custom,{newEventType:n.custom,addClientIdParameter:!0}),this.addEventTypeMapping(n.search,{newEventType:n.search,addClientIdParameter:!0})}return Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return{endpoint:je.default,isCustomEndpoint:!1,token:"",version:Be,beforeSendHooks:[],afterSendHooks:[]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return _},enumerable:!1,configurable:!0}),e.prototype.initRuntime=function(e){var t=this;return c()&&l()?new qe(e,(function(){var e=a([],t.bufferedRequests,!0);return t.bufferedRequests=[],e})):("undefined"!=typeof navigator&&"ReactNative"==navigator.product&&console.warn("\n        We've detected you're using React Native but have not provided the corresponding runtime, \n        for an optimal experience please use the \"coveo.analytics/react-native\" subpackage.\n        Follow the Readme on how to set it up: https://github.com/coveo/coveo.analytics.js#using-react-native\n    "),new _e(e))},Object.defineProperty(e.prototype,"storage",{get:enumerable:!1,configurable:!0}),e.prototype.determineVisitorId=function(){return i(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),(e=c()&&this.extractClientIdFromLink(window.location.href))?[3,2]:[4,this.storage.getItem("visitorId")];case 1:e=n.sent(),n.label=2;case 2:return[2,e||O()];case 3:return t=n.sent(),console.log("Could not get visitor ID from the current runtime environment storage. Using a random ID instead.",t),[2,O()];case 4:return[2]}}))}))},e.prototype.getCurrentVisitorId=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this.visitorId?[3,3]:[4,this.determineVisitorId()];case 1:return e=t.sent(),[4,this.setCurrentVisitorId(e)];case 2:t.sent(),t.label=3;case 3:return[2,this.visitorId]}}))}))},e.prototype.setCurrentVisitorId=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.visitorId=e,[4,this.storage.setItem("visitorId",e)];case 1:return t.sent(),[2]}}))}))},e.prototype.setClientId=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){if(T(e))this.setCurrentVisitorId(e.toLowerCase());else{if(!t)throw Error("Cannot generate uuid client id without a specific namespace string.");this.setCurrentVisitorId(q(e,q(t,"38824e1f-37f5-42d3-8372-a4b8fa9df946")))}return[2]}))}))},e.prototype.getParameters=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.resolveParameters.apply(this,a([e],t,!1))];case 1:return[2,n.sent()]}}))}))},e.prototype.getPayload=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,this.resolveParameters.apply(this,a([e],t,!1))];case 1:return n=r.sent(),[4,this.resolvePayloadForParameters(e,n)];case 2:return[2,r.sent()]}}))}))},Object.defineProperty(e.prototype,"currentVisitorId",{get:set:enumerable:!1,configurable:!0}),e.prototype.extractClientIdFromLink=e.prototype.resolveParameters=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i(this,void 0,void 0,(function(){var n,o,a,c,u,l,p,h,d,v,f,g,m=this;return s(this,(function(y){switch(y.label){case 0:return n=this.eventTypeMapping[e]||{},o=n.variableLengthArgumentsNames,a=void 0===o?[]:o,c=n.addVisitorIdParameter,u=void 0!==c&&c,l=n.usesMeasurementProtocol,p=void 0!==l&&l,h=n.addClientIdParameter,d=void 0!==h&&h,v=function(e){return i(m,void 0,void 0,(function(){var t,n,o;return s(this,(function(i){switch(i.label){case 0:return t=[r({},e)],o={},u?[4,this.getCurrentVisitorId()]:[3,2];case 1:return n=i.sent(),[3,3];case 2:n="",i.label=3;case 3:return[2,r.apply(void 0,t.concat([(o.visitorId=n,o)]))]}}))}))},f=function(e){return i(m,void 0,void 0,(function(){var t,n;return s(this,(function(o){switch(o.label){case 0:return d?(t=[r({},e)],n={},[4,this.getCurrentVisitorId()]):[3,2];case 1:return[2,r.apply(void 0,t.concat([(n.clientId=o.sent(),n)]))];case 2:return[2,e]}}))}))},g=function(t){return m.beforeSendHooks.reduce((function(t,n){return i(m,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return[4,t];case 1:return r=o.sent(),[4,n(e,r)];case 2:return[2,o.sent()]}}))}))}),t)},[4,[v,f,function(e){return p?m.ensureAnonymousUserWhenUsingApiKey(e):e},g].reduce((function(e,t){return i(m,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),[4,t(n)];case 2:return[2,r.sent()]}}))}))}),Promise.resolve(t))];case 1:return[2,y.sent()]}}))}))},e.prototype.resolvePayloadForParameters=function(e,t){return i(this,void 0,void 0,(function(){var n,o,a,c=this;return s(this,(function(u){switch(u.label){case 0:return n=(this.eventTypeMapping[e]||{}).usesMeasurementProtocol,o=void 0!==n&&n,a=function(e){return o?(n=!!(t=e).action&&se[t.action]||{},K(t).reduce((function(e,o){var i,s=n[o]||Ue[o]||o;return r(r({},e),((i={})[s]=t[o],i))}),{})):e;var t,n},[4,[function(e){return c.setTrackingIdIfTrackingIdNotPresent(e)},function(t){return c.removeEmptyPayloadValues(t,e)},a,.reduce((function(e,t){return i(c,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),[4,t(n)];case 2:return[2,r.sent()]}}))}))}),Promise.resolve(t))];case 1:return[2,u.sent()]}}))}))},e.prototype.makeEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i(this,void 0,void 0,(function(){var n,o,c,u,l=this;return s(this,(function(p){switch(p.label){case 0:return n=(this.eventTypeMapping[e]||{}).newEventType,o=void 0===n?e:n,[4,this.resolveParameters.apply(this,a([e],t,!1))];case 1:return c=p.sent(),[4,this.resolvePayloadForParameters(e,c)];case 2:return u=p.sent(),[2,{eventType:o,payload:u,log:function(t){return i(l,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return this.bufferedRequests.push({eventType:o,payload:r(r({},u),t)}),[4,Promise.all(this.afterSendHooks.map((function(n){return n(e,r(r({},c),t))})))];case 1:return n.sent(),[4,this.deferExecution()];case 2:return n.sent(),[4,this.sendFromBuffer()];case 3:return[2,n.sent()]}}))}))}}]}}))}))},e.prototype.sendEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeEvent.apply(this,a([e],t,!1))];case 1:return[2,n.sent().log({})]}}))}))},e.prototype.deferExecution=e.prototype.sendFromBuffer=function(){return i(this,void 0,void 0,(function(){var e,t,n;return s(this,(function(r){return(e=this.bufferedRequests.shift())?(t=e.eventType,n=e.payload,[2,this.runtime.getClientDependingOnEventType(t).sendEvent(t,n)]):[2]}))}))},e.prototype.clear=e.prototype.deleteHttpOnlyVisitorId=e.prototype.makeSearchEvent=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.makeEvent(n.search,e)]}))}))},e.prototype.sendSearchEvent=function(e){var t=e.searchQueryUid,n=o(e,["searchQueryUid"]);return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeSearchEvent(n)];case 1:return[2,e.sent().log({searchQueryUid:t})]}}))}))},e.prototype.makeClickEvent=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.makeEvent(n.click,e)]}))}))},e.prototype.sendClickEvent=function(e){var t=e.searchQueryUid,n=o(e,["searchQueryUid"]);return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeClickEvent(n)];case 1:return[2,e.sent().log({searchQueryUid:t})]}}))}))},e.prototype.makeCustomEvent=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.makeEvent(n.custom,e)]}))}))},e.prototype.sendCustomEvent=function(e){var t=e.lastSearchQueryUid,n=o(e,["lastSearchQueryUid"]);return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeCustomEvent(n)];case 1:return[2,e.sent().log({lastSearchQueryUid:t})]}}))}))},e.prototype.makeViewEvent=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.makeEvent(n.view,e)]}))}))},e.prototype.sendViewEvent=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeViewEvent(e)];case 1:return[2,t.sent().log({})]}}))}))},e.prototype.getVisit=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(this.baseUrl,"/analytics/visit"))];case 1:return[4,t.sent().json()];case 2:return e=t.sent(),this.visitorId=e.visitorId,[2,e]}}))}))},e.prototype.getHealth=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(this.baseUrl,"/analytics/monitoring/health"))];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))},e.prototype.registerBeforeSendEventHook=function(e){this.beforeSendHooks.push(e)},e.prototype.registerAfterSendEventHook=function(e){this.afterSendHooks.push(e)},e.prototype.addEventTypeMapping=function(e,t){this.eventTypeMapping[e]=t},e.prototype.setAcceptedLinkReferrers=e.prototype.parseVariableArgumentsPayload=function(e,t){for(var n={},o=0,i=t.length;o<i;o++){var s=t[o];if("string"==typeof s)n[e[o]]=s;else if("object"==typeof s)return r(r({},n),s)}return n},e.prototype.isKeyAllowedEmpty=function(e,t){var r;return-1!==(((r={})[n.search]=["queryText"],r)[e]||[]).indexOf(t)},e.prototype.removeEmptyPayloadValues=function(e,t){var n=this;return Object.keys(e).filter((function(r){return n.isKeyAllowedEmpty(t,r)||null!=(o=e[r])&&""!==o;var o})).reduce((function(t,n){var o;return r(r({},t),((o={})[n]=e[n],o))}),{})},e.prototype.removeUnknownParameters=function(e){var t=Object.keys(e).filter((function(e){if(function(e){return a(a(a([],Ce,!0),Z,!0),[Pe,Te],!1).some(()}(e))return!0;console.log(e,"is not processed by coveoua")})).reduce((,{});return t},e.prototype.processCustomParameters=function(e){var t=e.custom,n=o(e,["custom"]),i={};t&&z(t)&&(i=this.lowercaseKeys(t));var s,a=K(s=n).reduce((function(e,t){var n,o=Fe(t);return r(r({},e),o?xe(o,s[t]):((n={})[t]=s[t],n))}),{});return r(r({},i),a)},e.prototype.mapCustomParametersToCustomData=function(e){var t=e.custom,n=o(e,["custom"]);if(t&&z(t)){var i=this.lowercaseKeys(t);return r(r({},n),{customData:r(r({},i),e.customData)})}return e},e.prototype.lowercaseKeys=e.prototype.validateParams=function(e,t){var r=e.anonymizeIp,i=o(e,["anonymizeIp"]);return void 0!==r&&-1==["0","false","undefined","null","{}","[]",""].indexOf("".concat(r).toLowerCase())&&(i.anonymizeIp=1),t!=n.view&&t!=n.click&&t!=n.search&&t!=n.custom||(i.originLevel3=this.limit(i.originLevel3,128)),t==n.view&&(i.location=this.limit(i.location,128)),"pageview"!=t&&"event"!=t||(i.referrer=this.limit(i.referrer,2048),i.location=this.limit(i.location,2048),i.page=this.limit(i.page,2048)),i},e.prototype.ensureAnonymousUserWhenUsingApiKey=function(e){var t,n=e.userId,r=o(e,["userId"]);return(null==(t=this.options.token)?void 0:t.startsWith("xx"))&&!n?(r.userId="anonymous",r):e},e.prototype.setTrackingIdIfTrackingIdNotPresent=e.prototype.limit=Object.defineProperty(e.prototype,"baseUrl",{get:enumerable:!1,configurable:!0}),e}(),Je=Object.freeze({__proto__:null,CoveoAnalyticsClient:$e,Endpoints:je,Version:Be,buildBaseUrl:Ye,default:$e}),Xe=r({},H),Ze=Object.keys(Xe).map((function(e){return Xe[e]})),et=function(e){function i(t){var n=t.client,r=t.uuidGenerator,o=void 0===r?O:r,i=e.call(this,{client:n,uuidGenerator:o})||this;return i.products=[],i.impressions=[],i}return t(i,e),i.prototype.getApi=function(t){var n=e.prototype.getApi.call(this,t);if(null!==n)return n;switch(t){case"addProduct":return this.addProduct;case"addImpression":return this.addImpression;default:return null}},i.prototype.addHooks=function(){this.addHooksForPageView(),this.addHooksForEvent(),this.addHooksForECEvents()},i.prototype.addProduct=function(e){this.products.push(e)},i.prototype.addImpression=i.prototype.clearPluginData=i.prototype.addHooksForECEvents=function(){var e=this;this.client.registerBeforeSendEventHook((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0];return-1!==Ze.indexOf(t)?e.addECDataToPayload(t,o):o})),this.client.registerAfterSendEventHook((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0];return-1!==Ze.indexOf(t)&&e.updateLocationInformation(t,o),o}))},i.prototype.addHooksForPageView=function(){this.client.addEventTypeMapping(Xe.pageview,{newEventType:n.collect,variableLengthArgumentsNames:["page"],addVisitorIdParameter:!0,usesMeasurementProtocol:!0})},i.prototype.addHooksForEvent=function(){this.client.addEventTypeMapping(Xe.event,{newEventType:n.collect,variableLengthArgumentsNames:["eventCategory","eventAction","eventLabel","eventValue"],addVisitorIdParameter:!0,usesMeasurementProtocol:!0})},i.prototype.addECDataToPayload=function(e,t){var n=r(r(r(r({},this.getLocationInformation(e,t)),this.getDefaultContextInformation(e)),this.action?{action:this.action}:{}),this.actionData||{}),o=this.getProductPayload(),i=this.getImpressionPayload();return this.clearData(),r(r(r(r({},i),o),n),t)},i.prototype.getProductPayload=function(){var e=this;return this.products.map((function(t){return e.assureProductValidity(t)})).reduce((function(t,n,o){return r(r({},t),function(e,t){return K(e).reduce((function(n,o){var i,s="pr".concat(t+1).concat(ee[o]||o);return r(r({},n),((i={})[s]=e[o],i))}),{})}(e.convertNumberTypes(n),o))}),{})},i.prototype.convertNumberTypes=function(e){var t=r({},e);return"quantity"in t&&(t.quantity=W(t.quantity)),"position"in t&&(t.position=W(t.position)),t},i.prototype.getImpressionPayload=function(){var e=this;return this.getImpressionsByList().map(().reduce((function(e,t,n){return r(r({},e),function(e,t,n){var o=e.impressions.reduce((function(e,o,i){return r(r({},e),ae(o,t,i,n))}),{});return e.listName&&(o["il".concat(t+1,"nm")]=e.listName),o}(t,n,"pi"))}),{})},i.prototype.assureProductValidity=function(e){var t=e.position,n=o(e,["position"]);return void 0!==t&&t<1?(console.warn("The position for product '".concat(e.name||e.id,"' must be greater ")+"than 0 when provided."),n):e},i.prototype.assureBaseImpressionValidity=function(e){var t=e.position,n=o(e,["position"]);return void 0!==t&&t<1?(console.warn("The position for impression '".concat(e.name||e.id,"'")+" must be greater than 0 when provided."),n):e},i.prototype.getImpressionsByList=function(){return this.impressions.reduce((function(e,t){var n=t.list,r=o(t,["list"]),i=e.find(();return i?i.impressions.push(r):e.push({listName:n,impressions:[r]}),e}),[])},i.Id="ec",i}(Q),tt=et,nt=r({},H),rt=Object.keys(nt).map((),ot=function(e){function o(t){var n=t.client,r=t.uuidGenerator,o=void 0===r?O:r,i=e.call(this,{client:n,uuidGenerator:o})||this;return i.ticket={},i}return t(o,e),o.prototype.getApi=function(t){var n=e.prototype.getApi.call(this,t);return null!==n?n:"setTicket"===t?this.setTicket:null},o.prototype.addHooks=o.prototype.setTicket=o.prototype.clearPluginData=function(){this.ticket={}},o.prototype.addHooksForSVCEvents=function(){var e=this;this.client.registerBeforeSendEventHook((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0];return-1!==rt.indexOf(t)?e.addSVCDataToPayload(t,o):o})),this.client.registerAfterSendEventHook((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0];return-1!==rt.indexOf(t)&&e.updateLocationInformation(t,o),o}))},o.prototype.addHooksForPageView=o.prototype.addHooksForEvent=o.prototype.addSVCDataToPayload=function(e,t){var n,o=r(r(r(r({},this.getLocationInformation(e,t)),this.getDefaultContextInformation(e)),this.action?{svcAction:this.action}:{}),Object.keys(null!==(n=this.actionData)&&void 0!==n?n:{}).length>0?{svcActionData:this.actionData}:{}),i=this.getTicketPayload();return this.clearData(),r(r(r({},i),o),t)},o.prototype.getTicketPayload=function(){return e=this.ticket,K(e).filter(().reduce((function(t,n){var o,i=$[n]||n;return r(r({},t),((o={})[i]=e[n],o))}),{});var e},o.Id="svc",o}(Q),it=ot,st=function(){function e(){var e;this.registeredPluginsMap=((e={})[tt.Id]=tt,e[it.Id]=it,e[Y.Id]=Y,e),this.requiredPlugins={}}return e.prototype.require=function(e,t){var n=this.registeredPluginsMap[e];if(!n)throw new Error('No plugin named "'.concat(e,"\" is currently registered. If you use a custom plugin, use 'provide' first."));this.requiredPlugins[e]=new n(t)},e.prototype.provide=e.prototype.clearRequired=e.prototype.execute=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this.requiredPlugins[e];if(!o)throw new Error('The plugin "'.concat(e,'" is not required. Check that you required it on initialization.'));var i=o.getApi(t);if(!i)throw new Error('The function "'.concat(t,'" does not exist on the plugin "').concat(e,'".'));if("function"!=typeof i)throw new Error('"'.concat(t,'" of the plugin "').concat(e,'" is not a function.'));return i.apply(o,n)},e.DefaultPlugins=[tt.Id,it.Id,Y.Id],e}(),at=function(){eturn e.prototype.init=function(e,t){var n=this;if(!e)throw new Error("You must pass your token when you call 'init'");if("string"==typeof e?this.client=new $e({token:e,endpoint:this.getEndpoint(t),isCustomEndpoint:this.getIsCustomEndpoint(t)}):this.isAnalyticsClient(e)&&(this.client=e),!this.client)throw new Error("You must pass either your token or a valid object when you call 'init'");var o={client:this.client};this.plugins.clearRequired(),this.getPluginKeys(t).forEach((),this.client.registerBeforeSendEventHook(()},e.prototype.isAnalyticsClient=e.prototype.getPluginKeys=function(e){return"string"==typeof e?st.DefaultPlugins:Array.isArray(null==e?void 0:e.plugins)?e.plugins:st.DefaultPlugins},e.prototype.getEndpoint=function(e){return"string"==typeof e?e||je.default:(null==e?void 0:e.endpoint)?e.endpoint:je.default},e.prototype.getIsCustomEndpoint=function(e){return"string"!=typeof e&&(!!(null==e?void 0:e.isCustomEndpoint)&&e.isCustomEndpoint)},e.prototype.initForProxy=function(e,t){if(void 0===t&&(t=!1),!e)throw new Error("You must pass your endpoint when you call 'initForProxy'");if("string"!=typeof e)throw new Error("You must pass a string as the endpoint parameter when you call 'initForProxy'");this.client=new $e({endpoint:e,isCustomEndpoint:t})},e.prototype.set=function(e,t){var n=this;"string"==typeof e?this.params[e]=t:Object.keys(e).map(()},e.prototype.send=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t.slice(1);if(void 0===this.client)throw new Error("You must call init before sending an event");if(!r)throw new Error('You must provide an event type when calling "send".');return(e=this.client).sendEvent.apply(e,a([r.toLowerCase()],o,!1))},e.prototype.onLoad=e.prototype.provide=e.prototype.require=function(e,t){if(!this.client)throw new Error("You must call init before requiring a plugin");this.plugins.require(e,r(r({},t),{client:this.client}))},e.prototype.callPlugin=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(!this.client)throw new Error("You must call init before calling a plugin function");return(n=this.plugins).execute.apply(n,a([e,t],r,!1))},e.prototype.reset=function(){this.client=void 0,this.plugins=new st,this.params={}},e.prototype.version=function(){return _},e}(),ct=new at,ut=lt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/.exec(e);r[1];var o=r[2],i=r[3],s=ct[i];if(o&&i)return ct.callPlugin.apply(ct,a([o,i],t,!1));if(s)return s.apply(ct,t);throw new Error('The action "'.concat(e,'" does not exist. Available actions: ').concat(["init","set","send","onLoad","callPlugin","reset","require","provide","version"].join(", "),"."))},pt=Object.freeze({__proto__:null,CoveoUA:at,coveoua:ct,default:lt,getCurrentClient:ut,handleOneAnalyticsEvent:lt});!Ke||(Ke={})),We||(We={}));var ht=((ze={})[We.triggerNotify]="queryPipelineTriggers",ze[We.triggerExecute]="queryPipelineTriggers",ze[We.triggerQuery]="queryPipelineTriggers",ze[We.triggerRedirect]="queryPipelineTriggers",ze[We.queryError]="errors",ze[We.queryErrorBack]="errors",ze[We.queryErrorClear]="errors",ze[We.queryErrorRetry]="errors",ze[We.pagerNext]="getMoreResults",ze[We.pagerPrevious]="getMoreResults",ze[We.pagerNumber]="getMoreResults",ze[We.pagerResize]="getMoreResults",ze[We.pagerScrolling]="getMoreResults",ze[We.facetSearch]="facet",ze[We.facetShowLess]="facet",ze[We.facetShowMore]="facet",ze[We.recommendation]="recommendation",ze[We.likeSmartSnippet]="smartSnippet",ze[We.dislikeSmartSnippet]="smartSnippet",ze[We.expandSmartSnippet]="smartSnippet",ze[We.collapseSmartSnippet]="smartSnippet",ze[We.openSmartSnippetFeedbackModal]="smartSnippet",ze[We.closeSmartSnippetFeedbackModal]="smartSnippet",ze[We.sendSmartSnippetReason]="smartSnippet",ze[We.expandSmartSnippetSuggestion]="smartSnippetSuggestions",ze[We.collapseSmartSnippetSuggestion]="smartSnippetSuggestions",ze[We.showMoreSmartSnippetSuggestion]="smartSnippetSuggestions",ze[We.showLessSmartSnippetSuggestion]="smartSnippetSuggestions",ze[We.clearRecentQueries]="recentQueries",ze[We.recentResultClick]="recentlyClickedDocuments",ze[We.clearRecentResults]="recentlyClickedDocuments",ze[We.showLessFoldedResults]="folding",ze[We.caseDetach]="case",ze[We.likeGeneratedAnswer]="generatedAnswer",ze[We.dislikeGeneratedAnswer]="generatedAnswer",ze[We.openGeneratedAnswerSource]="generatedAnswer",ze[We.generatedAnswerStreamEnd]="generatedAnswer",ze[We.generatedAnswerSourceHover]="generatedAnswer",ze[We.generatedAnswerCopyToClipboard]="generatedAnswer",ze[We.generatedAnswerHideAnswers]="generatedAnswer",ze[We.generatedAnswerShowAnswers]="generatedAnswer",ze[We.generatedAnswerFeedbackSubmit]="generatedAnswer",ze[Ke.expandToFullUI]="interface",ze[Ke.openUserActions]="User Actions",ze[Ke.showPrecedingSessions]="User Actions",ze[Ke.showFollowingSessions]="User Actions",ze[Ke.clickViewedDocument]="User Actions",ze[Ke.clickPageView]="User Actions",ze[Ke.createArticle]="createArticle",ze),dt=function(){eturn e.prototype.getPayload=function(){return Promise.resolve()},e.prototype.getParameters=function(){return Promise.resolve()},e.prototype.makeEvent=e.prototype.sendEvent=function(){return Promise.resolve()},e.prototype.makeSearchEvent=function(){return this.makeEvent(n.search)},e.prototype.sendSearchEvent=function(){return Promise.resolve()},e.prototype.makeClickEvent=function(){return this.makeEvent(n.click)},e.prototype.sendClickEvent=function(){return Promise.resolve()},e.prototype.makeCustomEvent=function(){return this.makeEvent(n.custom)},e.prototype.sendCustomEvent=function(){return Promise.resolve()},e.prototype.makeViewEvent=function(){return this.makeEvent(n.view)},e.prototype.sendViewEvent=e.prototype.getVisit=e.prototype.getHealth=e.prototype.registerBeforeSendEventHook=function(){},e.prototype.registerAfterSendEventHook=function(){},e.prototype.addEventTypeMapping=Object.defineProperty(e.prototype,"version",{get:enumerable:!1,configurable:!0}),e}();ar ft=function gt(e){var t="string"==typeof e.partialQueries?e.partialQueries:ft(e.partialQueries),n="string"==typeof e.suggestions?e.suggestions:ft(e.suggestions);return r(r({},e),{partialQueries:t,suggestions:n})}var mt,yt,St,kt=function(){function e(e,t){this.opts=e,this.provider=t;var n=!1===e.enableAnalytics||Ge();this.coveoAnalyticsClient=n?new dt:new $e(e)}return e.prototype.disable=e.prototype.enable=e.prototype.makeInterfaceLoad=function(){return this.makeSearchEvent(We.interfaceLoad)},e.prototype.logInterfaceLoad=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeInterfaceLoad()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeRecommendationInterfaceLoad=function(){return this.makeSearchEvent(We.recommendationInterfaceLoad)},e.prototype.logRecommendationInterfaceLoad=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeRecommendationInterfaceLoad()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeRecommendation=function(){return this.makeCustomEvent(We.recommendation)},e.prototype.logRecommendation=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeRecommendation()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeRecommendationOpen=function(e,t){return this.makeClickEvent(We.recommendationOpen,e,t)},e.prototype.logRecommendationOpen=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeRecommendationOpen(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeStaticFilterClearAll=function(e){return this.makeSearchEvent(We.staticFilterClearAll,e)},e.prototype.logStaticFilterClearAll=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeStaticFilterClearAll(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeStaticFilterSelect=function(e){return this.makeSearchEvent(We.staticFilterSelect,e)},e.prototype.logStaticFilterSelect=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeStaticFilterSelect(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeStaticFilterDeselect=function(e){return this.makeSearchEvent(We.staticFilterDeselect,e)},e.prototype.logStaticFilterDeselect=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeStaticFilterDeselect(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFetchMoreResults=e.prototype.logFetchMoreResults=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeFetchMoreResults()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeInterfaceChange=function(e){return this.makeSearchEvent(We.interfaceChange,e)},e.prototype.logInterfaceChange=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeInterfaceChange(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeDidYouMeanAutomatic=function(){return this.makeSearchEvent(We.didyoumeanAutomatic)},e.prototype.logDidYouMeanAutomatic=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeDidYouMeanAutomatic()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeDidYouMeanClick=function(){return this.makeSearchEvent(We.didyoumeanClick)},e.prototype.logDidYouMeanClick=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeDidYouMeanClick()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeResultsSort=function(e){return this.makeSearchEvent(We.resultsSort,e)},e.prototype.logResultsSort=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeResultsSort(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeSearchboxSubmit=function(){return this.makeSearchEvent(We.searchboxSubmit)},e.prototype.logSearchboxSubmit=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeSearchboxSubmit()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeSearchboxClear=function(){return this.makeSearchEvent(We.searchboxClear)},e.prototype.logSearchboxClear=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeSearchboxClear()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeSearchboxAsYouType=function(){return this.makeSearchEvent(We.searchboxAsYouType)},e.prototype.logSearchboxAsYouType=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeSearchboxAsYouType()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeBreadcrumbFacet=function(e){return this.makeSearchEvent(We.breadcrumbFacet,e)},e.prototype.logBreadcrumbFacet=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeBreadcrumbFacet(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeBreadcrumbResetAll=function(){return this.makeSearchEvent(We.breadcrumbResetAll)},e.prototype.logBreadcrumbResetAll=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeBreadcrumbResetAll()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeDocumentQuickview=function(e,t){return this.makeClickEvent(We.documentQuickview,e,t)},e.prototype.logDocumentQuickview=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeDocumentQuickview(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeDocumentOpen=function(e,t){return this.makeClickEvent(We.documentOpen,e,t)},e.prototype.logDocumentOpen=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeDocumentOpen(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeOmniboxAnalytics=function(e){return this.makeSearchEvent(We.omniboxAnalytics,gt(e))},e.prototype.logOmniboxAnalytics=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeOmniboxAnalytics(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeOmniboxFromLink=e.prototype.logOmniboxFromLink=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeOmniboxFromLink(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeSearchFromLink=function(){return this.makeSearchEvent(We.searchFromLink)},e.prototype.logSearchFromLink=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeSearchFromLink()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeTriggerNotify=function(e){return this.makeCustomEvent(We.triggerNotify,e)},e.prototype.logTriggerNotify=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeTriggerNotify(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeTriggerExecute=function(e){return this.makeCustomEvent(We.triggerExecute,e)},e.prototype.logTriggerExecute=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeTriggerExecute(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeTriggerQuery=e.prototype.logTriggerQuery=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeTriggerQuery()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeUndoTriggerQuery=function(e){return this.makeSearchEvent(We.undoTriggerQuery,e)},e.prototype.logUndoTriggerQuery=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeUndoTriggerQuery(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeTriggerRedirect=function(e){return this.makeCustomEvent(We.triggerRedirect,r(r({},e),{query:this.provider.getSearchEventRequestPayload().queryText}))},e.prototype.logTriggerRedirect=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeTriggerRedirect(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makePagerResize=function(e){return this.makeCustomEvent(We.pagerResize,e)},e.prototype.logPagerResize=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makePagerResize(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makePagerNumber=function(e){return this.makeCustomEvent(We.pagerNumber,e)},e.prototype.logPagerNumber=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makePagerNumber(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makePagerNext=function(e){return this.makeCustomEvent(We.pagerNext,e)},e.prototype.logPagerNext=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makePagerNext(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makePagerPrevious=function(e){return this.makeCustomEvent(We.pagerPrevious,e)},e.prototype.logPagerPrevious=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makePagerPrevious(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makePagerScrolling=function(){return this.makeCustomEvent(We.pagerScrolling)},e.prototype.logPagerScrolling=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makePagerScrolling()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetClearAll=function(e){return this.makeSearchEvent(We.facetClearAll,e)},e.prototype.logFacetClearAll=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetClearAll(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetSearch=function(e){return this.makeSearchEvent(We.facetSearch,e)},e.prototype.logFacetSearch=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetSearch(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetSelect=function(e){return this.makeSearchEvent(We.facetSelect,e)},e.prototype.logFacetSelect=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetSelect(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetDeselect=function(e){return this.makeSearchEvent(We.facetDeselect,e)},e.prototype.logFacetDeselect=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetDeselect(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetExclude=function(e){return this.makeSearchEvent(We.facetExclude,e)},e.prototype.logFacetExclude=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetExclude(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetUnexclude=function(e){return this.makeSearchEvent(We.facetUnexclude,e)},e.prototype.logFacetUnexclude=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetUnexclude(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetSelectAll=function(e){return this.makeSearchEvent(We.facetSelectAll,e)},e.prototype.logFacetSelectAll=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetSelectAll(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetUpdateSort=function(e){return this.makeSearchEvent(We.facetUpdateSort,e)},e.prototype.logFacetUpdateSort=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetUpdateSort(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetShowMore=function(e){return this.makeCustomEvent(We.facetShowMore,e)},e.prototype.logFacetShowMore=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetShowMore(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeFacetShowLess=function(e){return this.makeCustomEvent(We.facetShowLess,e)},e.prototype.logFacetShowLess=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeFacetShowLess(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeQueryError=function(e){return this.makeCustomEvent(We.queryError,e)},e.prototype.logQueryError=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeQueryError(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeQueryErrorBack=function(){return i(this,void 0,void 0,(function(){var e,t=this;return s(this,(function(n){switch(n.label){case 0:return[4,this.makeCustomEvent(We.queryErrorBack)];case 1:return[2,{description:(e=n.sent()).description,log:function(){return i(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,e.log({searchUID:this.provider.getSearchUID()})];case 1:return t.sent(),[2,this.logSearchEvent(We.queryErrorBack)]}}))}))}}]}}))}))},e.prototype.logQueryErrorBack=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeQueryErrorBack()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeQueryErrorRetry=function(){return i(this,void 0,void 0,(function(){var e,t=this;return s(this,(function(n){switch(n.label){case 0:return[4,this.makeCustomEvent(We.queryErrorRetry)];case 1:return[2,{description:(e=n.sent()).description,log:function(){return i(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,e.log({searchUID:this.provider.getSearchUID()})];case 1:return t.sent(),[2,this.logSearchEvent(We.queryErrorRetry)]}}))}))}}]}}))}))},e.prototype.logQueryErrorRetry=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeQueryErrorRetry()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeQueryErrorClear=function(){return i(this,void 0,void 0,(function(){var e,t=this;return s(this,(function(n){switch(n.label){case 0:return[4,this.makeCustomEvent(We.queryErrorClear)];case 1:return[2,{description:(e=n.sent()).description,log:function(){return i(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,e.log({searchUID:this.provider.getSearchUID()})];case 1:return t.sent(),[2,this.logSearchEvent(We.queryErrorClear)]}}))}))}}]}}))}))},e.prototype.logQueryErrorClear=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeQueryErrorClear()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeLikeSmartSnippet=function(){return this.makeCustomEvent(We.likeSmartSnippet)},e.prototype.logLikeSmartSnippet=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeLikeSmartSnippet()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeDislikeSmartSnippet=function(){return this.makeCustomEvent(We.dislikeSmartSnippet)},e.prototype.logDislikeSmartSnippet=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeDislikeSmartSnippet()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeExpandSmartSnippet=function(){return this.makeCustomEvent(We.expandSmartSnippet)},e.prototype.logExpandSmartSnippet=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeExpandSmartSnippet()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeCollapseSmartSnippet=function(){return this.makeCustomEvent(We.collapseSmartSnippet)},e.prototype.logCollapseSmartSnippet=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeCollapseSmartSnippet()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeOpenSmartSnippetFeedbackModal=function(){return this.makeCustomEvent(We.openSmartSnippetFeedbackModal)},e.prototype.logOpenSmartSnippetFeedbackModal=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeOpenSmartSnippetFeedbackModal()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeCloseSmartSnippetFeedbackModal=function(){return this.makeCustomEvent(We.closeSmartSnippetFeedbackModal)},e.prototype.logCloseSmartSnippetFeedbackModal=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeCloseSmartSnippetFeedbackModal()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeSmartSnippetFeedbackReason=function(e,t){return this.makeCustomEvent(We.sendSmartSnippetReason,{reason:e,details:t})},e.prototype.logSmartSnippetFeedbackReason=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeSmartSnippetFeedbackReason(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeExpandSmartSnippetSuggestion=function(e){return this.makeCustomEvent(We.expandSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})},e.prototype.logExpandSmartSnippetSuggestion=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeExpandSmartSnippetSuggestion(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeCollapseSmartSnippetSuggestion=e.prototype.logCollapseSmartSnippetSuggestion=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeCollapseSmartSnippetSuggestion(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeShowMoreSmartSnippetSuggestion=function(e){return this.makeCustomEvent(We.showMoreSmartSnippetSuggestion,e)},e.prototype.logShowMoreSmartSnippetSuggestion=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeShowMoreSmartSnippetSuggestion(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeShowLessSmartSnippetSuggestion=function(e){return this.makeCustomEvent(We.showLessSmartSnippetSuggestion,e)},e.prototype.logShowLessSmartSnippetSuggestion=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeShowLessSmartSnippetSuggestion(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeOpenSmartSnippetSource=function(e,t){return this.makeClickEvent(We.openSmartSnippetSource,e,t)},e.prototype.logOpenSmartSnippetSource=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeOpenSmartSnippetSource(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeOpenSmartSnippetSuggestionSource=function(e,t){return this.makeClickEvent(We.openSmartSnippetSuggestionSource,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)},e.prototype.makeCopyToClipboard=function(e,t){return this.makeClickEvent(We.copyToClipboard,e,t)},e.prototype.logCopyToClipboard=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeCopyToClipboard(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.logOpenSmartSnippetSuggestionSource=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeOpenSmartSnippetSuggestionSource(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeOpenSmartSnippetInlineLink=e.prototype.logOpenSmartSnippetInlineLink=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeOpenSmartSnippetInlineLink(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeOpenSmartSnippetSuggestionInlineLink=e.prototype.logOpenSmartSnippetSuggestionInlineLink=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeOpenSmartSnippetSuggestionInlineLink(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeRecentQueryClick=function(){return this.makeSearchEvent(We.recentQueryClick)},e.prototype.logRecentQueryClick=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeRecentQueryClick()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeClearRecentQueries=function(){return this.makeCustomEvent(We.clearRecentQueries)},e.prototype.logClearRecentQueries=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeClearRecentQueries()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeRecentResultClick=e.prototype.logRecentResultClick=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeRecentResultClick(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeClearRecentResults=function(){return this.makeCustomEvent(We.clearRecentResults)},e.prototype.logClearRecentResults=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeClearRecentResults()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeNoResultsBack=function(){return this.makeSearchEvent(We.noResultsBack)},e.prototype.logNoResultsBack=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeNoResultsBack()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeShowMoreFoldedResults=e.prototype.logShowMoreFoldedResults=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeShowMoreFoldedResults(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeShowLessFoldedResults=e.prototype.logShowLessFoldedResults=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeShowLessFoldedResults()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeEventDescription=e.prototype.makeCustomEvent=function(e,t,n){return void 0===n&&(n=ht[e]),i(this,void 0,void 0,(function(){var o,i,a,c;return s(this,(function(s){switch(s.label){case 0:return this.coveoAnalyticsClient.getParameters,o=r(r({},this.provider.getBaseMetadata()),t),a=[{}],[4,this.getBaseEventRequest(o)];case 1:return i=r.apply(void 0,[r.apply(void 0,a.concat([s.sent()])),{eventType:n,eventValue:e}]),[4,this.coveoAnalyticsClient.makeCustomEvent(i)];case 2:return c=s.sent(),[2,{description:this.makeEventDescription(c,e),log:function(e){var t=e.searchUID;return c.log({lastSearchQueryUid:t})}}]}}))}))},e.prototype.logCustomEvent=function(e,t,n){return void 0===n&&(n=ht[e]),i(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.makeCustomEvent(e,t,n)];case 1:return[2,r.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeCustomEventWithType=function(e,t,n){return i(this,void 0,void 0,(function(){var o,i,a,c;return s(this,(function(s){switch(s.label){case 0:return o=r(r({},this.provider.getBaseMetadata()),n),a=[{}],[4,this.getBaseEventRequest(o)];case 1:return i=r.apply(void 0,[r.apply(void 0,a.concat([s.sent()])),{eventType:t,eventValue:e}]),[4,this.coveoAnalyticsClient.makeCustomEvent(i)];case 2:return c=s.sent(),[2,{description:this.makeEventDescription(c,e),log:function(e){var t=e.searchUID;return c.log({lastSearchQueryUid:t})}}]}}))}))},e.prototype.logCustomEventWithType=function(e,t,n){return i(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.makeCustomEventWithType(e,t,n)];case 1:return[2,r.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.logSearchEvent=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.makeSearchEvent(e,t)];case 1:return[2,n.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeSearchEvent=function(e,t){return i(this,void 0,void 0,(function(){var n,r;return s(this,(function(o){switch(o.label){case 0:return[4,this.getBaseSearchEventRequest(e,t)];case 1:return n=o.sent(),[4,this.coveoAnalyticsClient.makeSearchEvent(n)];case 2:return r=o.sent(),[2,{description:this.makeEventDescription(r,e),log:function(e){var t=e.searchUID;return r.log({searchQueryUid:t})}}]}}))}))},e.prototype.makeClickEvent=function(e,t,n,o){return i(this,void 0,void 0,(function(){var i,a,c;return s(this,(function(s){switch(s.label){case 0:return a=[r({},t)],[4,this.getBaseEventRequest(r(r({},n),o))];case 1:return i=r.apply(void 0,[r.apply(void 0,a.concat([s.sent()])),{queryPipeline:this.provider.getPipeline(),actionCause:e}]),[4,this.coveoAnalyticsClient.makeClickEvent(i)];case 2:return c=s.sent(),[2,{description:this.makeEventDescription(c,e),log:]}}))}))},e.prototype.logClickEvent=function(e,t,n,r){return i(this,void 0,void 0,(function(){return s(this,(function(o){switch(o.label){case 0:return[4,this.makeClickEvent(e,t,n,r)];case 1:return[2,o.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.getBaseSearchEventRequest=function(e,t){var n,o;return i(this,void 0,void 0,(function(){var i;return s(this,(function(s){switch(s.label){case 0:return i=[{}],[4,this.getBaseEventRequest(r(r({},t),null===(o=(n=this.provider).getGeneratedAnswerMetadata)||void 0===o?void 0:o.call(n)))];case 1:return[2,r.apply(void 0,[r.apply(void 0,[r.apply(void 0,i.concat([s.sent()])),this.provider.getSearchEventRequestPayload()]),{queryPipeline:this.provider.getPipeline(),actionCause:e}])]}}))}))},e.prototype.getBaseEventRequest=function(e){return i(this,void 0,void 0,(function(){var t,n,o;return s(this,(function(i){switch(i.label){case 0:return t=r(r({},this.provider.getBaseMetadata()),e),n=[r(r({},this.getOrigins()),this.getSplitTestRun())],o={customData:t,language:this.provider.getLanguage(),facetState:this.provider.getFacetState?this.provider.getFacetState():[],anonymous:this.provider.getIsAnonymous()},[4,this.getClientId()];case 1:return[2,r.apply(void 0,n.concat([(o.clientId=i.sent(),o)]))]}}))}))},e.prototype.getOrigins=e.prototype.getClientId=e.prototype.getSplitTestRun=function(){var e=this.provider.getSplitTestRunName?this.provider.getSplitTestRunName():"",t=this.provider.getSplitTestRunVersion?this.provider.getSplitTestRunVersion():"";return r(r({},e&&{splitTestRunName:e}),t&&{splitTestRunVersion:t})},e.prototype.makeLikeGeneratedAnswer=function(e){return this.makeCustomEvent(We.likeGeneratedAnswer,e)},e.prototype.logLikeGeneratedAnswer=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeLikeGeneratedAnswer(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeDislikeGeneratedAnswer=function(e){return this.makeCustomEvent(We.dislikeGeneratedAnswer,e)},e.prototype.logDislikeGeneratedAnswer=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeDislikeGeneratedAnswer(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeOpenGeneratedAnswerSource=function(e){return this.makeCustomEvent(We.openGeneratedAnswerSource,e)},e.prototype.logOpenGeneratedAnswerSource=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeOpenGeneratedAnswerSource(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeGeneratedAnswerSourceHover=function(e){return this.makeCustomEvent(We.generatedAnswerSourceHover,e)},e.prototype.logGeneratedAnswerSourceHover=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeGeneratedAnswerSourceHover(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeGeneratedAnswerCopyToClipboard=e.prototype.logGeneratedAnswerCopyToClipboard=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeGeneratedAnswerCopyToClipboard(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeGeneratedAnswerHideAnswers=function(e){return this.makeCustomEvent(We.generatedAnswerHideAnswers,e)},e.prototype.logGeneratedAnswerHideAnswers=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeGeneratedAnswerHideAnswers(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeGeneratedAnswerShowAnswers=function(e){return this.makeCustomEvent(We.generatedAnswerShowAnswers,e)},e.prototype.logGeneratedAnswerShowAnswers=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeGeneratedAnswerShowAnswers(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeGeneratedAnswerFeedbackSubmit=function(e){return this.makeCustomEvent(We.generatedAnswerFeedbackSubmit,e)},e.prototype.logGeneratedAnswerFeedbackSubmit=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeGeneratedAnswerFeedbackSubmit(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeRephraseGeneratedAnswer=function(e){return this.makeSearchEvent(We.rephraseGeneratedAnswer,e)},e.prototype.logRephraseGeneratedAnswer=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeRephraseGeneratedAnswer(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeRetryGeneratedAnswer=function(){return this.makeSearchEvent(We.retryGeneratedAnswer)},e.prototype.logRetryGeneratedAnswer=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.makeRetryGeneratedAnswer()];case 1:return[2,e.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e.prototype.makeGeneratedAnswerStreamEnd=function(e){return this.makeCustomEvent(We.generatedAnswerStreamEnd,e)},e.prototype.logGeneratedAnswerStreamEnd=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.makeGeneratedAnswerStreamEnd(e)];case 1:return[2,t.sent().log({searchUID:this.provider.getSearchUID()})]}}))}))},e}();!function(e){e.click="click",e.flowStart="flowStart"}(mt||(mt={})),yt||(yt={})),St||(St={}));var wt=function(){function e(e,t){var n;this.options=e,this.provider=t;var r=(null===(n=e.enableAnalytics)||void 0===n||n)&&!Ge();this.coveoAnalyticsClient=r?new $e(e):new dt,this.svc=new ot({client:this.coveoAnalyticsClient})}return e.prototype.disable=function(){this.coveoAnalyticsClient instanceof $e&&this.coveoAnalyticsClient.clear(),this.coveoAnalyticsClient=new dt,this.svc=new ot({client:this.coveoAnalyticsClient})},e.prototype.enable=function(){this.coveoAnalyticsClient=new $e(this.options),this.svc=new ot({client:this.coveoAnalyticsClient})},e.prototype.logEnterInterface=function(e){return this.svc.setAction(yt.enterInterface),this.svc.setTicket(e.ticket),this.sendFlowStartEvent()},e.prototype.logUpdateCaseField=function(e){return this.svc.setAction(yt.fieldUpdate,{fieldName:e.fieldName}),this.svc.setTicket(e.ticket),this.sendClickEvent()},e.prototype.logSelectFieldSuggestion=function(e){return this.svc.setAction(yt.fieldSuggestionClick,e.suggestion),this.svc.setTicket(e.ticket),this.sendClickEvent()},e.prototype.logSelectDocumentSuggestion=function(e){return this.svc.setAction(yt.suggestionClick,e.suggestion),this.svc.setTicket(e.ticket),this.sendClickEvent()},e.prototype.logRateDocumentSuggestion=function(e){return this.svc.setAction(yt.suggestionRate,r({rate:e.rating},e.suggestion)),this.svc.setTicket(e.ticket),this.sendClickEvent()},e.prototype.logMoveToNextCaseStep=function(e){return this.svc.setAction(yt.nextCaseStep,{stage:null==e?void 0:e.stage}),this.svc.setTicket(e.ticket),this.sendClickEvent()},e.prototype.logCaseCancelled=function(e){return this.svc.setAction(yt.caseCancelled,{reason:St.quit}),this.svc.setTicket(e.ticket),this.sendClickEvent()},e.prototype.logCaseSolved=function(e){return this.svc.setAction(yt.caseSolved,{reason:St.solved}),this.svc.setTicket(e.ticket),this.sendClickEvent()},e.prototype.logCaseCreated=function(e){return this.svc.setAction(yt.caseCreated),this.svc.setTicket(e.ticket),this.sendClickEvent()},e.prototype.sendFlowStartEvent=function(){return this.coveoAnalyticsClient.sendEvent("event","svc",mt.flowStart,this.provider?{searchHub:this.provider.getOriginLevel1()}:null)},e.prototype.sendClickEvent=function(){return this.coveoAnalyticsClient.sendEvent("event","svc",mt.click,this.provider?{searchHub:this.provider.getOriginLevel1()}:null)},e}(),It=function(e,t){void 0===t&&(t=!0),e.caseContext;var n=e.caseId,i=e.caseNumber,s=o(e,["caseContext","caseId","caseNumber"]),a=function(e){var t={};return e.caseContext&&Object.keys(e.caseContext).forEach((function(n){var r,o=null===(r=e.caseContext)||void 0===r?void 0:r[n];if(o){var i="context_".concat(n);t[i]=o}})),t}(e);return r(r(r({CaseId:n,CaseNumber:i},s),!!a.context_Case_Subject&&{CaseSubject:a.context_Case_Subject}),t&&a)},Et=function(){function e(e,t){this.opts=e,this.provider=t;var n=!1===e.enableAnalytics||Ge();this.coveoAnalyticsClient=n?new dt:new $e(e)}return e.prototype.disable=function(){this.coveoAnalyticsClient instanceof $e&&this.coveoAnalyticsClient.clear(),this.coveoAnalyticsClient=new dt},e.prototype.enable=function(){this.coveoAnalyticsClient=new $e(this.opts)},e.prototype.logInterfaceLoad=function(e){if(e){var t=It(e);return this.logSearchEvent(We.interfaceLoad,t)}return this.logSearchEvent(We.interfaceLoad)},e.prototype.logInterfaceChange=function(e){var t=It(e);return this.logSearchEvent(We.interfaceChange,t)},e.prototype.logStaticFilterDeselect=function(e){var t=It(e);return this.logSearchEvent(We.staticFilterDeselect,t)},e.prototype.logFetchMoreResults=function(e){if(e){var t=It(e);return this.logCustomEvent(We.pagerScrolling,r(r({},t),{type:"getMoreResults"}))}return this.logCustomEvent(We.pagerScrolling,{type:"getMoreResults"})},e.prototype.logBreadcrumbFacet=function(e){var t=It(e);return this.logSearchEvent(We.breadcrumbFacet,t)},e.prototype.logBreadcrumbResetAll=function(e){if(e){var t=It(e);return this.logSearchEvent(We.breadcrumbResetAll,t)}return this.logSearchEvent(We.breadcrumbResetAll)},e.prototype.logFacetSelect=function(e){var t=It(e);return this.logSearchEvent(We.facetSelect,t)},e.prototype.logFacetExclude=function(e){var t=It(e);return this.logSearchEvent(We.facetExclude,t)},e.prototype.logFacetDeselect=function(e){var t=It(e);return this.logSearchEvent(We.facetDeselect,t)},e.prototype.logFacetUpdateSort=function(e){var t=It(e);return this.logSearchEvent(We.facetUpdateSort,t)},e.prototype.logFacetClearAll=function(e){var t=It(e);return this.logSearchEvent(We.facetClearAll,t)},e.prototype.logFacetShowMore=function(e){var t=It(e,!1);return this.logCustomEvent(We.facetShowMore,t)},e.prototype.logFacetShowLess=function(e){var t=It(e,!1);return this.logCustomEvent(We.facetShowLess,t)},e.prototype.logQueryError=function(e){var t=It(e,!1);return this.logCustomEvent(We.queryError,t)},e.prototype.logPagerNumber=function(e){var t=It(e,!1);return this.logCustomEvent(We.pagerNumber,t)},e.prototype.logPagerNext=function(e){var t=It(e,!1);return this.logCustomEvent(We.pagerNext,t)},e.prototype.logPagerPrevious=function(e){var t=It(e,!1);return this.logCustomEvent(We.pagerPrevious,t)},e.prototype.logDidYouMeanAutomatic=function(e){if(e){var t=It(e);return this.logSearchEvent(We.didyoumeanAutomatic,t)}return this.logSearchEvent(We.didyoumeanAutomatic)},e.prototype.logDidYouMeanClick=function(e){if(e){var t=It(e);return this.logSearchEvent(We.didyoumeanClick,t)}return this.logSearchEvent(We.didyoumeanClick)},e.prototype.logResultsSort=function(e){var t=It(e);return this.logSearchEvent(We.resultsSort,t)},e.prototype.logSearchboxSubmit=function(e){if(e){var t=It(e);return this.logSearchEvent(We.searchboxSubmit,t)}return this.logSearchEvent(We.searchboxSubmit)},e.prototype.logContextChanged=function(e){var t=It(e);return this.logSearchEvent(Ke.contextChanged,t)},e.prototype.logExpandToFullUI=function(e){var t=It(e);return this.logCustomEvent(Ke.expandToFullUI,t)},e.prototype.logOpenUserActions=function(e){var t=It(e,!1);return this.logCustomEvent(Ke.openUserActions,t)},e.prototype.logShowPrecedingSessions=function(e){var t=It(e,!1);return this.logCustomEvent(Ke.showPrecedingSessions,t)},e.prototype.logShowFollowingSessions=function(e){var t=It(e,!1);return this.logCustomEvent(Ke.showFollowingSessions,t)},e.prototype.logViewedDocumentClick=function(e,t){return this.logCustomEvent(Ke.clickViewedDocument,r(r({},It(t,!1)),{document:e}))},e.prototype.logPageViewClick=function(e,t){return this.logCustomEvent(Ke.clickPageView,r(r({},It(t,!1)),{pageView:e}))},e.prototype.logCreateArticle=function(e,t){return this.logCustomEvent(Ke.createArticle,t?r(r({},It(t,!1)),e):e)},e.prototype.logDocumentOpen=function(e,t,n){return this.logClickEvent(We.documentOpen,e,t,n?It(n,!1):void 0)},e.prototype.logCopyToClipboard=function(e,t,n){return this.logClickEvent(We.copyToClipboard,e,t,n?It(n,!1):void 0)},e.prototype.logCaseSendEmail=function(e,t,n){return this.logClickEvent(We.caseSendEmail,e,t,n?It(n,!1):void 0)},e.prototype.logFeedItemTextPost=function(e,t,n){return this.logClickEvent(We.feedItemTextPost,e,t,n?It(n,!1):void 0)},e.prototype.logDocumentQuickview=function(e,t,n){var o={documentTitle:e.documentTitle,documentURL:e.documentUrl};return this.logClickEvent(We.documentQuickview,e,t,n?r(r({},It(n,!1)),o):o)},e.prototype.logCaseAttach=function(e,t,n){var o={documentTitle:e.documentTitle,documentURL:e.documentUrl,resultUriHash:e.documentUriHash};return this.logClickEvent(We.caseAttach,e,t,n?r(r({},It(n,!1)),o):o)},e.prototype.logCaseDetach=function(e,t){return this.logCustomEvent(We.caseDetach,t?r(r({},It(t,!1)),{resultUriHash:e}):{resultUriHash:e})},e.prototype.logLikeSmartSnippet=function(e){return this.logCustomEvent(We.likeSmartSnippet,e?It(e,!1):void 0)},e.prototype.logDislikeSmartSnippet=function(e){return this.logCustomEvent(We.dislikeSmartSnippet,e?It(e,!1):void 0)},e.prototype.logExpandSmartSnippet=function(e){return this.logCustomEvent(We.expandSmartSnippet,e?It(e,!1):void 0)},e.prototype.logCollapseSmartSnippet=function(e){return this.logCustomEvent(We.collapseSmartSnippet,e?It(e,!1):void 0)},e.prototype.logOpenSmartSnippetFeedbackModal=function(e){return this.logCustomEvent(We.openSmartSnippetFeedbackModal,e?It(e,!1):void 0)},e.prototype.logCloseSmartSnippetFeedbackModal=function(e){return this.logCustomEvent(We.closeSmartSnippetFeedbackModal,e?It(e,!1):void 0)},e.prototype.logSmartSnippetFeedbackReason=function(e,t,n){return this.logCustomEvent(We.sendSmartSnippetReason,n?r(r({},It(n,!1)),{reason:e,details:t}):{reason:e,details:t})},e.prototype.logExpandSmartSnippetSuggestion=function(e,t){var n="documentId"in e?e:{documentId:e};return this.logCustomEvent(We.expandSmartSnippetSuggestion,t?r(r({},It(t,!1)),n):n)},e.prototype.logCollapseSmartSnippetSuggestion=function(e,t){var n="documentId"in e?e:{documentId:e};return this.logCustomEvent(We.collapseSmartSnippetSuggestion,t?r(r({},It(t,!1)),n):n)},e.prototype.logOpenSmartSnippetSource=function(e,t,n){return this.logClickEvent(We.openSmartSnippetSource,e,t,n?It(n,!1):void 0)},e.prototype.logOpenSmartSnippetSuggestionSource=function(e,t,n){return this.logClickEvent(We.openSmartSnippetSuggestionSource,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},n?r(r({},It(n,!1)),t):t)},e.prototype.logOpenSmartSnippetInlineLink=function(e,t,n){return this.logClickEvent(We.openSmartSnippetInlineLink,e,{contentIDKey:t.contentIDKey,contentIDValue:t.contentIDValue},n?r(r({},It(n,!1)),t):t)},e.prototype.logOpenSmartSnippetSuggestionInlineLink=function(e,t,n){return this.logClickEvent(We.openSmartSnippetSuggestionInlineLink,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},n?r(r({},It(n,!1)),t):t)},e.prototype.logLikeGeneratedAnswer=function(e,t){return this.logCustomEvent(We.likeGeneratedAnswer,t?r(r({},It(t,!1)),e):e)},e.prototype.logDislikeGeneratedAnswer=function(e,t){return this.logCustomEvent(We.dislikeGeneratedAnswer,t?r(r({},It(t,!1)),e):e)},e.prototype.logOpenGeneratedAnswerSource=function(e,t){return this.logCustomEvent(We.openGeneratedAnswerSource,t?r(r({},It(t,!1)),e):e)},e.prototype.logGeneratedAnswerSourceHover=function(e,t){return this.logCustomEvent(We.generatedAnswerSourceHover,t?r(r({},It(t,!1)),e):e)},e.prototype.logGeneratedAnswerCopyToClipboard=function(e,t){return this.logCustomEvent(We.generatedAnswerCopyToClipboard,t?r(r({},It(t,!1)),e):e)},e.prototype.logGeneratedAnswerHideAnswers=function(e,t){return this.logCustomEvent(We.generatedAnswerHideAnswers,t?r(r({},It(t,!1)),e):e)},e.prototype.logGeneratedAnswerShowAnswers=function(e,t){return this.logCustomEvent(We.generatedAnswerShowAnswers,t?r(r({},It(t,!1)),e):e)},e.prototype.logGeneratedAnswerFeedbackSubmit=function(e,t){return this.logCustomEvent(We.generatedAnswerFeedbackSubmit,t?r(r({},It(t,!1)),e):e)},e.prototype.logRephraseGeneratedAnswer=function(e,t){return this.logSearchEvent(We.rephraseGeneratedAnswer,t?r(r({},It(t,!1)),e):e)},e.prototype.logRetryGeneratedAnswer=function(e){return this.logSearchEvent(We.retryGeneratedAnswer,e?r({},It(e,!1)):{})},e.prototype.logGeneratedAnswerStreamEnd=function(e,t){return this.logCustomEvent(We.generatedAnswerStreamEnd,t?r(r({},It(t,!1)),e):e)},e.prototype.logCustomEvent=function(e,t){return i(this,void 0,void 0,(function(){var n,o,i;return s(this,(function(s){switch(s.label){case 0:return n=r(r({},this.provider.getBaseMetadata()),t),i=[{}],[4,this.getBaseCustomEventRequest(n)];case 1:return o=r.apply(void 0,[r.apply(void 0,i.concat([s.sent()])),{eventType:ht[e],eventValue:e}]),[2,this.coveoAnalyticsClient.sendCustomEvent(o)]}}))}))},e.prototype.logSearchEvent=function(e,t){return i(this,void 0,void 0,(function(){var n,r;return s(this,(function(o){switch(o.label){case 0:return r=(n=this.coveoAnalyticsClient).sendSearchEvent,[4,this.getBaseSearchEventRequest(e,t)];case 1:return[2,r.apply(n,[o.sent()])]}}))}))},e.prototype.logClickEvent=function(e,t,n,o){return i(this,void 0,void 0,(function(){var i,a;return s(this,(function(s){switch(s.label){case 0:return a=[r({},t)],[4,this.getBaseEventRequest(r(r({},n),o))];case 1:return i=r.apply(void 0,[r.apply(void 0,a.concat([s.sent()])),{searchQueryUid:this.provider.getSearchUID(),queryPipeline:this.provider.getPipeline(),actionCause:e}]),[2,this.coveoAnalyticsClient.sendClickEvent(i)]}}))}))},e.prototype.logShowMoreFoldedResults=function(e,t,n){return i(this,void 0,void 0,(function(){return s(this,(function(r){return[2,this.logClickEvent(We.showMoreFoldedResults,e,t,n?It(n,!1):void 0)]}))}))},e.prototype.logShowLessFoldedResults=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.logCustomEvent(We.showLessFoldedResults,e?It(e,!1):void 0)]}))}))},e.prototype.getBaseCustomEventRequest=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return t=[{}],[4,this.getBaseEventRequest(e)];case 1:return[2,r.apply(void 0,[r.apply(void 0,t.concat([n.sent()])),{lastSearchQueryUid:this.provider.getSearchUID()}])]}}))}))},e.prototype.getBaseSearchEventRequest=function(e,t){var n,o;return i(this,void 0,void 0,(function(){var i;return s(this,(function(s){switch(s.label){case 0:return i=[{}],[4,this.getBaseEventRequest(r(r({},t),null===(o=(n=this.provider).getGeneratedAnswerMetadata)||void 0===o?void 0:o.call(n)))];case 1:return[2,r.apply(void 0,[r.apply(void 0,[r.apply(void 0,i.concat([s.sent()])),this.provider.getSearchEventRequestPayload()]),{searchQueryUid:this.provider.getSearchUID(),queryPipeline:this.provider.getPipeline(),actionCause:e}])]}}))}))},e.prototype.getBaseEventRequest=function(e){return i(this,void 0,void 0,(function(){var t,n,o;return s(this,(function(i){switch(i.label){case 0:return t=r(r({},this.provider.getBaseMetadata()),e),n=[r({},this.getOrigins())],o={customData:t,language:this.provider.getLanguage(),facetState:this.provider.getFacetState?this.provider.getFacetState():[],anonymous:this.provider.getIsAnonymous()},[4,this.getClientId()];case 1:return[2,r.apply(void 0,n.concat([(o.clientId=i.sent(),o)]))]}}))}))},e.prototype.getOrigins=function(){var e,t;return{originContext:null===(t=(e=this.provider).getOriginContext)||void 0===t?void 0:t.call(e),originLevel1:this.provider.getOriginLevel1(),originLevel2:this.provider.getOriginLevel2(),originLevel3:this.provider.getOriginLevel3()}},e.prototype.getClientId=function(){return this.coveoAnalyticsClient instanceof $e?this.coveoAnalyticsClient.getCurrentVisitorId():void 0},e}(),bt=Object.freeze({__proto__:null,get CaseAssistActions(){return yt},CaseAssistClient:wt,get CaseAssistEvents(){return mt},get CaseCancelledReasons(){return St},CoveoAnalyticsClient:$e,CoveoInsightClient:Et,CoveoSearchPageClient:kt,CoveoUA:at,CustomEventsTypes:ht,get EventType(){return n},get InsightEvents(){return Ke},get SearchPageEvents(){return We},SimpleAnalytics:pt,analytics:Je,donottrack:Qe,getCurrentClient:ut,handleOneAnalyticsEvent:lt,history:b,storage:w});window.Promise instanceof Function||global||console.error('This script uses window.Promise which is not supported in your browser. Consider adding a polyfill like "es6-promise".'),window.fetch instanceof Function||global||console.error('This script uses window.fetch which is not supported in your browser. Consider adding a polyfill like "fetch".');var Ct=self.coveoua||lt;if(self.coveoua=lt,self.coveoanalytics=bt,Ct.q){var At=Ct.q.filter((),Dt=Ct.q.filter(();a(a([],At,!0),Dt,!0).forEach(()}return self.coveoua}));
//# sourceMappingURL=coveoua.js.map
