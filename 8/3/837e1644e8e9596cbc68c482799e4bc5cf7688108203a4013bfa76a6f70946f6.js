/* prebid.js v4.29.0
Updated : 2021-03-02
http://prebid.org/download.html
bidder:
- AppNexus
- Criteo
- Improve Digital
- Index Exchange
- OpenX
- PubMatic
- Rubicon Project
- Smart AdServer
moduli:
- Consent Management - GDPR
- Currency
 */
!{0:1:10:function(e,t,n){var r=n(98);e.exports=r},100:101:102:103:104:105:106:107:function(e,t,n){n(108);var r=n(52);e.exports=r("Array","includes")},108:109:11:110:111:112:113:114:115:116:117:118:119:12:function(e,t,n){var r=n(107);e.exports=r},120:121:122:123:124:125:126:127:128:129:13:130:131:132:133:function(e,t,n){n(14)({target:"Set",stat:!0},{from:n(134)})},134:135:136:137:function(e,t,n){"use strict";var r=n(14),i=n(16),o=n(138);r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},138:139:14:140:141:142:143:144:145:146:function(e,t,n){"use strict";var r=n(14),i=n(16),o=n(15),a=n(19),c=n(17);r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=o(this),n=a(t.has);return!c(e,function(e){if(!0===n.call(t,e))return c.stop()}).stopped}})},147:148:149:15:150:151:152:153:154:155:156:157:158:159:16:160:161:162:163:17:18:19:2:21:22:224:function(e,t,n){n(225);var r=n(52);e.exports=r("Array","findIndex")},225:function(e,t,n){"use strict";var r=n(14),i=n(56).findIndex,o=n(51),a=n(60),c="findIndex",u=!0,s=a(c);c in[]&&Array(1)[c](function(){u=!1}),r({target:"Array",proto:!0,forced:u||!s},{findIndex:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),o(c)},23:232:233:24:25:26:27:28:29:3:30:31:32:33:34:35:36:366:367:368:369:37:370:38:39:4:40:41:function(e,t,n){"use strict";n.d(t,"b",function(){return L}),n.d(t,"a",function(){return F}),t.k=function(e){var t,i,b,v,o=e.adUnits,n=e.adUnitCodes,r=e.callback,a=e.cbTimeout,c=e.labels,u=e.auctionId,y=o,s=c,d=n,h=[],f=[],l=[],p=u||P.generateUUID(),g=r,m=a,S=[],A=new Set;tion j(n){var f=this;n.forEach(;var l={},e={bidRequests:n,run:function(){var e,t;e=O.bind(null,!0),t=setTimeout(e,m),v=t,b=L,q.emit(G.EVENTS.AUCTION_INIT,E());var r,i,o,a,c,u,s=(r=T,i=f,o=0,a=!1,c=new Set,u={},{addBidResponse:function(e,t){u[t.requestId]=!0,o++;var n={adUnitCode:e,bid:t,bidderRequest:this,auctionId:i.getAuctionId()});"video"===n.mediaType?function(e,t,n,r){var i=!0,o=Object(C.getBidRequest)(t.requestId,[n]),a=o&&Object(C.deepAccess)(o,"mediaTypes.video"),c=a&&Object(C.deepAccess)(a,"context");B.b.getConfig("cache.url")&&c!==R.b&&(!t.videoCacheKey||B.b.getConfig("cache.ignoreBidderCacheKey")?(i=!1,X(e,t,r,o)):t.vastUrl||(P.logError("videoCacheKey specified but not required vastUrl for video bid"),i=!1)),i&&($(e,t),r())}(i,n,this,d):($(i,n),d())},adapterDone:);.callBids(y,n,s.adapterDone,{request:done:,m,I)}};e)||(P.logWarn("queueing auction due to limited endpoint capacity"),K.push(e))}return{addBidReceived:function(e){f=f.concat(e)},addNoBid:executeCallback:O,callBids:addWinningBid:setBidTargeting:getWinningBids:function(){return S},getTimeout:function(){return m},getAuctionId:function(){return p},getAuctionStatus:function(){return b},getAdUnits:function(){return y},getAdUnitCodes:function(){return d},getBidRequests:function(){return h},getBidsReceived:function(){return f},getNoBids:function(){return l}}},n.d(t,"c",function(){return J}),n.d(t,"e",function(){return Y}),t.g=d,t.d=$,n.d(t,"f",function(){return X}),n.d(t,"i",function(){return f}),n.d(t,"h",function(){return l}),t.j=g;var C=n(0),w=n(45),a=n(37),o=n(95),_=n(11),B=n(3),r=n(43),i=n(13),c=n(10),U=n.n(c),u=n(12),x=n.n(u),R=n(25),s=n(2);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=r.a.syncUsers,P=n(0),M=n(8).default,q=n(9),G=n(5),W="started",L="inProgress",F="completed";q.on(G.EVENTS.BID_ADJUSTMENT,;var z=4,V={},H={},K=[];var J=Object(i.b)("async","addBidResponse"),Y=Object(i.b)("sync","addBidderRequests"),Q=Object(i.b)("async","bidsBackCallback");r X=Object(i.b)("async","callPrebidCache");ar f=l=p=2:function(e,t){e.exports={}},43:44:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var A=n(0),E=n(3),O=n(37),r=n(23),i=n(93),o=n(2),a=n(12),T=n.n(a),c=n(10),I=n.n(c);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=n(0),B=n(5),U=[],x=Object.keys(B.TARGETING_KEYS).map(function(e){return B.TARGETING_KEYS[e]}),s=d=r D,N,f,l=(D=r.a,f={},(N={}).setLatestAuctionForAdUnit=N.resetPresetTargeting=N.resetPresetTargetingAST=N.getAllTargeting=N.setTargetingForGPT=N.getWinningBids=N.setTargetingForAst=N.isApntagDefined=N);47:48:49:5:50:51:52:function(e,t,n){var r=n(29);e.exports=r},525:function(e,t,n){var r=n(526);e.exports=r},526:527:function(e,t,n){n(14)({target:"Number",stat:!0},{isInteger:n(528)})},528:53:function(e,t){e.exports={}},54:55:56:57:58:59:60:61:62:63:64:65:66:67:69:7:70:function(e,t,n){var r=n(366);e.exports=r},71:72:73:74:75:,76,77,78,79,8,80,81,82,83,84,85,86,87,88,89,9,90,91:function(e,t,n){var r=n(155);e.exports=r},92,93,94,95,956:function(e,t,n){e.exports=n(69)},98:function(e,t,n){n(99);var r=n(52);e.exports=r("Array","find")},99});
pbjsChunk([338],{280:function(e,r,a){e.exports=a(281)},281:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),a.d(r,"spec",function(){return R});var f=a(11),_=a(0),k=a(3),y=a(1),g=a(2),p=a(23),t=a(10),I=a.n(t),n=a(12),w=a.n(n),v=a(25),i=a(7);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}function A(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return o(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,t=new Array(r);a<r;a++)t[a]=e[a];return t}var d="appnexus",x="https://ib.adnxs.com/ut/v3/prebid",c=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],C=["age","externalUid","segments","gender","dnt","language"],S=["geo","device_id"],T=["enabled","dongle","member_id","debug_timeout"],u={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},l={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},m="<script",h=/\/\/cdn\.adnxs\.com\/v/,E="trk.js",O=Object(i.b)(32,d),R={code:d,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[g.b,g.d,g.c],isBidRequestValid,buildRequests:function(e,r){var t=e.map(N),n=I()(e,M),i={};!0===k.b.getConfig("coppa")&&(i={coppa:!0}),n&&Object.keys(n.params.user).filter(function(e){return w()(C,e)}).forEach);var a,s=I()(e,B);s&&s.params&&s.params.app&&(a={},Object.keys(s.params.app).filter(function(e){return w()(S,e)}).forEach));var o,d=I()(e,D);d&&d.params&&s.params.app&&s.params.app.id&&(o={appid:d.params.app.id});var p={},c={},u=O.getCookie("apn_prebid_debug")||null;if(u)try{p=JSON.parse(u)}catch(e){_.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var l=I()(e,V);l&&l.debug&&(p=l.debug)}p&&p.enabled&&Object.keys(p).filter(function(e){return w()(T,e)}).forEach);var m,f,y=I()(e,z),g=y?parseInt(y.params.member,10):0,v=e[0].schain,b=I()(e,W),h={tags:A(t),user:i,sdk:{source:"pbjs",version:"4.29.0"},schain:v};return b&&(h.iab_support={omidpn:"Appnexus",omidpv:"4.29.0"}),0<g&&(h.member_id=g),s&&(h.device=a),d&&(h.app=o),k.b.getConfig("adpod.brandCategoryExclusion")&&(h.brand_category_uniqueness=!0),c.enabled&&(h.debug=c,_.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(c,null,4))),r&&r.gdprConsent&&(h.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies}),r&&r.uspConsent&&(h.us_privacy=r.uspConsent),r&&r.refererInfo&&(m={rd_ref:encodeURIComponent(r.refererInfo.referer),rd_top:r.refererInfo.reachedTop,rd_ifs:r.refererInfo.numIframes,rd_stk:r.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},h.referrer_detection=m),I()(e,J)&&e.filter(J).forEach),e[0].userId&&(L(f=[],_.deepAccess(e[0],"userId.criteoId"),"criteo.com",null),L(f,_.deepAccess(e[0],"userId.netId"),"netid.de",null),L(f,_.deepAccess(e[0],"userId.idl_env"),"liveramp.com",null),L(f,_.deepAccess(e[0],"userId.tdid"),"adserver.org","TDID"),f.length&&(h.eids=f)),t[0].publisher_id&&(h.publisher_id=t[0].publisher_id)(h,r)},interpretResponse,getMappingFileInfo,getUserSyncs,transformBidParams,onBidWon}terBidder)(R)}},[280]);
pbjsChunk([300],{364:function(n,t,e){n.exports=e(365)},365},[364]);
pbjsChunk([1],{385:function(t,e,r){t.exports=r(386)},386:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"ADAPTER_VERSION",function(){return ADAPTER_VERSION}),__webpack_require__.d(__webpack_exports__,"PROFILE_ID_PUBLISHERTAG",function(){return PROFILE_ID_PUBLISHERTAG}),__webpack_require__.d(__webpack_exports__,"spec",function(){return spec}),__webpack_exports__.tryGetCriteoFastBid=tryGetCriteoFastBid;var __WEBPACK_IMPORTED_MODULE_0__src_adloader_js__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__src_adapters_bidderFactory_js__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_2__src_config_js__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__src_utils_js__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__=__webpack_require__(387),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__),__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__=__webpack_require__(7);function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var GVLID=91,ADAPTER_VERSION=33,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=Object(__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__.b)(GVLID),LOG_PREFIX="Criteo: ",PUBLISHER_TAG_URL="https://static.criteo.net/js/ld/publishertag.prebid.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.b,__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.d,__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c],isBidRequestValid,buildRequests:function(t,e){var r,i,s,a;if(_extends(e,{publisherExt:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("fpd.context"),userExt:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("fpd.user"),ceh:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("criteo.ceh")}),publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout,e.timeout)),s=publisherTagAvailable()?(i=(r=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,t,e,"4.29.0")).buildCdbUrl(),r.buildCdbRequest()):(i=buildCdbUrl(a=buildContext(t,e)),buildCdbRequest(a,t,e)))return{method:"POST",url:i,data:s,bidRequests:t}},interpretResponse,onTimeout,onBidWon,onSetTargeting}ACK_IMPORTED_MODULE_1__src_adapters_bidderFactory_js__.registerBidder)(spec)},387,388,389},[385]);
pbjsChunk([291],{392:function(e,n,r){e.exports=r(393)},393:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"currencySupportEnabled",function(){return R}),r.d(n,"currencyRates",function(){return D}),n.setConfig=c,n.addBidResponseHook=j;var s=r(18),u=r(34),a=r(5),f=(r.n(a),r(4)),d=r(0),o=r(3),l=r(13);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g,v="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",p=4,b=[],h={},C=!1,S=!0,m="USD",R=!1,D={},I={}ction F(e,n){var r,o=1<arguments.length&&void 0!==n?n:m,c=null,t="".concat(e,"->").concat(o);if(t in h)c=h[t],d.logMessage("Using conversionCache value "+c+" for "+t);else if(!1===R){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");c=1}else if(e===o)c=1;else if(e in D.conversions){if(!(o in(r=D.conversions[e])))throw new Error("Specified adServerCurrency in config '"+o+"' not found in the currency rates file");c=r[o],d.logInfo("getCurrencyConversion using direct "+e+" to "+o+" conversionRate "+c)}else if(o in D.conversions){if(!(e in(r=D.conversions[o])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");c=U(1/r[e],p),d.logInfo("getCurrencyConversion using reciprocal "+e+" to "+o+" conversionRate "+c)}else{var i=Object.keys(D.conversions)[0];if(!(e in D.conversions[i]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var s=1/D.conversions[i][e];if(!(o in D.conversions[i]))throw new Error("Specified adServerCurrency in config '"+o+"' not found in the currency rates file");c=U(s*D.conversions[i][o],p);d.logInfo("getCurrencyConversion using intermediate "+e+" thru "+i+" to "+o+" conversionRate "+c)}return t in h||(d.logMessage("Adding conversionCache value "+c+" for "+t),h[t]=c),co.b.getConfig("currency")}},[392]);
pbjsChunk([41],{20:function(e,r,t){"use strict";r.b,r.a;var c=t(0),o={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt},parrableId:{source:"parrable.com",atype:1,getValue,getUidExt},idl_env:{source:"liveramp.com",atype:1},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:1,getEidExt},britepoolid:{source:"britepool.com",atype:1},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:1},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:1},fabrickId:{source:"neustar.biz",atype:1},tapadId:{source:"tapad.com",atype:1}}},503:function(e,r,t){e.exports=t(504)},504:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",function(){return n}),r.ImproveDigitalAdServerJSClient=p;var h=t(0),i=t(1),f=t(3),m=t(2),d=t(11),c=t(20),a=t(12),b=t.n(a)var g=["skip","skipmin","skipafter"],n={version:"7.2.0",code:"improvedigital",gvlid:253,aliases:["id"],supportedMediaTypes:[m.b,m.c,m.d],isBidRequestValid,buildRequests:function(e,r){var t,i=e.map(function(e){var r=h.getBidIdParameter("adUnitCode",e)||null,t=h.getBidIdParameter("placementId",e.params)||null,i=null,a=null;null===t&&(i=h.getBidIdParameter("publisherId",e.params)||null,a=h.getBidIdParameter("placementKey",e.params)||null);var n=h.getBidIdParameter("keyValues",e.params)||null,s=h.getBidIdParameter("size",e.params)||null,d=h.getBidIdParameter("bidId",e),c=h.getBidIdParameter("transactionId",e),o=f.b.getConfig("currency.adServerCurrency"),u=h.getBidIdParameter("bidFloor",e.params),p=h.getBidIdParameter("bidFloorCur",e.params),l={};y(e)&&(l.adTypes=[m.d]);(y(e)||v(e))&&(l.video=function(r){var t={};return Object.keys(Object(r.mediaTypes.video)).filter(function(e){return b()(g,e)}).forEach(function(e){t[e]=r.mediaTypes.video[e]}),Object.keys(Object(r.params.video)).filter).forEach),t}(e));t?l.placementId=t:(i&&(l.publisherId=i),a&&(l.placementKey=a));n&&(l.keyValues=n);!0===f.b.getConfig("improvedigital.usePrebidSizes")&&!y(e)&&!v(e)&&e.sizes&&0<e.sizes.length?l.format=e.sizes:s&&s.w&&s.h&&(l.size={},l.size.h=s.h,l.size.w=s.w);d&&(l.id=d);r&&(l.adUnitId=r);c&&(l.transactionId=c);o&&(l.currency=o);u&&(l.bidFloor=u,l.bidFloorCur=p?p.toUpperCase():"USD");return l}),a=new p("hb"),n={singleRequestMode:!0===f.b.getConfig("improvedigital.singleRequest"),returnObjType:a.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT,libVersion:this.version};r&&r.gdprConsent&&r.gdprConsent.consentString&&(n.gdpr=r.gdprConsent.consentString),r&&r.uspConsent&&(n.usPrivacy=r.uspConsent),r&&r.refererInfo&&r.refererInfo.referer&&(n.referrer=r.refererInfo.referer),n.schain=e[0].schain,!e[0].userId||(t=Object(c.b)(e[0].userId)).length&&h.deepSetValue(n,"user.ext.eids",t);var s=a.createRequest(i,n);return s.errors&&0<s.errors.length&&h.logError("ID WARNING 0x01"),s.requests.forEach),s.requests},interpretResponse:function(e,r){var n=r.bidderRequest,s=[];return h._each(e.body.bid,function(t){var e,i,r,a;t.price&&null!==t.price&&!t.hasOwnProperty("errorCode")&&(t.adm||t.native)&&(e=h.getBidRequest(t.id,[n]),i={},t.native?(i.native=function(e){var r={};if(!e||!h.isArray(e.assets))return null;e.assets.forEach(function(e){if(e.title)r.title=e.title.text;else if(e.data)switch(e.data.type){case 1:r.sponsoredBy=e.data.value;break;case 2:r.body=e.data.value;break;case 3:r.rating=e.data.value;break;case 4:r.likes=e.data.value;break;case 5:r.downloads=e.data.value;break;case 6:r.price=e.data.value;break;case 7:r.salePrice=e.data.value;break;case 8:r.phone=e.data.value;break;case 9:r.address=e.data.value;break;case 10:r.body2=e.data.value;break;case 11:r.displayUrl=e.data.value;break;case 12:r.cta=e.data.value}else if(e.img)switch(e.img.type){case 2:r.icon={url:e.img.url,width:e.img.w,height:e.img.h};break;case 3:r.image={url:e.img.url,width:e.img.w,height:e.img.h}}}),e.eventtrackers?(r.impressionTrackers=[],e.eventtrackers.forEach)):(r.impressionTrackers=e.imptrackers||[],r.javascriptTrackers=e.jstracker);e.link&&(r.clickUrl=e.link.url,r.clickTrackers=e.link.clicktrackers);e.privacy&&(r.privacyLink=e.privacy);return r}(t.native),i.ortbNative=t.native,t.nurl&&i.native.impressionTrackers.unshift(t.nurl),i.mediaType=m.c):t.ad_type&&"video"===t.ad_type?(i.vastXml=t.adm,i.mediaType=m.d,v(e)&&(i.adResponse={content:i.vastXml,height:t.h,width:t.w},i.renderer=function(e){var r=d.a.install({id:e.adUnitCode,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,config:h.deepAccess(e,"renderer.options"),adUnitCode:e.adUnitCode});try{r.setRender(u)}catch(e){h.logWarn("Prebid Error calling setRender on renderer",e)}return r}(e))):(r="",t.nurl&&0<t.nurl.length&&(r='<img src="'.concat(t.nurl,'" width="0" height="0" style="display:none">')),i.ad="".concat(r,"<script>").concat(t.adm,"<\/script>"),i.mediaType=m.b),i.adId=t.id,i.cpm=parseFloat(t.price),i.creativeId=t.crid,i.currency=t.currency?t.currency.toUpperCase():"USD",h.isNumber(t.lid)&&t.buying_type&&"rtb"!==t.buying_type?i.dealId=t.lid:Array.isArray(t.lid)&&Array.isArray(t.buying_type)&&t.lid.length===t.buying_type.length&&(a=!1,t.buying_type.forEach(function(e,r){a||e&&"rtb"!==e&&(a=!0,i.dealId=t.lid[r])})),i.height=t.h,i.netRevenue=!!t.isNet&&t.isNet,i.requestId=t.id,i.ttl=300,i.width=t.w,i.width&&i.height||(i.width=1,i.height=1),s.push(i))}),s},getUserSyncs:function(e,r){if(e.pixelEnabled){var t=[];return r.forEach(function(e){e.body.bid.forEach(function(e){h.isArray(e.sync)&&e.sync.forEach)})}),t.map)}return[]}};function y(e){var r=Object.keys(h.deepAccess(e,"mediaTypes",{})),t=h.deepAccess(e,"mediaTypes.video"),i=h.deepAccess(e,"mediaTypes.video.context");return"video"===e.mediaType||1===r.length&&t&&"outstream"!==i}function v(e){var r=h.deepAccess(e,"mediaTypes.video"),t=h.deepAccess(e,"mediaTypes.video.context");return r&&"outstream"===t}function u(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()}.bind(null,e))})}function p(e){this.CONSTANTS={AD_SERVER_BASE_URL:"ice.360yield.com",END_POINT:e||"hb",AD_SERVER_URL_PARAM:"jsonp=",CLIENT_VERSION:"JS-6.4.0",MAX_URL_LENGTH:2083,ERROR_CODES:{MISSING_PLACEMENT_PARAMS:2,LIB_VERSION_MISSING:3},RETURN_OBJ_TYPE:{DEFAULT:0,URL_PARAMS_SPLIT:1}},this.getErrorReturn,this.createRequest=function(e,r,t){if(!r.libVersion)return this.getErrorReturn(this.CONSTANTS.ERROR_CODES.LIB_VERSION_MISSING);r.returnObjType=r.returnObjType||this.CONSTANTS.RETURN_OBJ_TYPE.DEFAULT,r.adServerBaseUrl="https://"+(r.adServerBaseUrl||this.CONSTANTS.AD_SERVER_BASE_URL);var i=[];if(h.isArray(e))for(var a=0;a<e.length;a++)c=this.createImpressionObject(e[a]),i.push(c);else c=this.createImpressionObject(e),i.push(c);var n=!0;r.returnObjType===this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT&&(n=!1);var s={requests:[]};n&&(s.idMappings=[]);for(var d,c,o=null,u="".concat(r.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM),p={bid_request:this.createBasicBidRequestObject(r,t)},l=0;l<i.length;l++){(c=i[l]).errorCode?(o=o||[]).push({errorCode:c.errorCode,adUnitId:c.adUnitId}):(n&&s.idMappings.push({adUnitId:c.adUnitId,id:c.impressionObject.id}),p.bid_request.imp=p.bid_request.imp||[],p.bid_request.imp.push(c.impressionObject),d=!1,(u+encodeURIComponent(JSON.stringify(p))).length>this.CONSTANTS.MAX_URL_LENGTH&&(d=!0,1<p.bid_request.imp.length&&(p.bid_request.imp.pop(),n&&s.idMappings.pop(),l--)),!d&&r.singleRequestMode&&l!==i.length-1||(s.requests.push(this.formatRequest(r,p)),p={bid_request:this.createBasicBidRequestObject(r,t)}))}return o&&(s.errors=o),s},this.formatRequest=function(e,r){switch(e.returnObjType){case this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT:return{method:"GET",url:"".concat(e.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT),data:"".concat(this.CONSTANTS.AD_SERVER_URL_PARAM).concat(encodeURIComponent(JSON.stringify(r)))};default:return{url:"".concat(e.adServerBaseUrl,"/")+"".concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM)+encodeURIComponent(JSON.stringify(r))}}},this.createBasicBidRequestObject=function(e,r){var t={secure:1};if(e.requestId?t.id=e.requestId:t.id=h.getUniqueIdentifierStr(),e.domain&&(t.domain=e.domain),e.page&&(t.page=e.page),e.ref&&(t.ref=e.ref),e.callback&&(t.callback=e.callback),e.libVersion&&(t.version=e.libVersion+"-"+this.CONSTANTS.CLIENT_VERSION),e.referrer&&(t.referrer=e.referrer),!e.gdpr&&0!==e.gdpr||(t.gdpr=e.gdpr),e.usPrivacy&&(t.us_privacy=e.usPrivacy),e.schain&&(t.schain=e.schain),e.user&&(t.user=e.user),r)for(var i in r)t[i]=r[i];return t},this.createImpressionObject=function(e){var r,t,i={},a={};if(i.impressionObject=a,e.id?a.id=e.id:a.id=h.getUniqueIdentifierStr(),e.adTypes&&(a.ad_types=e.adTypes),e.adUnitId&&(i.adUnitId=e.adUnitId),e.currency&&(a.currency=e.currency.toUpperCase()),e.bidFloor&&(a.bidfloor=e.bidFloor),e.bidFloorCur&&(a.bidfloorcur=e.bidFloorCur.toUpperCase()),e.placementId&&(a.pid=e.placementId),e.publisherId&&(a.pubid=e.publisherId),e.placementKey&&(a.pkey=e.placementKey),e.transactionId&&(a.tid=e.transactionId),h.isEmpty(e.video)||(1!==(r=o({},e.video)).skip&&(delete r.skipmin,delete r.skipafter,0!==r.skip&&(h.logWarn("video.skip: invalid value '".concat(r.skip,"'. Expected 0 or 1")),delete r.skip)),h.isEmpty(r)||(a.video=r)),e.keyValues)for(var n in e.keyValues)for(var s=0;s<e.keyValues[n].length;s++)a.kvw=a.kvw||{},a.kvw[n]=a.kvw[n]||[],a.kvw[n].push(e.keyValues[n][s]);return a.banner={},e.size&&e.size.w&&e.size.h&&(a.banner.w=e.size.w,a.banner.h=e.size.h),e.format&&h.isArray(e.format)&&(0<(t=e.format.filter(function(e){return 2===e.length&&h.isInteger(e[0])&&h.isInteger(e[1])&&0<=e[0]&&0<=e[1]}).map)).length&&(a.banner.format=t)),a.pid||a.pubid||a.pkey||a.banner&&a.banner.w&&a.banner.h||(i.impressionObject=null,i.errorCode=this.CONSTANTS.ERROR_CODES.MISSING_PLACEMENT_PARAMS),i}}Object(i.registerBidder)(n)}},[503]);
pbjsChunk([232],{523,524:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec");var R=t(0),A=t(2),U=t(3),n=t(10),l=t.n(n),i=t(525),s=t.n(i),a=t(1)f=[A.b,A.d],b=100,g=300,h=3600,v=!0,x={JPY:1}nction j(e,r,t,n){var i="https://htlb.casalemedia.com/cygnus",s=function(e){var r={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus"},t=[],n={};if(R.isArray(e))for(var i=0;i<e.length;i++)r[e[i].source]&&R.deepAccess(e[i],"uids.0")&&(n[e[i].source]=1,e[i].uids[0].ext={rtiPartner:r[e[i].source]},delete e[i].uids[0].atype,t.push(e[i]));return{toSend:t,seenSources:n}}(R.deepAccess(e,"0.userIdAsEids")),a=s.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var o,d=window.headertag.getIdentityInfo();if(d&&"object"===J(d))for(var p in d){!d.hasOwnProperty(p)||!(o=d[p]).responsePending&&o.data&&"object"===J(o.data)&&Object.keys(o.data).length&&!s.seenSources[o.data.source]&&a.push(o.data)}}var c={};c.id=e[0].bidderRequestId,c.site={},c.ext={},c.ext.source="prebid",c.ext.ixdiag={};var m,u=function(t){for(var n,i=t.map).filter),s={mfu:0,bu:0,iu:0,nu:0,ou:0,allU:0,ren:!1,version:"4.29.0"},e=0;e<i.length;e++)!function(r){var e;n=t.filter(function(e){return e.transactionId===i[r]})[0],R.deepAccess(n,"mediaTypes")&&(1<Object.keys(n.mediaTypes).length&&s.mfu++,R.deepAccess(n,"mediaTypes.native")&&s.nu++,R.deepAccess(n,"mediaTypes.banner")&&s.bu++,"outstream"===R.deepAccess(n,"mediaTypes.video.context")&&(s.ou++,e="object"===J(R.deepAccess(n,"renderer")||R.deepAccess(n,"mediaTypes.video.renderer")),s.ren=s.ren&&e?R.deepAccess(s,"ren"):e),"instream"===R.deepAccess(n,"mediaTypes.video.context")&&s.iu++,s.allU++)}(e);return s}(e);for(var y in u)c.ext.ixdiag[y]=u[y];e[0].schain&&(c.source={ext:{schain:e[0].schain}}),0<a.length&&(c.user={},c.user.eids=a),document.referrer&&""!==document.referrer&&(c.site.ref=document.referrer),r&&(r.gdprConsent&&((m=r.gdprConsent).hasOwnProperty("gdprApplies")&&(c.regs={ext:{gdpr:m.gdprApplies?1:0}}),m.hasOwnProperty("consentString")&&(c.user=c.user||{},c.user.ext={consent:m.consentString||""},m.hasOwnProperty("addtlConsent")&&m.addtlConsent&&(c.user.ext.consented_providers_settings={consented_providers:m.addtlConsent}))),r.uspConsent&&R.deepSetValue(c,"regs.ext.us_privacy",r.uspConsent),r.refererInfo&&(c.site.page=r.refererInfo.referer));var l={},f=r&&r.bidderCode||"ix",b=U.b.getConfig(f);if(b){if("object"===J(b.firstPartyData)){var g=b.firstPartyData,h="?";for(var v in g)g.hasOwnProperty(v)&&(h+="".concat(encodeURIComponent(v),"=").concat(encodeURIComponent(g[v]),"&"));h=h.slice(0,-1),c.site.page+=h}"number"==typeof b.timeout&&(l.t=b.timeout),"boolean"==typeof b.detectMissingSizes?c.ext.ixdiag.dms=b.detectMissingSizes:c.ext.ixdiag.dms=!0}l.s=e[0].params.siteId,l.v=n,l.ac="j",l.sd=1,8.1===n&&(l.nf=1);var x=[],O={method:"GET",url:i,data:l},w=new Blob(["".concat(O.url).concat(R.parseQueryStringParameters(B(B({},O.data),{},{r:JSON.stringify(c)})))]).size,I=w,P=0,S=0,z=0;c.ext.ixdiag.msd=0,c.ext.ixdiag.msi=0,c.imp=[];for(var A,T,C,j,k,E=0,D=Object.keys(t),F=[];E<D.length&&x.length<4;){t[D[E]].hasOwnProperty("missingCount")&&(z=t[D[E]].missingCount)(t[D[E]],8e3-w),t[D[E]].hasOwnProperty("missingImps")&&(S=t[D[E]].missingImps.length),(I+=new Blob([encodeURIComponent(JSON.stringify(t[D[E]]))]).size)<8e3?((A=c.imp).push.apply(A,N(t[D[E]].ixImps)),c.ext.ixdiag.msd+=z,c.ext.ixdiag.msi+=S,t[D[E]].hasOwnProperty("missingImps")&&F.push.apply(F,N(t[D[E]].missingImps)),E++):(C=R.deepClone(l),(T=c.imp).push.apply(T,N(F)),c.ext.ixdiag.sn=P,C.sn=P,P++,C.r=JSON.stringify(c),x.push({method:"GET",url:i,data:C}),F=[],I=w,c.imp=[],S=z=0,c.ext.ixdiag.msd=0,c.ext.ixdiag.msi=0)}return w<I&&I<8e3&&x.length<4&&(k=R.deepClone(l),(j=c.imp).push.apply(j,N(F)),0<x.length&&(c.ext.ixdiag.sn=P,k.sn=P),k.r=JSON.stringify(c),x.push({method:"GET",url:i,data:k})),xvar p={code:"ix",gvlid:10,supportedMediaTypes:f,isBidRequestValid:function(e){var r,t,n=R.deepAccess(e,"params.video"),i=R.deepAccess(e,"params.size"),s=R.deepAccess(e,"mediaTypes.banner.sizes"),a=R.deepAccess(e,"mediaTypes.video"),o=R.deepAccess(e,"mediaTypes.video.playerSize"),d=e.params.hasOwnProperty("bidFloor"),p=e.params.hasOwnProperty("bidFloorCur");if(!O(e.params.size))return R.logError("ix bidder params: bid size has invalid format."),!1;if(e.hasOwnProperty("mediaType")&&!R.contains(f,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!s&&!o)return!1;if(!C(e.sizes,i)&&!(o&&C(o,i)||s&&C(s,i)))return R.logError("ix bidder params: bid size is not included in ad unit sizes or player size."),!1;if(a&&n){for(var c=!0,m=0,u=["mimes","minduration","maxduration","protocols"];m<u.length;m++){var y=u[m];if(!a.hasOwnProperty(y)&&!n.hasOwnProperty(y)){if("protocols"===y&&(a.hasOwnProperty("protocol")||n.hasOwnProperty("protocol")))continue;R.logError("ix bidder params: "+y+" is not included in either the adunit or params level"),c=!1}}if(!c)return!1}return"string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId?(R.logError("ix bidder params: siteId must be string or number value."),!1):!!(!d&&!p||d&&p&&(r=e.params.bidFloor,t=e.params.bidFloorCur,Boolean("number"==typeof r&&"string"==typeof t&&t.match(/^[A-Z]{3}$/))))||(R.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,r){for(var t,n,i,s,a,o,d,p,c,m,u,y,l,f=[],b={},g={},h=null,v={},x=B(B({},{detectMissingSizes:!0}),U.b.getConfig("ix")),O=0;O<e.length;O++){(h=e[O]).mediaType!==A.d&&!R.deepAccess(h,"mediaTypes.video")||h.mediaType!==A.d&&!C(h.mediaTypes.video.playerSize,h.params.size)||(g.hasOwnProperty(h.transactionId)||(g[h.transactionId]={}),g[h.transactionId].hasOwnProperty("ixImps")||(g[h.transactionId].ixImps=[]),g[h.transactionId].ixImps.push(function(e){var r=T(e),t=R.deepAccess(e,"mediaTypes.video"),n=R.deepAccess(e,"mediaTypes.video.context"),i=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext"];for(var s in r.video=R.deepClone(e.params.video),r.video.w=e.params.size[0],r.video.h=e.params.size[1],n&&("instream"===n?r.video.placement=1:"outstream"===n?r.video.placement=4:R.logWarn("ix bidder params: video context '".concat(n,"' is not supported"))),t)-1===i.indexOf(s)||r.video.hasOwnProperty(s)||(r.video[s]=t[s]);return r}(h))),(h.mediaType===A.b||R.deepAccess(h,"mediaTypes.banner")&&C(R.deepAccess(h,"mediaTypes.banner.sizes"),h.params.size)||!h.mediaType&&!h.mediaTypes)&&(m=void 0,(m=T(c=h)).banner={},m.banner.w=c.params.size[0],m.banner.h=c.params.size[1],m.banner.topframe=R.inIframe()?0:1,t=m,b.hasOwnProperty(h.transactionId)||(b[h.transactionId]={}),b[h.transactionId].hasOwnProperty("ixImps")||(b[h.transactionId].ixImps=[]),b[h.transactionId].ixImps.push(t),x.hasOwnProperty("detectMissingSizes")&&x.detectMissingSizes&&(i=v,s=t,p=d=o=a=void 0,p=(n=h).transactionId,i.hasOwnProperty(p)?(a=[],i[p].hasOwnProperty("missingSizes")&&(a=i[p].missingSizes),k(a,n.params.size),i[p].missingSizes=a):R.deepAccess(n,"mediaTypes.banner.sizes")&&(k(o=R.deepClone(n.mediaTypes.banner.sizes),n.params.size),d={missingSizes:o,impression:s},i[p]=d)))}for(var w in v)if(v.hasOwnProperty(w)){var I=v[w].missingSizes;b.hasOwnProperty(w)||(b[w]={}),b[w].hasOwnProperty("missingImps")||(b[w].missingImps=[],b[w].missingCount=0);for(var P=v[w].impression,S=0;S<I.length;S++){var z=(u=P,y=I[S],l=void 0,(l=R.deepClone(u)).ext.sid="".concat(y[0],"x").concat(y[1]),l.banner.w=y[0],l.banner.h=y[1],l);b[w].missingImps.push(z),b[w].missingCount++}}return 0<Object.keys(b).length&&f.push.apply(f,N(j(e,r,b,7.2))),0<Object.keys(g).length&&f.push.apply(f,N(j(e,r,g,8.1))),f},interpretResponse,transformBidParams,getUserSyncs};Object(a.registerBidder)(p)}},[523]);
pbjsChunk([181],{651:function(e,t,r){e.exports=r(652)},652:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"USER_ID_CODE_TO_QUERY_ARG",function(){return f}),r.d(t,"spec",function(){return o});var c=r(3),n=r(1),d=r(0),u=r(2);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=[u.b,u.d],p="hb_pb",m="3.0.3",l="USD",f={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},o={code:"openx",gvlid:69,supportedMediaTypes:a,isBidRequestValid,buildRequests:function(e,n){if(0===e.length)return[];var i=[],t=s(e.reduce,[[],[]]),2),r=t[0],a=t[1];return 0<a.length&&i.push(function(e,t){var n=[],i=!1,r=h(e,t),a=d._map(e,function(e){return e.params.unit});r.aus=d._map(e).join("|"),r.divIds=d._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),a.some(function(e){return e})&&(r.auid=a.join(","));e.some(function(e){return e.params.doNotTrack})&&(r.ns=1);!0!==c.b.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(r.tfcd=1);e.forEach),i&&(r.tps=n.join(","));var s=[],o=!1;e.forEach),o&&(r.aumfs=s.join(","));return{method:"GET",url:r.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:r,payload:{bids:e,startTime:new Date}}}(a,n)),0<r.length&&r.forEach(function(e){var t,r;i.push({method:"GET",url:(r(t=e,n)).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(t.params.delDomain,"/v/1.0/avjp"),data:r,payload:{bid:t,startTime:new Date}})}),i},interpretResponse,getUserSyncs,transformBidParams:function(e){return d.convertTypes({unit:"string",customFloor:"number"},e)}};function h(e,t){var r,n,i,a,s=d.inIframe(),o={ju:c.b.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:s,tz:(new Date).getTimezoneOffset(),tws(s),be:1,bc:e[0].params.bc||"".concat(p,"_").concat(m),dddid:d._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(o.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(r=t.gdprConsent).consentString&&(o.gdpr_consent=r.consentString),void 0!==r.gdprApplies&&(o.gdpr=r.gdprApplies?1:0),"iab"===c.b.getConfig("consentManagement.cmpApi")&&(o.x_gdpr_f=1)),t&&t.uspConsent&&(o.us_privacy=t.uspConsent),d.deepAccess(e[0],"crumbs.pubcid")&&d.deepSetValue(e[0],"userId.pubcid",d.deepAccess(e[0],"crumbs.pubcid")),n=o,i=e[0].userId,d._each(i),o=n,e[0].schain&&(o.schain=(a=e[0].schain,"".concat(a.ver,",").concat(a.complete,"!").concat(a.nodes)))),o}Object(n.registerBidder)(o)}},[651]);
pbjsChunk([161],{698:function(e,r,a){e.exports=a(699)},699:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),a.d(r,"spec",function(){return y});var T=a(0),t=a(1),S=a(2),P=a(3),i=a(11);function R(){return(R=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n="pubmatic",Y="PubMatic: ",A="USD",x=void 0,s="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),N={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},o={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},d={mimes:o.ARRAY,minduration:o.NUMBER,maxduration:o.NUMBER,startdelay:o.NUMBER,playbackmethod:o.ARRAY,api:o.ARRAY,protocols:o.ARRAY,w:o.NUMBER,h:o.NUMBER,battr:o.ARRAY,linearity:o.NUMBER,placement:o.NUMBER,minbitrate:o.NUMBER,maxbitrate:o.NUMBER},c={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},l={ICON:1,LOGO:2,IMAGE:3},u=[{id:c.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:c.TITLE.ID,required:!0},{id:c.IMAGE.ID,required:!0}],p={1:"PMP",5:"PREF",6:"PMPG"},m={bootstrapPlayer,newRenderer,outstreamRender,getRendererId},k=0,g=!1,h={},f={}function U(e){var r;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(r=e.params.adSlot,T.isStr(r)?r.replace(/^\s+/g,"").replace(/\s+$/g,""):(r&&T.logWarn(n+": adSlot must be a string. Ignoring adSlot"),""));var a=(t=e.params.adSlot).split(":"),t=a[0];if(2==a.length&&(e.params.adUnitIndex=a[1]),a=t.split("@"),e.params.adUnit=a[0],1<a.length){if(2!=(a=a[1].split("x")).length)return void T.logWarn(Y+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(a[0],10),e.params.height=parseInt(a[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(S.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,s=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&s.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=s,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}._each(c),T._each(c);var y={code:n,gvlid:76,supportedMediaTypes:[S.b,S.d,S.c],isBidRequestValid,buildRequests,interpretResponse,getUserSyncs,transformBidParams};Object(t.registerBidder)(y)}},[698]);
pbjsChunk([136],{768:function(e,r,t){e.exports=t(769)},769:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",function(){return h}),r.hasVideoMediaType=d,t.d(r,"resetRubiConf",function(){return C}),r.masSizeOrdering=I,r.determineRubiconVideoSizeId=O,r.getPriceGranularity=k,r.hasValidVideoParams=w,r.hasValidSupplyChainParams=R,r.encodeParam=z,r.resetUserSync=function(){T=!1};var p=t(0),n=t(1),l=t(3),m=t(2),i=t(10),u=t.n(i);function o(r,e){var t,n=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),n.push.apply(n,t)),nfunction s(){return(s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function v(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y={};l.b.getConfig("rubicon");var x={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200"};p._each(x);var h={code:"rubicon",gvlid:52,supportedMediaTypes:[m.b,m.d],isBidRequestValid,buildRequests:function(e,c){var i,r=e.filter(function(e){return"video"===S(e)}).map(function(e){e.startTime=(new Date).getTime();var r,t,n,i={id:e.transactionId,test:l.b.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:c.timeout,imp:[{exp:l.b.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:v({},e.bidder,e.params),video:p.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!0===y.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:k(l.b)},bidders:{rubicon:{integration:y.int_type||"pbjs"}}}}};if("rubicon"!==e.bidder&&(i.ext.prebid.aliases=v({},e.bidder,"rubicon")),"function"!=typeof e.getFloor||y.disableFloors)r=parseFloat(p.deepAccess(e,"params.floor"));else{try{t=e.getFloor({currency:"USD",mediaType:"video",size:j(e,"video")})}catch(e){p.logError("Rubicon: getFloor threw an error: ",e)}r="object"!==g(t)||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:parseFloat(t.floor)}isNaN(r)||(i.imp[0].bidfloor=r),i.imp[0].ext[e.bidder].video.size_id=O(e)(i,e,c)(i,e),c.gdprConsent&&("boolean"==typeof c.gdprConsent.gdprApplies&&(n=c.gdprConsent.gdprApplies?1:0),p.deepSetValue(i,"regs.ext.gdpr",n),p.deepSetValue(i,"user.ext.consent",c.gdprConsent.consentString)),c.uspConsent&&p.deepSetValue(i,"regs.ext.us_privacy",c.uspConsent);var o=p.deepAccess(c,"bids.0.userIdAsEids");o&&o.length&&p.deepSetValue(i,"user.ext.eids",o);var a=l.b.getConfig("user.id");return a&&p.deepSetValue(i,"user.id",a),!0===l.b.getConfig("coppa")&&p.deepSetValue(i,"regs.coppa",1),e.schain&&R(e.schain)&&p.deepSetValue(i,"source.ext.schain",e.schain),A(e,m.d,i),e.storedAuctionResponse&&p.deepSetValue(i.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),p.deepSetValue(i.imp[0],"ext.prebid.auctiontimestamp",c.auctionStart),{method:"POST",url:"https://".concat(y.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:i,bidRequest:e}});return!0!==y.singleRequest?r.concat(e.filter(function(e){return"banner"===S(e)}).map)):(i=e.filter).reduce,{}),r.concat(Object.keys(i).reduce,[])))},getOrderedParams,combineSlotUrlParams,createSlotParams:function(e,r){e.startTime=(new Date).getTime();var t,n=e.params,i=j(e,"banner"),o=b(n.latLong||[],2),a=o[0],c=o[1],s={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:.01<=(n.floor=parseFloat(n.floor))?n.floor:void 0,rp_secure:"1",tk_flint:"".concat(y.int_type||"pbjs_lite","_v4.29.0"),"x_source.tid":e.transactionId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(c))?void 0:parseFloat(c).toFixed(4),"tg_fl.eid":e.code,rf:_(e,r)};if("function"==typeof e.getFloor&&!y.disableFloors){try{t=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){p.logError("Rubicon: getFloor threw an error: ",e)}s.rp_hard_floor="object"!==g(t)||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:t.floor}s.p_pos="atf"===n.position||"btf"===n.position?n.position:"";var d=l.b.getConfig("user.id");return d&&(s.ppuid=d),e.userIdAsEids&&e.userIdAsEids.forEach),r.gdprConsent&&("boolean"==typeof r.gdprConsent.gdprApplies&&(s.gdpr=Number(r.gdprConsent.gdprApplies)),s.gdpr_consent=r.gdprConsent.consentString),r.uspConsent&&(s.us_privacy=encodeURIComponent(r.uspConsent)),A(e,m.b,s),!0===l.b.getConfig("coppa")&&(s.coppa=1),e.schain&&R(e.schain)&&(s.rp_schain=h.serializeSupplyChain(e.schain)),s},serializeSupplyChain,serializeSupplyChainNodes,interpretResponse,getUserSyncs,transformBidParams}unction A(e,r,i){var t={user:f({},e.params.visitor),context:f({},e.params.inventory)};e.params.keywords&&(t.context.keywords=p.isArray(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);function o(e,r){if("object"!==g(e)||Array.isArray(e)){if(void 0!==e)return Array.isArray(e)?e.filter).toString():e.toString()}else p.logWarn("Rubicon: Filtered FPD key: ",r,": Expected value to be string, integer, or an array of strings/ints")}var n,a=p.mergeDeep({},l.b.getConfig("fpd")||{},e.fpd||{},t),c={user:{banner:"tg_v.",code:"user"},context:{banner:"tg_i.",code:"site"},adserver:"dfp_ad_unit_code"},s={},d={},u=[];Object.keys(a).filter(function(e){return a[e]&&c[e]&&"object"===g(a[e])}).forEach(function(n){var t;s[c[n].code]=Object.keys(a[n]).filter).reduce(function(e,t){return"keywords"===t?(Array.isArray(a[n][t])||r!==m.b||(a[n][t]=[a[n][t]]),e[t]=a[n][t],r===m.b&&(u=u.concat(a[n][t]))):"data"===t?p.mergeDeep(e,{ext:{data:a[n][t]}}):"adServer"===t||"pbAdSlot"===t?"adServer"===t?["name","adSlot"].forEach(function(e){var r=o(a[n][t][e]);r&&p.deepSetValue(d,"adserver.".concat(e.toLowerCase()),r.replace(/^\/+/,""))}):d[t.toLowerCase()]=a[n][t].replace(/^\/+/,""):p.mergeDeep(e,{ext:{data:v({},t,a[n][t])}}),e},{}),r===m.b&&(t="object"===g(s[c[n].code].ext)&&s[c[n].code].ext.data||{},Object.keys(t).forEach(function(e){var r="adserver"===e?t.adserver.adslot:o(t[e],e);r&&(i[c[e]?"".concat(c[n][m.b]).concat(c[e]):"".concat(c[n][m.b]).concat(e)]=r)}))}),Object.keys(d).forEach(function(e){r===m.b?c[e]?i["tg_i.".concat(c[e])]=d[e].adslot:i["tg_i.".concat(e.toLowerCase())]=d[e]:p.mergeDeep(i.imp[0],{ext:{context:{data:v({},e,d[e])}}})}),r===m.b?(n=o(u,"keywords"))&&(i.kw=n):p.mergeDeep(i,s)r C=!1;Object(n.registerBidder)(h)}},[768]);
pbjsChunk([14],{20:function(e,r,t){"use strict";r.b=function(e){var r=[];for(var t in e){var a;e.hasOwnProperty(t)&&("pubProvidedId"===t?r=r.concat(e.pubProvidedId):(a=function(e,r){var t=c[r];if(t&&e){var a={};a.source=t.source;var i=o.isFn(t.getValue)?t.getValue(e):e;if(o.isStr(i)){var n,d,s={id:i,atype:t.atype};return!o.isFn(t.getUidExt)||(n=t.getUidExt(e))&&(s.ext=n),a.uids=[s],!o.isFn(t.getEidExt)||(d=t.getEidExt(e))&&(a.ext=d),a}}return null}(e[t],t))&&r.push(a))}return r},r.a=function(e){var t=[];return e.filter(function(e){return o.isPlainObject(e.idObj)&&Object.keys(e.idObj).length}).forEach(function(r){Object.keys(r.idObj).forEach(function(e){o.deepAccess(r,"config.bidders")&&Array.isArray(r.config.bidders)&&o.deepAccess(c,e+".source")&&t.push({source:c[e].source,bidders:r.config.bidders})})}),t};var o=t(0),c={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var r=o.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(r).length)return r}},idl_env:{source:"liveramp.com",atype:1},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:1,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:1},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:1},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:1},fabrickId:{source:"neustar.biz",atype:1},tapadId:{source:"tapad.com",atype:1}}},802:function(e,r,t){e.exports=t(803)},803:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",function(){return u});var s=t(0),o=t(2),c=t(3),a=t(1),p=t(20),u={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[o.b,o.d],isBidRequestValid,serializeSupplyChain,buildRequests:function(e,d){return e.map(function(e){var r={siteid:e.params.siteId,pageid:e.params.pageId,formatid:e.params.formatId,currencyCode:c.b.getConfig("currency.adServerCurrency"),bidfloor:e.params.bidfloor||0,targeting:e.params.target&&""!==e.params.target?e.params.target:void 0,buid:e.params.buId&&""!==e.params.buId?e.params.buId:void 0,appname:e.params.appName&&""!==e.params.appName?e.params.appName:void 0,ckid:e.params.ckId||0,tagId:e.adUnitCode,pageDomain:d&&d.refererInfo&&d.refererInfo.referer?d.refererInfo.referer:void 0,transactionId:e.transactionId,timeout:c.b.getConfig("bidderTimeout"),bidId:e.bidId,prebidVersion:"4.29.0",schain:u.serializeSupplyChain(e.schain)},t=s.deepAccess(e,"mediaTypes.video");if(t){if(!t||"instream"!==t.context&&"outstream"!==t.context)return{};var a=t.playerSize[0];r.isVideo="instream"===t.context,r.mediaType=o.d,r.videoData={videoProtocol:e.params.video.protocol,playerWidth:a[0],playerHeight:a[1],adBreak:e.params.video.startDelay||1}}else{var i=s.deepAccess(e,"mediaTypes.banner");r.sizes=i.sizes.map(function(e){return{w:e[0],h:e[1]}})}d&&d.gdprConsent&&(r.addtl_consent=d.gdprConsent.addtlConsent,r.gdpr_consent=d.gdprConsent.consentString,r.gdpr=d.gdprConsent.gdprApplies),e&&e.userId&&(r.eids=Object(p.b)(e.userId)),d&&d.uspConsent&&(r.us_privacy=d.uspConsent);var n=JSON.stringify(r);return{method:"POST",url:(void 0!==e.params.domain?e.params.domain:"https://prg.smartadserver.com")+"/prebid/v1",data:n}})},interpretResponse:function(e,r){var t,a,i=[],n=e.body;try{n&&!n.isNoAd&&(a={requestId:(t=JSON.parse(r.data)).bidId,cpm:n.cpm,width:n.width,height:n.height,creativeId:n.creativeId,dealId:n.dealId,currency:n.currency,netRevenue:n.isNetCpm,ttl:n.ttl,dspPixels:n.dspPixels},t.mediaType===o.d?(a.mediaType=o.d,a.vastUrl=n.adUrl,a.vastXml=n.ad,a.content=n.ad):(a.adUrl=n.adUrl,a.ad=n.ad),i.push(a))}catch(e){s.logError("Error while parsing smart server response",e)}return i},getUserSyncs:function(e,r){var t=[];return e.iframeEnabled&&0<r.length?t.push({type:"iframe",url:r[0].body.cSyncUrl}):e.pixelEnabled&&0<r.length&&void 0!==r[0].body.dspPixels&&r[0].body.dspPixels.forEach),t}};Object(a.registerBidder)(u)}},[802]);
pbjsChunk([122],{804:function(e,r,n){e.exports=n(805)},805:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",function(){return i});var o=n(0),u=n(3),t=n(1);var i={code:"smartrtb",supportedMediaTypes:["banner","video"],aliases:["smrtb"],isBidRequestValid:function(e){return null!==e.params.pubId&&null!==e.params.medId&&null!==e.params.zoneId},buildRequests:function(e,r){var n=r.refererInfo&&r.refererInfo.stack?r.refererInfo:[],t=u.b.getConfig("userSync")&&u.b.getConfig("userSync").syncsPerBidder?u.b.getConfig("userSync").syncsPerBidder:5,i={start_time:o.timestamp(),language:window.navigator.userLanguage||window.navigator.language,site:{domain:function(){if(!o.inIframe())return window.location.hostname;var e=window.document.location.ancestorOrigins;return e&&0<e.length?e[e.length-1]:void 0}(),iframe:!r.refererInfo.reachedTop,url:n&&0<n.length?[n.length-1]:null,https:"https:"===window.location.protocol,referrer:r.refererInfo.referer},imps:[],user_ids:e[0].userId,sync_limit:t};r&&r.gdprConsent&&(i.gdpr={applies:r.gdprConsent.gdprApplies,consent:r.gdprConsent.consentString});for(var s=0;s<e.length;s++){var d=e[s];i.imps.push({zone_id:d.params.zoneId,bid_id:d.bidId,imp_id:d.transactionId,sizes:d.sizes,force_bid:d.params.forceBid,media_types:o.deepAccess(d,"mediaTypes"),has_renderer:void 0!==d.renderer})}var a=e[0].params;return{method:"POST",url:a.endpoint?a.endpoint:"https://market-global.smrtb.com/json/publisher/prebid",data:JSON.stringify(i)}},interpretResponse:function(e){var r=[];if(!e||!e.body)return r;var n=e.body;if(!n.bids||!n.bids.length)return[];for(var t=0;t<e.body.bids.length;t++){var i=e.body.bids[t];r.push({requestId:i.bid_id,cpm:i.cpm,width:i.w,height:i.h,ad:i.html,vastUrl:i.vast_url,vastXml:i.vast_xml,mediaType:i.html?"banner":"video",ttl:120,creativeId:i.crid,dealId:i.deal_id,netRevenue:!0,currency:"USD"})}return r},getUserSyncs:function(e,r){var n=[];if(!r.length||!r[0].body)return n;var t=r[0].body.pixels;if(!t||!t.length)return n;for(var i=0;i<t.length;i++){var s=t[i];("iframe"===s.type&&e.iframeEnabled||"image"===s.type&&e.pixelEnabled)&&n.push(s)}return n}};Object(t.registerBidder)(i)}},[804]);
pbjs.processQueue();