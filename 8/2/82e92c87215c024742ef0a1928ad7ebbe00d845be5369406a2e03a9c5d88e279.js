;
(self.AMP=self.AMP||[]).push({m:1,v:"2312191621000",n:"amp-twitter",ev:"0.1",l:!0,f:function(t,n){(()=>{var n,{isArray:e}=Array,{hasOwnProperty:r,toString:o}=Object.prototype;unction c(t,n,e,r,o,i,c,u,s,l,a){return t}ion m(t){return"string"==typeof t&&t.startsWith("amp-")&&-1!=t.indexOf("{")}function p(t){const n=parseFloat(t);return"number"==typeof(e=n)&&isFinite(e)?n:void 0;var e}function d(t){return function(t,n){if(c(1===n.length),c(Array.isArray(n)||(e=n,r.call(e,"raw"))),self.trustedTypes&&self.trustedTypes.createPolicy){const e=self.trustedTypes.createPolicy("static-template#createNode",{createHTML:);t.innerHTML=e.createHTML("ignored")}else t.innerHTML=n[0];var e;const o=t.firstElementChild;return c(o),c(!o.nextElementSibling),t.removeChild(o),o}(n,t)}var h=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;unction b(t){const n=i();if(!t)return n;let e;for(;e=h.exec(t);){const t=v(e[1],e[1]),r=e[2]?v(e[2].replace(/\+/g," "),e[2]):"";n[t]=r}return n}function g(t){const{location:n}=t||self;return b(n.originalHash||n.hash)}var w="";unction O(t){var n;return w||(w=(null===(n=t.AMP_CONFIG)||void 0===n?void 0:n.v)||"012312191621000"),w}elf.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var S=self.__AMP_LOG;ion _(t,n){return C(function(t){const n=k(t);return n.isSingleDoc()?n.win:n}(k(t)),n)}unction C(t,n){x(t,n));const e=t)[n];return e.obj||(x(e.ctor),x(e.context),e.obj=new e.ctor(e.context),x(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}var T,I=["Webkit","webkit","Moz","moz","ms","O","o"];var L=class{static generate(t){return function(t){const{length:n}=t;let e=5381;for(let r=0;r<n;r++)e=33*e^t.charCodeAt(r);return String(e>>>0)}(function(t){const n=[];let e=0;for(;1==(null==(r=t)?void 0:r.nodeType)&&e<25;){let r="";t.id&&(r=`/${t.id}`);const o=t.nodeName.toLowerCase();n.push(`${o}${r}${M(t)}`),e++,t=t.parentElement}var r;return n.join()}(t))}};function M(t){const{nodeName:n}=t;let e=0,r=0,o=t.previousElementSibling;for(;o&&r<25&&e<100;)o.nodeName==n&&r++,e++,o=o.previousElementSibling;return r<25&&e<100?`.${r}`:""} V="__AMP__EXPERIMENT_TOGGLES";function U(t){var n,r,o,u,s;if(t[V])return t[V];t[V]=i();const l=t[V];c(l);const f=R(R({},null!==(n=t.AMP_CONFIG)&&void 0!==n?n:{}),null!==(r=t.AMP_EXP)&&void 0!==r?r:a((null===(o=t.__AMP_EXP)||void 0===o?void 0:o.textContent)||"{}"));for(const t in f){const n=f[t];"number"==typeof n&&n>=0&&n<=1&&(l[t]=Math.random()<n)}const m=null===(u=t.AMP_CONFIG)||void 0===u?void 0:u["allow-doc-opt-in"];if(e(m)&&m.length){const n=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(n){var p;const t=(null===(p=n.getAttribute("content"))||void 0===p?void 0:p.split(","))||[];for(const n of t)m.includes(n)&&(l[n]=!0)}}Object.assign(l,function(t){var n;let e="";try{var r;"localStorage"in t&&(e=null!==(r=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==r?r:"")}catch(t){}const o=(null===(n=e)||void 0===n?void 0:n.split(/\s*,\s*/g))||[],c=i();for(const t of o)t&&("-"==t[0]?c[t.substr(1)]=!1:c[t]=!0);return c}(t));const d=null===(s=t.AMP_CONFIG)||void 0===s?void 0:s["allow-url-opt-in"];if(e(d)&&d.length){const n=b(t.location.originalHash||t.location.hash);for(const t of d){const e=n[`e-${t}`];"1"==e&&(l[t]=!0),"0"==e&&(l[t]=!1)}}return l}var D,G=(()=>self.AMP.config.urls)();function z(t,n){return D||(D=self.document.createElement("a")),D,t)}var J=((),W={};function q(t,n,e,r){const o=e||n.getAttribute("type");F(o,"Attribute type required for <amp-ad>: %s",n);const i=function(t){let n=0;for(let e=t;e&&e!=e.parent;e=e.parent)n++;return String(n)+"-"+X(t)}(t);let c={};return function(t,n){const{dataset:e}=t;for(const t in e)t.startsWith("vars")||(n[t]=e[t]);const r=t.getAttribute("json");if(r){const e=f(r);if(void 0===e)throw A().createError("Error parsing JSON in json attribute in element %s",t);for(const t in e)n[t]=e[t]}}(n,c),c=function(t,n,e,r){const o=Date.now(),i=n.getAttribute("width"),c=n.getAttribute("height");(r=r||{}).width=p(i),r.height=p(c),n.getAttribute("title")&&(r.title=n.getAttribute("title"));let u=t.location.href;"about:srcdoc"==u&&(u=t.parent.location.href);const s=k(n),l=_(n,"documentInfo").get(),a=(m=n,_(m,"viewer")).getUnconfirmedReferrerUrl(),f=function(t){const n=t.ownerDocument.body;let e=0,r=0;for(let o=t;o&&o!=n;o=o.offsetParent)e+=o.offsetLeft,r+=o.offsetTop;const{offsetHeight:o,offsetWidth:i}=t;return e,r,i,o)}(n);var m,d,h,v;r._context={"ampcontextVersion":"2312191621000","ampcontextFilepath":`${G.thirdParty}/2312191621000/ampcontext-v0.js`,"sourceUrl":l.sourceUrl,"referrer":a,"canonicalUrl":l.canonicalUrl,"pageViewId":l.pageViewId,"location":{"href":u},"startTime":o,"tagName":n.tagName,"mode":{localDev:!1,development:!1,esm:y(v).esm,test:!1,rtvVersion:y(v).rtvVersion},"canary":(d=t,!(null===(h=d.AMP_CONFIG)||void 0===h||!h.canary)),"hidden":!s.isVisible(),"initialLayoutRect":f?{"left":f.left,"top":f.top,"width":f.width,"height":f.height}:null,"domFingerprint":L.generate(n),"experimentToggles":U(t),"sentinel":e};const b=n.getAttribute("src");return b&&(r.src=b),r}(t,n,i,c),c.type=o,Object.assign(c._context,r),c}unction B(t,n,e){return function(t,n,e){const r=n.getMetaByName("amp-3p-iframe-src");if(!r)return null;const o=function(t,n,e="source"){return F(null!=t,"%s %s must be available",n,e),F(function(t){return"https:"==(t=((t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||t.hostname,".localhost")}(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,e,t),t}(r,'meta[name="amp-3p-iframe-src"]');F(-1==o.indexOf("?"),"3p iframe url must not include query string %s in element %s.",o,r);const i=z(o);return F("localhost"==i.hostname&&!e||i.origin!=z(t.location.href).origin,"3p iframe url must not be on the same origin as the current document %s (%s) in element %s. See https://github.com/ampproject/amphtml/blob/main/docs/spec/amp-iframe-origin-policy.md for details.",o,i.origin,r),`${o}?2312191621000`}(t,n,e)||function(t,n){return t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN=t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN||"d-"+X(t),"https://"+t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN+`.${J.thirdPartyFrameHost}/2312191621000/frame.html`}(t)}r K="unlisten";function Q(t,n,e){const r=function(t,n){let{listeningFors:e}=t;return!e&&n&&(e=t.listeningFors=Object.create(null)),e||null}(t,e);if(!r)return r;let o=r[n];return!o&&e&&(o=r[n]=[]),o||null}function Y(t,n){for(let e=n;e&&e!=e.parent;e=e.parent)if(e==t)return!0;return!1}function tt(t){const n={"sentinel":K};for(let e=t.length-1;e>=0;e--){const r=t[e];if(!r.frame.contentWindow){t.splice(e,1);const{events:o}=r;for(const t in o)o[t].splice(0,1/0).forEach(()}}}function nt(t,n,e,r,o,i){x(t.src),x(!t.parentNode),x(e);const u=t.ownerDocument.defaultView;!function(t){t.listeningFors||t.addEventListener("message",(function(n){if(!Z(n))return;const e=function(t){return"string"==typeof t&&(t="{"==t.charAt(0)?f(t,()||null:m(t)?function(t){if(!m(t))return null;const n=t.indexOf("{");return c(-1!=n),f(t.substr(n),(n=>{!function(t){const n=s.apply(null,arguments);setTimeout((()=>{throw l(n),n}))}(new Error(`MESSAGING: Failed to parse message: ${t}\n${n.message}`))}))}(t):null),t}(Z(n));if(!e||!e.sentinel)return;const r=function(t,n,e,r){const o=Q(t,n);if(!o)return o;let i;for(let t=0;t<o.length;t++){const n=o[t],{contentWindow:e}=n.frame;if(e){if(r==e||Y(e,r)){i=n;break}}else setTimeout(tt,0,o)}return i?i.events:null}(t,e.sentinel,n.origin,n.source);if(!r)return;let o=r[e.type];if(o){o=o.slice();for(let t=0;t<o.length;t++)(0,o[t])(e,n.source,n.origin,n)}}))}(u);const a=function(t,n,e){const r=n,e),o=Q(t,r,!0);let i;for(let t=0;t<o.length;t++){const e=o[t];if(e.frame===n){i=e;break}}return i||(i={frame:n,events:Object.create(null)},o.push(i)),i.events}(u,t,r),p=z(t.src).origin;let d,h=a[n]||(a[n]=[]),v=return h.push(v),d=function(){if(v){const t=h.indexOf(v);t>-1&&h.splice(t,1),v=null,h=null,e=null}}}var et=['<svg viewBox="0 0 72 72"><path fill=currentColor d="M32.29,44.13c7.55,0,11.67-6.25,11.67-11.67c0-0.18,0-0.35-0.01-0.53c0.8-0.58,1.5-1.3,2.05-2.12\n    c-0.74,0.33-1.53,0.55-2.36,0.65c0.85-0.51,1.5-1.31,1.8-2.27c-0.79,0.47-1.67,0.81-2.61,1c-0.75-0.8-1.82-1.3-3-1.3\n    c-2.27,0-4.1,1.84-4.1,4.1c0,0.32,0.04,0.64,0.11,0.94c-3.41-0.17-6.43-1.8-8.46-4.29c-0.35,0.61-0.56,1.31-0.56,2.06\n    c0,1.42,0.72,2.68,1.83,3.42c-0.67-0.02-1.31-0.21-1.86-0.51c0,0.02,0,0.03,0,0.05c0,1.99,1.41,3.65,3.29,4.02\n    c-0.34,0.09-0.71,0.14-1.08,0.14c-0.26,0-0.52-0.03-0.77-0.07c0.52,1.63,2.04,2.82,3.83,2.85c-1.4,1.1-3.17,1.76-5.1,1.76\n    c-0.33,0-0.66-0.02-0.98-0.06C27.82,43.45,29.97,44.13,32.29,44.13"></path></svg>'],rt=class extends t.BaseElement{static createLoaderLogoCallback(t){return{color:"#1DA1F2",content:function(t){const e=t.ownerDocument||t;return n&&n.ownerDocument===e||(n=e.createElement("div")),d}(t)(et)}}econnectCallback(t){const n=$(this.win,"preconnect"),e=this.getAmpDoc();!this.win,0,e,n),n.preload(e,"https://platform.twitter.com/widgets.js","script"),n.url(e,"https://syndication.twitter.com",t),n.url(e,"https://pbs.twimg.com",t),n.url(e,"https://cdn.syndication.twimg.com",t)}isLayoutSupportedyoutCallback(){const t=function(t,n,e,r,o={}){const{allowFullscreen:c=!1,initialIntersection:u}=o;x(void 0===n.isConnected||!0===n.isConnected);const s=q(t,n,e,r);u&&(s._context.initialIntersection=u);const l=t.document.createElement("iframe");W[s.type]||(W[s.type]=0),W[s.type]+=1;const a=B(t,n.getAmpDoc()),f=z(a).hostname,m=JSON.stringify({"host":f,"bootstrap":H(s.type),"type":s.type,"count":W[s.type],"attributes":s});return l.src=a,l.ampLocation=z(a),l.name=m,s.width&&(l.width=s.width),s.height&&(l.height=s.height),s.title&&(l.title=s.title),c&&l.setAttribute("allowfullscreen","true"),l.setAttribute("scrolling","no"),function(t,n,e,r,o){const c=t.style,n,o);if(!c)return;const u=r?e+r:e;t.style.setProperty(c),u)}(l,"border","none"),l.onload=l.setAttribute("allow","sync-xhr 'none';"),["facebook"].includes(e)||function(t){if(!t.sandbox||!t.sandbox.supports)return;const n=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"];for(let e=0;e<n.length;e++){const r=n[e];if(!t.sandbox.supports(r))return}t.sandbox=n.join(" ")+" "+["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts"].join(" ")}(l),l.setAttribute("data-amp-3p-sentinel",s._context.sentinel),l}(this.win,this.element,"twitter",null,{allowFullscreen:!0});return t.title=this.element.title||"Twitter",t.classList.add("i-amphtml-fill-content"),this.kj(),nt(t,"embed-size",(,!0),nt(t,"no-content",(,!0),this.element.appendChild(t),this.bv=t,this.loadPromise(t)}kj(){let t;this.measureMutateElement((()=>{t=this.element.getBoundingClientRect().height}),()}Uj(t){this.mutateElement((()=>{this.toggleLoading(!1),this.$j&&this.togglePlaceholder(!1),this.forceChangeHeight(t)}))}Gj(){const t=this.getFallback(),n=t||this.$j;this.mutateElement((()=>{this.toggleLoading(!1),t&&(this.togglePlaceholder(!1),this.toggleFallback(!0)),n&&this.forceChangeHeight(n.offsetHeight)}))}nlayoutCallback(){var t,n;return this.bv&&(null===(n=(t=this.bv).parentElement)||void 0===n||n.removeChild(t),this.bv=null),!0}mutatedAttributesCallback(t){this.bv&&null!=t["data-tweetid"]&&(this.unlayoutCallback(),this.toggleLoading(!0,!0),this.layoutCallback())}};t.registerElement("amp-twitter",rt)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-twitter-0.1.mjs.map