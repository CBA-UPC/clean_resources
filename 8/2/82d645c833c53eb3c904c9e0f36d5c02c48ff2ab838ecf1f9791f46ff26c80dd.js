import{az as i}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";const Q={avif:40,webp:70,jpeg:70,gif:0},q={avif:75,webp:80,jpeg:70,png:0,gif:0};onst g=e=>{if(typeof e=="number"&&e>0){let t;return e<500?t=75:e<1e3?t=150:t=250,Math.ceil(e/t)*t}return 0};function w(e){var t,n,s,r;return((r=(s=(n=(t=e==null?void 0:e.split)==null?void 0:t.call(e,"?"))==null?void 0:n[0])==null?void 0:s.replace)==null?void 0:r.call(s,/\s/g,"%20"))||""}function S(e,t){const n=(e==null?void 0:e.includes("_bottoms$"))||"",s=(t==null?void 0:t.includes("OnModelWaistdown"))||"";return n||s}function I(e,t,n){const s="&cropN=0,0.35,1,0.65";return S(e,t)&&!n?s:""}function U(e){const t=e.split(":");return t[0]/t[1]}function y(e,t){return Math.ceil(e/U(t))}unction u(e,t,n,s){const r=s?t:g(t),o=s?n:g(n);if(r&&e)return`&wid=${r}&hei=${y(r,e)}`;if(o&&e)return`&wid=${v(o,e)}&hei=${o}`;if(r&&o){const c=y(r,`${t}:${n}`);return`&wid=${r}&hei=${c}`}return r?`&wid=${r}`:o?`&hei=${n}`:""}const l="&resMode=bisharp&fit=crop,0",_=({imageFormat:e,alpha:t=!1,highQuality:n=!1})=>{const s=n?q[e]:Q[e],r=t?`${e}-alpha`:e,o=s?`&qlt=${s}`:"";return`?fmt=${r}${o}${l}${h(n)}`},b=(()=>{let e;return()=>e||(()=>{let t;return i.format?t=`?fmt=${i.format}${l}`:t=`?fmt=jpeg${l}`,i.resolved&&(e=t),t})()})(),A=(()=>{let e;return()=>e||(()=>{let t;return i.format?t=`?fmt=${i.format}-alpha${l}`:t=`?fmt=png-alpha${l}`,i.resolved&&(e=t),t})()})();function m(e){let t="70";return i.format&&(t=e?i.highQuality:i.quality),`&qlt=${t}${h(e)}`}const C=(e,t)=>e>0&&t>0?Math.ceil(e/25*t):0;function V({url:e="",aspectRatio:t="",width:n=0,height:s=0,highQuality:r=!1,columnWidth:o=0,alpha:c=!1,pimFormat:a,disableBottomCrop:f=!0,imageFormat:M}){var $;if(!(typeof e=="string"&&e.length))return"";let p=e,d=c;return e.includes("/lscoecomm/")&&(e.includes("s7d2.scene7.com")&&(p=($=e==null?void 0:e.replace)==null?void 0:$.call(e,"s7d2.scene7.com","lscoecomm.scene7.com")),/fmt=\w+-alpha/.test(p)&&(d=!0)),p=`${w(p)}${_({imageFormat:M,highQuality:r,alpha:d})}${u(t,C(o,n),s,!0)}${a?I(e,a,f):""}`,p}function j({url:e="",format:t,disableBottomCrop:n=!0,aspectRatio:s="",width:r=0,height:o=0,disableRescaling:c=!1,highQuality:a=!1}){if(!(typeof e=="string"&&e.length))return"";let f=`${w(e)}${b()}${m(a)}${I(e,t,n)}`;return f=`${f}${u(s,r,o,c)}`,f}function B({url:e="",aspectRatio:t="",width:n=0,height:s=0,disableRescaling:r=!1,highQuality:o=!1}){var a;if(!(typeof e=="string"&&e.length))return"";let c=((a=e==null?void 0:e.replace)==null?void 0:a.call(e,"s7d2.scene7.com","lscoecomm.scene7.com"))||"";return c.includes("jpeg")&&c.includes("?")?c=`${c.split("?")[0]}${b()}${m(o)}`:c.includes("png")&&c.includes("?")&&(c=`${c.split("?")[0]}${A()}${m(o)}`),c=`${c}${u(t,n,s,r)}`,c}async function k(e){return new Promise(t=>{const n=new Image;n.onload=()=>t(!0),n.onerror=n.src=e})}async function D({pc9:e,aspectRatio:t="",width:n}){const r=["-front-pdp","-dynamic1-pdp","-alt1-pdp","-front--pdp","-front-pdp-lse","-dynamic1-pdp-lse","-alt1-pdp-lse"].map(o=>j({url:`https://lsco.scene7.com/is/image/lsco/${e}${o}?$qv_desktop_full$`,format:"Quickview_Desktop",aspectRatio:t,width:n}));for(const o of r)if(await k(o))return o;return""}export{j as a,B as b,D as c,V as g,k as i,g as m};
