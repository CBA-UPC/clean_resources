/*! For license information please see ../LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{0:1:103:2:function(t,e,n){"use strict";n.d(e,"a",(function(){return Nt})),n.d(e,"b",(function(){return qt})),n.d(e,"c",(function(){return $t})),n.d(e,"d",(function(){return Mt})),n.d(e,"e",(function(){return jt})),n.d(e,"f",(function(){return wt})),n.d(e,"g",(function(){return Et})),n.d(e,"h",(function(){return St})),n.d(e,"i",(function(){return Ut})),n.d(e,"j",(function(){return yt})),n.d(e,"k",(function(){return at})),n.d(e,"l",(function(){return ct})),n.d(e,"m",(function(){return It}));var r=var o,c= h=[],v=);!v);ar y=void 0;try{var _=n(440);_&&O(_)?y=_:_&&"default"in _&&O(_.default)&&(y=_.default)}catch(t){}var w=null,E=null,S=!0,k="__composition_api_installed__";unction P(){return w} T=new WeakMap;r N="undefined"!=typeof Symbol&&R(Symbol)&&"undefined"!=typeof Reflect&&R(Reflect.ownKeys),D=function(t){return t};H,B=Object.prototype.toString,F=function(t){return B.call(t)};"composition-api.preFlushQueue"),X=Y("composition-api.postFlushQueue"),Z="composition-api.refKey",tt=new WeakMap,et=new WeakMap,nt=new WeakMap;var ot=beforeMount"),Et=_t("mounted"),St=(_t("beforeUpdate"),_t("updated"),_t("beforeDestroy"),_t("destroyed"));_t("errorCaptured"),_t("activated"),_t("deactivated"),_t("serverPrefetch");function kt(){At(this,Q)}; jt=var Ht={set:get:;install:function(t){return zt(t)}};undefined"!=typeof window&&window.Vue&&window.Vue.use(qt)},204:292:function(t,e,n){!function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=r(n),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};ar s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t){for(var e={},n=0,r=t.slice(1).split("&");n<r.length;n++){var o=(i=r[n].split("="))[0],i=i[1];o in e||(e[o]=i)}return e}function l(t){return"undefined"!=typeof document&&document.cookie&&decodeURIComponent(null===document||void 0===document?void 0:document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}var u,d=a(location.search),p={product_name:n=l("kpn")||d.kpn||"KWAI",package_name:n,platform:function(){if("undefined"==typeof window)return 0;var t=navigator.userAgent||"",e=/kwai|bulldog/i.test(t),n=/apple/i.test(t),r=/android/i.test(t),i=/ipad/i.test(t);return t=/iphone/i.test(t),e?r?6:n?7:0:i?4:r?8:t?9:10}(),version_name:l("appver")||"",network_type:l("net")||"unknow",user_id:l("ud")||l("userId")||"",h5_extra_attr:{host_product:n,country_name:{country:l("countryInfo")||"",bucket:l("bucket")||""},channel:d.source||""}},g={proto:"v3",largeFile:!0,autoFmp:!1,plugins:[],immediately:!0},f=0;function h(){this.weblog="undefined"!=typeof window&&window._GLOBAL_KS_WEBLOGGER_&&window._GLOBAL_KS_WEBLOGGER_.weblog}function v(t,e,n,r){return"attachEvent"in t?t.attachEvent("on"+e,n):t.addEventListener(e,n,r)}function m(t,e,n,r){return"attachEvent"in t?t.detachEvent("on"+e,n):t.removeEventListener(e,n,r)}"undefined"!=typeof window&&"undefined"!=typeof Event&&(u=new Event("autoFmp",{bubbles:!0,cancelable:!1})||null),h.prototype.apply=function(t){this.weblog=t};var y,_=(c(b,y=d=h),b.prototype.destroy=function(){m(window,"load",this.handleLoad)},b.key="largeFile",b);function b(t,e){var i=y.call(this)||this;return i.ignoreLogList=[],i.logIndex=0,i.logMaxNum=10,i.isLargeFile=function(t){return!!(("img"===(null==t?void 0:t.initiatorType)||"css"===(null==t?void 0:t.initiatorType))&&/\.(png|jpe?g|bmp|webp|svg)$/i.test(null==t?void 0:t.name)&&102400<=(null==t?void 0:t.encodedBodySize)&&(null==t?void 0:t.encodedBodySize)<=Number.MAX_SAFE_INTEGER)},i.sendLargeFileLog=function(){performance.getEntriesByType("resource").filter((function(t){return i.isLargeFile(t)})).forEach((function(t){var e,n;if(i.logIndex<i.logMaxNum&&!i.ignoreLogList.includes(t.name))try{i.logIndex+=1,i.ignoreLogList.push(t.name);var r={name:"large_file",category:"kwai-log",event_type:"count",src:t.name,message:t.encodedBodySize,duration:t.duration};null!==(n=null===(e=i.weblog)||void 0===e?void 0:e.plugins)&&void 0!==n&&n.radar&&(console.info("[@kibt/weblogger] LargerFile: ",r.src,r.message),i.weblog.plugins.radar.event(r,{duration:t.duration}))}catch(t){console.error(t)}}))},i.handleLoad="undefined"==typeof window||"undefined"==typeof performance||"function"!=typeof(null===performance||void 0===performance?void 0:performance.getEntries)||(null!=e&&e.ignoreList&&(i.ignoreLogList=i.ignoreLogList.concat(null==e?void 0:e.ignoreList)),v(window,"load",i.handleLoad)),i}var w,E=(c(S,w=d),S.prototype.destroy=S.key="autoFmp",S);function S(){var t=w.call(this)||this;return t.handleAutoFmp=function(){var e=f;e&&0<e&&(performance.timing.autoFmp=e,console.info("[@kibt/weblogger] autoFmp: ",e),t.weblog.plugins.radar.event({name:"auto_fmp",category:"kwai-log",event_type:"duration"},{duration:e}))},"undefined"==typeof window||"undefined"==typeof performance||"function"!=typeof(null===performance||void 0===performance?void 0:performance.getEntries)||v(window,"autoFmp",t.handleAutoFmp),t}function k(t,e){var n,r;null!==(n=null==e?void 0:e.params)&&void 0!==n&&n.isBusinessCoreLog&&(r=null===(n=null===(r=null===window||void 0===window?void 0:window.__kibtlog__)||void 0===r?void 0:r.logger)||void 0===n?void 0:n.reportData,n=null===(n=null===window||void 0===window?void 0:window.__kibtlog__)||void 0===n?void 0:n.logger.businessCoreDimension,r&&n&&(r=e,"PV"===(t=t.toUpperCase())&&(r.action=r.page),e=r,window.__kibtlog__.logger.reportData(n({key:e.action,value:s(s({},e.params),{name:e.action,event_type:t})}))))}function O(t,e){var i=this;void 0===t&&(t={}),void 0===e&&(e={}),this.immediately=!0,this.sendRadarLog=function(t){var e,n,r=t.duration;try{null!==(n=null===(e=i.weblog)||void 0===e?void 0:e.plugins)&&void 0!==n&&n.radar&&i.weblog.plugins.radar.event(t,{duration:r})}catch(t){console.error(t)}},this.sendJsSuccessLog=function(){var t="undefined"!=typeof window?null===window||void 0===window?void 0:window.performance:null;if(!t)return{};i.sendRadarLog({name:"js_success",category:"kwai-log",event_type:"count",duration:Date.now()-t.timing.navigationStart})},"production"===t.env&&(t.env="oversea");var n,a,r=s(s({},g),t);e=s(s({},p),e),this.weblog=new O.Entries(r,e),this.immediately=!!r.immediately,t.radar&&(t.radar.APIHook=(n=t.radar.APIHook||void 0,a=t.autoFmp,function(t){var e,r=t.response,o=t.duration,i=r.finalUrl||r.url||"";!a||f||!i.includes(window.location.host)||Date.now()-o<=(o=performance.timing).domContentLoadedEventEnd+500&&(f=Date.now()-o.navigationStart,window.dispatchEvent(u));try{e=JSON.parse(r.data)}catch(t){e={}}return n&&"function"==typeof n&&(t=n(t))&&"response_code"in t&&"response_msg"in t&&"status"in t?t:{response_code:e.result||e.code,response_msg:e.error_msg||e.message||e.msg||"",status:r.status}})),t.radar&&(t=new o.default(s(s({},r.radar),{weblog:this.weblog})),this.weblog.plugins.radar=t,this.radar=t),"undefined"!=typeof window&&(r.autoFmp&&this.weblog.plug(E),r.largeFile&&this.weblog.plug(_,r.largeFile)),this.plugins=null===(r=this.weblog)||void 0===r?void 0:r.plugins,this.weblog.sendImmediately=this.sendImmediately.bind(this),this.weblog.collect=this.collect.bind(this)}O.prototype.collect=function(t,e){this.weblog.send(t,e,!1),k(t,e)},O.prototype.sendImmediately=function(t,e){this.weblog.send(t,e,!0),k(t,e)},O.prototype.sendLog=O.prototype.sendPv=function(t){var e,n=a(location.search);"string"==typeof t?this.sendLog("PV",{type:"enter",page:t,params:s({},n)}):(e=t.params||{},n&&(e=s(s({},n),e)),this.sendLog("PV",s(s({type:"enter"},t),{params:e})))},O.prototype.sendShow=function(t){"string"==typeof t?this.sendLog("SHOW",{action:t}):this.sendLog("SHOW",t)},O.prototype.sendClick=function(t){"string"==typeof t?this.sendLog("CLICK",{action:t}):this.sendLog("CLICK",t)},O.prototype.sendCustom=(d=O).Entries=e.Weblog,t.KwaiLog=d,t.default=d,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(444),n(446))},320:337:338:345:444:function(t,e,n){(function(t){!function(e,n){"use strict";ar o,a,c,i=r(n),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};!function(){void 0===s.window&&(s.window={addEventListener:function(){},removeEventListener:function(){},setTimeout:function(){},setInterval:function(){},_WEBLOGGER_MOCKED_WINDOW_:!0,global:s}),void 0===s.document&&(s.document=s.window.document||{cookie:"",addEventListener:function(){},removeEventListener:function(){},querySelector:function(){},querySelectorAll:function(){}},void 0===s.window.document&&(s.window.document=s.document)),void 0===s.navigator&&(s.navigator=s.window.navigator||{userAgent:""},void 0===s.window.navigator&&(s.window.navigator=s.navigator)),void 0===s.screen&&(s.screen=s.window.screen||{},void 0===s.window.screen&&(s.window.screen=s.screen)),void 0===s.history&&(s.history=s.window.history||{},void 0===s.window.history&&(s.window.history=s.history)),void 0===s.location&&(s.location=s.window.location||{hostname:"",search:"",href:"",origin:""},void 0===s.window.location&&(s.window.location=s.location));try{void 0===s.localStorage&&(s.localStorage=s.window.localStorage||{getItem:function(){},setItem:function(){}},void 0===s.window.localStorage&&(s.window.localStorage=s.localStorage))}catch(t){}}(),Object.defineProperty||(Object.defineProperty=function(t,e,n){t[e]="[object Object]"===Object.prototype.toString.call(n)&&n.hasOwnProperty("value")?n.value:n}),Object.assign||Object.defineProperty(Object,"assign",{value:writable:!0,configurable:!0}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=a=function(){var a=this instanceof r?this:t;return n.apply(a,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),a.prototype=new r,a}),Array.prototype.indexOf||(Array.prototype.indexOf=,Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on non-object");var e=[];for(var n in t)o.call(t,n)&&e.push(n);if(a)for(var i=0,s=c;i<s.length;i++){var r=s[i];o.call(t,r)&&e.push(r)}return e})),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(this),o=a.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=0;r<o;){var i=void 0;r in a&&(i=a[r],t.call(n,i,r,a)),r++}});var l=ar d=v,m,y={unknown:0,none:1,wifi:2,"4g":3,"3g":4,"2g":5,"5g":7,"slow-2g":5};!v||(v={})),m||(m={}));var _={sessionId:"",appDevicePackageReady:!1,identityPackageReady:!1},w=function(){function t(t,e){switch(this.page="",this.identity="",e){case"web":this.page_type=2;break;case"native":this.page_type=1;break;case"mina":this.page_type=3;break;default:this.page_type=0}this.update(t.page,t.params)}return t.prototype.update=function(t,e){void 0===t&&(t=""),t&&t!==this.page&&(this.page=t,this.identity=this.generatePageId(t)),e&&(this.params=Object.assign(this.params||{},e))},t.prototype.toJSON=t.prototype.generatePageId=function(t){return t+(new Date).getTime()},t}(),E=["Kwai","Kwai_Lite","Kwai_Pro","livemate","ksthanos","ksNebula","ksnebula","kwaiying","pearl","kinder","m2u","LOLita","XFunCore","ACVideoCore","ZIKZAK"].concat(["UVideo","Vstatus","Kwaigo","MvMaster"]);function S(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.log;return n&&n.call.apply(n,h([console],t))}catch(t){return}}function k(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.error;return n&&n.call.apply(n,h([console],t))}catch(t){return}}function O(t,e,n,r){return"attachEvent"in t?t.attachEvent("on"+e,n):t.addEventListener(e,n,r)}function P(t,e,n,r){return"attachEvent"in t?t.detachEvent("on"+e,n):t.removeEventListener(e,n,r)}function b(t,e,n){if(void 0===n&&(n=" "),(e-=t.length)<=0)return t;for(var r="";e;)1&e&&(r+=n),e>>=1,n+=n;return r+t}var A=function(){var t=null;return function(){try{if(null===t)for(var e=window.navigator.userAgent.toLowerCase(),n=0;n<E.length;n++)if(e.indexOf(E[n].toLowerCase())>-1)return t=!0}catch(t){return!1}}}();function L(t){for(var e={},n=0,r=t.split("&");n<r.length;n++){var a=r[n].split("="),o=a[0],i=a[1];o in e?e[o]instanceof Array?e[o].push(i):e[o]=[e[o],i]:e[o]=i}return e}function C(t){void 0===t&&(t=location.href);var e=t.lastIndexOf("?");return-1===e?{page:t}:{page:t.slice(0,e),params:L(t.slice(e+1))}}var T=function I(t){return!t||!/^(https?:)?\/\//.test(t)||(k("[error 108]","ËØ∑Ê≥®ÊÑèÂΩìÂâçÂüãÁÇπÈ°µÈù¢‰ø°ÊÅØ‰∏∫ "+t+"Ôºå‰∏çÁ¨¶ÂêàËßÑËåÉÔºå‰∏äÊä•Â§±Ë¥•ÔºÅ"),!1)}var R,N=(R="",function(){if(R)return R;try{var t=window.devicePixelRatio||1,e=Math.floor(screen.width*t),n=Math.floor(screen.height*t);return R=e+"x"+n}catch(t){return""}}),D=function(){return!(!((null===window||void 0===window?void 0:window.Worker)&&(null===window||void 0===window?void 0:window.Uint8Array)&&window.URL)||function(){var t,e,n=(null===(t=null===window||void 0===window?void 0:window.navigator)||void 0===t?void 0:t.userAgent)||"",r=/mobile|tablet|ip(ad|hone|od)|android|(windows phone)/i.test(n),a="MacIntel"===(null===window||void 0===window?void 0:window.navigator.platform)&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===urn Math.abs(n t}},U=function(){function t(){this.events={}}return t.prototype.on=function(t,e){e&&"function"==typeof e&&(this.events[t]=this.events[t]||[],this.events[t].push(e))},t.prototype.off=function(t,e){var n,r,a;this.events[t]&&(e&&"function"==typeof e&&(r=e,(a=(n=this.events[t]).indexOf(r))>-1&&n.splice(s[t].forEach((function(t){t.apply(void 0,e)}))},t}(),M=0,j=function(t){function e(n,r){var a,o=t.call(this)||thisplugins={},o.flush=function(){o.logger.flush()},o.baseOption=d({},r),o.logConfig=(a=n,d({env:"production",proto:"v3",timeout:3e4,wait:1e3,maxBatchLength:50,sampleRate:1,yoda:"undefined"!=typeof window&&window.yoda,forbidV2HttpUrlPage:!0},a||{})),o.initUrlPackage(),e.__instance||(e.__instance=o),o}return u(e,t),Obj"sessionId",{get:function(){return _.sessionId},enumerable:!1,configurable:!0}),e.prototype.initUrlPackage=function(){this.updateCurrentUrlPackage()},e.prototype.updateCurrentUrlPackage=function(t,e){if(void 0===t&&(t={}),void 0===e&&(e="web"),"object"==typeof t&&t.page&&this.currentUrlPackage&&t.page===this.currentUrlPackage.page)return this.currentUrlPackage.update(t.page,t.params);this.currentUrlPackage=new w(t,e)},e.prototype.updateReferUrlPackage=function(t,e){void 0===t&&(t=this.currentUrlPackage),void 0===e&&(e="web"),this.referUrlPackage=t inteBase=function(t){this.updateCobject"==typeof t&&this.commonPackage.update(t)},e.prototype.addPlugins=function(){var t=this;this.logConfig.plugins&&this.logConfig.plugins.length&&this.logConfig.plugins.forEach((function(e){"object"==typeof e&&"function"==typeof e.apply&&t.addPluginInstance(e)}))},e.prototype.addPluginInstance=function(t){if(t){var e=t.key||t.constructor&&t.constructor.key||"plugin_auto_key_"+M++;"function"!=typeof t.apply||t.weblog&&t.weblog===this||t.apply(this),this.plugins[e]=t}},e.prototype.plug=function(t,e){if(this.plugins[t.key])return k("[code 301]",t.key+" Êèí‰ª∂ÈáçÂ§çÂä†ËΩΩÔºar e=this.plugins[t];e&&(e.destroy(),delete this.plugins[t])},e.prototype.unplugAll=function(){for(var t in this.pluis.unplug(t)},e.prototype.generateLog=function(t,e){return{}},e.prototype.send=function(t,e,n){void 0===t&&(t=v.CLICK);var r=this.generateLog(t.toUpperCase(),e),a="object"==typeof e&&e.callback||void 0;return"function"==typeof this.beforeSend&&this.befd(r,!!n,a)},e.prototype.coll,e.prototype.sendImmediaotype.sendPackage=fuackage(t,e)},e.prototype.destroy=function(){this.unplugAll()},e}(U);function Hlength>0)for(var a=e?decodeURIComponent:function(t){return t},o=t.split(/;\s/g),i=null,s=null,c=null,u=0,l=o.length;u<l;u++){if(null!==(c=o[u].match(/([^=]+)=/i)))try{i=decodeURIComponent(c[1]),s=a(o[u].substring(c[1].length+1))}catch(t){}else i=decodeURIComponent(o[u]),s="";null!==i&&(r[i]=s)}return r}var B,F={};function K(t,e,n){void 0===e&&(e={}),void 0===n&&(n=!1);try{if(!n&&t in F)return F[t];if(!(null===window||void 0===window?void 0:window.document))return;var r=document.cookie||"";return r===B?F[t]:(B=r,(F=H(r,!e.raw))[t])}catch(t){}}function W(t,e,n){void 0===n&&(n={});try{document.cookie=function(t,e,n,r){void 0===r&&(r={});var a=encodeURIComponent(t)+"="+(n?encodeURIComponent(e):e),o=r.expires,i=r.path||"/",s=r.domain||"";return o instanceof Date&&(a+="; expires="+o.toUTCString()),"number"==typeof o&&(a+="; max-age=="+o),""!==i&&(a+="; path="+i),""!==s&&(a+="; domain="+s),!0===r.secure&&(a+="; secure"),a}(t,e,!n.raw,n),F[t]=e}c e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}function J(t){if(void 0===t&&(t="undefined"!=typeof location?location.hostname:""),!t)return"";var e=t.split("."),n=e.length;return n<=2?"":"."+e[n-2]+"."+e[n-1]}var z="";function $(){if(z)return z;try{if(!(z=K("did")||K("_did"))){z="web_"+function(){for(var t=1e9*Math.random()>>>0,e=[],n=0;n<7;n++)e.push("0123456789ABCDEF".charAt(16*Math.random()));return t+e.join("")}();var t=new Date;t.setFullYear(t.getFullYear()+1),W("_did",z,{expires:t,domain:J(),path:"/"})}return z}catch(t){return""}}var Y,Q,q,X="WEBLOGGER_SESSIONID",Z=function(t){function e(e,n,r){var a=t.call(this,{},n)||this;if("string"==typeof e){var o=C(e);a.page=o.page,a.params=o.params}else a.page=(e||{}).page||"",a.params=(e||{}).params||void 0;return a.identity=a.generatePageId(),r&&"string"==typeof e&&a.init(e,r),a}return u(e,t),e.prototype.init=function(t,e){void 0===e&&(e={});var n=function(t,e){var n=t.url,r=t.page,a=t.params,o=t.pageId;if(!r&&"string"==typeof n){var i=C(n);r=i.page,a=i.params}if("function"==typeof e)try{var s=e({url:n,page:r,params:a});"string"==typeof s?r=s:"object"==typeof s&&(s.page&&(r=s.page),s.params&&(a=s.params),s.pageId&&(o=s.pageId))}catch(t){}else if("object"==typeof e){var c="";for(var u in e)if((n||r||"").indexOf(u)>-1){c=e[u];break}c&&(r=c)}return{page:r,params:a,pageId:o}}({url:t,page:this.page,params:this.params},e),r=n.page,a=n.params;this.update(r,a)},e.prototype.attachUrl=function(){if(this.params||(this.params={}),null===location||void 0===location?void 0:location.href){this.params.origin_url=this.params.origin_url||(null===location||void 0===location?void 0:location.href);var t=C(location.href).page,e=void 0===t?"":t;this.params.origin_pathname=e}},e.prototype.getRealUrlPackage=function(){var t=C(location.href),e=t.page,n=t.params;return{page:e,params:JSON.stringify(d({page_code:this.page,url:location.href,query:n},n)),page_type:this..identity}},e.prototype.generatePageId=function(){return G()},e}(w),tt=function(){function t(t){if(this.identity_package={device_id:void 0,global_id:void 0,user_id:void 0,union_id:void 0,open_id:void 0,iu_id:void 0},this.app_package={product:void 0,language:void 0,platform:void 0,container:"H5",package_name:void 0,product_name:void 0,version_name:void 0,channel:void 0,version_code:void 0},this.experiment=void 0,this.service_name=void 0,this.safety_id=void 0,this.sub_biz=void 0,this.device_package={os_version:void 0,model:void 0,ua:void 0},this.need_encrypt=!1,this.network_package={type:y.unknown},this.h5_extra_attr={sdk_name:"webLogger",sdk_version:"3.9.52",sdk_bundle:"log.hybrid.js"},this.global_attr={entry_tag:[]},this.location_package={country:void 0,province:void 0,city:void 0,county:void 0,street:void 0,latitude:void 0,longitude:void 0},this.update(t),this.app_package.version_name){var e=this.app_package.version_name.lastIndexOf(".");this.app_package.version_code=+this.app_package.version_name.slice(e+1)||0}this.app_package.version_name||(this.app_package.version_name=void 0),this.app_package.version_code||(this.app_ptr=function(t){return Object.assign({},this.h5_extra_attr,t)},t.prototype.update=function(t){if("object"==typeof t){!function(t,e){if(T(t)&&T(e)){var n=function(t,e,n){T(t[n])&&T(e[n])?Object.assign(t[n],e[n]):T(t[n])||T(e[n])||(t[n]=e[n])};for(var r in e)if(t.hasOwnProperty(r))n(t,e,r);else for(var a in t)T(t[a])&&t[a].hasOwnProperty(r)&&n(t[a],e,r)}}(this,t);var e=t.network_type;e&&y[e]&&(this.network_package.type=y[e])}},t.prototype.updateGlobalAttr=function(t){Object.assign(this.global_attr||{},t)},t.prototype.toJSON=function(){this.identity_package.user_id||(this.identity_package.user_id=void 0);var t=d(d({},this),{toJSON:function(){return d(d({},t),{h5_extra_attr:JSON.stringify(t.h5_extra_attr),global_attr:JSON.stringify(t.global_attr)})}});t.global_attr=d({},this.global_attr),this.global_attr.entry_tag&&this.global_attr.entry_tag.length?t.global_attr.entry_tag=this.global_attr.entry_tag.slice():delete t.global_attr.entry_tag,Object.keys(this.global_attr).length||delete t.global_attr;ject.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),t},t}(),et="https://data-track.corp.kuaishou.com",nt=et+"/",ot="production",it="logger",at="logger-oversea",st="rest/wd/common/log/collect/",ct=[ot,"test","development",it,"oversea"],ut="https://logsdk.kwai-pro.com/",lt={v2:"rest/kd/log/collect?_json=1&biz=",v3:st+"misc2",radar:st+"radar"},ft={v2:{production:["https://wlog.ksapisrv.com/","https://wlog.gifshow.com/"][Math.round(Math.random())],development:nt,test:nt,oversea:ut},v3:{production:"https://log-sdk.ksapisrv.com/",development:nt,test:nt,oversea:ut}},pt=function(t,e,n){return void 0===t&&(t=ot),void 0===e&&(e=!1),void 0===n&&(n="v3"),-1===ct.indexOf(t)?t+lt[n]:e&&ft.v3[t]?ft.v3[t]+lt.radar:ft[n][t]&&lt[n]?ft[n][t]+lt[n]:ft.v3.production+lt.v3},ht=function(t,e){if(!e)return t;try{return/\?(.+?)$/.test(t)?t.replace(/\?(.+?)$/,"?"+e+"&$1"):t+"?"+e}catch(e){return t}},vt=function(){function t(t,e){var n=this;this.asyncQueue=[],this.throttleQueue=[],this.errorQueue=[],this.sendingQueue={},this.url="",this.isV2=!1,this.isDebug=!1,this.radarUrl="",this.drained=!1,this.batchCount=50,this.sendingYield=null,this.flush=function(t){n.sendLogs(n.throttleQueue.concat(n.asyncQueue),t),n.throttleQueue=[],n.asyncQueue=[]},this.drain=funush(),n.flushErrorLogs(),setTimeout((function(){n.drained=!1}),1e3)},this.config=t,this.config.maxBatchLength&&this.config.maxBatchLength>1&&(this.batchCount=Math.min(50,this.config.maxBatchLength)),this.commonPackage=e,this.isDebug=this.config.logger||"logger"===this.config.env,this.isV2="v2"===this.config.proto,this.updateUrls()}return t.prototype.sendData=function(t,e){return"function"==typeof this.config.sender?this.config.sender(t,e):this.baseSendData(t,e)},t.prototype.updateUrls=function(){var t=this.config.env;t&&/^(https?:)?\/\//.test(t)?this.url=t:this.url=pt(t),this.formatUrl()},t.prototype.formatUrl=function(){this.radarUrl||(this.radarUrl=this.url.replace(-1!==this.url.indexOf(lt.v2)?lt.v2:lt.v3,lt.radar),-1!==this.radarUrl.indexOf(ft.v2.production)&&this.radarUrl.replace(ft.v2.production,ft.v3.production));var t=this.commonPackage.app_package,e=t.product_name,n=t.product,r="v=3.9.52&kpn="+(e||n);this.url=ht(this.url,r),this.radarUrl=ht(this.radarUrl,r)},t.prototype.getCommonPackageJSON=function(){return this.commonPackage.toJSON()},t.prototype.send=function(t,e,n){if(void 0===e&&(e=!1),n||this.drained)return this.sendLogs([t],n);e?this.sendAsync(t,n):this.sendThrottle(t)},t.prototype.sendAsync=function(t,e){return p(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return this.asyncQueue.push(t),this.asyncQueue.length>=this.batchCount?(this.flush(),[2]):this.sendingYield?[4,this.sendingYield]:[3,2];case 1:e.sent(),this.sendingYield=null,e.label=2;case 2:return e.trys.push([2,4,,5]),[4,Promise.resolve()];case 3:case 4:return e.sent(),[3,5];case 5:return this.asyncQueue.length?(this.flush(),[2]):[2]}}))}))},t.prototype.sendThrottle=function(t){var e=this;this.throttleQueue.push(t),this.throttleQueue.length>=this.batchCount?this.flush():(cleatTimer),this.batchWaitTimer=setTimeout((function(){e.flush()}),this.config.wait))},t.prototype.sendLogs=function(t,e){var n=this;if(!t||!t.length)return"function"==typeof e&&e();var r=this.buildLogPackage(t,this.url);this.sendPackage(r,(function(t){t?n.errHandler(r):n.flushErrorLogs(),"function"==typeof e&&e(t)}))},t.prototype.sendPackage=function(t,e){var n=this.config.timeout;try{this.sendData(d(d({},t),{isDebug:this.isDebug,timeout:n}),e)}catc this.isV2?this.buildV2Package(t,e):this.buildV3Package(t,e)},t.prototype.buildV2Package=function(t,e){return{url:e,data:{log:{event:t}}}},t.prototype.buildV3Package=function(t,e,n){var r=this.getCommonPackageJSON();return n&&Object.assign(r,n),{url:e,data:{common:r,logs:t}}},t.prototype.errHandler=function(t){var e;if(this.isV2)this.errorQueue.unshift(t);else{var n=t.data;if(n.logs.length){delete n.common.h5_extra_attr.http_seq_id,delete n.common.h5_extra_attr.client_timestamp;for(var r=!1,a=0;a<this.errorQueue.length;a++){var o=this.errorQueue[a];if(o.url===t.url&&o.data.logs.length+n.logs.length<=100&&JSON.stringify(o.data.common)===JSON.stringify(n.common)){r=!0,(e=o.data.logs).push.apply(e,n.logs);break}}r||(this.errorQueue.length>=5&&this.errorQueue.po.forEach((function(eer),this.compensateTimer&&clearTimeout(this.compensateTimer)},t.prototype.sendRadar=function(t,e){var n=e?{service_name:e}:void 0,r=this.buildV3Package([t],this.radarUrl||this.url,n);this.sendPackage(r)},t}(),gt=(null===(Y=null===window||void 0===window?void 0:window.navigator)||void 0===Y?void 0:Y.userAgent)||"",mt=function(){if(Q)return Q;var t="unknow",e=/android/i,n="Mac OS",r="Windows",a="Android",o="iPhone",i="iPhone",s="Windows Phone",c="Linux";Q={os:{name:t,version:t},model:t};try{var u=gt.match(/\((.*?)\)/);if(!u)return er l=u[1]+")",d=l.split(";").map((function(t){return t.trim()})),p=void 0,g=void 0,f=void 0;if(gt.indexOf(s)>-1)f=p=s,(m=l.match(/Windows\sPhone\s(.*?)[;\)\s]/))&&(g=m[1]),f=d[d.length-1].replace(")","");else if(e.test(gt)){p=a;var h=l.match(/android.*?;(.*?)build\//i);h&&(f=(f=h[1].split(";").pop())&&f.trim());for(var v=0;v<d.length;v++)if(e.test(d[v])){g=d[v].replace(e,""),f||(f=d[v+1]);break}}else if(gt.indexOf(o)>-1||gt.indexOf(i)>-1)f=gt.indexOf(o)>-1?o:i,p="iOS",(m=l.match(/OS\s(.*?)\slike/))&&(g=m[1]);else if(gt.indexOf(n)>-1)f=p=n,(m=l.match(/OS\sX\s(.*?)[;\)\s]/))&&(g=m[1]);else if(gt.indexOf(r)>-1){var m;f=p=r,(m=l.match(/Windows\s(.*?)[;\)]/))&&(g=m[1])}else if(gt.indexOf("Nokia")>-1){p="Symbian";var y=gt.match(/Symbian.*?\/(.*?);/);y&&(g=y[1]);var _=gt.match(/Nokia(.*?)\//);_&&(f=_[1])}else l.indexOf(c)>-1&&(p=f=c);Q={os:{name:p||t,version:g&&g.replace(/_/g,".").trim()||t},model:f||t}}catch(t){}return Q};function yt(){return void 0===q&&(q=A()&&K("kpn")||function(){if("undefined"==typeof window)return"";for(var t=window.navigator.userAgent,e=[[/ Kwai\//,"KUAISHOU"],[/ ksthanos\//,"THANOS"],[/ ksNebula\//i,"NEBULA"]],n=0;n<e.length;n++){var r=e[n],a=r[0],o=r[1];if(a.ndows Phone"))&&window.history&&"pushState"in window.history},getUAInfo:mt,getDefaultKpn:yt},bt=[["a7","640x1136",["iPhone 5","iPhone 5s"]],["a7","1536x2048",["iPad Air","iPad Mini 2","iPad Mini 3"]],["a8","640x1136",["iPod touch (6th gen)"]],["a8","750x1334",["iPhone 6"]],["a8","1242x2208",["iPhone 6 Plus"]],["a8","1536x2048",["iPad Air 2","iPad Mini 4"]],["a9","640x1136",["iPhone SE"]],["a9","750x1334",["iPhone 6s"]],["a9","1242x2208",["iPhone 6s Plus"]],["a9x","1536x2048",["iPad Pro (1st gen 9.7-inch)"]],["a9x","2048x2732",["iPad Pro (1st gen 12.9-inch)"]],["a10","750x1334",["iPhone 7"]],["a10","1242x2208",["iPhone 7 Plus"]],["a10x","1668x2224",["iPad Pro (2th gen 10.5-inch)"]],["a10x","2048x2732",["iPad Pro (2th gen 12.9-inch)"]],["a11","750x1334",["iPhone 8"]],["a11","1242x2208",["iPhone 8 Plus"]],["a11","1125x2436",["iPhone X"]],["a12","828x1792",["iPhone Xr"]],["a12","1125x2436",["iPhone Xs"]],["a12","1242x2688",["iPhone Xs Max"]],["a12x","1668x2388",["iPad Pro (3rd gen 11-inch)"]],["a12x","2048x2732",["iPad Pro (3rd gen 12.9-inch)"]]],wt=function(){try{var t=mt(),e=A(),n=t.model||t.os.name||"unknown";if("iOS"!==t.os.name||e)return n;var r=function(){for(var t=N(),e=[],n=0,r=bt;n<r.length;n++){var a=r[n];t===a[1]&&(e=e.concat(a[2]))}return e.length&&e}();return r?r.join(" or "):n}catch(t){return"unknown"}},Et={},St=function(t){try{if(window&&window.localStorage&&"undefined"!=typeof Storage&&window.localStorage instanceof Storage){var e=Number(function(t){try{if(window&&window.localStorage){var e=window.localStorage.getItem(t);if(e)try{return JSON.parse(e)}catch(t){return e}}}catch(t){return null}return null}(t))||0;return e+1>1e8&&(e=0),function(t,e){try{window&&window.localStorage&&window.localStorage.setItem(t,JSON.stringify(e))}catch(t){return!1}}(t,e+1),e}}catch(t){}return Et[t]||(Et[t]=0),Et[t]++},kt=0,Ot=A();function Pt(){try{var t=mt().os.name;return kt=t?"Android"===t?Ot?6:8:"iOS"===t?Ot?7:9:10:0}catch(t){return 0}}function At(){var t="unknown",e=null===window||void 0===window?void 0:window.navigator,n=(null==e?void 0:e.connection)||(null==e?void 0:e.mozConnection)||(null==e?void 0:e.webkitConnection);return n&&(t=n.type||n.effectiveType),t}var Lt=function(t){function e(e){var n=t.call(this,d({platform:Pt(),container:10===kt?"WEB":"H5",version_name:Ot&&K("appver",void 0,!0)||"",network_type:At(),device_id:$(),global_id:Ot&&K("egid")||"",app_package:{language:navigator.language},device_package:{os_version:mt().os.version,model:wt(),ua:navigator.userAgent}},e))||this;return Object.assign(n.h5_extra_attr,{host_product:yt(),resolution:N(),screen_with:x(screen.width),screen_height:x(screen.height),device_pixel_ratio:window.devicePixelRatio||1,domain:window.location.origin},e.h5_extra_attr),delete tVersionName=function(){return this.app_package.version_name},e.prototype.update=function(e){t.prototype.update.call(this,e);var n=this.app_package.version_name;if("string"==typeof n){var r=n.lastIndexOf(".");this.app_package.version_code=+n.slice(r+1)||0,this.h5_extra_attr.app_version_name=n}},e.prototype.setAdditionalSeqIdPackage=function(t){var e,n;this.additional_seq_id_package={channel:3,channel_seq_id:(n="NORMAL",void 0===n&&(n=""),St("WEBLOGGER_CHANNEL_SEQ_ID_"+n)),custom_type:t,custom_seq_id:(e=t,St("WEBLOGGER_V2_SEQ_ID_"+e))}},e.prototype.increaseH5SeqId=function(t){this.h5_extra_attr.client_timestamp=x((new Date).valueOf()),this.h5_extra_attr.seq_id=St(t?"WEBLOGGER_H5_CUSTOM_SEQ_ID":"WEBLOGGER_H5_SEQ_ID")},e}(tt),Ct=function(t,e,n){return k("[error 400]","ÂüãÁÇπ‰∏äÊä•Êé•Âè£ËØ∑Ê±ÇÊä•Èîô","\nurl:",e,"\ndata",n,"\nerror:",t||"server decode log failed")};function Tt(t,e){var n=t.url,r=t.data,a=t.timeout,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),"object"!=typeof r||r instanceof Uint8Array||(r=JSON.stringify(r)),a&&(o.timeout=a),o.onload=function(){var t=function(t,e,n,r){var a;if(t<200||t>=300&&304!==t);else try{var o=JSON.parse(e),i=o.exception,s=o.result,c=o.error_msg;i&&(a=i),1!==s&&(a=c||"result is "+s)}catch(t){a=t.message}return a&&Ct(a,n,r),a}(o.status,o.response,n,r);e&&e(t)},o.ontimeout=o.onerror=function(t){t&&Ct(t,n,r),e&&e(t?"networkTimeout":"")},o.send(r)}var It=function(t){var e=function(e){return k("[error 401]","GET ËØ∑Ê±ÇÂá∫Èîô url: "+t,e)};try{var n=new XMLHttpRequest;n.open("GET",t),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.send(),n.onerror=e}catch(t){e(t)}},Rt=null===window||void 0===window?void 0:window.navigator,Nt=Rt&&-1!==Rt.userAgent.indexOf("Chrome")&&"function"==typeof Rt.sendBeacon;function Dt(t,e){var n=t.url,r=t.data,a=t.timeout,o=t.isDebug;if(r=JSON.stringify(r),!o&&function(t){var e=t.url,n=t.data;if(!Nt)return!1;"object"==typeof n&&n.fd&&(n=n.fd);try{return Rt.sendBeacon(e,n)}catch(t){return k("[error 403]","navigator.sendBeacon Êä•Èîô",t),!1}}({url:n,data:r}))return e&&e();Tt({url:n,data:r,timeout:a},e)}var xt,Ut=function(t,e,n){return void 0===t&&(t=et),S("%cÂüãÁÇπÊäìÂåÖÊ†°È™å: %c"+t+"/#/logger;line-height:2.4em;","font-size:1.2em;"),e+"/"+n+"/"};!function(t){t.loading="loading",t.loaded="loaded"}(xt||(xt={}));var Mt,jt,Ht,Bt=Object.create(null),Ft="weblogger_switch",Kt=function(t){var e=function(){try{var t=K(Ft)||"undefined"!=typeof sessionStorage&&sessionStorage.getItem(Ft);if(!t)return;var e=JSON.parse(t),n=e.loggerSessionId,r=e.reportHost,a=e.loggerHost,o=e.handshakeApi;return n?(It(o||r+"/"+n),Ut(a,r,n)):""}catch(t){return""}}()||function(t){void 0===t&&(t=location.href);var e=t.lastIndexOf("?");if(-1===e)return"";var n=L(t.slice(e+1)).webloggerSwitch;if(!n)return"";try{var r=decodeURIComponent(n),a=JSON.parse(r),o=a.loggerSessionId,i=a.reportHost,s=a.loggerHost,c=a.handshakeApi;return o?("undefined"!=typeof sessionStorage&&sessionStoragt(e,!1,t)},Wt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.baseSendData=r.sendLog,r}return u(e,t),e.prototype.updateUrls=function(){var t=this.config,e=t.env,n=void 0===e?ot:e,r=t.logger,a=t.proto,o=t.isBridge,i=t.disableCompress,s=Kt(a);if(s)this.url=s,this.isDebug=!0;else if(r||n===it||n===at){var c=function(t,e){void 0===t&&(t=$()),void 0===e&&(e=!1);var n=e?"https://data-track-sgp.corp.kuaishou.com":et;return It(n+"/rest/"+t),Ut(n,n+"/rest",t)}(this.commonPackage.identity_package.device_id,n===at);this.url=pt(c,!1,a),this.isDebug=!0}else n&&/^(https?:)?\/\//.test(n)?this.url=n:(this.isDebug=n!==ot,this.url=pt(n,!1,a),this.radarUrl=pt(n,!0,a));this.enableAsyncGzip=!i&&"v3"===a&&!o&&D()&&n===ot&&!s&&!r,this.enableAsyncGzip&&function(t,e,n){if(void 0===e&&(e=!0),Bt[t])return n&&n(t+" load repeat");var r=Bt[t]={state:xt.loading},a=document.createElement("script");a.src=t,e&&(a.async=!0);var o=document.getElementsByo.parentNode.insertBefore(a,o):document.head.appendChild(a),a.onload=function(){r.state=xt.loaded,n&&n()},a.onerror=function(e){r.state=xt.loaded,n&&n(t+" loaded failed, "+e)}}("https://static.yximgs.com/udata/pkg/ks-track-platform-new/weblogger/3.9.52/async/gzipper.min.js"),this.formatUrl()},e.prototype.sendLog=function(t,e){!this.drained&&this.enableAsyncGzip&&this.sendGzip(t,e)||Dt(t,e)},e.prototype.sendGziturn!!(null===(r=e.Gzipper)||void 0=unction(e){e&&Dt(t,n)}))},e.prototype.getCommonPackageJSON=function(){return this.commonPackage.toJSON()},e.prototype.send=function(e,n,r){void 0===n&&(n=!1),this.isV2&&(this.commonPackage.setAdditionalSeqIdPackage(e.getEventType()),e.common_package=this.getCommonPackageJSON()),t.prototype.send.call(this,e,n,r)},e}(vt);!function(t){var e,n,r,a,o,i,s,c;(e=t.ElementStatus||(t.ElementStatus={}))[e.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",e[e.CHECKED=1]="CHECKED",e[e.UNCHECKED=2]="UNCHECKED",(n=t.PageShowAction||(t.PageShowAction={}))[n.UNKNOWN_ACTION=0]="UNKNOWN_ACTION",n[n.ENTER=1]="ENTER",n[n.LEAVE=2]="LEAVE",n[n.RESUME=3]="RESUME",(r=t.ActionStatus||(t.ActionStatus={}))[r.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",r[r.SUCCESS=1]="SUCCESS",r[r.FAIL=2]="FAIL",(a=t.ActionType||(t.ActionType={}))[a.UNKNOWN_ACTION_TYPE=0]="UNKNOWN_ACTION_TYPE",a[a.CLICK=1]="CLICK",a[a.LEFT_PULL=2]="LEFT_PULL",a[a.RIGHT_PULL=3]="RIGHT_PULL",a[a.UP_PULL=4]="UP_PULL",a[a.DOWN_PULL=5]="DOWN_PULL",(o=t.SubAction||(t.SubAction={}))[o.UNKNOWN_SUB_ACTION=0]="UNKNOWN_SUB_ACTION",o[o.PAGE_ENTER=1]="PAGE_ENTER",o[o.PAGE_LEAVE=2]="PAGE_LEAVE",o[o.PAGE_RESUME=3]="PAGE_RESUME",o[o.PAGE_PAUSE=4]="PAGE_PAUSE",(i=t.Direction||(t.Direction={}))[i.UNKNOWN2=0]="UNKNOWN2",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i[i.LEFT=3]="LEFT",i[i.RIGHT=4]="RIGHT",(s=t.TaskStatus||(t.TaskStatus={}))[s.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",s[s.START=1]="START",s[s.RETRY=2]="RETRY",s[s.PAUSE=3]="PAUSE",s[s.RESUME=4]="RESUME",s[s.PENDING=5]="PENDING",s[s.PROCESSING=6]="PROCESSING",s[s.SUCCESS=7]="SUCCESS",s[s.FAIL=8]="FAIL",s[s.CANCEL=9]="CANCEL",s[s.FINISH=10]="FINISH",(c=t.OperationType||(t.OperationType={}))[c.UNKNOWN_OPERATION=0]="UNKNOWN_OPERATION",c[c.CLICK=1]="CLICK",c[c.DOUBLE_CLICK=2]="DOUBLE_CLICK",c[c.TRIPLE_CLICK=3]="TRIPLE_CLICK",c[c.LONG_PRESS=4]="LONG_PRESS",c[c.PULL=5]="PULL",c[c.DRAG=6]="DRAG",c[c.SCALE=7]="SCALE",c[c.PULL_DOWN=8]="PULL_DOWN",c[c.PULL_UP=9]="PULL_UP",c[c.RIGHT_CLICK=10]="RIGHT_CLICK",c[c.AUTO=11]="AUTO"}(Mt||(Mt={})),function(t){var e,n;(e=t.ShowType||(t.ShowType={}))[e.UNKNOWN_TYPE=0]="UNKNOWN_TYPE",e[e.PAGE_AUTO=10]="PAGE_AUTO",e[e.PAGE_CUSTOM=11]="PAGE_CUSTOM",e[e.ELEMENT=12]="ELEMENT",(n=t.TaskEventType||(t.TaskEventType={}))[n.UNKNOWN_TYPE=0]="UNKNOWN_TYPE",n[n.USER_OPERATION=1]="USER_OPERATION",n[n.STAY_LENGTH_||(jt={})),function(t){var e;(e=t.ShowType||(t.ShowType={}))[e.UNKNOWN2=0]="UNKNOWN2",e[e.PAGE=1]="PAGE"}(Ht||(Ht={}));var Vt,Gt,Jt=!0,zt=(new Date).valueOf(),qt=function(t,e){var n,r;void 0===e&&(e=!1);var a=t.type,o=t.currentUrlPackage,i=t.referUrlPackage,s=t.name,c=void 0===s?"":s,u=t.action,l=t.beginTime,p=t.params,g=t.contentPackage,f=t.status,h=t.actionType,v=t.auto,m=((n={status:f?Mt.ActionStatus[f]||Mt.ActionStatus.UNKNOWN_STATUS:Mt.ActionStatus.SUCCESS})[e?"show_type":"action_type"]=h?Mt.ActionType[h]||Mt.ActionType.UNKNOWN_ACTION_TYPE:Mt.ActionType.CLICK,n.url_package=o,n.refer_url_package=i,n[e?"content_wrapper":"content_package"]=g,n);if("PV"===a){var y=Mt.SubAction.PAGE_ENTER,_=Mt.PageShowAction.ENTER,w=Jt,E=0;switch(Jt=!1,u){case"leave":_=Mt.PageShowAction.LEAVE,y=Mt.SubAction.PAGE_LEAVE,E=x((new Date).valueOf()-(l||zt));break;case"enter":_=Mt.PageShowAction.ENTER,y=Mt.SubAction.PAGE_ENTER,zt=(new Date).valueOf();break;case"visible":_=Mt.PageShowAction.RESUME,y=Mt.SubAction.PAGE_RESUME,zt=(new Date).valueOf();break;case"hidden":_=Mt.PageShowAction.LEAVE,y=Mt.SubAction.PAGE_PAUSE,E=x((new Date).valueOf()-(l||zt))}var S=v?jt.ShowType.PAGE_AUTO:jt.ShowType.PAGE_CUSTOM;return e&&(w=void 0,S=Ht.ShowType.PAGE),{show_event:d({action:_,sub_action:y,type:S,first_load:w,time_cost:0,stay_length:E},m)}}return{show_event:d({action:e?0:Mt.PageShowAction.ENTER,type:e?0:jt.ShowType.ELEMENT,sub_action:e?0:Mt.SubAction.PAGE_ENTER,element_package:(r={},r[e?"action2":"action"]=c,r.params=JSON.stringify(p),r)},m)}},$t=function(t,e){var n,r;void 0===e&&(e=!1);var a=t.sessionId,o=t.currentUrlPackage,i=t.referUrlPackage,s=t.name,c=t.params,u=t.type,l=t.contentPackage,p=t.status,g=t.taskType,f=t.operationDirection,h=((n={url_package:o,refer_url_package:i,element_package:(r={},r[e?"action2":"action"]=s,r.params=JSON.stringify(c),r)})[e?"content_wrapper":"content_package"]=l,n);if(e){var v="USER_OPERATION"===g||"CLICK"===u&&!g,m=u&&Mt.OperationType[u]||Mt.OperationType.CLICK;return v?{click_event:d({type:m,direction:f&&Mt.Direction[f]||Mt.Direction.UNKNOWN2},h)}:{task_event:d({action2:s,status:p&&Mt.TaskStatus[p]||Mt.TaskStatus.UNKNOWN_STATUS},h)}}return{task_event:d({type:g&&jt.TaskEventType[g]||jt.TaskEventType.USER_OPERATION,status:p&&Mt.TaskStatus[p]||Mt.TaskStatus.UNKNOWN_STATUS,operation_type:Mt.OperationType[u]||Mt.OperationType.CLICK,operation_direction:f&&Mt.Direction[f]||Mt.Direction.UNKNOWN2,session_id:a},h)}},Yt=function(t){var e=t.name,n=t.params,r=t.currentUrlPackage,a=t.referUrlPackage,o=f(t,["name","params","currentUrlPackage","referUrlPackage"]);return{key:e,value:JSON.stringify(d(d({url_package:r,refer_url_package:a},n),o))}},Qt=function(t){var e=t.currentUrlPackage,n=t.referUrlPackage,r=t.options;return{video_stat_event:d(d({},r),{url_package:e,refer_url_package:n})}},Xt=(Vt=(new Date).getTimezoneOffset()/60)<=0?"GMT+"+b(-Vt+"",2,"0")+":00":"GMT-"+b(Vt+"",2,"0")+":00",Zt=function(){function t(t,e){void 0===e&&(e=!1),this.client_timestamp=x((new Date).valueOf()),this.client_increment_id=0,this.session_id=_.sessionId,this.event_id="",e||(this.time_zone=Xt),Object.assign(this,t),this.genIncrementId()}return t.prototype.genIncrementId=function(){this.client_increment_id=this.isCustomStatEvent()?St("WEBLOGGER_CUSTOM_INCREAMENT_ID_KEY"):St("WEBLOGGER_INCREAMENT_ID_KEY")},t.prototype.isCustomStatEvent=function(){return!(!this.stat_package||!("custom_stat_event"in this.stat_package))},t.prototype.getEventType=function(){if(this.event_package){var t=this.event_package,e=t.task_event,n=t.show_event,r=t.click_event,a=t.custom_event;if(n)return"showEvent";if(r)return"clickEvent";if(e)return"taskEvent";if(a)return"customEvent"}return"customEvent"},t}();function te(t,e,n){var r;void 0===n&&(n=!1);var a,o=e.eventId,i=e.currentUrlPackage,s=e.referUrlPackage,c=e.contentPackage,u=e.name,l=e.params;switch(n&&"RADAR"!==t&&"CUSTOM"!==t&&(i&&(i.page2=i.page,delete i.page),s&&(s.page2=s.page,delete s.page)),t){case"PV":case"SHOW":return new Zt({event_package:qt({type:t,status:e.status,currentUrlPackage:i,referUrlPackage:s,action:e.type,beginTime:e.beginTime,actionType:e.actionType,name:u,params:l,contentPackage:c,operationDirection:e.operationDirection,auto:e.auto},n),event_id:o},n);case"CUSTOM":case"CUSTOM_STAT_EVENT":var p=Yt({name:u,params:l,currentUrlPackage:i,referUrlPackage:s});return new Zt(n?{event_package:{custom_event:p},event_id:o}:{stat_package:{custom_stat_event:p},event_id:o},n);case"RADAR":return new Zt({stat_package:{custom_stat_event:Yt({name:u,params:l,currentUrlPackage:i,referUrlPackage:s})},event_id:o},n);case"HEART_BEAT_EVENT":case"LAUNCH_EVENT":case"APP_USAGE_STAT_EVENT":case"EXCEPTION_EVENT":case"DEVICE_STAT_EVENT":return new Zt({stat_package:(r={},r[t.toLowerCase()]=(a=e,a.currentUrlPackage,a.referUrlPackage,a.taskType,f(a,["currentUrlPackage","referUrlPackage","taskType"])),r)},n);case"VIDEO":return new Zt(n?{stat_package:Qt({currentUrlPackage:i,referUrlPackage:s,options:l.params})}:{event_package:$t({type:t,status:e.status,taskType:e.taskType,sessionId:_.sessionId,currentUrlPackage:i,referUrlPackage:s,name:u,params:l.params,contentPackage:c},n),event_id:o},n);default:return new Zt({event_package:$t({type:t,status:e.status,taskType:e.taskType,sessionId:_.sessionId,currentUrlPackage:i,referUrlPackage:s,name:u,params:l,contentPackage:c},n),event_id:o},n)}}var ee,ne=null,re="tool",oe=!1,ie=function(t){return void 0===t&&(t=Gt||"undefined"!=typeof window&&window.yoda),Gt&&Gt.isInYoda?Gt:t&&t.isInYoda?Gt=t:null},rt=function(){return p(void 0,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:if(!Gt||oe)return[2];t.label=1;case 1:return t.trys.push([1,6,,7]),ne?[4,ne]:[3,3];case 2:return t.sent(),[3,5];case 3:return[4,ne=Gt.ready()];case 4:t.sent(),Gt.register({namespace:"webview",name:"getPageLoadData"}),Gt.register({namespace:"tool",name:"setClientLog"}),Gt.register({namespace:"tool",name:"sendRadarLog"}),Gt.register({namespace:"tool",name:"sendSummarizedLog"}),Gt.register({namespace:"tool",name:"getKswitchData"}),t.label=5;case 5:return ne=null,oe=!0,[3,7];case 6:return t.sent(),[3,7];case 7:return[2]}}))}))},ae=function(t,e){return void 0===e&&(e="tool"),p(void 0,void 0,void 0,(function(){var n,r,a;return g(this,(function(o){switch(o.label){case 0:return n=!1,Gt?oe?[3,2]:[4,rt()]:[3,5];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,Gt.tool.canIUse({namespace:e,name:t})];case 3:return r=o.sent().canUse,n=r,[3,5];case 4:return a=o.sent(),k("[error 206]","yoda.tool.canIUse({ '"+e+"', '"+t+"' }) Êä•Èîô: "+a.message),[3,5];case 5:return[2,n]}}))}))},se=function(t,e){return p(void 0,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return Gt?oe?[3,2]:[4,rt()]:[2];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,Gt[re].setClientLog({type:t,data:e},(function(n,r){n&&1!==n.result&&k("[error 203]","yoda.tool.setClientLog ÂüãÁÇπÂèëÈÄÅÂ§±Ë¥•",JSON.stringify({type:t,data:e}),"result: "+n+", message: "+r)}))];case 3:return[2,r.sent()];case 4:return n=r.sent(),k("[error 209]","yoda."+re+".setClientLog() Êä•Èîô: "+n.message),[3,5];case 5:return[2]}}))}))},ce=function(){return p(void 0,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return Gt?[4,ae(t="setClientLog","tool")]:[2,!1];case 1:return e.sent()?(re="tool",[2,!0]):[4,ae(t,"platform")];case 2:return e.sent()?(re="platform",[2,!0]):[2,!1]}}))}))},ue=void 0,le=function(t,e){return p(void 0,void 0,void 0,(function(){var n,r;return g(this,(function(a){switch(a.label){case 0:return Gt?oe?[3,2]:[4,rt()]:[2];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,null===(r=Gt.tool)||void 0===r?void 0:r.handleEntryTag({type:t,params:e})];case 3:return(n=a.sent())&&n.data&&n.data.entryTag?[2,n.data.entryTag]:[3,5];case 4:return k("[error 213]","Êìç‰ΩúÊüìËâ≤ÂèÇÊï∞Êä•Èîô",a.sent()),[3,5];case 5:return[2,null]}}))}))},de={isSupportBridgeLog:ce,isSupportBridge:ae,getWebviewLoadPerf:function(t){return void 0===t&&(t={}),p(void 0,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return Gt?oe?[3,2]:[4,rt()]:[2];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,null===(e=Gt.webview)||void 0===e?void 0:e.getPageLoadData(t)];case 3:return[2,n.sent()];case 4:return k("[error 207]","yoda.webview.getPageLoadData() Êä•Èîô: "+n.sent().message),[3,5];case 5:return[2]}}))}))},sendRadarLog:function(t){return void 0===t&&(t={}),p(void 0,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return Gt?oe?[3,2]:[4,rt()]:[2];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,null===(e=Gt.tool)||void 0===e?void 0:e.sendRadarLog(t,(function(e,n){e&&1!==e.result&&k("[error 205]","yoda.tool.sendRadarLog ÂüãÁÇπÂèëÈÄÅÂ§±Ë¥•",JSON.stringify(t),"result: "+e+", message: "+n)}))];case 3:return[2,n.sent()];case 4:return k("[error 207]","yoda.tool.sendRadarLog() Êä•Èîô: "+n.sent().message),[3,5];case 5:return[2]}}))}))},setClientLog:se,initYoda:rt,yodaAlready:oe,getKDSWebviewLoadPerf:function(t){return void 0===t&&(t={}),p(void 0,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return Gt?oe?[3,2]:[4,rt()]:[2];case 1:n.sent(),n.label=2;case 2:return[4,ae("getPageLoadData","system")];case 3:if(!n.sent())return[3,7];n.label=4;case 4:return n.trys.push([4,6,,7]),[4,null===(e=Gt.system)||void 0===e?void 0:e.getPageLoadData(t)];case 5:return[2,n.sent()];case 6:return k("[error 212]","yoda.system.getPageLoadData() Êä•Èîô",n.sent().message),[3,7];case 7:return[2]}}))}))},sendSummarizedLog:function(t){return void 0===t&&(t={}),p(void 0,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:if(!Gt)return[2];n.label=1;case 1:return n.trys.push([1,5,,6]),oe?[3,3]:[4,rt()];case 2:n.sent(),n.label=3;case 3:return[4,null===(e=Gt.tool)||void 0===e?void 0:e.sendSummarizedLog(t)];case 4:return[2,n.sent()];case 5:return k("[error 208]","yoda.tool.sendSummarizedLog() Êä•Èîô: "+n.sent().message),[3,6];case 6:return[2]}}))}))}},dt=function(t,e,n,r){void 0===t&&(t=v.CLICK),void 0===e&&(e={}),"string"!=typeof t&&(t=t.type),t=t.toUpperCase();var a={};return"string"==typeof e?(a.contentPackage=r,"CUSTOM"===t?(a.key=e,a.value=n):(a.params=n,"PV"===t?a.page=e:a.action=e)):a=e,[t,a]},fe="WEBLOGGER_SILENCED";"undefined"!=typeof window&&("object"!=typeof window._WEBLOGGER&&(window._WEBLOGGstances:[],silence:function(t){try{t?sessionStorage.setItem(fe,"1"):sessionStorage.removeItem(fe),window._WEBLOGGER.instances.forEach((function(e){null==e||e.silence(t)}))}catch(t){}}}),ee=window._WEBLOGGER);var pe,he,ve=!1,ge=Math.random(),me=function(t){function e(e,n){void 0===e&&(e={});var r,a,o,i=t.call(this,e,n)||this;return i.yoda=null,i.SampledPageMap=function(t){if(!ve){for(var e in i.logger.drain(),i.plugins){var n=i.plugins[e];"function"==typeof n.beforeUnload&&n.beforeUnload(t)}ve=!0,setTimeout((function(){ve=!1}),2e3)}},i.isBridge=e.bridgeMode&&e.yoda&&e.yoda.isInYoda,i.logConfig.isBridge=i.isBridge,r="sessionId",a=n&&n.session_id||K("sid")||function(){var t="";if(A()){if(t=K("session_id")||K("sid"))return t}else if("undefined"!=typeof sessionStorage)try{(t=sessionStorage.getItem(X)||"")||(t=G(),sessionStorage.setItem(X,t))}catch(e){t=G()}return t||G()}(),_[r]=a,i.isV2="v2"===i.logConfig.proto,i.getSampled(e),i.presetBaseOption(i.baseOption),i.commonPackage=new Lt(i.baseOption),i.logger=new Wt(i.logConfig,i.commonPackage),i.initYoda(),i.addPlugins(),O(window,"pagehide",i.beforeUnload),O(window,"beforeunload",i.beforeUnload),o=i,(null==ee?void 0:ee.instances)&&o&&-1===ee.instances.indexOf(o)&&(ee.instances.push(o),ee._silenced&&(null==o||o.silence(!0))),i}return u(e,t),e.prototype.getSampled=function(t){"function"==typeof t.sampleRateFn?this.sampled=!!t.sampleRateFn():void 0!==t.sampleRate&&(this.sampled=ge<Number(t.sampleRate))},e.prototype.presetBaseOption=function(t){this.isBridge||(this.isV2?("number"!=typeof t.product&&k("[error 101]","ËØ∑ËÆæÁΩÆÊúâÊïàÁöÑ product ÂÄºÔºåÂÄºÁ±ªÂûã‰∏∫ number!"),delete t.product_name):(t.product_name&&"string"==typeof t.product_name||k("[error 100]","ËØ∑ËÆæÁΩÆÊúâÊïàÁöÑ product_name ÂÄºÔºåÂÄºÁ±ªÂûã‰∏∫ string!"),delete t.product),t.user_id||(t.user_id=K("userId")||K("userName")||void 0,t.user_id||function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.warn;n&&n.call.apply(n,h([console],t))}catch(t){return}}("[warn 102]","user_id ‰∏∫Á©∫ÔºåËØ∑Á°ÆÂÆöÊòØÂê¶‰º†ÂÖ•ÔºåÂ¶ÇÊûúÊòØÂºÇÊ≠•ÈÄöËøá updateCommonPackage Êé•Âè£‰º†ÂÖ•ÔºåÂèØ‰ª•ÂøΩÁï•ËØ•ÊèêÁ§∫!")),t.device_id||(t.device_id=$(),t.device_id||k("[error 103]","device_id ‰∏∫Á©∫ÔºåËØ∑ËÆæÁΩÆÊúâÊïàÁöÑËÆæÂ§á id!")),!t.global_id&&A()&&(t.global_id=K("egid")||""))},Object.defineProperty(e.prototype,"Utils",{get:function(){return{yoda:this.yoda&&de,cookie:V,ua:_t,io:{sendData:Dt}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isKSwitchSampled",{get:function(){return void 0!==typeof ue},enumerable:!1,configurable:!0}),e.prototype.initYoda=function(){return p(this,void 0,void 0,(function(){var t=this;return g(this,(function(e){switch(e.label){case 0:return this.logConfig.yoda&&!this.yoda&&(this.yoda=ie(this.logConfig.yoda)),this.yoda?[4,rt()]:[3,2];case 1:e.sent(),e.label=2;case 2:return p(void 0,void 0,void 0,(function(){var t,e,n,r,a;return g(this,(function(o){switch(o.label){case 0:if(!Gt)return[2,ue=null];if(void 0!==ue)return[2,ue];o.label=1;case 1:return o.trys.push([1,4,,5]),[4,ae("getKswitchData","tool")];case 2:return o.sent()?[4,Gt.tool.getKswitchData({keys:[{key:"webloggerSampling"}]})]:[2,ue=null];case 3:if((t=o.sent())&&t.data&&("string"==typeof(e=t.data[0])&&(e=JSON.parse(e)),n=e?e.value:null)){for(a in""*",n)"*"!==a&&-1===a.indexOf(r)||(ue||(ue={}),ue[a]=n[a]);if(ue)return[2,ue]}return[3,5];case 4:return k("[error 201]","yoda.tool.getKswitchData ÈááÊ†∑ÈÖçÁΩÆËé∑ÂèñÂá∫Èîô",o.sent().message),[3,5];case 5:return[2,ue=null]}}))})).then((function(){t.currentUrlPackage&&(t.currentUrlPackage.sampled=t.getPageSampled())})),p(void 0,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return Gt?[4,ae("getDeviceInfo","system")]:[2,null];case 1:if(!e.sent())return[3,5];e.label=2;case 2:return e.trys.push([2,4,,5]),[4,null===(t=Gt.system)||void 0===t?void 0:t.getDeviceInfo()];case 3:return[2,e.sent()];case 4:return k("[error 210]","yoda.system.getDeviceInfo() Êä•Èîô",e.sent().message),[3,5];case 5:return[2]}}))})).then((function(e){e&&e.mod&&(t.commonPackage.device_package.model=e.mod)})),p(void 0,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return Gt?[4,ae("getAppInfo","system")]:[2,null];case 1:if(!e.sent())return[3,5];e.label=2;case 2:return e.trys.push([2,4,,5]),[4,null===(t=Gt.system)||void 0===t?void 0:t.getAppInfo()];case 3:return[2,e.sent()];case 4:return k("[error 209]","yoda.system.getAppInfo() Êä•Èîô",e.sent().message),[3,5];case 5:return[2]}}))})).then((function(e){e&&(e.did&&(t.commonPackage.identity_package.device_id=e.did),e.userId&&!t.commonPackage.identity_package.user_id&&(t.commonPackage.identity_package.user_id=e.userId),e.appver&&(t.commonPackage.app_package.version_name=e.appver))})),[2]}}))}))},e.prototype.initUrlPackage=function(){t.prototype.initUrlPackage.call(this);var e,n=this.logConfig.referer,r="web";n?(e=n.value,r=n.type&&n.type||r):"undefined"!=typeof document&&document.referrer&&(e=document.referrer),e&&this.updateReferUrlPackage(e,r)},e.prototype.updateCurrentUrlPackage=function(t,e){if(void 0===t&&(t=(null===location||void 0===location?void 0:location.href)||""),void 0===e&&(e="web"),"object"==typeof t&&!t.force&&this.currentUrlPackage){var n=t.page,r=void 0===n?this.currentUrlPackage.page:n,a=t.params,o=void 0===a?{}:a;if(r===this.currentUrlPackage.page)return this.currentUrlPackage.update(r,o)}this.currentUrlPackage=new Z(t,e,this.logConfig.urlMap),this.currentUrlPackage.sampled=this.getPageSampled(),this.logConfig.attachUrl&&this.currentUrlPackage.attachUrl()},e.prototype.updateReferUrlPackage=function(t,e){void 0===t&&(t=this.currentUrlPackage),void 0===e&&(e="web"),this.referUrlPackage=t instanceof Z?t:new Z(t,e,this.logConfig.urlMap)},e.prototype.getPageSampled=function(){if(!ue)return"boolean"!=typeof this.sampled||this.sampled;var t="undefined"!=typeof location?location.href.replace(/https?:\/\//,"").split("?")[0]:"*";if(this.SampledPageMap&&void 0!==this.SampledPageMap[t])return th 0,n=0,r=nuoperty(o)){var i=0;if("*"===o?i=1:0===t.indexOf(o)&&(o===t?i=100:"/"===o[o.length-1]&&(i=11-1/o.length)),!i)continue;var s=ue[o],c=s.radar,u=s.overwrite,l=s.overall;i+=u?1e3:0,c&&a.push({radar:c,level:i}),i>n&&(n=i,e=l)}n&&(r={},a.sort((function(t,e){return t.level-e.level})).forEach((fu)<Number(e)&&(!r||{radar:r}):"boolean"!=typeof this.sampled||this.sampled,this.SampledPageMap&&(this.SampledPageMap[t]=d)}return this.SampledPageMap&&this.SampledPageMap[t]},Object.defineProperty(e.prototype,"isSendSampled",{get:function(){return this.currentUrlPackage&&this.currentUrlPackage.sampled||this.logger.isDebug},enumerable:!1,configurable:!0}),e.prototype.generateLog=function(t,e,n){void 0===n&&(n=te);var r,a=e,o=a.action,i=a.params,s=a.status,c=a.type,u=a.eventId,l=a.contentPackage,p=a.urlPage;if(l&&(l="string"==typeof l?l:JSON.stringify(l)),t===m.PV){var g=e,f=g.page,h=g.type;h||(e.type=h="enter"),"enter"===h&&f?this.updateCurrentUrlPackage({page:f,params:i}):this.currentUrlPackage.update(f,i)}else p&&p.page&&(r={page:p.page,identity:p.identity||G(),params:JSON.stringify(p.params),page_type:this.currentUrlPackage.page_type});var v={currentUrlPackage:r||this.currentUrlPackage.toJSON(),referUrlPackage:this.referUrlPackage?this.referUrlPackage.toJSON():void 0,contentPackage:l};if(t!==m.RADAR&&v.currentUrlPackage.page.indexOf("http"),t===m.PV){var y=e.type;return n(t,d(d(d({},e),{type:y}),v),this.isV2)}if(t===m.SHOW)return n(t,d(d(d({},e),{name:o}),v),this.isV2);if(t===m.VIDEO)return n(t,d({params:e,name:"VIDEO"},v),this.isV2);if(t===m.RADAR)return n(t,e,this.isV2);if(-1!==["CUSTOM","CUSTOM_STAT_EVENT","CUSTOM_EVENT"].indexOf(t)){var _=e,w=_.key,E=_.value,S=_.eventId;return n(m.CUSTOM,d(d(d({},e),{params:E,eventId:S,name:w}),v),this.isV2)}return n(t,d(d(d({},e),{params:i,status:s,taskType:c,eventId:u,name:o}),v),this.isV2)},e.prototype.collect=function(t,e,n,r){var a=dt(t,e,n,r),o=a[0],i=a[1];return this.send(o,i,!1)},e.prototype.sendImmediately=function(t,e,n,r){var a=dt(t,e,n,r),o=a[0],i=a[1];return this.send(o,i,!0)},e.prototype.beforeSend=function(t,e,n){var r,a,o=this;if(this.emit("event",{type:t,action:e.type||e.action,data:n}),"CLICK"===t){var i=null===(r=e)||void 0===r?void 0:r.entryTag;this.yoda&&i&&le("setPendingEntryTag",{entryTag:d({page_name:this.currentUrlPackage.page,element_action:null==e?void 0:e.action},i)})}else"PV"===t&&this.yoda&&!this.isBridge&&"enter"===((null===(a=e)||void 0===a?void 0:a.type)||"enter")&&(this.logger.sendingYield=p(o,void 0,void 0,(function(){var t,e;return g(this,(function(n){switch(n.label){case 0:return t=this.currentUrlPackage.identity,[4,le("clearEntryTag",{subPage:t})];case 1:return n.sent(),[4,le("consumeEntryTag",{subPage:t})];case 2:return e=n.sent(),this.commonPackage.updateGlobalAttr({entry_tag:e}),[2]}}))})))},e.prototype.send=function(t,e,n){if(!this._silenced){var r=this.generateLog(t,e);if(this.beforeSend(t,e,r),"RADAR"===t)return this.logger.sendRadar(r,null==e?void 0:e.serviceName);if((!this.isV2||!this.logConfig.forbidV2HttpUrlPage||I(this.currentUrlPackage.page))&&this.isSendSampled){var a="object"==typeof e&&e.callback||void 0;this.logger.send(r,!!n,a)}}},e.prototype.destroy=function(){t.prototype.destroy.call(this),P(window,"pagehide",this.beforeUnload),P(window,"beforeunload",this.beforeUnload),function(t){if(null==ee?void 0:ee.instances){var e=ee.instances.indexOf(t);-1!==e&&ee.instances.splice(e,1)}}(this)},e.prototype.silence=function(t){this._silenced=t},e.Logger=Wt,e}(j);try{he=ie(i.default.default||i.default)}catch(e){he=ie("undefined"!=typeof window&&(window.yoda||window.KSYoda))}var ye,_e=null===(pe=null===window||void 0===window?void 0:window.navigator)||void 0===pe?void 0:pe.platform,be=_e&&-1!==["iOS","Android"].indexOf(_e),we=function(t){function e(e,n){var r=t.call(this,d(d({},e),{yoda:he||void 0,bridgeMode:!(null==e?void 0:e.disableBridge)}),n)||this;return r.entered="",r.checkYodaSupport(),r}return u(e,t),e.prototype.checkYodaSupport=function(){return p(this,void 0,void 0,(function(){var t,e=thisodaQueue&&this.yodaStatus?[2]:(this.waitYodaQueue=[],this.yodaStatus="CHECKING",this.logConfig.disableBridge?(this.yodaStatus="DISABLED",[3,3]):[3,1]);case 1:return[4,ce()];case 2:t=n.sent(),this.yodaStatus=t?"READY":"DISABLED",this.waitYodaQueue.forEach((function(t){var n=t.type,r=t.options,a=t.immediately;e.send(n,r,a)})),this.waitYodaQueue=[],n.label=3;case 3:return[2]}}))}))},e.prototype.sendByBridge=function(t,e,n){void 0===t&&(t=v.CLICK);var r=e.contentPackage;if(r&&(r="string"==typeof r?r:JSON.stringify(r)),"PV"===t){var a=e,o=a.page,i=a.type,s=a.params,c=a.coPage;i||(e.type=i="enter"),"enter"===i?((o=o||this.currentUrlPackage.page)&&(this.updateCurrentUrlPackage({page:o,params:s||this.currentUrlPackage.params,force:!0}),this.entered=o),c&&(this.currentUrlPackage.coPage=c)):this.currentUrlPackage.update(o,s)}var u=!!this.currentUrlPackage.coPage,l=function(t,e){var n=e,r=n.action,a=n.params,o=n.eventId,i=n.contentPackage,s=n.currentUrlPackage,c=n.status;n.name;var u=n.feedLogCtx;switch(t){case"PV":var l=e,p=l.type,g=l.beginTime;return d(d({},s),{actionType:p,contentPackage:i,pageType:"H5",status:c||"SUCCESS",beginTime:g,eventId:o});case"SHOW":return{action:r,params:JSON.stringify(a),contentPackage:i,feedLogCtx:u,eventId:o};case"RADAR":case"CUSTOM":var f=e,h=f.key,v=f.value,m=f.biz;return{key:h,value:JSON.stringify(d(d({},v),{url_package:s})),biz:m,eventId:o};default:var y=e.type;return{action:r,params:JSON.stringify(a),contentPackage:i,type:y||"USER_OPERATION",status:c||"UNKNOWN_STATUS",operationType:t,operationDirection:"UNKNOWN2",feedLogCtx:u,eventId:o}}}(t,d(d({},e),{contentPackage:r,currentUrlPackage:this.currentUrlPackage.toJSON()})),p=-1!==[m.CUSTOM,m.RADAR,m.CUSTOM_EVENT].indexOf(t);this.commonPackage.increaseH5SeqId(p);var g=this.baseOption,f=g.service_name,h=g.sub_biz,y=g.need_encrypt;if(l.h5ExtraAttr=JSON.stringify(this.commonPackage.getH5ExtraAttr({bridge_info:(null==he?void 0:he.version)||!0,coPage:u})),l.realtime=!!n,l.serviceName=f||"",l.subBiz=h||"",l.needEncrypt=y||!1,l.container=be?"REACT_NATIVE":"H5",this.emit("event",{type:t,action:e.type||e.action,data:l}),t!==m.PV){var _=e.disablePV||this.logConfig.disablePV;if(this.currentUrlPackage&&!_?l.urlPage={page:this.currentUrlPackage.page,params:JSON.stringify(this.currentUrlPackage.params),identity:this.currentUrlPackage.identity,coPage:u}:delete l.urlPage,t===m.SHOW)return se("addElementShowEvent",l);if(p){this.logConfig.biz&&!l.biz&&(l.biz=this.logConfig.biz);var w=this.logConfig.customStatToCustom||t===m.CUSTOM_EVENT;return se(w?"addCustomEvent":"addCustomStatEvent",l)}return se("addTaskEvent",l)}this.logConfig.disablePV||I(this.currentUrlPackage.page)&&("enter"!==(i=e.type)&&"visible"!==i||(l.coPage=u,l.pageType=be?"NATIVE":"H5",se("setCurrentPage",l)))},e.prototype.updateCurrentUrlPackage=function(t,e){if(void 0===t&&(t=(null===location||void 0===location?void 0:location.href)||""),void 0===e&&(e="web"),"object"==typeof t&&!t.force&&this.currentUrlPackage){var n=t.page,r=void 0===n?this.currentUrlPackage.page:n,a=t.params,o=void 0===a?{}:a;if(!r||r===this.currentUrlPackage.page){this.currentUrlPackage.update(r,o);var i=this.entered===r;return void("DISABLED"!==this.yodaStatus&&i&&this.send("PV",{type:"visible",page:r,params:o},!0))}}this.currentUrlPackage=new Z(t,e,this.logConfig.urlMap),this.currentUrlPackage.sampled=this.getPageSampled(),this.logConfig.attachUrl&&this.currentUrlPackage.attachUrl()},e.prototype.sendByHttp=function(e,n,r){return void 0===e&&(e=v.CLICK),t.prototype.send.call(this,e,n,r)},e.prototype.send=function(t,e,n){void 0===t&&(t=v.CLICK),this.checkYodaSupport();var r="CUSTOM"===t&&this.logConfig.enableV3Custis.sendByHttp(t,e,n):"CHECKING"===this.yodaStatus?(S("[weblogger]: waiting yoda ready"),void this.waitYodaQueue.push({type:t,options:e,immediately:n})):"READY"===this.yodaStatus?(this.beforeSend(t,e),this.sendByBridge(t,e,n)):void 0},e}(me),Ee=function(){function t(){}return t.prototype.apply=function(t){this.weblog=t},t}();ye=we,void 0!==window._GLOBAL_KS_WEBLOGGER_?window._GLOBAL_KS_WEBLOGGER_.Factory=ye:window.Weblog=ye,(null==ee?void 0:ee.constructors)&&ye&&-1===ee.constructors.indexOf(ye)&&(ye._classId=ee.constructors.length,ee.const=ee?void 0:ee.silence)try{ee._silenced=!!sessionStorage.getItem(fe)}catch(t){}}(),e.BasePlugin=Ee,e.Weblog=we,e.default=we,Object.defineProperty(e,"__esModule",{value:!0})}(e,n(445))}).call(this,n(50))},445:function(t,e,n){"use strict";var r;n.r(e);var o=new Promise((function(t){r=t}));function c(t){return t&&o.then(t),o}function l(t){var e=this;if(!(t&&t.namespace&&t.name))throw new Error("regis, name}")[t.namespace]={}),n[t.name]=funcion"!=typeof option||(r=option,option=null),option=option||{},r=r||function(){},t.before&&(n=t.before(n));var o,c,l=e.genCallbackId();if(t.multiCallback||option.multiCallback?c=r:((o=new Promise((function(t){return c=t}))).then((function(){delete e._callbacks[l]})),o.then(r)),t.after){var d=c;c=function(e){return d(t.after(e))}}e._callbacks[l]=c;try{e.invoke({namespace:t.namespace,name:t.name,params:n,callbackId:l})}catch(t){c({result:125014,message:t.message})}return o}}function d(t){var e=t.namespace,n=t.name,r=t.params,o=t.callbackId;window.__yodaBridge__.invoke(e,n,JSON.stringify(r),""+o)}var f=function(){return f=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function m(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}var y,_=[{namespace:"system",name:"getDeviceInfo"},{namespace:"system",name:"getAppInfo"},{namespace:"system",name:"getNetworkType"},{namespace:"webview",name:"open"},{namespace:"webview",name:"getLaunchParams"},{namespace:"webview",name:"close"},{namespace:"webview",name:"backOrClose"},{namespace:"tool",name:"canIUse"},{namespace:"tool",name:"checkAppInstalled"},{namespace:"tool",name:"launchApp"},{namespace:"ui",name:"setTopBarStyle"},{namespace:"ui",name:"setTitle"},{namespace:"ui",name:"setTopBarButton"},{namespace:"ui",name:"removeTopBarButton"},{namespace:"ui",name:"setSlideBackBehavior"},{namespace:"ui",name:"setPhysicalBackButtonBehavior"},{namespace:"ui",name:"showLoading"},{namespace:"ui",name:"hideLoading"},{namespace:"ui",name:"showToast"},{namespace:"ui",name:"showDialog"},{namespace:"event",name:"addEventListener"},{namespace:"event",name:"removeEventListener"},{namespace:"event",name:"dispatchEvent"}],w=navigator.userAgent.indexnstalled":{before:function(t){return{identifier:t[w?"android":"ios"]}}}};function S(t,e,n){return h(this,void 0,void 0,(function(){var r;return v(this,(function(o){switch(o.label){case 0:return[4,t.tool.canIUse({namespace:e,name:n})];case 1:return[2,1===(r=o.sent()).result&&r.canUse]}}))}))}!function(t){t.x="x",t.y="y",t.z="z"}(y||(y={}));var k,O,P="native_yoda_shaked",A={level:2,times:3,intervalTime:1300,iOSIntervalTime:500,androidIntervalTime:1300,isEmitImmediately:!0},L={1:{basic:13,total:450},2:{basic:16,total:700},3:{basic:20,total:1100}},C={1:{basic:9,total:220},2:{basic:12,total:400},3:{basic:14,total:500}},T=function(){function t(t){var e=this;this.shakeConfig={},this.sButShaked=!0,this.isShakeStarted=!1,this.isAndroid=!1,this.isArrivedConfigStandard=!1,this.levelMap=L,this.dispatchEvent=null,this.setStillShaking=function(t,e){var n,r=this;return void 0===e&&(e=300),function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];clearTimeout(n),n=setTimeout((function(){t.apply(r,o)}),e)}}((function(){return e.notShaking()}),1e3),this.dispatchEvent=t.dispatchEvent,this.isAndroid=t.isAndroid,this.levelMap=this.isAndroid?L:C}return t.prototype.setOptions=function(t){t?(this.shakeConfig=f(f({},A),t),this.shakeConfig.times=this.isAndroid?this.shakeConfig.times-1:2*(this.shakeConfig.times-1),this.shakeConfig.intervalTime=this.isAndroid?this.shakeConfig.androidIntervalTime:this.shakeConfig.iOSIntervalTime):this.shakeConfig=f({},A)},t.prototype.resetShakeStatus=function(t){this.shakedArr=[],this.isChecking=!1,this.notEmitButShaked=!1,t&&(this.isArrivedConfigStandard=!1,this.isShakeStarted=!1)},t.prototype.checkIsShake=function(t){var e=this;if(this.isChecking=!0,Object.keys(this.nowStatus).forEach((function(n){return e.nowStatus[n]=9.8*t[n]})),this.judgeArrivedTerminal())return this.lastStatus={x:0,y:0,z:0},this.handleShakeHappend(),this.setStillShaking(),void(this.isChecking=!1);this.judgeLikelyShake()?this.handleArrivedStandard():this.isChecking=!1},t.prototype.judgeLikelyShake=function(){var t=this.nowStatus,e=t.x,n=t.y,r=t.z,o=this.levelMap[this.shakeConfig.level],c=o.basic,l=o.total;return e>c||n>c||r>c||e*e+n*n+r*r>l},t.prototype.judgeArrivedTerminal=function(){var t=this,e=0,n=0,r=y.x;return Object.keys(this.nowStatus).forEach((function(o){n=Math.abs(t.lastStatus[o]-t.nowStatus[o]),e<n&&(r=o,e=n)})),this.lastStatus[r]*this.nowStatus[r]<0},t.prototype.handleArrivedStandard=function(){this.lastStatus=f({},this.nowStatus),this.checkIsShakeStoped=!1,this.setStillShaking()},t.prototype.handleShakeHappend=function(){return h(this,void 0,void 0,(function(){return v(th{type:"native_yoda_shake_start",data:{}})];case 1:t.sent(),t.label=2;case 2:return this.isShakeStarted=!0,console.log("!!!handleShakeHappend!!!!!!!!!!!!!!!"),this.updateShakedArr((new Date).getTime()),[2]}}))}))},t.prototype.notShaking=function(){console.log("notShaking!!!!!"),this.checkIsShakeStoped=!0,this.checkDoDelayEmit()},t.prototype.updateShakedArr=function(t){var e=this.shakeConfig.intervalTime;this.shakedArr.length>0?t-this.shakedArr[this.shakedArr.length-1]<=e?this.shakedArr.push(t):(this.shakedArr=[],this.isChecking=!1):this.shakedArr.push(t),console.log(this.shakedArr.length,this.shakeConfig.times),this.shakedArr.length>=this.shakeConfig.times?this.handleArrivedEmitStandard():this.isChecking=!1},t.prototype.handleArrivedEmitStandard=function(){this.isArrivedConfigStandard=!0,this.resetShakeStatus(),this.shakeConfig.isEmitImmediately?this.dispatchEvent({type:P,data:{}}):this.notEmitButShaked=!0},t.prototype.checkDoDelayEmit=function(){this.notEmitButShaked&&this.checkIsShakeStoped&&!this.shakeConfig.isEmitImmediately&&this.dispatchEvent({type:P,data:{}}),this.isShakeStarted&&this.dispatchEvent({type:"native_yoda_shake_end",data:{isArrivedConfigStandard:this.isArrivedConfigStandard}}),this.resetShakeStatus(!0)},t}(),I=null,R=null;function N(t){return h(this,void 0,void 0,(function(){var e,n;return v(this,(function(r){switch(r.label){case 0:return[4,t.system.startAccelerometer({interval:60})];case 1:return e=r.sent(),R=I.checkIsShake.bind(I),[4,t.event.addEventListener("accelerometer-change",R)];case 2:if(n=r.sent(),1===e.result&&1!==n.result&&D(t),1!==e.result||1!==n.result)throw new Error("Êëá‰∏ÄÊëáÂàùÂßãÂåñÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï„ÄÇAccelerometerRes:"+JSON.stringify(e)+";eventRes:"+JSON.stringify(n));return[2]}}))}))}function D(t){return h(this,void 0,void 0,(function(){var e,n;return v(this,(function(r){switch(r.label){case 0:return[4,S(t,"system","stopAccelerometer")];case 1:if(!r.sent())throw new Error("ÂΩìÂâçAPPÊöÇ‰∏çÊîØÊåÅÊëá‰∏ÄÊëá");return I=null,[4,t.event.removeEventListener("accelerometer-change",R)];case 2:return e=r.sent(),[4,t.system.stopAccelerometer()];case 3:if(n=r.sent(),1!==e.result||1!==n.result)throw new Error("Êëá‰∏ÄÊëáÂÅúÊ≠¢ÁõëÂê¨Â§±Ë¥•„ÄÇstopRes:"+JSON.stringify(n)+";eventRes:"+JSON.stringify(e));return[2]}}))}))}var x=P,U=((k={})[x]=function(t,e){return h(this,void 0,void 0,(function(){return v(this,(function(n){switch(n.label){case 0:return[4,S(e,"system","startAccelerometer")];case 1:if(!n.sent())throw new Error("ÂΩìÂâçAPPÊöÇ‰∏çÊîØÊåÅÊëá‰∏ÄÊëá");if(I)throw new Error("ÂΩìÂâçÂ≠òÂú®Â∞öÊú™ÁªìÊùüÁõëÂê¨ÁöÑÊëá‰∏ÄÊëá");return I=new T({dispatchEvent:e.event.dispatchEvent,isAndroid:"android"==(r=navigator.userAgent,void 0===r&&(r=""),r.includes("Android")||r.includes("Adr")?"android":r.includes("iPhone")||r.includes("iPad")?"ios":"else")}),function(t){if(t){var e=t.level,n=t.times;t.intervalTime;var r,o=t.isEmitImmediately;if(void 0!==e&&!L[e])throw new Error("ËØ∑‰º†ÂÖ•Ê≠£Á°ÆÁöÑlevelÔºåÂèØÈÄâÂÄº‰∏∫1„ÄÅ2„ÄÅ3");if(void 0!==n){if("number"!=typeof(r=n)||r%1!=0)throw new Error("timesÂ∫î‰∏∫Êï¥Êï∞");if(n<1)throw new Error("timesÂ∫îÂ§ß‰∫é1")}if(void 0!==o&&"boolean"!=typeof o)throw new Error("isEmitImmediatelyÂ∫î‰∏∫booleanÁ±ªÂûã")}}(t),I.setOptions(t),I.resetShakeStatus(),[4,N(en,r){if(n.__yodaCallbackId__=n.__yodaCallbackId__||{},n.__yodaCallbackId__[e])throw new Error("addEventListener "+e+" ÁöÑ listener Â∑≤ÁªèË¢´ÁªëÂÆöËøá‰∫Ü");var o=t.genCallbackId();t._callbacks[o]=n;var c=t._eventListeners[e];return c||(c=t._eventListeners[e]={}),c[o]=!0,n.__yodaCallbackId__[e]=o,t.event._addEventListener({type:e,listener:o},r)}function n(e,n,r){n.__yodaCallbackId__&&(delete n.__yodaCallbackId__[e],function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n.__yodaCallbackId__)&&(delete n.__yodaCallbackId__,delete t._callbacks[r]))}return{addEventListenerHandler:function(n,r,o){var c;return h(this,void 0,void 0,(function(){var l,d;return v(this,(function(f){switch(f.label){case 0:l="string"==typeof n?n:n.type,d="string"==typeof n?{}:n.options,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,null===(c=U[l])||void 0===c?void 0:c.call(U,d,t)];case 2:return f.sent(),[3,4];case 3:return[2,{result:-1,message:f.sent().message}];case 4:return[2,e(l,r,o)]}}))}))},removeEventListener:function(e,r,o){var c;return h(this,void 0,void 0,(function(){var l,d,f,h;return v(this,(function(v){switch(v.label){case 0:if(d=t._eventListeners[e],!r)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,null===(c=M[e])||void 0===c?void 0:c.call(M,t)];case 2:return v.sent(),[3,4];case 3:return[2,{f(!((l=r.__yodaCallbackId__&&r.__yodaCallbackId__[e])&&d&&d[l]))return f=Promise.resolve({result:1}),o&&f.then(o),[2,f];v.label=5;case 5:return(h=t.event._removeEventListener({type:e,listener:l},o)).then((function(o){if(1===o.result)if(r)delete d[l],n.call(t,e,r,l);else if(d)for(var c in delete t._eventListeners[e],d)n.call(t,e,t._callbacks[c],c)})),[2,h]}}))}))}}}var H=navigator.userAgent,B=document.cookie;function F(t){var e={};return H.split(" ").forEach((function(t){var n=t.split("/");e[n[0]]=n[1]})),e[t]?e[t]:e}function K(){if(-1!==H.indexOf("Android"))return"WebView";if(-1!==H.indexOf("iPhone")){var t=F();return t.Yoda&&"WK"===t.WebViewType?"YodaWKWebView":t.Yoda||"WKWebView"!==t.WebView?"UIWebView":"WKWebView"}return""}function W(t){var e=B.match(new RegExp("(^| )"+t+"=([^;]+)"));return e?e[2]:""}function V(t,data,e){void 0===data&&(data={}),vl.sendRadarLog&&n.tool.sendRadarLog({removeStashedLog:[],sendImmediate:!0,customData:{project_id:t||"yoda_kpn_"+W("kpn"),url_package:{page_type:2,page:location.href,p:[{key:"event",value:{duration:e&&r},dimension:f({yoda_version:F("Yoda")||"",webview_type:K()},data)}]}})}))}function G(t,e){return h(this,void 0,void 0,(function(){var n,r;return v0:return n=function(t,e){return console.error("[yoda] create fe api: "+t+" failed, ",e)},r=Object.keys(t),[4,Promise.all(r.reduce((function(r,o){try{var c=t[o](e);return!(l=c)||"object"!=typeof l&&"function"!=typeof l||"function"!=typeof l.then||c.catch((function(t){return n(o,t),null})),m(m([],r),[c])}catch(t){n(o,t)}var l;return r}),[]))];case 1:return[2,o.sent().reduce((function(t,e,n){var o;return e?f(f({},t),((o={})[r[n]]=e,o)):t}),{})]}}))}))}var J=125007,z=function(t){return{result:J,message:t}},$=6e5,Y=["m4atartDurationEmpty:"duration Â∫îËØ•‰∏∫Â§ß‰∫éÁ≠â‰∫é 0 ÁöÑÊï¥Êï∞",startDurationLimit:"duration ‰∏çËÉΩË∂ÖËøáÊúÄÂ§ßÂormat:"format Âè™ÊîØÊåÅ: "+Y.join(";")};function X(t){var e=!1,n={start:[],stopon(r){return function(o){return e||(e=!0,t.event.addEventListener("native_audio_recorder_start",c("start")),t.event.addEventListener("native_audio_recorder_stop",c("stop")),t.event.addEventListener("native_audio_recorder_error",c("error"))),n[r].pushon(e){r.has(e.taskId)&&("stop"!==t&&"error"!==t||r.delete(e.taskId),n[t].forEach((function(t){return e?t(e):t()})))}};return{onStart:o("start"),onStop:o("stop"),onError:o("error"),addListenId:function(t){return r.set(t,!0)},rmListenId:function(t){return r.delete(t)}}}var Z="readFile ÊñπÊ≥ïÈúÄË¶Å‰º†ÂÖ• config ÂèÇÊï∞",tt="filePath ÂèÇÊï∞‰∏çËÉΩ‰∏∫Á©∫",et="encoding ÂèÇÊï∞‰∏çËÉΩ‰∏∫Á©∫";var nt={recorderManager:function(t){return h(void 0,void 0,void 0,(function(){var e,n,r,o,c,l,d;return v(this,(function(m){return function(t){return!!(t.event&&t.system&&t.system.startAud(t),n=e.onStart,r=e.onStop,o=e.onError,c=e.addListenId,l=e.rmListenId,d=function(e){return h(void 0,void 0,void 0,(function(){var n,r,o;return v(thition(t){return t?!Number.isInteger(t.duration)||t.duration<=0?z(Q.startDurationEmpty):t.duration>$?z(Q.startDurationLimit):t.format&&Y.includes(t.format)?null:z(Q.startFormat):z(Q.startConfigEmpty)}(e),n?[2,n]:(r=""+Date.now(),c(r),[4,t.system.startAudioRecorder(f(f({},e),{taskId:r}))]);case 1:return(o=d.sent())&&1===o.result||l(r),[2,o]}}))}))},[2,{start:d,stop:function(){return t.system.stopAudioRecorder()},onStart:n,onStop:r,onError:o}]):[2,null]}))}))},fileManager:function(t){return h(void 0,void 0,void 0,(function(){return v(this,(function(e){return function(t){return!!t.system&&!!t.system.readFile}(t)?[2,{readFile:function(e){var n=function(t){return t?t.filePath?t.encoding?null:z(et):z(tt):z(Z)}(e);return n||t.system.readFile(e)}}]:[2,null]}))}))}},ot={kwai:"Kwai",kwaiAd:"KwaiAd",kwaiAdThird:"KwaiAdThird",kwaiMerchant:"KwaiMerchant",kwaiLive:"KwaiLive",Kwai:"Kwai",KwaiAd:"KwaiAd",KwaiAdThird:"KwaiAdThird",KwaiMerchant:"KwaiMerchant",KwaiLive:"KwaiLive"};function it(t){return h(this,void 0,void 0,(function(){var e;return v(this,(function(n){switch(n.label){case 0:return[4,G(nt,t)];case 1:return e=n.sent(),t.feApi=e,[2]}}))}))}function at(){var t=this,e=this,n=function(){var n=Date.now();e.register({namespace:"tool",name:"getApiList"}),e.tool.getApiList({},(function(r){var o=r.result,c=r.apiList;return h(t,void 0,void 0,(function(){var t,r,l;return v(this,(function(d){switch(d.label){case 0:for(1!==o&&(c=_),t=c.length;t--;)r=c[t],(l=E[r.namespace+"."+r.name])&&(r=f(f({},r),l)),1===o&&(this._apisMap={result:o,apiList:c}),e.register(f({},r));return function(t){var e=t.event,n=j(t);e&&e.addEventListener&&(e._addEventListener=e.addEventListener,e.addEventListener=n.addEventListenerHandler),e&&e.removeEventListener&&(e._removeEventListener=e.removeEventListener,e.removeEventListener=n.removeEventListener)}(e),[4,it(e)];case 1:return d.sent(),V.call(e,k",result_type:o,extra_info:JSON.stringify({res:this._apisMap,apiLength:c.length})},n),e._readyResolve(),[2]}}))}))}))};window.__yodaBridge__?n():window.__yodaBridgeReady__=n}function st(t){var e=t.id,n=t.params,r=this._callbacks[e];r&&r(n)}var ct={beforeInvoke:function(t,e){var n=t.namespace,r=t.name,o=t.params,c=t.callbackId;if("tool"===n&&0!==Object.keys(this._apisMap).length){if("getApiList"===r)return void window.__yodaBridgeCallback__(c,this._apisMap);if("canIUse"===r){var l=this._apisMap.apiList,d=o.namespace,f=o.name,h=ot[d]||d,v=l.some((function(t){var e=t.namespace,n=t.name;return e===h&&n===f}));return void window.__yodaBridgeCallback__(c,{result:1,canUse:v})}}e()}},ut=window&&window.navigator&&window.navigator.userAgent.toLowerCase()||"",lt=/(iPhone|iPad|iPod|iOS)/i.test(ut),ft={requestLocationPermission:"requestLocationPermissionWithPermissionCheck",getLocation:"getLocationWithPermissionCheck",syncLocation:"syncLocationWithPermissionCheck"};var pt={beforeInvoke:function(t,e){var n=this,r=t.namespace,o=t.name,c=t.params,l=t.callbackId;if(!funct()&&!!ft[e]}(r,o))return e();if(!function(t,e){var n=ft[e];return t.kwai&&!!t.kwai[n]||t.Kwai&&t.Kwai[n]}(n,o))return lt&&"requestLocationPermission"===o&&(t.name="requestLocationAuthorization"),e();if(t.name=ft[o],t.params=f(f({},c),{forced_permission_request:c.forced_permission_request||2}),t.params.callback){var d=window[t.params.callback];window[t.params.callback]=function(data){var t=!1;if("string"==typeof data)try{data=JSON.parse(data)}catch(e){console.warn(e),t=!0}d(t?data:f(f({},data),{withPermissionCheck:!0}))}}else{var h=n._callbacks[l];n._callbacks[l]=function(t){t.withPermissionCheck=!0,h(t)}}e()}},ht=Number.54740991,vt=function(){function t(){this.isInYoda=!!window.__yodaBridge__,this._instanceId=this.genInstanceId(),this._callbackId=1,this._callbacks={},this._eventListeners={},this._apisMap={},this._readyPromise=o,this._readyResolve=r,this.ready=c,this._plugins=[],this.version="0.5.0-beta.3",this.overflow=!1,this.plugin=function(t,e){t._plugins=[];var n=function(n){var r=e[n],o=n[0].toUpperCase()+n.slice(1),c="before"+o,l="after"+o;t[n]=function(e){var n=t._plugins,o=n.length,d=-1;!function f(){for(var h=function(){var r=n[d][c];if("function"==typeof r){var o=!1;return r.call(t,e,(function(){o||(o=!0,f())})),{value:void 0}}};++d<o;){var v=h();if("object"==typeof v)return v.value}r.call(t,e);for(var i=0;i<o;i++){var m=n[i][l];"function"==typeof m&&m.call(t,e)}}()}};for(var r in e)n(r);return function(e){"function"==typeof e&&(e=new e(t)),t._plugins.push(e)}}(this,{register:l,invoke:d,callbackHandler:stn(){var t=this.genNextId();return t>=ht?(this.overflow=!0,this._callbackId=1,this._instanceId=this.genInstanceId(),this.genCallbackId()):""+t},t.prototype.genNextId=function(){for(var t=this._instanceId+this._callbackId++;this.overflow&&this._callbacks[t];)t=this._instanceId+this._callbackId++;return t},t.prototype.genInstanceId=function(){var t=""+ht,e=Number(t.slice(0,3))-100,n=Math.floor(Math.random()*e),r=""+Date.now(),o=r.slice(r.length-9),c=new Array(t.length-12).fill(0).join("");return Number(""+n+o+c)},t}(),gt=new vt;window.__yodaBridgeCallback__=function(t,e){gt.callbackHandler({id:t,params:e})},[ct,pt].forEach((function(t){return gt.plugin(t)})),setTimeout((function(){return gt.init()})),e.default=gt},446:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Ke}));var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function c(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function d(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.log;return n&&n.call.apply(n,d([console,"radar:"],l(t),!1))}catch(t){return}}function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.warn;return n&&n.call.apply(n,d([console,"radar:"],l(t),!1))}catch(t){return}}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.error;return n&&n.call.apply(n,d([console,"radar:"],l(t),!1))}catch(t){return}}var m,y=function(){function t(){for(var t,e=[],n=0;n<arguments.length;n(t=this.middlewares).push.apply(t,d([],l(e),!1))}return t.prototype.use=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.middlewares.pop();(t=this.middlewares).push.apply(t,d([],l(e),!1)),this.middlewares.push(r)},t.prototype.invoke=function(t){return function(a){return function(t,e){var n=-1;return function i(r){if(r<=n)return new Error("`next` Ë¢´ÈáçÂ§çË∞ÉÁî®");var o=a[n=r];if(o=r===a.length?e:o)try{return o(t,i.bind(null,r+1))}catch(r){return r}}(0)}}(this.middlewares)(t)},t}();function _(t){return"object"==typeof t&&Object.keys(t).every((function(e){return"number"==typeof t[e]}))}!function(t){t.LOAD="load",t.RES="resource",t.API="api",t.ERROR="error",t.SDK_ERROR="sdk_error",t.CUSTOM="custom",t.BATCH="batch",t.EVENT="event",t.BLOOD="blood"}(m=m||{});var w,E=[m.LOAD,m.RES,m.API,m.ERROR,m.EVENT,m.BLOOD],S=(function(t){t.RADAR_INIT="radar_init",t.H5_LOAD="h5_load",t.FMP="fmp",t.MAIN_API="main_api",t.H5_CUSTOM_METRIC="h5_custom_metric"}(w=w||{}),[w.FMP,w.H5_LOAD,w.MAIN_API,w.RADAR_INIT,w.H5_CUSTOM_METRIC]);var k={load:function(t){var e=t.dimension,n=t.value;if(t=e.event_name,S.indexOf(t)<0)return!1;if(!_(n))return!1;switch(t){case"fmp":var r=n.fmp_time;return!(!n.fmp||!r);case"h5_load":return r=n.total,!(!n.load_event_time||!r);case"h5_custom_metric":return r=n.custom_metric_timestamp,!(!e.custom_metric_name||!r)}return!0},api:function(t){var e=t.dimension,n=(t=t.value,e.custom_failed),r=e.api,o=e.status,i=e.res_type,a=e.protocol,s=(e=e.cached,t.duration),c=t.size;return"boolean"==typeof(void 0!==n&&n)&&"string"==typeof(void 0===r?"":r)&&"number"==typeof(void 0===o?0:o)&&"string"==typeof(void 0===i?"":i)&&"string"==typeof(void 0===a?"":a)&&"boolean"==typeof(void 0!==e&&e)&&"number"==typeof(void 0===s?0:s)&&"number"==typeof(void 0===c?0:c)&&_(t)},resource:function(t){var e=t.dimension,n=(t=t.value,e.failed);if("boolean"!=typeof n)return!1;if(n){var r=e.res_path;if("string"!=typeof e.file||"string"!=typeof r)return!1}return!!n||"string"==typeof e.file&&_(t)},error:function(t){var e=(t=t.dimension).error_type,n=t.error_cons_type,r=t.msg;return!!(n&&e&&r)&&(n=t.col,e=t.line,t.sample_rate,r=function(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[ot.getOwnPropes(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}(t,["col","line","sample_rate"]),!(n&&"number"!=typeof n||e&&"number"!=typeof e)&&function(t){return"object"==typeof t&&Object.keys(t).every((function(e){return void 0===t[e]||"string"==typeof t[e]}))}(r))},event:function(t){var e=t.value;return t=t.dimension.name,!(void 0!==e&&!_(e)||!t)},blood:function(t){var e=!0;if((t=t.dimension.data)instanceof Array){if(0===t.length)return!1;t.forEach((function(t){"string"!=typeof t.com&&(e=!1)}))}return e}};function O(t){retch(t){return e}}}catch(t){return null}return null}(t))||0,function(t,e){try{if(window&&window.localStorage)return window.localStorage.setItem(t,JSON.stringify(e)),!0}catch(t){return!1}}(t,(e=1e8<e+1?0:e)+1),e}catch(t){}},A={},L=function(t){return A[t]||(A[t]=0),A[t]++};function C(t){var e,n,r={};t=t.split("&");try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i=o.next();!i.done;i=o.next()){var a=l(i.value.split("="),2),s=a[0],c=a[1];s in r?r[s]instanceof Array?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}window.__RADAR_PERFORMANCE_TIMING_=window.__RADAR_PERFORMANCE_TIMING_||{};var T=["c_dimension1","c_dimension2","c_dimension3"];var I=function(){function t(t){var a=this;if(this.queueConfig={wait:1e3,maxBatchLength:200},this.logQueue=[],this.preStoredLogQueue=[],this.batchTimer=0,this.eventName="onpagehide"in window?"pagehide":"beforeunload",this.customDimension={},this.randomSampling=Math.random(),this.isInYoda=!1,this.sampleData={isHit:!0,core:1},this.ignoreList=["https://web-trace.ksapisrv.com/ktrace/collect"],this.broadcastSample=function(){var t=[];function e(e){-1n){return t.push(n),e.bind(void 0,n)}return{on:n,off:e,once:function(t){var e=n((function(n){t(n),e()}));return e},emit:function(e){t.forEach((function(t){return t(e)}))}}}(),this.collect=function(t,e,n){var o=O({key:t,dimension:e=void 0===e?{}:e,value:n=void 0===n?{}:n});if(!a.sampleData||!1!==a.sampleData.isHit){if(!function(t){return t?E.indexOf(t.key)<0?(v("117"),!1):k[t.key](t):(v("116"),!1)}(o))return v("107, key: ".concat(o.key)),void a.collect(m.EVENT,{message:"radar‰∏äÊä•Êó•ÂøóÁ±ªÂûãÈîôËØØ",name:"radar_log_error",extra_info:JSON.stringify(o)},{});Object.keys(o.value).forEach((function(t){o.value[t]=o.value[t].toString()})),a.decorateLog(o);var c=a.getCommonData(),i=c.app_version_name;if(delete c.app_version_name,(t=new y((function(t,e){return t.dimension.app_version_name=i,r(r(r({},t),c),{event_client_timestamp:Date.now(),event_trigger_source:"H5",radar_session_id:a.radarSessionId})}))).use((function(t,e){return t.key&&"load"===t.key&&(t.dimension=r(r({},t.dimension),{load_device_increase_id:P("LOAD_DEVICE_INCREASE_ID"),load_session_increase_id:L("LOAD_SESSION_INCREASE_ID")})),t.key&&"load"!==t.key&&(t.dimension=r(r({},t.dimension),{other_device_increase_id:P("OTHER_DEVICE_INCREASE_ID"),other_session_increase_id:L("OTHER_SESSION_INCREASE_ID")})atchEvent(new CustomEvent("get-radar-next-data",{detail:{kv:O(o)}}))}catch(t){}if(delete o.dimension.broadcast_info,a.weblog?a.logQueue.push(o):(o.base_href=location.href,a.preStoredLogQueue.push(o)),function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];1==+C(location.search.slice(1)).debug&&h.apply(void 0,d(["[radar] ".concat(t,": ")],l(e),!1))}("radarLogNext",JSON.parse(JSON.sth(),clearTimeout(a.batchTimer),void(a.batchTimer=0);a.batchTimer||(a.batchTimer=window.setTimeout((function(){a.flush(),clearTimeout(a.batchTimer),a.batchTimer=0}),a.queueConfig.wait))}},this.flush=function(){var t;a.logQueue.length<=0||(t=null,(t=a.config.httpReportFirst?t:a.reportByBridge())&&!a.config.httpRe!=typeof t||null===t)throw new Error("radar error 108");if("string"!=typeof t.projectId)throw new Error("radar error 109");this.radarSessionId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),this.config=t,this.sampling=function(t){return"number"==typeof t&&0<=t&&t<=1?t:(v("110"),1)}(this.config.sampling),this.bindWeblogger(t.weblogger),null!=(t=this.config)&&t.ignoreList&&Array.isArray(null==(t=this.config)?void 0:t.ignoreList)&&(this.ignoreList=this.ignoreList.concat(this.config.ignoreList.map((function(t){return t.replace(/^(https?:)?\/\//,"")})))),this.queueConfig=r(r({},this.queueConfig),null!=(t=this.config)&&t.queueConfig?this.config.queueConfig:{}),null!=(t=this.config)&&t.customDimensions&&this.setDimensions(null==(t=this.config)?void 0:t.customDimensions),function(t,e,n,r){"attachEvent"in t?t.attachEvent("on"+e,n):t.addEventListener(e,n,r)}(window,this.eventName,this.flush),"undefined"!=typeof window&&window.yodaCollectErrorDataDestroy&&window.yodaCollectErrorDataDestroy()}return t.prototype.bindWeblogger=function(t){var e,s=this;if(null!=t&&"object"!=typeof t)throw new Error("radar error 106");this.weblog?h("122"):(this.weblog=t,this.updateUrlPackage(),void 0!==(null==(e=null==t?void 0:t.logger)?void 0:e.radarUrl)&&this.ignoreList.push(null==(e=null==t?void 0:t.logger)?void 0:e.radarUrl),void 0!==(null==(e=null==t?void 0:t.logger)?void 0:e.url)&&this.ignoreList.push(null==(e=null==t?void 0:t.logger)?void 0:e.url),this.isInYoda=!(null==(e=null==(t=this.weblog)?void 0:t.Utils)||!e.yoda),this.getSampleData(),0<this.preStoredLogQueue.length&&(this.preStoredLogQueue.forEach((function(t){if(void 0!==(e=s.sampleData["load"===t.key?"core":t.key])&&(t.dimension.sample_rate=e),"load"===t.key?s.sampleData.core:t.dimension.sample_rate*s.sampleData.core>=s.randomSampling){var e=s.getCommonData(),n=(t.dimension.app_version_name=e.app_version_name,t.h5_extra_attr=JSON.stringify(r(r({},null==(e=s.weblog.commonPackage)?void 0:e.getH5ExtraAttr()),JSON.parse(t.h5_extra_attr))),function(t){if(-1===(n=(t=void 0===t?location.href:t).lastIndexOf("?")))return{page:t};var e=t.slice(0,n),n=t.slice(n+1);return{url:t,page:e,params:C(n)}}(t.base_href)),o=null==(e=s.weblog.logConfig)?void 0:e.urlMap;e={};if("function"==typeof o)try{var c=o(n);"string"==typeof c?e={page:c}:"object"==typeof c&&(e={page:c.page,params:c.params})}catch(t){}else if("object"==typeof o){var i,a="";for(i in o)if(-1<(n.page||n.url||"").indexOf(i)){a=o[i];break}a&&(e={page:a})}t.url_package={page:e&&e.page||n.page},c=s.referUrlPackage&&s.referUrlPackage.toJSON(),t.refer_url_package=c,delete t.base_href,s.logQueue.push(t)}})),this.preStoredLogQueue=n=this;this.isInYoda?(e=window.updateYodaSampleRateWithParams,window.updateYodaSampleRateWithParams=function(t){f("104",t),n.updateYodaSampleRate(t),n.broadcastSample.emit(n.sampleData),e&&e(t)},window.__yodaCommonDataObject__&&window.__yodaCommonDataObject__.sampleData?(this.updateYodaSampleRate(window.__yodaCommonDataObject__.sampleData),this.collect(m.EVENT,{name:"ÂÆ¢Êà∑Á´ØÈááÊ†∑ÁéáÊ≥®ÂÖ•ÊàêÂäü",event_type:"radar_sample_inject_success"},{})):"function"==typeof(null==(t=this.weblog)?void 0:t.Utils.yoda.getWebviewLoadPerf)&&null!=(t=this.weblog)&&t.Utils.yoda.getWebviewLoadPerf().then((function(t){t.sampleData&&n.updateYodaSampleRate(t.sampleData)}))):this.sampleData={isg),core:this.sampling}},t.prototype.updateYodaSampleRate=function(t){var e=this,n=(this.sampleData={isHit:!0,core:this.sampling,api:1,resource:.1,error:1,event:1},null);try{var r=t;n="string"==typeof r?JSON.parse(r):r}catch(t){return void f("error: ",t)}n&&Object.keys(n).forEach((function(t){"load"===t?e.sampleData.core=n[t]:e.sampleData[t]=n[t]}))},t.prototype.updateUrlPackage=function(){var t;null!=(t=this.weblog)&&t.currentUrlPackage&&(this.currentUrlPackage=this.weblog.currentUrlPackage,this.referUrlPackage=this.weblog.referUrlPackage)},t.prototype.setDimensions=function(t){var e=this,n=Object.keys(t);n.some((function(t){return-1===T.indexOf(t)}))&&v("113","".concat(n.join("„ÄÅ"))),n.forEach((function(n){null==t[n]?delete e.customDimension[n]:e.customDimension[n]=t[n]}))},t.prototype.decorateLog=function(t){this.currentUrlPackage||this.updateUrlPackage(),0<Object.keys(this.customDimension).length&&Object.assign(t.dimension,this.customDimension),this.currentUrlPackage&&this.currentUrlPackage.page!==(null==(t=null==(t=this.weblog)?void 0:t.currentUrlPackage)?void 0:t.page)&&(this.flush(),this.updateUrlPackage())},t.prototype.samplingControl=function(t){return null!==t&&"number"==typeof t&&this.randomSampling<t},t.prototype.getCommonData=function(){var t,e=null==(e=null==(e=null==(e=this.weblog)?void 0:e.commonPackage)?void 0:e.app_package)?void 0:e.version_name;e={h5_extra_attr:JSON.stringify(r(r({},null==(t=null==(t=this.weblog)?void 0:t.commonPackage)?void 0:t.getH5ExtraAttr()),{app_version_name:e,url:location.href,hash:location.hash,online:null===navigator||void 0===navigator?void 0:navigator.onLine,downlink:null==(t=null===navigator||void 0===navigator?void 0:navigator.connection)?void 0:t.downlink,rtt:null==(t=null===navigator||void 0===navigator?void 0:navigator.connection)?void 0:t.rtt})),url_package:this.currentUrlPackage&&this.currentUrlPackage.toJSON(),refer_url_package:this.referUrlPackage&&this.referUrlPackage.toJSON(),app_version_name:e,project_id:null==(t=this.config)?void 0:t.projectId};return"1"===function(t){return(t=new RegExp("(?:^|; ?)".concat(t,"=(1|0)(;|$)")).exec(document.cookie))&&t[1]}("radar_report_test")&&(e.is_report_test=!0),e},t.prototype.reportByHttp=function(){var t=this.getCommonData(),e=(t={project_id:this.config.projectId,radar_session_id:this.radarSessionId,h5_extra_attr:t.h5_extra_attr},this.logQueue.filter((function(t){return"load"===t.key}))),n=this.logQueue.filter((function(t){return"load"!==t.key}));ollectLog(t,e,"radarSDK"),Array.isArray(n)&&n.length&&this.collectLog(t,n,"radarSDKSupplement")},t.prototype.collectLog=function(t,e,n){var l;"function"!=typeof(null==(l=this.weblog)?void 0:l.collect)&&"function"!=typeof(null==(l=this.weblog)?void 0:l.seeblog.sendByHttp||this.weblog.collect).call(this.weblog,"RADAR",{name:"radar_log",params:r(r({},t),{data:c([],o(e),!1)}),serviceName:n})},t.prototype.reportByBridge=function(){var t=null==(n=null==(n=this.weblog)?void 0:n.Utils)?void 0:n.yoda;if(!t)return!1;var e,n=this.logQueue.filter((function(t){return"load"===t.key})),r=this.logQueue.filter((function(t){return"load"!==t.key}));try{return n.forEach((function(e){"function"==typeof(null==(e=t.sendSummarizedLog({key:"h5_load",data:e}))?void 0:e.catch)&&e.catch((function(t){v("123",t)}))})),r.length&&"function"==typeof(null==(e=t.sendRadarLog({data:r}))?void 0:e.catch)&&e.catch((function(t){v("124",t)})),!0}catch(e){return!1}},t}(),R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var N=function(){return(N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function D(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}var x,U=function(){return(U=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function M(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function j(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function H(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.warn;return n&&n.call.apply(n,j([console,"radar:"],M(t),!1))}catch(t){return}}function B(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.error;return n&&n.call.apply(n,j([console,"radar:"],M(t),!1))}catch(t){return}}!function(t){t.LOAD="load",t.RES="resource",t.API="api",t.ERROR="error",t.SDK_ERROR="sdk_error",t.CUSTOM="custom",t.BATCH="batch",t.EVENT="event",t.BLOOD="blood"}(x=x||{});var F,K=function(){function t(t){void 0===t&&(t={});var e=this;if(this.broadcastSampleFb=function(){var t=e.getSample(e.baseOptions.sampling);t!==e.sampling&&(e.sampling=t,e.sampling&&(e.isHit=e.samplingControl(e.sampling)))},void 0===t)throw new Error("radar error 100");if(!t.key)throw new Error("radar error 101");if(t.core&&("object"!=typeof t.core.sampleData||"function"!=typeof t.core.collect))throw new Error("radar error 121");this.baseOptions=t,this.key=t.key,this.version=t.version,this.name=t.name,this.isHit=!1,t.core&&this.updateCore(t.core)}return t.prototype.updateCore=function(t){var e;if("object"!=typeof t.sampleData||"function"!=typeof t.collect)throw new Error("radar error 121");null!=(e=this.core)&&e.broadcastSample.off(this.broadcastSampleFb),this.core=t,this.sampling=this.getSample(this.baseOptions.sampling),this.sampling&&(this.isHit=this.samplingControl(this.sampling)),null!=(t=null==(e=this.core)?void 0:e.broadcastSample)&&t.on(this.broadcastSampleFb)},t.prototype.getSample=function(t){var e=null!=(e=null==(e=this.core)?void 0:e.sampleData.core)?e:1;if(this.key===x.LOAD)return e;if("number"!=typeof(t=void 0===t?1:t)||t<0||1<t)return H("102Ôºå".concat(this.key,"ÔºåÈááÁî®CoreÁöÑÈááÊ†∑Áéá").concat(null==(n=this.core)?void 0:n.sampleData.core)),e;var n=null!=(n=this.core)&&n.isInYoda?void 0===(null==(n=this.core)?void 0:n.sampleData[this.key])?1:this.core.sampleData[this.key]:t;return e&&e<n?(H("115Ôºå".concat(this.key)),e):n},t.prototype.samplingControl=function(t){var e;return!(null==(e=this.core)||!e.sampleData.isHit)&&(null==(e=this.core)?void 0:e.samplingControl(t/this.core.sampleData.core))},t.prototype.baseCollect=function(t){var e;this.core?this.isHit&&(e=t.value||{},e=Object.keys(e).filter((function(t){return null!==e[t]&&void 0!==e[t]})).reduce((function(t,n){return U(U({},t),((t={})[n]=e[n],t))}),{}),this.core.collect(t.key||this.key,U(U({},t.dimension),{sample_rate:this.sampling,collect_version:this.version,collect_name:this.name}),e)):H("110,".concat(this.key))},t}();function W(t,e){var n={};return Object.keys(t).forEach((function(r){var o=V(r,t,e);null!=o&&(n[r]=o)})),n}function V(t,e,n){var r=e[t];if(!r)throw new Error("„ÄêRadar Util„Äë perf key ".concat(t," is unexpected!"));if(!r.cachedSkip||!V("cached",e,n))return"function"==typeof r.custom?r.custom(t,n):(e=r.end,t=r.start,!r.notCatchIfUndefined||void 0!==n[e]&&void 0!==n[t]?(+n[e]||0)-(+n[t]||0):void 0)}x.LOAD,x.RES,x.API,x.ERROR,x.EVENT,x.BLOOD,function(t){t.RADAR_INIT="radar_init",t.H5_LOAD="h5_loAIN_API,F.RADAR_INIT,F.H5_CUSTOM_METRIC,window.__RADAR_PERFORMANCE_TIMING_=window.__RADAR_PERFORMANCE_TIMING_||{};var G={redirect:{end:"redirectEnd",start:"redirectStart"},dns:{end:"domainLookupEnd",start:"domainLookupStart"},dns_start:{end:"domainLookupEnd",start:"navigationStart"},tcp:{end:"connectEnd",start:"connectStart"},tcp_start:{end:"connectEnd",start:"navigationStart"},redirect_count:{custom:function(t,e){return e.redirectCount}},ssl:{custom:function(t,e){return e.requestStart&&e.secureConnectionStart?e.requestStart-e.secureConnectionStart:0}},ssl_start:{custom:function(t,e){return e.secureConnectionStart&&e.redirectStart?e.secureConnectionStart-e.redirectStart:0}},ttfb:{end:"responseStart",start:"requestStart"},request_start:{end:"requestStart",start:"navigationStart"},trans:{end:"responseEnd",start:"responseStart"},dom_parse:{end:"domInteractive",start:"responseEnd"},dom_parse_start:{end:"domInteractive",start:"navigationStart"},blank:{end:"domLoading",start:"navigationStart"},fb:{end:"responseStart",start:"navigationStart"},dom_ready:{end:"domContentLoadedEventEnd",start:"navigationStart"},total:{end:"loadEventStart",start:"navigationStart"},resource:{end:"loadEventStart",start:"domInteractive"},fp:{custom:function(){if("function"!=typeof performance.getEntries)return null;var t=performance.getEntries().filter((function(t){return"first-paint"===t.name}))[0];return t?Math.ceil(t.startTime+t.duration):null}},js_cost:{custom:function(){if("function"!=typeof performance.getEntries)return null;var t=function(){var t,e="undefined"!=typeof window?window.performance:null;return e&&e.timing?"function"==typeof e.timing.toJSON?((t=e.timing.toJSON())&&!t.redirectStart&&(t.redirectStart=t.navigationStart),t):e.timing:null}(),e=performance.getEntries(),n=performance.getEntries().filter((function(t){return"navigation"===t.initiatorType}))[0];e=e.filter((function(t){return"script"===t.initiatorType}))[0],n=n?n.domComplete:t.domComplete-t.navigationStart;return e&&n?n-e.fetchStart:null}},tti:{end:"domInteractive",start:"navigationStart"},protocol:{custom:function(t,e){return e.nextHopProtocol}},dom_num:{custom:function(){return"undefined"!=typeof document&&void 0!==document.all?document.all.length:null}}},J={main_api:{end:"apiEnd",start:"apiStart",notCatchIfUndefined:!0},main_api_offset:{end:"apiStart",start:"responseEnd",notCatchIfUndefined:!0},fmp:{end:"fmp_time",start:"navigationStart",notCatchIfUndefined:!0}},z={navigation_start_time:"navigationStart",fetch_start_time:"fetchStart",dns_start_time:"domainLookupStart",_time:"connectStart",ssl_start_time:"secureConnectionStart",request_start_time:"requestStart",response_start_time:"responseStart",response_end_time:"responseEnd",dom_interactive_time:"domInteractive",dom_loading_time:"domLoading",dom_ready_time:"domContentLoadedEventEnd",load_event_time:"loadEventStart",connect_end_time:"connectEnd",load_event_end:"loadEventEnd",dom_complete:"domComplete",dom_content_loaded_event_start:"domContentLoadedEventStart",redirect_start:"redirectStart",redirect_end:"redirectEnd",radar_init_time:"radar_init_time",fmp_time:"fmp_time"};function $(t,e){if(!Array.isArray(e))return-1;var n=-1;return e.forEach((function(e,r){new RegExp(e).test(t)&&(n=r)})),n}var Y=function(t){function e(e){var g=this;if((g=t.call(this,{core:null==e?void 0:e.core,key:x.LOAD,version:"1.0.7-alpha.0",name:"RadarNavigationCollect"})||this).hasFMP=!1,g.customKeys=[],g.custom_metric={},g.optionsMainAPI=[],g.mainAPIList=[],g.radarMainApiList=[],g.mainJSList=[],g.radarMainJSList=[],g.radarTiming={radar_init_time:void 0,fmp_time:void 0,fmp:void 0,apiStart:void 0,apiEnd:void 0},g.h5Load=function(){var t=g.getPerformanceData();g.collect(N({event_name:"h5_load"},t))},g.dealAPI=function(t){return g.cacheAndCalculateMainAPI(t),g.addMainApiResult(t),g.mainAPIList!t.url})).length!==g.mainAPIList.length||void 0===g.radarTiming.fmp},g.addMainJSResult=function(t){if(!g.mainJSList||0===g.mainJSList.length)return!1;var e,n,r,o,i,a,s,c,l,u,p,d,f,h,v,m=$((t.file||"").replace(/\?.+$/,""),g.mainJSList);return-1<m&&!g.radarMainJSList[m].file&&(e=t.file,n=t.cached,r=t.size,o=t.failed,i=t.res_type,a=t.protocol,s=t.fb,c=t.dns,l=t.tcp,u=t.ssl,p=t.ttfb,d=t.trans,f=t.total,h=t.fetch_start,v=t.duration,t=t.start_time,g.radarMainJSList[m]={file:e,cached:n,size:r,failed:o,res_type:i,protocol:a,fb:s,dns:c,tcpduration:v,start_time:t,reg:g.mainJSList[m]}),g.radarMainJSList.filter((function(t){return!!t.file})).length!==g.mainJSList.length},e.core)return"string"==typeof e.mainApi?(g.optionsMainAPI.push(e.mainApi),g.mainAPIList.push({}),g.radarMainApiList.push({})):Array.isArray(e.mainApi)&&(e.mainApi.length>3&&H("207"),g.optionsMainAPI=e.mainApi.slice(0,3),g.optionsMainAPI.forEach((function(){g.mainAPIList.push({}),g.radarMainApiList.push({})}))),"string"==typeof e.mainJs?(g.mainJSList.push(e.mainJs),g.radarMainJSList.push({})):Array.isArray(e.mainJs)&&(e.mainJs.length>3&&H("211"),g.mainJSList=e.mainJs.slice(0,3),g.mainJSList.forEach((function(){return g.radarMainJSList.push({})}))),performance.timing?g.init():(null!=(e=g.core)&&e.collect("event",{name:"radar_error",message:"performance.timing ‰∏çÂ≠òÂú®Êó†Ê≥ïÊî∂ÈõÜÊï∞ÊçÆ",category:x.LOAD}),B("208")),g;throw new Error("radar error 212")}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.init=function(){this.radarTiming.radar_init_time=Date.now();var t=this.getPerformanceData();this.collect(N({event_name:"radar_init"},t)),0<performance.timing.loadEventStart?this.h5Load():function(t,e,n,r){"attachEvent"in t?t.attachEvent("on"+e,n):t.addEventListener(e,n,r)}(window,"load",this.h5Load)},e.prototype.customStage=function(t,e){if(void 0===e&&(e={sendTimeline:!0}),this.isHit){if(void 0===t||"string"!=typeof t||""===t)throw new Error("radar error 206");var n;this.isValidTimestamp(e.timestamp,"custom_stage "+t)&&(n=e.timestamp||Date.now(),this.customKeys.includes(t)?B("204Ôºå".concat(t)):2<this.customKeys.length?B("205Ôºå".concat(t)):n&&(this.custom_metric[t+"_time"]=n,this.customKeys.push(t),e&&1==e.sendTimeline&&(e=this.getPerformanceData(),this.collect(N(N({},e),{stack:(new Error).stack,event_name:"h5_custom_metric",custom_metric_name:t,custom_metric_timestamp:n})))))}else B("200")},e.prototype.isValidTimestamp=function(t,e){var n;if(void 0===e&&(e="fmp"),void 0!==t&&"number"!=typeof t)throw new Error("radar error 201");return!(void 0!==t&&t<performance.timing.navigationStart&&(H("210 ".concat(e)),null!=(n=this.core)&&n.collect("event",{name:"radar_error",message:"„Äê210„Äë".concat(e),extra_info:{timestamp:t,navigationStart:performance.timing.navigationStart}}),1))},e.prototype.fmp=function(t){this.isHit?this.isValidTimestamp(t)&&(t=t||Date.now(),this.hasFMP?H("202"):t&&performance.timing&&(this.hasFMP=!0,this.radarTiming.fmp_time=t,performance.timing.radarFmp=t,t=this.getPerformanceData(),performance.timing.fmp=this.radarTiming.fmp=t.fmp,this.collect(N({event_name:"fmp",stack:(new Error).stack},t)))):H("200")},e.prototype.getPerformanceData=function(){var t,e=N(N({},function(t){return JSON.parse(JSON.stringify(t))}(performance.timing)),this.radarTiming),n=W(N(N({},G),J),e);return Object.keys(z).forEach((function(t){0<=e[z[t]]&&(n[t]=e[z[t]])})),n.radar_main_js_start=null==(t=window.__RADAR_PERFORMANCE_TIMING_)?void 0:t.radar_main_js_start,n},e.prototype.cacheAndCalculateMainAPI=function(t){var e;void 0===this.radarTiming.fmp&&(t.before_hook_time&&(e=this.radarTiming.apiStart,this.radarTiming.apiStart=e?Math.min(e,t.before_hook_time):t.before_hook_time),t.after_hook_time&&(e=this.radarTiming.apiEnd,this.radarTiming.apiEnd=e?Math.max(e,t.after_hook_time):t.after_hook_time))},e.prototype.addMainApiResult=function(t){var e,n,r,o,i,a,s,c,l,u,p,d,f,h,v,m,g,y,_=$((t.api||"").replace(/\?.+$/,""),this.optionsMainAPI);-1<_&&(null==(y=this.mainAPIList[_])||!y.url)&&(y=t.api,e=t.status,n=t.size,r=t.cached,o=t.method,c=t.perfTime,i=t.protocol,a=t.custom_failed,s=t.res_type,g=D(t,["api","status","size","cached","method","perfTime","protocol","custom_failed","res_type"]),this.mainAPIList[_]=N({url:y,status:e,size_radar:n,cached:r,method:o,perfTime:c,protocol:i,res_type:s,custom_failed:a},g),c=g.fb,l=g.dns,u=g.tcp,p=g.ssl,d=g.ttfb,f=g.trans,h=g.total,v=g.fetch_start,m=g.duration,g=g.start_time,this.radarMainApiList[_]={api:y,status:e,size:n,cached:r,method:o,protocol:i,fb:c,dns:l,tcp:u,ssl:p,ttfb:d,trans:f,total:h,fetch_start:v,duration:m,custom_failed:a,res_type:s,reg:this.optionsMainAPI[_],start_time:g},this.radarTiming.fmp_time&&t.after_hook_time&&t.after_hook_time<this.radarTiming.fmp_time&&(y=this.getPerformanceData(),this.collect(N({event_name:"main_api"},y))))},e.prototype.destroy=function(){(function(t,e,n,r){"attachEvent"in t?t.detachEvent("on"+e,n):t.removeEventListener(e,n,r)})(window,"load",this.h5Load),this.customStage=this.fmp=function(){H("213")}},e.prototype.collect=function(t){var e=t.protocol,n=t.event_name,r=(t.custom_metric,t.custom_metric_name),o=t.stack;t.main_api_list,t=D(t,["protocol","event_name","custom_metric","custom_metric_name","stack","main_api_list"]);this.baseCollect({value:t,dimension:{protocol:e,event_name:n,custom_metric_name:r,custom_metric:JSON.stringify(this.custom_metric),main_api_list:this.mainAPIList,radar_main_api_list:this.radarMainApiList,radar_main_js_list:this.radarMainJSList,is_official:1,stack:o}}),null!=(t=this.core)&&t.flush()},e}(K),Q=function(t,e){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var X=function(){return(X=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Z(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}var tt,et=function(){return(et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function nt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ot(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function it(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.warn;return n&&n.call.apply(n,ot([console,"radar:"],nt(t),!1))}catch(t){return}}function at(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.error;return n&&n.call.apply(n,ot([console,"radar:"],nt(t),!1))}catch(t){return}}!function(t){t.LOAD="load",t.RES="resource",t.API="api",t.ERROR="error",t.SDK_ERROR="sdk_error",t.CUSTOM="custom",t.BATCH="batch",t.EVENT="event",t.BLOOD="blood"}(tt=tt||{});var st=function(){function t(t){void 0===t&&(t={});var e=this;if(this.broadcastSampleFb=function(){var t=e.getSample(e.baseOptions.sampling);t!==e.sampling&&(e.sampling=t,e.sampling&&(e.isHit=e.samplingControl(e.sampling)))},void 0===t)throw new Error("radar error 100");if(!t.key)throw new Error("radar error 101");if(t.core&&("object"!=typeof t.core.sampleData||"function"!=typeof t.core.collect))throw new Error("radar error 121");this.baseOptions=t,this.key=t.key,this.version=t.version,this.name=t.name,this.isHit=!1,t.core&&this.updateCore(t.core)}return t.prototype.updateCore=function(t){var e;if("object"!=typeof t.sampleData||"function"!=typeof t.collect)throw new Error("radar error 121");null!=(e=this.core)&&e.broadcastSample.off(this.broadcastSampleFb),this.core=t,this.sampling=this.getSample(this.baseOptions.sampling),this.sampling&&(this.isHit=this.samplingControl(this.sampling)),null!=(t=null==(e=this.core)?void 0:e.broadcastSample)&&t.on(this.broadcastSampleFb)},t.prototype.getSample=function(t){var e=null!=(e=null==(e=this.core)?void 0:e.sampleData.core)?e:1;if(this.key===tt.LOAD)return e;if("number"!=typeof(t=void 0===t?1:t)||t<0||1<t)return it("102Ôºå".concat(this.key,"ÔºåÈááÁî®CoreÁöÑÈááÊ†∑Áéá").concat(null==(n=this.core)?void 0:n.sampleData.core)),e;var n=null!=(n=this.core)&&n.isInYoda?void 0===(null==(n=this.core)?void 0:n.sampleData[this.key])?1:this.core.sampleData[this.key]:t;return e&&e<n?(it("115Ôºå".concat(this.key)),e):n},t.prototype.samplingControl=function(t){var e;return!(null==(e=this.core)||!e.sampleData.isHit)&&(null==(e=this.core)?void 0:e.samplingControl(t/this.core.sampleData.core))},t.prototype.baseCollect=function(t){var e;this.core?this.isHit&&(e=t.value||{},e=Object.keys(e).filter((function(t){return null!==e[t]&&void 0!==e[t]})).reduce((function(t,n){return et(et({},t),((t={})[n]=e[n],t))}),{}),this.core.collect(t.key||this.key,et(et({},t.dimension),{sample_rate:this.sampling,collect_version:this.version,collect_name:this.name}),e)):it("110,".concat(this.key))},t}();function ct(t,e){var n={};return Object.keys(t).forEach((function(r){var o=ut(r,t,e);null!=o&&(n[r]=o)})),n}function ut(t,e,n){var r=e[t];if(!r)throw new Error("„ÄêRadar Util„Äë perf key ".concat(t," is unexpected!"));if(!r.cachedSkip||!ut("cached",e,n))return"function"==typeof r.custom?r.custom(t,n):(e=r.end,t=r.start,!r.notCatchIfUndefined||void 0!==n[e]&&void 0!==n[t]?(+n[e]||0)-(+n[t]||0):void 0)}var lt=/^(https?:)?\/\//;function ft(t,e){if(!t)return!1;var n=t.replace(lt,"");return e.some((function(t){return 0<=n.indexOf(t.replace(lt,""))}))}function pt(t){if("string"!=typeof t)return"";try{var e=t.lastIndexOf(".");return t.substr(e+1)}catch(t){return""}}function ht(t){return"__radar_".concat(t=void 0===t?"":t).concat(Math.random().toString(36).substring(2,8))}function vt(t,i){var e=window.XMLHttpRequest;return e?(window.XMLHttpRequest=function(){var a,n,r=new e,o=(r._radarRequest=Object.create(null),r._radarResponse=Object.create(null),ht());return r._radarRequest.id=o,r.addEventListener("readystatechange",(function(){if(4===r.readyState&&"function"==typeof i){r._radarResponse.status=r.status,r._radarResponse.statusText=r.statusText;var t,e,n,o=function(t,e){switch(null==e&&(e={}),typeof t){case"object":var n,r=[];for(n in t){var o=t[n],i=n.toLowerCase();r.push("".concat(i,":\t").concat(o))}return r.join("\n")+"\n";case"string":for(var a=0,s=(r=t.split("\n")).length;a<s;a++){var c=r[a];/([^:]+):\s*(.+)/.test(c)&&(c=null!=(c=RegExp.$1)?c.toLowerCase():void 0,o=RegExp.$2,c&&null==e[c]&&(e[c]=o))}return e}}(r.getAllResponseHeaders());for(t in o)n=o[t],r._radarResponse&&r._radarResponse.headers&&!r._radarResponse.headers[t]&&(e=t.toLowerCase(),r._radarResponse.headers[e]=n);if(r.responseType&&"text"!==r.responseType)"document"===r.responseType?(r._radarResponse.xml=r.responseXML,r._radarResponse.data=r.responseXML):r._radarResponse.datasponseText,r._radarResponse.data=r.responseText;try{r._radarResponse.xml=r.responseXML}catch(t){}}"responseURL"in r&&(r._radarResponse.finalUrl=r.responseURL),i(r._radarRequest,r._radarResponse)}})),"function"==typeof r.open&&(a=r.open,r.open=function(t,e,n,r,o){var i=[].slice.call(arguments);return this._radarRequest=et({method:t,url:e,async:n,user:r,pass:o},this._radarR)}),"fusend&&(n=r.e=[].slice.call(arguments);return"function"==typeof t&&(this._radarRequest._cohis,e)}),NED","UNSENT"].forEach((function(t){window.XMLHttpRequest[t]=e[t]})),window.XMLHttpRequest.prototype=e.prototype,function(){e&&(window.XMLHttpRequest=e)}):(at("118"),!1)}function gt(t,e){var n=function(t){if("function"!=typeof t.fetch)return null;var e,n=t.fetcn(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return _t.apply(void 0,ot([e],nt(t),!1))}),{register:function(t){return mt.push(t),function(){var e=mt.indexOf(t);0<=e&&mt.splice(e,1)}},clear:function(){mt=[]},unRegister:function(){n&&(t.fetch=n)}}}("fuwindow);return n&&n.register({request:function(e,n){"function"==typeof t&&t(e)},response:function(t,n){"function"==typeof e&&e(n,t)},responseError:function(t,n){"function"==typeof e&&e(n,{status:0,statusText:t})}}),null==n?void 0:n.unRegister}var mt=[],yt=["application/json","text/html","text/plain"];function _t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=mt.reduce((function(t,e){return[e].concat(t)}),[]),o="string"==typeof e[0]?new Request(e[0],e[1]):e[0],i=(o.id=ht(),r.forEach((function(t){t=t.request,o=t(o)||o})),o.clone()),a=t.apply(void 0,ot([],nt(e),!1)),s=null,c=null,l=!1;return a.then((function(t){var e,n=t.headers.get("content-type");return n&&yt.some((function(t){return-1<n.indexOf(t)}))?(l=!0,e=t.clone(),s=e.clone(),e.clone().text()):(s=t,"[object Object]")})).then((function(t){c=t;try{return i.text()}catch(t){return"Radar: Request.text()Â§±Ë¥•"}})).then((function(t){o._config=t;var e=null;return l?(e=s.clone()).data=c:e=s,r.forEach((function(t){(t=t.response)&&(e=t(e,o)||e)})),s}),(function(t){throw r.forEach((function(e){(e=e.responseError)&&(t=e(t,o)||t)})),t}))}var bt,wt=["//wlog.kuaishou.com/rest/n/log/web/collect","/rest/wd/common/log/collect/misc2","/rest/wd/common/log/collect/radar","/rest/kd/log/collect"];tt.LOAD,tt.RES,tt.API,tt.ERROR,tt.EVENT,tt.BLOOD,function(t){t.RADAR_INIT="radar_init",t.H5_LOAD="h5_load",t.FMP="fmp",t.MAIN_API="main_api",t.H5_CUSTOM_METRIC="h5_custom_metric"}(bt=bt||{}),bt.FMP,bt.H5_LOAD,bt.MAIN_API,bt.RADAR_INIT,bt.H5_CUSTOM_METRIC,window.__RADAR_PERFORMANCE_TIMING_=window.__RADAR_PERFORMANCE_TIMING_||{};var Et={start_time:{custom:function(t,e){return Math.round(e.startTime)}},fetch_start:{custom:function(t,e){return Math.round(e.fetchStart)}},dns:{end:"domainLookupEnd",start:"domainLookupStart"},tcp:{end:"connectEnd",start:"connectStart"},ssl:{custom:function(t,e){return 0===e.secureConnectionStart?0:e.connectEnd-e.secureConnectionStart}},ttfb:{end:"responseStart",start:"requestStart"},trans:{end:"responseEnd",start:"responseStart"},fb:{end:"responseStart",start:"fetchStart",cachedSkip:!0},total:{end:"responseEnd",start:"fetchStart"},size:{custom:function(t,e){return e.encodedBodySize},noThrottle:!0},protocol:{custom:function(t,e){return e.nextHopProtocol}},file:{custom:function(t,e){return e.name},noThrottle:!0},res_type:{custom:function(t,e){return e.initiatorType}},cached:{custom:function(t,e){return 0===e.transferSize||(void 0===e.transferSize||null==e.transferSize)&&0===e.domainLookupStart},noThrottle:!0}},St={navigation_start:"startTime",redirect_start:"redirectStart",redirect_end:"redirectEnd",dns_start:"domainLookupStart",dns_end:"domainLookupEnd",connect_start:"connectStart",connect_end:"connectEnd",ssl_start:"secureConnectionStart",request_start:"requestStart",response_start:"responseStart",response_end:"responseEnd"};function kt(t){var e="";if("string"==typeof t)e=t;else try{e=JSON.stringify(t)}catch(n){e=String(t)}for(var n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);n+=o<128?1:o<2048?2:o<65536?3:o<1<<21?4:o<1<<26?5:o<1<<31?6:Number.NaN}return n}function Ot(t){var e=(n=document.location).protocol,n=n.host;return 0===t.indexOf("//")?e+t:0===t.indexOf("/")?"".concat(e,"//").concat(n).concat(t):t}function Pt(t){return t?"function"==typeof t.get?t.get("Content-Type"):t["content-type"]:null}var At=function(t){function e(e){var g=t.call(this,{core:null==(e=void 0===e?{}:e)?void 0:e.core,sampling:null==e?void 0:e.sampling,key:tt.API,version:"1.0.7-alpha.0",name:"RadarAPICollect"})||this;if(g.ignoreList=wt,g.queue=[],g.logList=[],g.perfList=[],g.broadcastApi=function(){var t=[];function e(e){-1!==(e=t.indexOf(e))&&t.splice(e,1)}function n(n){return t.push(n),e.bind(void 0,n)}return{on:n,off:e,once:function(t){var e=n((function(n){t(n),e()}));return e},emit:function(e){t.forEach((function(t){return t(e)}))}}}(),g.initiatorTypeList=[],g.beforeHook=function(t){var e;0===(null==(e=t.url)?void 0:e.indexOf("data:"))||ft(t.url,g.ignoreList)||ft(t.url,(null==(e=g.core)?void 0:e.ignoreList)||[])||"js"===pt(t.url)||"css"===pt(t.url)||(e={api:Ot(t.url),method:t.method,request:t,ste))},g.afterHook=function(t,e){if(r=g.queue.find((function(e){return e.request===t}))){delete r.request;var n=r.startTime,r=Z(r,["startTime"]),o=Date.now(),i=o-n,a=e.status;if("function"==typeof g.customizeRadarStatus)try{a=g.customizeRadarStatus(e)}catch(e){console.error(e)}var s,c,l,u,p,d,f,h,v=g.customHook({request:t,response:e,duration:i}),m=function(t){return t?"function"==typeof t.get?+t.get("Content-Length")||0:+t["content-length"]||0:0}(e.headers);i=X(X(X({duration:i,logTime:Date.now(),status:a,size:+m,content_type:Pt(e.headers),custom_failed:!(200<=a&&a<300)},r),v),{before_hook_time:n,after_hook_time:o});e.finalUrl&&(i.api=e.finalUrl),"string"==typeof e.text&&(i.responseData=e.text),function(t){return 0===t.status}(X(X({},e),{status:i.status}))&&!v.intercept_report?(m=iled,o=i.status,e=i.cached,v=i.method,s=i.response_code,c=i.response_msg,l=i.content_type,u=i.broadcast_info,p=i.responseData,d=i.before_hook_time,f=i.after_hook_time,(h=Z(i,["res_type","protocol","api","custom_failed","status","cached","method","response_code","response_msg","content_type","broadcast_info","responseData","before_hook_time","after_hook_time"])).size&&0!=h.size||!p||(h.size=kt(p)),g.baseCollect({value:h,dimension:{before_hook_time:d,after_hook_time:f,res_type:m,protocol:a,api:r,custom_failed:n,status:o,cached:e,method:v,response_code:s,response_msg:c,content_type:l,broadcast_info:u,is_official:1}})):g.mergeAPIPerf(null,i)||g.logList.push(i),g.queue=g.queue.filter((function(e){return e.request&&e.request!==t}))}},void 0===e||null==e||!e.core)throw new Error("radar error 310");if(void 0!==e.ignoreList){if(!Array.isArray(e.ignoreList))throw new Error("radar error 309");e.ignoreList.forEach((function(t){if("string"!=typeof t)throw new Error("radar error 309")})),g.ignoreList=g.ignoreList.concat(e.ignoreList)}return g.option=e,g.APIHook=e.APIHook,g.customizeRadarStatus=e.customizeRadarStatus,g.init(),g}return function(t,e)w new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.init=function(){var t,e=this;try{this.observer=new PerformanceObserver((function(t){return e.observeAPI(t)})),this.observer.observe({entryTypes:["resource"]}),this.initiatorTypeList=[],!0!==this.option.ignoreXHR&&(this.initiatorTypeList.push("xmlhttprequest"),this.unhookXML=vt((function(t){return e.beforeHook(t)}),(function(t,n){return e.afterHook(t,n)}))),!0!==this.option.ignoreFetch&&(this.initiatorTypeList.push("fetch"),this.unhookFetch=gt((function(t){return e.beforeHook(t)}),(function(t,n){return e.afterHook(t,n)})))}catch(e){at("308"),null!=(t=this.core)&&t.collect("event",{name:"radar_error",message:"PerformanceObserver ‰∏çÂ≠òÂú®Êó†Ê≥ïÊî∂ÈõÜÊï∞ÊçÆ",category:tt.API})}},e.prototype.customHook=function(t){var e={};if(void 0===this.APIHook)return e;if("function"!=typeof this.APIHook)return it("300"),e;var n={};try{n=this.APIHook(t)}catch(t){return it("301",t),{}}if(!n)return it("302"),e;t=n.response_msg;var r=n.response_code,o=n.status,i=n.custom_failed,a=n.intercept_report;n=n.broadcast_info;if(!0===Boolean(a)&&(e.intercept_report=!0),void 0!==t)try{var s=JSON.stlice(0,100)}catch(t){e.response_msg="response_msgËøîÂõûÁªìÊûúÂºÇÂ∏∏",it("303")}return void 0!==r&&(a=Number(r),isNaN(a)?it("304"):e.response_code=a),void 0!==o&&(t=Number(o),isNaN(t)?it("305"):e.status=t),void 0!==i&&(!0===i||!1===i?e.custom_failed=i:it("306")),e.broadcast_info=n,e},e.prototype.observeAPI=function(t){var i=this;t.getEntriesByType("resname,(null==(e=i.core)?void 0:e.ignoreList)||[]))return!1;"resource"===t.entryType&&i.initiatorTypeList.includes(t.initiatorType)&&"js"!==pt(t.name)&&"css"!==pt(t.name)&&(e=ct(Et,t),0<(o=t.serverTiming||[]).length&&(n=null,o.forEach((function(t){"total-timing"===t.name&&(n=t.duration)})),e.total_server_timing=n,e.server_data_list=JSON.stringify(o)),e.perfTime=Date.now(),r={encoded_body_size:t.encodedBodySize,decoded_body_size:t.decodedBodySize},Object.keys(St).forEach((function(e){r[e]=Number(t[St[e]]+performance.timing.navigationStart)})),o=X(X(X({},e),{api:e.file}),r),i.mergeAPIPerf(o)||i.perfList.push(o))}))},e.prototype.destroy=function(){this.unhookXML&&this.unhookXML(),this.unhookFetch&&this.unhookFetch(),this.observer&&this.observer.disconnect()},e.prototype.mergeAPIPerf=function(t,e){var n=t||e;e=t?this.logList:this.perfList;if(n){var r,o,i,a,s,c,l,u,p,d,f,h,v,m=-1,g=(n.api||"").replace(/\?.+$/,""),y=n.size;if(e.forEach((function(t,e){var r=(t.api||"").replace(/\?.+$/,"");g===r&&(Object.assign(n,t,n.apiTime),delete n.file,y&&(n.size=y),n.size&&0!=n.size||!n.responseData||(n.size=kt(n.responseData)),delete n.responseData,m=et))return t=n.res_type,e=n.protocol,r=n.api,o=n.custom_failed,i=n.status,a=n.cached,s=n.method,c=n.response_code,l=n.response_msg,n.has_fmp,u=n.server_data_list,p=n.content_type,d=n.broadcast_info,f=n.before_hook_time,h=n.after_hook_time,v=Z(n,["res_type","protocol","api","custom_failed","status","cached","method","response_code","response_msg","has_fmp","server_data_list","content_type","broadcast_info","before_hook_time","after_hook_time"]),this.baseCollect({dimension:{before_hook_time:f,after_hook_time:h,res_type:t,protocol:e,api:r,custom_failed:o,status:i,cached:a,method:s,response_code:c,response_msg:l,content_type:p,broadcast_info:d,is_official:1,server_data_list:u},value:v}),this.broadcastApi.emit(function(t){return JSON.parse(JSON.stringify(t))}(n)),!0}return!1},e}(st),Lt=function(t,e){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ct=function(){return(Ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var Tt,It=function(){return(It=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Rt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Nt(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function Dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.warn;return n&&n.call.apply(n,Nt([console,"radar:"],Rt(t),!1))}catch(t){return}}function xt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.error;return n&&n.call.apply(n,Nt([console,"radar:"],Rt(t),!1))}catch(t){return}}!function(t){t.LOAD="load",t.RES="resource",t.API="api",t.ERROR="error",t.SDK_ERROR="sdk_error",t.CUSTOM="custom",t.BATCH="batch",t.EVENT="event",t.BLOOD="blood"}(Tt=Tt||{});var Ut=function(){function t(t){void 0===t&&(t={});var e=this;if(this.broadcastSampleFb=function(){var t=e.getSample(e.baseOptions.sampling);t!==e.sampling&&(e.sampling=t,e.sampling&&(e.isHit=e.samplingControl(e.sampling)))},void 0===t)throw new Error("radar error 100");if(!t.key)throw new Error("radar error 101");if(t.core&&("object"!=typeof t.core.sampleData||"function"!=typeof t.core.collect))throw new Error("radar error 121");this.baseOptions=t,this.key=t.key,this.version=t.version,this.name=t.name,this.isHit=!1,t.core&&this.updateCore(t.core)}return t.prototype.updateCore=function(t){var e;if("object"!=typeof t.sampleData||"function"!=typeof t.collect)throw new Error("radar error 121");null!=(e=this.core)&&e.broadcastSample.off(this.broadcastSampleFb),this.core=t,this.sampling=this.getSample(this.baseOptions.sampling),this.sampling&&(this.isHit=this.samplingControl(this.sampling)),null!=(t=null==(e=this.core)?void 0:e.broadcastSample)&&t.on(this.broadcastSampleFb)},t.prototype.getSample=function(t){var e=null!=(e=null==(e=this.core)?void 0:e.sampleData.core)?e:1;if(this.key===Tt.LOAD)return e;if("number"!=typeof(t=void 0===t?1:t)||t<0||1<t)return Dt("102Ôºå".concat(this.key,"ÔºåÈááÁî®CoreÁöÑÈááÊ†∑Áéá").concat(null==(n=this.core)?void 0:n.sampleData.core)),e;var n=null!=(n=this.core)&&n.isInYoda?void 0===(null==(n=this.core)?void 0:n.sampleData[this.key])?1:this.core.sampleData[this.key]:t;return e&&e<n?(Dt("115Ôºå".concat(this.key)),e):n},t.prototype.samplingControl=function(t){var e;return!(null==(e=this.core)||!e.sampleData.isHit)&&(null==(e=this.core)?void 0:e.samplingControl(t/this.core.sampleData.core))},t.prototype.baseCollect=function(t){var e;this.core?this.isHit&&(e=t.value||{},e=Object.keys(e).filter((function(t){return null!==e[t]&&void 0!==e[t]})).reduce((function(t,n){return It(It({},t),((t={})[n]=e[n],t))}),{}),this.core.collect(t.key||this.key,It(It({},t.dimension),{sample_rate:this.sampling,collect_version:this.version,collect_name:this.name}),e)):Dt("110,".concat(this.key))},t}();function Mt(t,e){var n={};return Object.keys(t).forEach((function(r){var o=jt(r,t,e);null!=o&&(n[r]=o)})),n}function jt(t,e,n){var r=e[t];if(!r)throw new Error("„ÄêRadar Util„Äë perf key ".concat(t," is unexpected!"));if(!r.cachedSkip||!jt("cached",e,n))return"function"==typeof r.custom?r.custom(t,n):(e=r.end,t=r.start,!r.notCatchIfUndefined||void 0!==n[e]&&void 0!==n[t]?(+n[e]||0)-(+n[t]||0):void 0)}var Ht=/^(https?:)?\/\//;function Bt(t,e){if(!t)retution(t){return 0<=n.indexOf(t.replace(Ht,""))}))}function Ft(t){if("string"!=typeof t)return"";try{var e=t.lastIndexOf(".");return t.substr(e+1)}catch(t){return""}}var Kt,Wt=["//wlog.kuaishou.com/rest/n/log/web/collect","/rest/wd/common/log/collect/misc2","/rest/wd/common/log/collect/radar","/rest/kd/log/collect"];Tt.LOAD,Tt.RES,Tt.API,Tt.ERROR,Tt.EVENT,Tt.BLOOD,function(t){t.RADAR_INIT="radar_init",t.H5_LOAD="h5_load",t.FMP="fmp",t.MAIN_API="main_api",t.H5_CUSTOM_METRIC="h5_custom_metric"}(Kt=Kt||{}),Kt.FMP,Kt.H5_LOAD,Kt.MAIN_API,Kt.RADAR_INIT,Kt.H5_CUSTOM_METRIC,window.__RADAR_PERFORMANCE_TIMING_=window.__RADAR_PERFORMANCE_TIMING_||{};var Vt={start_time:{custom:function(t,e){return Math.round(e.startTime)}},fetch_start:{custom:function(noThrottle:!0},dns:{end:"domainLookupEnd",start:"domainLookupStart",cachedSkip:!0},tcp:{end:"connectEnd",start:"connectStart",cachedSkip:!0},ssl:{cachedSkip:!0,custom:function(t,e){return 0===e.secureConnectionStart?0:e.requestStart-e.secureConnectionStart}},ttfb:{end:"responseStart",start:"requestStart",cachedSkip:!0},trans:{end:"responseEnd",start:"responseStart",cachedSkip:!0},fb:{end:"responseStart",start:"fetchStart",cachedSkip:!0},total:{end:"responseEnd",start:"fetchStart"},duration:{end:"responseEnd",start:"fetchStart"},size:{cachedSkip:!0,custom:function(t,e){return e.encodedBodySize},noThrottle:!0},protocol:{custom:function(t,e){return e.nextHopProtocol}},fe.name},noThrottle:!0},res_type:{custom:function(t,e){return e.initiatorType}},cached:{custom:function(t,e){return 0===e.transferSize||null==e.transferSize&&0===e.domainLookupStart},noThrottle:!0}},Gt={fetch_start_time:"fetchStart",redirect_start:"redirectStart",redirect_end:"redirectEnd",dns_start:t_start:"connectStart",connect_end:"connectEnd",ssl_start:"secureConnectionStart",request_ssponse_start:"res(t){return Array.isArray(t)?t.map((function(t){var e=void 0===(e=t.tagName)?"":e,n=t.id;t=t.getAttribute?t.getAttribute("class"):t.className||"",e=e.toLowerCase();return n&&(e+="#".concat(n)),t&&(e+=t.split(/\s+/g).map((function(t){return".".concat(t)})).join("")),e})).filter((function(t){return t})).join(","):""}var zt=function(t){function e(e){var n=t.call(this,{core:null==e?void 0:e.core,sampling:null==e?void 0:e.sampling,version:"1.0.7-alpha.0",key:Tt.RES,name:"RadarResourceCollect"})||this;if(n.ignoreList=Wt,n.broadcastJs=function(){var t=[];function e(e){-1!==(e=t.indexOf(e))&&t.splice(e,1)}function n(n){return t.push(n),e.bind(void 0,n)}return{on:n,off:e,once:function(t){var e=n((function(n){t(n),e()}));return e},emit:function(e){t.forEach((function(t){return t(e)}))}}}(),n.onResError=function(t){var e,r;(function(t){return t.message||null!=t.lineno})(t)||(r={failed:!0,file:e=(e=t.target.src||t.target.href)===location.href&&"function"==typeof t.target.getAttribute?null!=(r=null!=(r=t.target.getAttribute("src"))?r:t.target.getAttribut.path||t&&t.composedPath&&t.composedPath())},n.collect(r),n.broadcastJs.emit(r))},n.observeResource=function(t){t.getEntriesByType("resource").forEaignoreList)||Bt(t.name,(null==(e=n.core)?void 0:e.ignoreList)||[]))return!1;("resource"!==t.entryType||"fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)&&("resource"!==t.entryType||"fetch"!==t.initiatorType&&"xmlhttprequest"!==t.initiatorType||"js"!==Ft(t.name)&&"css"!==Ft(t.name))||(e=Mt(Vt,t),r={encoded_body_size:t.encodedBodySize,decoded_body_size:t.decodedBodySize},Object.keys(Gt).forEach((function(e){r[e]=Number(t[Gt[e]]+performance.timing.navigationStart)})),o=Ct(Ct({failed:!1},e),r),n.collect(o),setTimeout((function(){n.broadcastJs.emit(o)})))}))},n.resourceHook=e.resourceHook,void 0!==e.ignoreList){if(!Array.isArray(e.ignoreList))throw new Error("radar error 802");e.ignoreList.forEach((function(t){if("string"!=typeof t)throw new Error("radar error 802")})),n.ignoreList=n.ignoreList.concat(e.ignoreList)}return n.init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeErobserveResource(t)})),this.observer.observe({entryTypes:["resource"]})}catch(e){xt("801"),null!=(t=this.core)&&t.collect("event",{name:"radar_error",message:"PerformanceObserver ‰∏çÂ≠òÂú®Êó†Ê≥ïÊî∂ÈõÜÊï∞ÊçÆ",category:Tt.RES})}!function(t,e,n,r){"attachEvent"in t?t.attachEvent("on"+e,n):t.addEventListener(e,n,r)}(window,"error",(function(t){return e.onResError(t)}),!0)},e.prototype.collect=function(t){var e=t.cached,n=t.failed,r=t.file,o=t.protocol,i=t.res_type,a=t.res_path;t=function(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}(t,["cached","failed","file","protocol","res_type","res_path"]);try{var s=this.resourceHook&&this.resourceHook({file:r,cached:e,protocol:o,res_type:i,failed:n});if(null!=s&&s.intercept_report)return}catch(t){xt("803",t)}this.baseCollect({value:t,dimension:{cached:e,failed:n,file:r,protocol:o,res_type:i,res_path:a,sample_rate:this.sampling,is_official:1}})},e.prototype.destroy=function(){this.isHit&&(function(t,e,n,r){"attachEvent"in t?t.detachEvent("on"+e,n):t.removeEventListener(e,n,r)}(window,"error",this.onResError,!0),this.observer&&this.observer.disconnect())},e}(Ut),qt=function(t,e){return(qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var $t,Yt=function(){return(Yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Qt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Xt(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function Zt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.warn;return n&&n.call.apply(n,Xt([console,"radar:"],Qt(t),!1))}catch(t){return}}!function(t){t.LOAD="load",t.RES="resource",t.API="api",t.ERROR="error",t.SDK_ERROR="sdk_error",t.CUSTOM="custom",t.BATCH="batch",t.EVENT="event",t.BLOOD="blood"}($t=$t||{});var te,ee=function(){function t(t){void 0===t&&(t={});var e=this;if(this.broadcastSampleFb=function(){var t=e.getSample(e.baseOptions.sampling);t!==e.sampling&&(e.sampling=t,e.sampling&&(e.isHit=e.samplingControl(e.sampling)))},void 0===t)throw new Error("radar error 100");if(!t.key)throw new Error("radar error 101");if(t.core&&("object"!=typeof t.core.sampleData||"function"!=typeof t.core.collect))throw new Error("radar error 121");this.baseOptions=t,this.key=t.key,this.version=t.version,this.name=t.name,this.isHit=!1,t.core&&this.updateCore(t.core)}return t.prototype.updateCore=function(t){var e;if("object"!=typeof t.sampleData||"function"!=typeof t.collect)throw new Error("radar error 121");null!=(e=this.core)&&e.broadcastSample.off(this.broadcastSampleFb),this.core=t,this.sampling=this.getSample(this.baseOptions.sampling),this.sampling&&(this.isHit=this.samplingControl(this.sampling)),null!=(t=null==(e=this.core)?void 0:e.broadcastSample)&&t.on(this.broadcastSampleFb)},t.prototype.getSample=function(t){var e=null!=(e=null==(e=this.core)?void 0:e.sampleData.core)?e:1;if(this.key===$t.LOAD)return e;if("number"!=typeof(t=void 0===t?1:t)||t<0||1<t)return Zt("102Ôºå".concat(this.key,"ÔºåÈááÁî®CoreÁöÑÈááÊ†∑Áéá").concat(null==(n=this.core)?void 0:n.sampleData.core)),e;var n=null!=(n=this.core)&&n.isInYoda?void 0===(null==(n=this.core)?void 0:n.sampleData[this.key])?1:this.core.sampleData[this.key]:t;return e&&e<n?(Zt("115Ôºå".concat(this.key)),e):n},t.prototype.samplingControl=function(t){var e;return!(null==(e=this.core)||!e.sampleData.baseCollect=function(t){var e;this.core?this.isHit&&(e=t.value||{},e=Object.keys(e).filter((function(t){return null!==e[t]&&void 0!==e[t]})).reduce((function(t,n){return Yt(Yt({},t),((t={})[n]=e[n],t))}),{}),this.core.collect(t.key||this.key,Yt(Ytg,collect_version:this.version,collect_name:this.name}),e)):Z}(H5_LOAD="h5_load",t.FMP="fmp",t.MAIN_API="main_api",t.H5_CUSTOM_METRIC="h5_custom_metric"}(te=te||{}),te.FMP,te.H5_LOAD,te.MAIN_API,te.RADAR_INIT,te.H5_CUSTOM_METRIC,window.__RADAR_PERFORMANCE_TIMING_=window.__RADAR_PERFORMANCE_TIMING_||{};var ne,re,oe=function(){return"".concat(Date(),isFinal:!1}},a=function(t,e){try{var n;if(PerformanceObserver.supportedEntryTypes.includes(t))return(n=new PerformanceObserver((function(t){tries().map(e)}))).observe({type:t,bufferedoreunload",(function(){}))},sction(t){return t=t.timeStamp,ne=t}rn["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))},de=[{name:"fid",coll=t.processingStart-t.startTime,n.entries.push(t),n.isFinal=ion(){o.takeRecords().map(e),o.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,e){e.timeStamp<r.timeStamp&&(n.value=t,n.isFinal=!0,n.entries=[{rtTime;e<s.timeStamp?(o.value=e,o.entries.push(t)):o.isFinal=!0,n()}var n,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=i("LCP"),s=ue(),u=a("largest-contentful-paint",e);u&&(n=ce(t,o,u,r),r=function(){o.isFinal||(u.takeRecords().map(e),o.isFinal=!0,n())},le().then(r),se(r,!0))}},{name:"cls",collectFn:function(t){function (t),n())}var n,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=i("CLS",0),s=a("layout-shift",e);s&&(n=ce(t,o,s,r),se((function(t){t=t.isUnloading,s.takeRecords().map(e),t&&(o.isFinal=!0),n()})))}},{name:"fcp",collectFn:function(t){var e,n=i("FCP"),r=ue(),o=a("paint",(function(t){"first-contentful-paint"===t.name&&t.startTime<r.timeStamp&&(n.value=t.startTime,n.isFinal=!0,n.entries.push(t),e())}));o&&(e=ce(t,n,o))}}],fe=function(t){function e(e){var n=t.call(this,{core:e.core,sampling:e.sampling,version:"1.0.7-alpha.0",key:$t.EVENT,name:"RadarChromeMetricsCollect"})||this;return n.options={lcp:!1,cls:!1,fid:!1,fcp:!1},n.init=function(){var t=n.options;de.forEach((function(e){var r=e.name;t&&!t[r]||e.collectFn((function(t){var e=t.name;t=t.value;(function(t,e){window.__RADAR_PERFORMANCE_TIMING_[t]=e})(e.toLocaleLowerCase(),Number(t)),n.baseCollect({dimension:{name:e.toLocaleLowerCase(),is_official:1},value:{duration:Number(t)}})}))}))},Object.assign(n.options,e.options),de.forEach((function(t){var e=function(t){return(t=new RegExp("(?:^|; ?)".concat(t,"=(1|0)(;|$)")).exec(document.cookie))&&t[1]}("radar_"+t.name);e&&(n.options[t.name]="1"===e)})),n.init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(ee),pe=function(t,e){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var he,ve=function(){return(ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ge=function(){return(ge=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function me(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ye(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function _e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.warn;return n&&n.call.apply(n,ye([console,"radar:"],me(t),!1))}catch(t){return}}!function(t){t.LOAD="load",t.RES="resource",t.API="api",t.ERROR="error",t.SDK_ERROR="sdk_error",t.CUSTOM="custom",t.BATCH="batch",t.EVENT="event",t.BLOOD="blood"}(he=he||{});var be,we=function(){function t(t){void 0===t&&(t={});var e=this;if(this.broadcastSampleFb=function(){var t=e.getSample(e.baseOptions.sampling);t!==e.sampling&&(e.sampling=t,e.sampling&&(e.isHit=e.samplingControl(e.sampling)))},void 0===t)throw new Error("radar error 100");if(!t.key)throw new Error("radar error 101");if(t.core&&("object"!=typeof t.core.sampleData||"function"!=typeof t.core.collect))throw new Error("radar error 121");this.baseOptions=t,this.key=t.key,this.version=t.version,this.name=t.name,this.isHit=!1,t.core&&this.updateCore(t.core)}return t.prototype.updateCore=function(t){var e;if("object"!=typeof t.sampleData||"function"!=typeof t.collect)throw new Error("radar error 121");null!=(e=this.core)&&e.broadcastSample.off(this.broadcastSampleFb),this.core=t,this.sampling=this.getSample(this.baseOptions.sampling),this.sampling&&(this.isHit=this.samplingControl(this.sampling)),null!=(t=null==(e=this.core)?void 0:e.broadcastSample)&&t.on(this.broadcastSampleFb)},t.prototype.getSample=function(t){var e=null!=(e=null==(e=this.core)?void 0:e.sampleData.core)?e:1;if(this.key===he.LOAD)return e;if("number"!=typeof(t=void 0===t?1:t)||t<0||1<t)return _e("102Ôºå".concat(this.key,"ÔºåÈááÁî®CoreÁöÑÈááÊ†∑Áéá").concat(null==(n=this.core)?void 0:n.sampleData.nYoda?void 0===(null==(n=this.core)?void 0:n.sampleData[this.key])?1:this.core.sampleData[this.key]:t;return e&&e<n?(_e("115Ôºå".concat(this.key)),e):n},t.prototype.samplingControl=function(t){var e;return!(null==(e=this.core)||!e.sampleData.isHit)&&(null==(e=this.core)?void 0:e.samplingControl(t/this.core.sampleData.core))},t.prototype.baseCollect=function(t){var e;this.core?this.isHit&&(e=t.value||{},e=Object.keys(e).filter((function(t){return null!==e[t]&&void 0!==e[t]})).reduce((function(t,n){return ge(ge({},t),((t={})[n]=e[n],t))}),{}),this.core.collect(t.key||this.key,ge(ge({},t.dimension),{sample_rate:this.sampling,collect_version:this.version,collect_name:this.name}),e)):_e("110,".concat(this.key))},t}(),Ee=function(){var t=window.navigator.userAgent,e={};return t.split(" ").map((function(t){t=t.split("/"),e[t[0]]=t[1]})),e},Se=(he.LOAD,he.RES,he.API,he.ERROR,he.EVENT,he.BLOOD,function(t){t.RADAR_INIT="radar_init",t.H5_LOAD="h5_load",t.FMP="fmp",t.MAIN_API="main_api",t.H5_CUSTOM_METRIC="h5_custom_metric"}(be=be||{}),be.FMP,be.H5_LOAD,be.MAIN_API,be.RADAR_INIT,be.H5_CUSTOM_METRIC,window.__RADAR_PERFORMANCE_TIMING_=window.__RADAR_PERFORMANCE_TIMING_||{},function(t){function e(e){var n=t.call(this,{core:e.core,sampling:e.sampling,key:he.EVENT,version:"1.0.7-alpha.0",name:"RadarEventCollect"})||this;return n.action={start:function(t){n._checkActionDimension(t),n.event({name:t.name,extra_info:t.extra_info,event_type:"radar_action_start"})},end:function(t){n._checkActionDimension(t),n.event({name:t.name,extra_info:t.extra_info,result_type:t.result_type,event_type:"radar_action_end"})}},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.event=function(t,e){if(this.isHit){if(!t)throw new Error("radar error 402");if(void 0===t.name||"string"!=typeof t.name)throw new Error("radar error 402");if(127<t.name.length&&(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.error;n&&n.call.apply(n,ye([console,"radar:"],me(t),!1))}catch(t){return}}("403"),t.name=t.name.slice(0,127)),t.is_official=1,e&&void 0!==e.duration&&("number"!=typeof e.duration||e.duration<0))throw new Error("radar error 404");if(e&&void 0!==e.event_count&&("number"!=typeof e.event_count||e.event_count<0))throw new Error("radar error 405Ôºå".concat(e.event_count));vndexOf("iPhone")?(t=Ee()).Yoda&&"WK"===t.WebViewType?"YodaWKWebView":t.Yoda||"WKWebView"!==t.WebView?"UIWebView":"WKWebView":""}()),{dimension:t,value:e});t&&t.extra_info&&"object"==typeof t.extra_info&&(n={dimens 0!==t.extra_info&&!(t.extra_info instanceof Object))throw new Error("radar error 406")},e}(we)),ke=function(t,e){return(ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||functir=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}var Ae,Le=function(){return(Le=Object.assign||function(t){tion Ce(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Te(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function Ie(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=null===console||void 0===console?void 0:console.warn;return n&&n.call.apply(n,Te([console,"radar:"],Ce(t),!1))}catch(t){return}}!function(t){t.LOAD="load",t.RES="resource",t.API="api",t.ERROR="error",t.SDK_ERROR="sdk_error",t.CUSTOM="custom",t.BATCH="batch",t.EVENT="event",t.BLOOD="blood"}(Ae=Ae||{});var Re,Ne,De=function(){function t(t){void 0===t&&(t={});var e=this;if(this.broadcastSampleFb=function(){var t=e.getSample(e.baseOptions.sampling);t!==e.sampling&&(e.sampling=t,e.sampling&&(e.isHit=e.samplingControl(e.sampling)))},void 0===t)throw new Error("radar error 100");if(!t.key)throw new Error("radar error 101");if(t.core&&("object"!=typeof t.core.sampleData||"function"!=typeof t.core.collect))throw new Error("radar error 121");this.baseOptions=t,this.key=t.key,this.version=t.version,this.name=t.name,this.isHit=!1,t.core&&this.updateCore(t.core)}return t.prototype.updateCore=function(t){var e;if("object"!=typeof t.sampleData||"function"!=typeof t.collect)throw new Error("radar error 121");null!=(e=this.core)&&e.broadcastSample.off(this.broadcastSampleFb),this.core=t,this.sampling=this.getSample(this.baseOptions.sampling),this.sampling&&(this.isHit=this.samplingControl(thi0:e.broadcgetSample=function(t){var e=null!=(e=null==(e=this.core)?void 0:e.sampleData.core)?e:1;if(this.key===Ae.LOAD)return e;if("number"!=typeof(t=void 0===t?1:t)||t<0||1<t)return Ie("102Ôºå".concat(this.key,"ÔºåÈááÁî®CoreÁöÑÈááÊ†∑Áéá").concat(null==(n=this.core)?void 0:n.sampleData.core)),e;var n=null!=(n=this.core)&&n.isInYoda?void 0===(null==(n=this.core)?void 0:n.sampleData[this.key])?1:this.core.sampleData[this.key]:t;releData.isHit)&&(null==(e=this.core)?void 0:e.samplingControl(t/this.core.sampleData.core))},t.prototype.baseCollect=function(t){var e;this.core?this.==e[t]&&void 0!==e[t]})).reduce((function(t,n){return Le(Le({},t),((t={})[n]=e[n],t))}),{}),this.core.collect(t.key||this.key,Le(Le({},t.dimension),{sample_rate:this.sampling,collect_version:this.version,collect_name:this.name}),e)):Ie("110,".concat(this.key))},t}();function xe(t,e,n,r){return"attachEvent"in t?t.attachEvent("on"+e,n):t.addEventListener(e,n,r)}function Ue(t,e,n,r){return"attachEvent"in t?t.detachEvent("on"+e,n):t.removeEventListener(e,n,r)}Ae.LOAD,Ae.RES,Ae.API,Ae.ERROR,Ae.EVENT,Ae.BLOOD,function(t){t.RADAR_INIT="radar_init",t.H5_LOAD="h5_load",t.FMP="fmp",t.MAIN_API="main_api",t.H5_CUSTOM_METRIC="h5_custom_metric"}(Re=Re||{}),Re.FMP,Re.H5_LOAD,Re.MAIN_API,Re.RADAR_INIT,Re.H5_CUSTOM_METRIC,window.__RADAR_PERFORMANCE_TIMING_=window.__RADAR_PERFORMANCE_TIMING_||{},function(t){t.SCRIPT="script",t.RES="res",t.API="api",t.VIDEO="video"}(Ne=Ne||{});var Me=[];function je(t,e,n){var r,o,i;return functioikeObject",i=e.message||"",r=e.stack||void 0):i=function(t,e){return null==t&&"Script error."===(null==e?void 0:e.message)}(e,n)?(o="CrossOriginError","".concat(t," - message: ").concull===e&&null!=n&&n.message&&"Uncaught null"!==n.message?(o="Error","".concat(t," - message: ").concat(n.message)):(o=null==e?"".concat(e):typeof e,n=function(t){var e;try{e=t.toString()}catch(t){}return"string"!=typeof e||""===e?e=null===t?"<NULL>":void 0===t?"<UNDeturn e;return-1}function Be(t,e){return t.msg===e.msg&&t.stack===e.stack&&t.file===e.file&&t.line===e.line&&t.col===e.col}var Fe=function(t){function e(e){var n=t.call(this,{core:e.core,sampling:e.sampling,key:Ae.ERROR,version:"1.0.7-alpha.0",name:"RadarErrorCollect"})||thnction(t){(function(t){return t.message||null!=t.lineno})(t)&&(t=Oe(Oe({},je("Glr,t)),{file:t.filename,line:t.lineno,col:t.colno}),n.isSameErrorAndReport(t))},n.onPromiseError=function(t){t=je("Unhandled Promise Rejection",t.reason),n.isSameErrorAndReport(t)},n.core=e.core,n.init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ke(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.init=function(){Me.splice(0),xe(window,"error",this.onError,!0),xe(window,"unhandledrejection",this.onPromiseError)},e.prototype.destroy=function(){Ue(window,"error",this.onError,!0),Ue(window,"unhandledrejection",this.onPromiseError),this.captureException=function(){Ie("600")}},e.prototype.isSameErrorAndReport=function(t){0<=He(t)||(Me.push(t),setTimeout((function(){Me.splice(He(t),1)}),2e3),this.collect(t))},e.prototype.collect=function(t){t=function(t){var e=t.error_cons_type,n=t.file,r=t.error_type,o=t.msg,i=t.col,a=t.line,s=t.stack;return{key:"error",value:Pe(t,["error_cons_type","file","error_type","msg","col","line","stack"]),dimension:{error_cons_type:e,file:n,error_type:r,msg:o,col:i,line:a,stack:s}}}(t),this.baseCollect({dimension:t.dimension,value:t.value})},e.prototype.captured Exception",t))},e}(De),Ke=function(){function t(t){var e,n=this;this.core=new I({weblogger:t.weblog,projectId:t.projectId,sampling:null!=(e=t.sampling)?e:1,httpReportFirst:t.httpReportFirst,customDimensions:t.customDimensions}),this.navigationCollect=new Y({core:this.core,mainApi:t.mainApi,mainJs:t.mainJs}),t.unuseAPIPlugin||(this.apiCollect=new At({core:this.core,sampling:t.apiSampling,APIHook:t.APIHook,customizeRadarStatus:t.customizeRadarStatus,ignoreList:t.ignoreList,ignoreXH),this.apiCollect.broadcastApi.on((function(t){return n.navigationCollect.dealAPI(t)}))),t.unuseResourcePlugin||(this.resourceCollect=new zt({sampling:t.resourceSampling,core:this.core,ignoreList:t.ignoreList,resourceHook:t.resourceHook}),this.resourceCollect.broadcastJs.on((function(t){return n.navigationCollect.addMainJSResult(t)}))),this.chromeMetricsCollect=new fe({core:this.core,options:{lcp:t.lcp,cls:t.cls,fid:t.fid,fcp:t.fcp}}),this.eventCollect=new Se({core:this.core}),this.action=this.eventCollect.action,t.unuseErrorPlugin||(this.errorCollect=new Fe({core:this.core}))}return t.protllect ÈááÈõÜÂô®Êú™Ë¢´ÂàùÂßãÂåñ")},t.prototype.destroy=function(){var t;null!=(t=this.navigationCollect)&&t.destroy(),null!=(t=th&&t.)},tlba>0},t}(),L="undefined"!=typeof WeakMap?new WeakMap:new n,C=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new A(e,n,this);L.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){C.prototype[t]=function(){var e;return(e=L.get(this))[t].apply(e,arguments)}}));var T=void 0!==o.ResizeObserver?o.ResizeObserver:C;e.default=T}.call(this,n(50))},535:function(t,e,n){var r=n(204),o=n(320);t.exports={throttle:r,debounce:o}},84:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(497),c=(r=o)&&r.__esModule?r:{default:r};e.default=c.default||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t}}}]);