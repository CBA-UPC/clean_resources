!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[8593],{91662:(e,a,r)=>{r.r(a),r.d(a,{default:()=>k});var s=r(54138),o=r.n(s),t=r(17276),i=r.n(t),l=r(33970),n=r.n(l),c=r(5754),v=r.n(c),d=r(95004),m=r(44009),u=r(4721),g=r(91314),h=r(43523),b=r(78667),w=r(2629);let f=function(){return(0,w.jsx)("svg",{fill:"none",height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsxs)("g",{stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",children:[(0,w.jsx)("path",{d:"m18 6-12 12"}),(0,w.jsx)("path",{d:"m6 6 12 12"})]})})};var p=r(36696);let y={livePreviewContainer:"vmCzD",hidden:"TwfFz",controls:"IYes6",queueEmpty:"XQCYl",closeControl:"s3wJ9"},k=function(e){var a=e.networkUserId,r=e.className,s=e.broadcastId,t=e.hideViewers,l=e.hideClose,c=e.hideMute,k=e.isStreamObject,$=(0,u.g)().data,N=(0,b.bp)(),S=N.apiFetchWithSchema,x=N._c,B=N.logEvent,R=(0,d.useState)(!1),P=n()(R,2),C=P[0],T=P[1],j=(0,d.useState)(),L=n()(j,2),_=L[0],E=L[1],I=(0,d.useState)(!1),F=n()(I,2),D=F[0],O=F[1];return(0,d.useEffect)(()=>{E(new p.Z().next())},[]),(0,d.useEffect)(()=>{if((a||s)&&null!=$&&$.tmgWebSDK&&_){var e=$.tmgWebSDK;e.registerProfile($.networkUserId,$.profile);var r=a=>{B({eventName:k?h.J.TumblrLiveStreamObjectShown:h.J.TumblrLiveLivePreviewShown}),e.createLivePreview(`live-preview-container-${_}`,o()(o()({},t?{}:{pillType:"viewersCount"}),{},{broadcastId:a}),function(e){switch(e.type){case"livePreviewClicked":B({eventName:k?h.J.TumblrLiveStreamObjectShowBroadcast:h.J.TumblrLiveLivePreviewShowBroadcast}),window.location.assign(`/live/${a}`);break;case"livePreviewPlaying":T(!1),O(!0);break;case"livePreviewEmptyQueue":T(!0),O(!1)}}).then(a=>{var r=a.frameId,s=c?o()(o()({},g.rS),{},{icons:o()(o()({},g.rS.icons),{},{mute:{"mic-on":void 0,"mic-off":void 0}})}):g.rS;e.setTheme(s,r)})};a?e.getLivePreviewBroadcastsForUsers([a],{},(e,a)=>{var s=a.broadcasts,o=n()(s,1)[0];o&&r(o.broadcastId)}):s&&r(s),e.setNewSessionHandler(()=>{var e,a;return i()().async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i()().awrap((0,u._)(S));case 2:a=r.sent.token,null==$||null===(e=$.tmgWebSDK)||void 0===e||e.setNewAuthToken(a);case 5:case"end":return r.stop()}},null,null,null,Promise)})}},[$,_,a,s,S]),(0,w.jsxs)("div",{className:v()(y.livePreviewContainer,r,{[y.hidden]:C}),children:[(0,w.jsx)("div",{id:`live-preview-container-${_}`,"data-testid":"live-preview"}),!l&&(0,w.jsx)("div",{className:v()(y.controls,{[y.queueEmpty]:!D}),children:(0,w.jsx)(m.Z,{wrapperClassName:y.closeControl,label:x("Video controls","Close"),onClick:()=>{B({eventName:h.J.TumblrLiveLivePreviewDismissed}),T(!0)},children:(0,w.jsx)(f,{})})})]})}},91314:(e,a,r)=>{r.d(a,{r:()=>P,EG:()=>C,rS:);let s=r.p+"src/assets/images/live/arrow-acbcdf90.svg",o=r.p+"src/assets/images/live/blocked-ac9e8504.svg",t=r.p+"src/assets/images/live/chat-96490fcf.svg",i=r.p+"src/assets/images/live/check-ca688ea6.svg",l=r.p+"src/assets/images/live/clock-c3fb385e.svg",n=r.p+"src/assets/images/live/close-93bee049.svg",c=r.p+"src/assets/images/live/eye-de9bf495.svg",v=r.p+"src/assets/images/live/heart-1a441895.svg",d=r.p+"src/assets/images/live/leaderboard-5d8153df.svg",m=r.p+"src/assets/images/live/mail-5a37db52.svg",u=r.p+"src/assets/images/live/map-7330429a.svg",g=r.p+"src/assets/images/live/refresh-81b74a7b.svg",h=r.p+"src/assets/images/live/search-ae8e38c0.svg",b=r.p+"src/assets/images/live/send-feedback-8175468e.svg",w=r.p+"src/assets/images/live/shield-f95f74d2.svg",f=r.p+"src/assets/images/live/sound-off-cfcf755a.svg",p=r.p+"src/assets/images/live/sound-on-82b11832.svg",y=r.p+"src/assets/images/live/star-6e410ea8.svg",k=r.p+"src/assets/images/live/stream-fav-a529c6a8.svg",$=r.p+"src/assets/images/live/tool-1b168002.svg",N=r.p+"src/assets/images/live/trophy-0bb23258.svg";var S=r(63583),x=r.n(S),B=r(84518),R={font:{family:r.n(B)().sansSerif},colors:{"primary-color":x().segwayNavy,tints:{"light-color":x().gray25,"normal-color":x().gray40},secondary:{"accent-color":x().dreamcastBlue,"diamond-pill-color":x().sidekickPink,"ui-top-fans-diamond-count-bg":x().sidekickPink,"shadow-color":x().transparentBlack10},"third-color":x().blazeOrange,body:{"background-color":x().paletteNavy},container:{subnav:{background:x().paletteNavy}},"feed-view-guidelines":{"btn-active-bg":x().dreamcastBlue,"btn-active-hover-bg":x().dreamcastBlue,"checkbox-border-active":x().dreamcastBlue},"search-field-border-bottom":x().transparentWhite65,chat:{"bouncer-color":x().rokrRed},stream:{tags:{selection:{"item-selected":x().dreamcastBlue,item:x().gray7}}}},icons:{refresh:`url("${g}")`,"send-chat-message":`url("${t}")`,"mini-profile-favorite-icon":`url("${k}")`,"live-preview":{"viewers-count":`url("${c}")`,distance:`url("${u}")`,close:`url("${n}")`},next:{arrow:`url("${s}")`,"arrow-hover":`url("${s}")`},mute:{"mic-on":`url("${p}")`,"mic-off":`url("${f}")`},guidelines:{checkbox:`url("${i}")`},subnav:{search:{normal:`url("${h}")`,hover:`url("${h}")`,active:`url("${h}")`},leaderboard:`url("${d}")`,"streamer-tools":`url("${$}")`,"send-feedback":{normal:`url("${b}")`,hover:`url("${b}")`,active:`url("${b}")`}},"streamer-tools":{"top-gifters":`url("${N}")`,fans:`url("${y}")`,favorites:`url("${v}")`,blocked:`url("${o}")`,feedback:`url("${m}")`,"recent-streams":`url("${l}")`,bouncers:`url("${w}")`}},btns:{"start-broadcast":{bg:{normal:x().tivoYellow,hover:x().blazeOrange,active:x().blazeOrange},shadow:{normal:"none",hover:"none",active:"none"},color:{normal:x().segwayNavy,hover:x().segwayNavy,active:x().segwayNavy}},"start-stream":{bg:{normal:x().tivoYellow,hover:x().tivoYellow,active:x().tivoYellow},shadow:{normal:"none",hover:"none",active:"none"},color:{normal:x().segwayNavy,hover:x().segwayNavy,active:x().segwayNavy}},"streamer-end-broadcast":{bg:{normal:x().dreamcastBlue,hover:x().dreamcastBlue,active:x().dreamcastBlue},shadow:{normal:"none",hover:"none",active:"none"},color:{normal:x().segwayNavy,hover:x().segwayNavy,active:x().segwayNavy}},"switch-source":{color:{normal:x().gray65,hover:x().gray65,active:x().dreamcastBlue},"hr-bg":x().dreamcastBlue},"next-stream":{bg:{normal:x().white,hover:x().white,active:x().white},shadow:{normal:"none",hover:"none",active:"none"},color:{normal:x().purpleRain,hover:x().purpleRain,active:x().purpleRain}},favorite:{bg:{normal:x().white,hover:x().white,active:x().white},shadow:{normal:"none",hover:"none",active:"none"},color:{normal:x().blazeOrange,hover:x().blazeOrange,active:x().blazeOrange}},"recharge-credit":{bg:{normal:x().glassGreen,hover:x().glassGreen,active:x().glassGreen,disabled:x().gray65},color:{normal:x().white,hover:x().white,active:x().white,disabled:x().white}}},modals:{header:{bg:x().dreamcastBlue,"box-shadow":"none"},btns:{"accept-default":{bg:{normal:x().dreamcastBlue,hover:x().dreamcastBlue,active:x().dreamcastBlue,disabled:x().gray65},shadow:{normal:"none",hover:"none",active:"none",disabled:"none"},color:{normal:x().segwayNavy,hover:x().segwayNavy,active:x().segwayNavy,disabled:x().white}},"favorite-blast":{bg:{normal:x().purpleRain,hover:x().purpleRain,active:x().purpleRain,disabled:x().gray65},shadow:{normal:"none",hover:"none",active:"none",disabled:"none"},color:{normal:x().white,hover:x().white,active:x().white,disabled:x().white}},"modals-btns-report":{"bg-normal":x().rokrRed,"color-normal":x().white,"shadow-normal":"none","bg-hover":x().rokrRed,"color-hover":x().white,"shadow-hover":"none","bg-active":x().rokrRed,"color-active":x().white,"shadow-active":"none"},"modals-btns-request-guest":{"bg-normal":x().purpleRain,"color-normal":x().white,"shadow-normal":"none","bg-hover":x().purpleRain,"color-hover":x().white,"shadow-hover":"none","bg-active":x().purpleRain,"color-active":x().white,"shadow-active":"none"}}},"gradients-report-bg":x().rokrRed,"gradients-report-shadow":"none","start-stream-modal":{"top-bg":x().purpleRain,"bottom-bg":x().purpleRain}},P={fontFamily:"Favorit",src:[{url:"https://assets.tumblr.com/fonts/favorit/FavoritTumblr-85.woff",format:"woff"},{url:"https://assets.tumblr.com/fonts/favorit/FavoritTumblr-85.woff2",format:"woff2"}],weight:"normal",style:"normal"},C={fontFamily:"Favorit",src:[{url:"https://assets.tumblr.com/fonts/favorit/FavoritTumblr-Medium.woff",format:"woff"},{url:"https://assets.tumblr.com/fonts/favorit/FavoritTumblr-Medium.woff2",format:"woff2"}],weight:"bold",style:"normal"}}}]);