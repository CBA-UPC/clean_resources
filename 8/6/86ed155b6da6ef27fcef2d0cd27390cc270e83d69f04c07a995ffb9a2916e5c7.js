(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[3744],{40393:(e,t,i)=>{"use strict";i.d(t,{KO:()=>r,vh:()=>a,w5:()=>n});var r="official",a="general",n="top_blogger"},97243:1324:(e,t,i)=>{"use strict";i.d(t,{L:()=>I});var r=i(3e4),a=(i(91938),i(76955)),n=i(55382),s=i.n(n),o=i(5154),p=i.n(o),l=i(45525),d=i(54285),c=i(72591),h=i(5663),u=i.n(h),g=i(54342),m=i.n(g);class f extends a.Component{static get defaultProps(){return{className:"",frameBorder:0,loop:"loop",no:null,scrolling:"no",onLoaded:p()}}ouldComponentUpdate(e){return this.props.className!==e.className||this.props.frameBorder!==e.frameBorder||this.props.height!==e.height||this.props.no!==e.no||this.props.id!==e.id||this.props.scrolling!==e.scrolling||this.props.width!==e.width}componentWillUnmount(){this.element.contentWindow&&this.element.contentWindow.postMessage({action:"destroy"},window.process.env.HTTP_PATH_CLIPBLOG),this.element.removeEventListener("load",this.handleLoaded,!1)}ender(){var{className:e,frameBorder:t,height:i,id:r,loop:n,no:s,scrolling:o,width:p}=this.props,l=c.format({query:m()({v:r,no:s,loop:n},u())});return a.createElement("iframe",{className:e,frameBorder:t,height:i,ref:e=>{this.element=e},scrolling:o,src:"".concat(window.process.env.HTTP_PATH_CLIPBLOG,"/").concat(l),width:p})}}f.displayName="PcEntryClipSceneFrame";class v extends a.Component{houldComponentUpdate(e){return this.props.alt!==e.alt||this.props.className!==e.className||this.props.height!==e.height||this.props.no!==e.no||this.props.id!==e.id||this.props.width!==e.width}render(){var{alt:e,className:t,height:i,id:a,no:n,width:s}=this.props,o=n?"output/normal/".concat(a,"/thumbnail/scene_").concat(n,"_").concat(a,"-thumbnail-00001.jpg"):"output/hls/".concat(a,"/thumbnail/").concat(a,"-thumbnail-00001.jpg");return(0,r.Z)("img",{alt:e,className:t,height:i,src:"".concat(window.process.env.HTTP_PATH_CLIPBLOG,"/").concat(o),width:s})}}v.displayName="PcEntryClipScenePlaceholder";var y,b,_,w=i(17547),L=i.n(w),I=(0,l.w1)(L())((_=b=class e extends a.Component{static get defaultProps(){return{height:"",loop:"loop",no:"",width:"",trackStartClip:p()}}constructor(e){super(e),this.state={isInview:!1,isLoaded:!1,isPlaying:!1},this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.handleFrameLoaded=this.handleFrameLoaded.bind(this),this.receiveMessage=this.receiveMessage.bind(this),this.isTrackedStartClip=!1}componentDidMount(){this.startListen(),window.addEventListener("message",this.receiveMessage,!1)}shouldComponentUpdate(e,t){return this.props.amebaId!==e.amebaId||this.props.entryId!==e.entryId||this.props.height!==e.height||this.props.no!==e.no||this.props.id!==e.id||this.props.width!==e.width||this.state.isInview!==t.isInview||this.state.isLoaded!==t.isLoaded||this.state.isPlaying!==t.isPlaying||this.props.trackStartClip!==e.trackStartClip}componentWillUnmounteceiveMessage(e){if(e.origin===window.process.env.HTTP_PATH_CLIPBLOG){var t=e.data||{};if(this.state.isLoaded){if("clip-player-start"===t.name&&!this.state.isPlaying){if(this.isTrackedStartClip)return;var{amebaId:i,entryId:r,no:a,id:n}=this.props,s={entryId:r,clipId:n,sceneId:a,bloggerAmebaId:i,playheadTime:t.video.currentTime||"0",playMedia:"scene-player",duration:t.video.duration};this.props.trackStartClip(s),this.isTrackedStartClip=!0}t.video&&this.props.id===t.video.id&&this.props.no===t.video.no&&("clip-player-play"!==t.name||this.state.isPlaying||this.setState({isPlaying:!0}),"clip-player-pause"===t.name&&this.state.isPlaying&&this.setState({isPlaying:!1}))}}}tartListen(){e.intersectionListener||(e.intersectionListener=(0,d.T)({threshold:[0,.5]})),this.stopListen(),this.element&&!this.unlisten&&(this.unlisten=e.intersectionListener.listen(this.element,(e=>{e.intersectionRatio>.5?this.setState({isInview:!0}):e.isIntersecting||this.setState({isInview:!1,isLoaded:!1,isPlaying:!1})})))}ender(){return a.createElement("span",{className:L().Block,ref:style:{width:"".concat(this.props.width,"px"),height:"".concat(this.props.height,"px")}},(0,r.Z)(v,{alt:"",className:L().Placeholder,height:this.props.height,id:this.props.id,no:this.props.no,width:this.props.width}),this.state.isInview&&(0,r.Z)(f,{className:s()(L().Frame,{[L().Loaded]:this.state.isLoaded}),frameBorder:0,height:this.props.height,id:this.props.id,loop:this.props.loop,no:this.props.no,scrolling:"no",width:this.props.width,onLoaded:this.handleFrameLoaded}),!this.state.isPlaying&&(0,r.Z)("button",{"aria-label":"\u518d\u751f\u3059\u308b",className:s()("s","s-play",L().PlayButton)}))}},b.displayName="PcEntryClipScene",b.intersectionListener=void 0,y=_))||y},47530:(e,t,i)=>{"use strict";i.d(t,{O:()=>o});var r=i(41185),a=i(52862);nction o(e,t,i,r){if(!e)return[];var n=e.querySelectorAll("[".concat(a.Z.DATA_ENTRY_CLIP_SCENE,"]"))||[],o=[];return Array.prototype.forEach.call(n,(e=>{for(var n={},p=0,l=e.attributes.length;p<l;p+=1){var d=e.attributes[p];d.name!==a.Z.DATA_ENTRY_CLIP_SCENE&&(n[d.name.replace("".concat(a.Z.DATA_ENTRY_CLIP_SCENE,"-"),"")]=d.value)}o.push({element:e,props:s(s({},n),{},{amebaId:t,entryId:i,trackStartClip:r})})})),o}},77383:(e,t,i)=>{"use strict";i.d(t,{A_:()=>c,C9:()=>l,Fr:()=>d,V0:()=>p});var r=i(72591),a=i(75457);const n={part:"data-entrydesign-part",frame:{image:"data-entrydesign-frame-img"}};var s=i(16884),o=i(3833);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=['a[href*="stat.ameba.jp/user_images/"]'].join(","),n=e.querySelectorAll(i)||[];Array.prototype.forEach.call(n,(e=>{var{amebaId:i,entryId:n,imageProtectionType:o,pageType:p}=t;if("all_deny"!==o&&p!==a.Z.AmemberEntry){var l=e.href,d=(r.parse(l).pathname||"").split("/"),c=((d.pop()||"").match(/[o|t][0-9]{8}(?:_[0-9]{8})?([0-9]{11})(?:_s)?\.(?:jpg|gif|png)/)||[])[1];if(d[4]===i&&c){var h=(0,s.Z)(a.Z.Image,{amebaId:i,entryId:n,imageId:c});e.classList.add("detailOn"),e.setAttribute("href",h),e.setAttribute("id","i".concat(c)),e.classList.add("userImageLink"),e.dataset.imageId=c}}else e.removeAttribute("href")}))}function l(e){var t=(t,i)=>{var r=e.clientWidth,a="".concat(t.width||i.width||"").replace("px",""),n="".concat(t.height||i.height||"").replace("px","");if("100%"!==a&&a>r){var s=Number((i.marginLeft||"").replace("px",""))+Number((i.marginRight||"").replace("px","")),o=r;s&&(o-=s),t.width=o,t.height=Math.round(n*(o/a))}},i=e.querySelectorAll("img,iframe")||[];Array.prototype.forEach.call(i,(e=>{var i=e.currentStyle||window.getComputedStyle(e)||{},r="".concat(e.width||i.width||"").replace("px",""),a="".concat(e.height||i.height||"").replace("px","");"0"!==r&&"0"!==a?t(e,i):e.onload=))}function d(e,t,i){var r=[],a=e.querySelectorAll(".userImageLink")||[];return Array.prototype.forEach.call(a,(e=>{var a=document.createElement("div"),s=document.createElement("span"),o=e.getElementsByTagName("img")[0],p=function(e){return e&&e.hasAttribute(n.frame.image)}(o);a.classList.add(p?i:t),s.dataset.imageId=e.dataset.imageId,o.naturalHeight?s.dataset.imageHeight=o.naturalHeight:o.addEventListener("load",(()=>{s.dataset.imageHeight=o.naturalHeight||o.height})),o.naturalWidth?s.dataset.imageWidth=o.naturalWidth:o.addEventListener("load",(()=>{s.dataset.imageWidth=o.naturalWidth||o.width})),e.parentNode.replaceChild(a,e),a.appendChild(e),a.appendChild(s),r.push(s)})),r}function c(e){var{amebaId:t,itemList:i,trackInViewLog:r,trackTapLog:a}=e;(0,o.R)({amebaId:t,itemList:i,entryBodyElementId:"entryBody",entryImageQuerySelector:trackInViewLog:r,trackTapLog:a})}},22221:(e,t,i)=>{"use strict";function r(e){return e?function(e){var t=new RegExp('src="data:image/svg\\+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww\\.w3\\.org%2F2000%2Fsvg%22%20title%3D%22Placeholder%20for%20Images%22%20role%3D%22presentation%22%20viewBox%3D%220%200%20(\\d+)%20(\\d+)%22%20%2F%3E"',"g");return e.replace(/data-src/g,"src").replace(/data-srcset/g,"srcset").replace(t,"")}(e):""}i.d(t,{Z:()=>r})},64530:(e,t,i)=>{"use strict";i.d(t,{c:);i(91938);var r=i(76955),a=i(96216),n=i(29466),s=i.n(n);class o extends r.Component{static get defaultPropshouldComponentUpdate(e){return this.props.title!==e.title||!s()(this.props.link,e.link)||!s()(this.props.meta,e.meta)||!s()(this.props.script,e.script)}render(){var{link:e,meta:t,script:i,title:n}=this.props,s={};return e.length>0&&(s.link=e),t.length>0&&(s.meta=t),i.length>0&&(s.script=i),n&&(s.title=n),r.createElement(a.ql,s)}}o.displayName="PcHead"},93468:93533:36953:(e,t,i)=>{var r=i(18300)((function(e){return e[1]}));r.push([e.id,"._2_YD5suy{display:block;font-size:0;overflow:hidden;position:relative;text-align:center}._1wGdpFEz{left:0;position:absolute;top:0;z-index:1}._1MFTvbdh{z-index:3}._-6uclXt-{left:0;position:absolute;top:0;z-index:2}._3xsv2IOJ{background:rgba(0, 0, 0, 0.5);border:none;border-radius:50%;box-sizing:border-box;color:#fff;font-size:60px;height:80px;left:50%;line-height:80px;margin:-40px 0 0 -40px;padding:0 0 0 6px;pointer-events:none;position:absolute;top:50%;width:80px;z-index:4}",""]),r.locals={Block:"_2_YD5suy",Frame:"_1wGdpFEz",Loaded:"_1MFTvbdh",Placeholder:"_-6uclXt-",PlayButton:"_3xsv2IOJ"},e.exports=r},99206:(e,t,i)=>{var r=i(18300)(();r.push([e.id,'._35EjfUUq{position:relative}._35EjfUUq,._1aQqjb-A{display:inline-block}._3u3nmCTg{background-color:rgba(0, 0, 0, 0.5);border:none;bottom:0;color:#fff;cursor:pointer;height:32px;min-width:32px;opacity:0;outline:none;padding:0;position:absolute;right:0}._3u3nmCTg:focus,._3u3nmCTg:hover,._35EjfUUq:hover ._3u3nmCTg,._1aQqjb-A:hover ._3u3nmCTg{opacity:1}._3u3nmCTg:focus{box-shadow:0 0 0 2px #49c755}._91Novnz1{font-size:16px;line-height:32px;margin:8px 0;width:32px}._2u_fjkUT{display:none;font-size:12px;line-height:32px;margin-right:1em;vertical-align:top}._3u3nmCTg:focus ._2u_fjkUT,._3u3nmCTg:hover ._2u_fjkUT,._2u_fjkUT:focus,._2u_fjkUT:hover{display:inline-block}._1ZLabvnw .userImageLink,._1ZLabvnw a[href^="https://stat.ameba.jp/user_images/"]{pointer-events:none}._1ZLabvnw a:hover{opacity:1}#no-js ._2nkwn0s9 img[data-src]{display:none}',""]),r.locals={ImageEmbedWrapper:"_35EjfUUq",ImageEmbedWrapper__EntryDesign:"_1aQqjb-A",ImageEmbedButton:"_3u3nmCTg",ImageEmbedButtonIcon:"_91Novnz1",ImageEmbedButtonLabel:"_2u_fjkUT",ImageProtected:"_1ZLabvnw",Block:"_2nkwn0s9"},e.exports=r},17547:(e,t,i)=>{var r=i(36953),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n=Object.defineProperty||function(e,t,i){e[t]=i.value};"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=a({},e.locals||{});return n(t,"_",{value:function(){return e}}),n(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)},52791:(e,t,i)=>{var r=i(99206),a=Object.assign||n=Object.defineProperty||"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=a({},e.locals||{});return n(t,"_",{value:),n(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)}}]);