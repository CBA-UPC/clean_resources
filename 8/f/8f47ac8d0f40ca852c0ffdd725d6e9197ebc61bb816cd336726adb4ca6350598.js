/*
 2013-2014 Enrico Marino / Jordan Harband
 @license MIT
 JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */
'use strict';(function(jb,E){"object"===typeof exports&&"undefined"!==typeof module?module.exports=E():"function"===typeof define&&define.amd?define(E):(jb="undefined"!==typeof globalThis?globalThis:jb||self,jb["data-api"]=jb["data-api"]||{},jb["data-api"].js=E())})(this,function(){function jb(g){if(g.__esModule)return g;var a=Object.defineProperty({},"__esModule",{value:!0});Object.keys(g).forEach(;return a}nction Yb(g){var a=-1,b=null==g?0:g.length;for(this.clear();++a<b;){var c=g[a];this.set(c[0],c[1])}}function Hb(g){var a=-1,b=null==g?0:g.length;
for(this.clear();++a<b;){var c=g[a];this.set(c[0],c[1])}}nction ma(g,a,b,c,d,e){var f,h=a&1,n=a&2,l=a&4;b&&(f=d?b(g,c,d,e):b(g));if(void 0!==f)return f;if(!Oa(g))return g;if(c=xa(g)){if(f=uk(g),!h)return vk(g,f)}else{var m=zc(g),z="[object Function]"==m||"[object GeneratorFunction]"==m;if(jd(g))return wk(g,h);if("[object Object]"==m||"[object Arguments]"==
m||z&&!d){if(f=n||z?{}:xk(g),!h)return n?yk(g,zk(f,g)):Ak(g,Bk(f,g))}else{if(!Q[m])return d?g:{};f=Ck(g,m,h)}}e||(e=new Ac);if(d=e.get(g))return d;e.set(g,f);Dk(g)?g.forEach(:Ek(g)&&g.forEach(;n=l?n?Fk:te:n?kd:qa;var r=c?void 0:n(g);ig(r||g,;return f}function Gk(g,a,b){return g.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,}unction jg(g){switch({}.toString.call(g)){case "[object Object]":return Ik(g);case "[object Function]":return g;case "[object String]":if(/^ *\W+/.test(g))var a=new Function("_","return _ "+g);else{a=Function;var b=kg(g);if(b.length){var c;for(c=0;c<b.length;c++){var d=b[c];var e="_."+d;e="('function' == typeof "+e+" ? "+e+"() : "+e+")";g=Jk(d,g,e)}}else g="_."+g;a=new a("_","return "+g)}return a;case "[object RegExp]":return Kk(g);
default:return lg(g)}}nction Ik(g){var a={},b;for(b in g)a[b]="string"===typeof g[b]?lg(g[b]):jg(g[b]);return function(b){if("object"!==typeof b)return!1;for(var c in a)if(!(c in b&&a[c](b[c])))return!1;return!0}}unction ue(g,a){void 0===a&&(a=!0);return"object"===ha(g)?Lk(g,a):"array"===ha(g)?Mk(g,a):g}function Lk(g,
a){!g.length||"number"!==typeof g.length||g.length-1 in g||(g.lengthNonArray=g.length,delete g.length);ve(g,function(b,c){md.is(c,a)?g[b]=md.parse(c):("object"===ha(c)||"array"===ha(c))&&ue(c,a)});g.lengthNonArray&&(g.length=g.lengthNonArray,delete g.lengthNonArray);return g}function Mk(g,a){ve(g,;return g}function B(g,a){a=a||{};"clone"in a||(a.clone=!0);a.clone&&(g=ma(g,5));"traverse"in a||(a.traverse=!0);g.timestamp="timestamp"in
g?nd(g.timestamp):new Date;a.traverse&&mg(g);this.opts=a;this.obj=g}function Pa(g,a){B.call(this,g,a)}function od(g,a){B.call(this,g,a)}function Bc(g,a){B.call(this,g,a)}function ac(g,a){B.call(this,g,a)}function Cc(g,a){B.call(this,g,a)}function vb(g,a){B.call(this,g,a)}unction Nk(g){g=String(g);if(!(100<g.length)&&(g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g))){var a=
parseFloat(g[1]);switch((g[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*a;case "weeks":case "week":case "w":return 6048E5*a;case "days":case "day":case "d":return 864E5*a;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*a;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*a;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*a;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return a}}}
unction ng(){try{var g=document.cookie}catch(d){return"undefined"!==typeof console&&"function"===typeof console.error&&console.error(d.stack||d),{}}var a={};g=g.split(/ *; */);if(""!=g[0])for(var b=0;b<g.length;++b){var c=g[b].split("=");a[og(c[0])]=og(c[1])}return a}function pg(g){try{return encodeURIComponent(g)}catch(a){qg("error `encode(%o)` - %o",g,a)}}unction wb(g){this.options(g)}function Ok(){}function Dc(g){this.options(g)}ction Ec(g){this.defaults=Ec.defaults;this.debug=Pk;Ib.call(this,g)}unction cc(g,a,b,c,d){if(g===a)a=!0;else if(null==g||null==a||!kb(g)&&!kb(a))a=g!==g&&a!==a;else a:{var e=xa(g),f=xa(a),h=e?"[object Array]":zc(g),
n=f?"[object Array]":zc(a);h="[object Arguments]"==h?"[object Object]":h;n="[object Arguments]"==n?"[object Object]":n;var l="[object Object]"==h;f="[object Object]"==n;if((n=h==n)&&jd(g)){if(!jd(a)){a=!1;break a}e=!0;l=!1}if(n&&!l)d||(d=new Ac),a=e||rg(g)?sg(g,a,b,c,cc,d):Qk(g,a,h,b,c,cc,d);else{if(!(b&1)&&(e=l&&tg.call(g,"__wrapped__"),h=f&&tg.call(a,"__wrapped__"),e||h)){g=e?g.value():g;a=h?a.value():a;d||(d=new Ac);a=cc(g,a,b,c,d);break a}if(n)b:if(d||(d=new Ac),e=b&1,h=te(g),f=h.length,n=te(a).length,
f==n||e){for(n=f;n--;){var m=h[n];if(!(e?m in a:Rk.call(a,m))){a=!1;break b}}l=d.get(g);m=d.get(a);if(l&&m)a=l==a&&m==g;else{l=!0;d.set(g,a);d.set(a,g);for(var z=e;++n<f;){m=h[n];var r=g[m],u=a[m];if(c)var w=e?c(u,r,m,a,g,d):c(r,u,m,g,a,d);if(void 0===w?r!==u&&!cc(r,u,b,c,d):!w){l=!1;break}z||(z="constructor"==m)}l&&!z&&(b=g.constructor,c=a.constructor,b!=c&&"constructor"in g&&"constructor"in a&&!("function"==typeof b&&b instanceof b&&"function"==typeof c&&c instanceof c)&&(l=!1));d["delete"](g);
d["delete"](a);a=l}}else a=!1;else a=!1}}return a}nction ye(g,
a){try{return[decodeURIComponent(g.join(""))]}catch(c){}if(1===g.length)return g;a=a||1;var b=g.slice(0,a);g=g.slice(a);return Array.prototype.concat.call([],ye(b),ye(g))}function Uk(g){var a;switch(g.arrayFormat){case "index":return case "bracket":return function(b,c,d){a=/(\[\])$/.exec(b);b=b.replace(/\[\]$/,"");d[b]=a?void 0===d[b]?[c]:[].concat(d[b],c):c};default:return function(a,c,d){d[a]=void 0===d[a]?c:[].concat(d[a],c)}}}ction yg(g,a){a=zg({arrayFormat:"none"},a);var b=Uk(a),c=Object.create(null);if("string"!==typeof g)return c;g=g.trim().replace(/^[?#&]/,"");if(!g)return c;g.split("&").forEach(function(a){var d=a.replace(/\+/g," ").split("=");a=d.shift();d=0<d.length?d.join("="):void 0;d=void 0===d?null:Ag(d);b(Ag(a),d,c)});return Object.keys(c).sort().reduce(function(a,
b){var d=c[b];d&&"object"===typeof d&&!Array.isArray(d)?a[b]=wg(d):a[b]=d;return a},Object.create(null))}function Bg(){var g=ya.get_raw("track_cookie");if(g)try{return decodeURIComponent(g.split("--")[0])}catch(a){}}function Wk(){var g=Bg();if(g)try{return window.JSON.parse(atob(g))}catch(a){}}function Xk(g,a){var b=Yk[a.split(/_|-|=/)[0]];return b?(Array.isArray(b)?b.forEach(:g[b]=a,!0):!1}function Zk(g,a){0<=a.indexOf("gclid=")&&a.split("|").forEach(function(a){var b=a.split("=")[0];a=
a.split("=")[1];b&&a&&$k.includes(b)&&(g[b]=a)})}function al(){var g=Wk();if(g)return g=g.reduce(function(a,b){Xk(a,b)||Zk(a,b);return a},{}),g.trackCookieBase64=Bg(),g}ction wd(g){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;a=(na[g[a+0]]+na[g[a+1]]+na[g[a+2]]+na[g[a+3]]+"-"+na[g[a+4]]+na[g[a+5]]+"-"+na[g[a+6]]+na[g[a+7]]+"-"+na[g[a+8]]+na[g[a+9]]+"-"+na[g[a+10]]+na[g[a+11]]+na[g[a+12]]+na[g[a+13]]+na[g[a+14]]+na[g[a+15]]).toLowerCase();if(!vd(a))throw TypeError("Stringified UUID is invalid");return a}function Fg(g){if(!vd(g))throw TypeError("Invalid UUID");var a,b=new Uint8Array(16);b[0]=(a=parseInt(g.slice(0,8),16))>>>
24;b[1]=a>>>16&255;b[2]=a>>>8&255;b[3]=a&255;b[4]=(a=parseInt(g.slice(9,13),16))>>>8;b[5]=a&255;b[6]=(a=parseInt(g.slice(14,18),16))>>>8;b[7]=a&255;b[8]=(a=parseInt(g.slice(19,23),16))>>>8;b[9]=a&255;b[10]=(a=parseInt(g.slice(24,36),16))/1099511627776&255;b[11]=a/4294967296&255;b[12]=a>>>24&255;b[13]=a>>>16&255;b[14]=a>>>8&255;b[15]=a&255;return b}function Gg(g,a,b){function c(c,e,f,g){if("string"===typeof c){var d=unescape(encodeURIComponent(c));c=[];for(var h=0;h<d.length;++h)c.push(d.charCodeAt(h))}"string"===
typeof e&&(e=Fg(e));if(16!==e.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");d=new Uint8Array(16+c.length);d.set(e);d.set(c,e.length);d=b(d);d[6]=d[6]&15|a;d[8]=d[8]&63|128;if(f){g=g||0;for(e=0;16>e;++e)f[g+e]=d[e];return f}return wd(d)}try{c.name=g}catch(d){}c.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";c.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";return c}on D(){this._options({});this.Integrations={};this._integrations={};this._readied=!1;this._timeout=300;this._user=va;this.log=Ka("data-api.js");Jb(this);var g=this;this.on("initialize",function(a,
b){b.initialPageview&&g.page();g._parseQuery(window.location.search)})}function Ae(g){switch(Hg(g)){case "object":var a={};for(b in g)Object.prototype.hasOwnProperty.call(g,b)&&(a[b]=Ae(g[b]));return a;case "array":a=Array(g.length);var b=0;for(var c=g.length;b<c;b++)a[b]=Ae(g[b]);return a;case "regexp":return a=g.multiline?"m":"",a+=g.global?"g":"",a+=g.ignoreCase?"i":"",new RegExp(g.source,a);case "date":return new Date(g.getTime());default:return g}}unction fl(g,a){g.addEventListener("load",!1);g.addEventListener("error",function(b){var c=Error('script error "'+g.src+'"');c.event=b;a(c)},!1)}function gl(g,a){g.attachEvent("onreadystatechange",;g.attachEvent("onerror",function(b){var c=Error('failed to load the script "'+g.src+'"');c.event=b||window.event;a(c)})}nction Ig(g,a){var b=arguments.length;if(0==b){b=lb.length;for(var c={},d;0<=--b;)d=lb.key(b),c[d]=Jg(lb.getItem(d));return c}if(2<=b)return Kg(g,a);if(1==b){if(null==g)return lb.clear();if("string"==typeof g)return Jg(lb.getItem(g));if("object"==typeof g)return ve(g,Kg)}}nction Be(g){"?"===g.charAt(0)&&(g=g.substring(1));g=g.replace(/\?/g,"&");var a=ml(g),b={},c;for(c in a)Mg.call(a,c)&&"utm_"===c.substr(0,4)&&(g=c.substr(4),"campaign"===g&&(g="name"),b[g]=a[c]);return b}function Kb(g,a,b,c){this.id=a;this.name=g;this.keys=b||{};this.originalEngine=this.engine=c||nl}nction La(g,a,b){"function"===typeof a&&
(b=a);this.name=g;this.id=Fc();this.fn=b;this.maxItems=a.maxItems||Infinity;this.maxAttempts=a.maxAttempts||Infinity;this.backoff={MIN_RETRY_DELAY:a.minRetryDelay||1E3,MAX_RETRY_DELAY:a.maxRetryDelay||3E4,FACTOR:a.backoffFactor||2,JITTER:a.backoffJitter||0};this.timeouts={ACK_TIMER:1E3,RECLAIM_TIMER:3E3,RECLAIM_TIMEOUT:1E4,RECLAIM_WAIT:500};this.keys={IN_PROGRESS:"inProgress",QUEUE:"queue",RECLAIM_START:"reclaimStart",RECLAIM_END:"reclaimEnd",ACK:"ack"};this._schedule=new ec;this._processId=0;this._store=
new De(this.name,this.id,this.keys);this._store.set(this.keys.IN_PROGRESS,{});this._store.set(this.keys.QUEUE,[]);this._ack=Ce(this._ack,this);this._checkReclaim=Ce(this._checkReclaim,this);this._processHead=Ce(this._processHead,this);this._running=!1}function fc(g,a){k.cipher.registerAlgorithm(g,function(){return new k.aes.Algorithm(g,a)})}function Ng(){Ee=!0;Og=[0,1,2,4,8,16,32,64,128,27,54];for(var g=Array(256),a=0;128>a;++a)g[a]=a<<1,g[a+128]=a+128<<1^283;za=Array(256);Fe=Array(256);Lb=Array(4);
Va=Array(4);for(a=0;4>a;++a)Lb[a]=Array(256),Va[a]=Array(256);var b=0,c=0;for(a=0;256>a;++a){var d=c^c<<1^c<<2^c<<3^c<<4;d=d>>8^d&255^99;za[b]=d;Fe[d]=b;var e=g[d];var f=g[b];var h=g[f];var n=g[h];e^=e<<24^d<<16^d<<8^d;h=(f^h^n)<<24^(b^n)<<16^(b^h^n)<<8^b^f^n;for(var l=0;4>l;++l)Lb[l][b]=e,Va[l][d]=h,e=e<<24|e>>>8,h=h<<24|h>>>8;0===b?b=c=1:(b=f^g[g[g[f^n]]],c^=g[g[c]])}}function Pg(g,a){g=g.slice(0);for(var b,c=1,d=g.length,e=gc*(d+6+1),f=d;f<e;++f)b=g[f-1],0===f%d?(b=za[b>>>16&255]<<24^za[b>>>8&
255]<<16^za[b&255]<<8^za[b>>>24]^Og[c]<<24,c++):6<d&&4===f%d&&(b=za[b>>>24]<<24^za[b>>>16&255]<<16^za[b>>>8&255]<<8^za[b&255]),g[f]=g[f-d]^b;if(a){b=Va[0];c=Va[1];d=Va[2];var h=Va[3],n=g.slice(0);e=g.length;f=0;for(var l=e-gc;f<e;f+=gc,l-=gc)if(0===f||f===e-gc)n[f]=g[l],n[f+1]=g[l+3],n[f+2]=g[l+2],n[f+3]=g[l+1];else for(var m=0;m<gc;++m)a=g[l+m],n[f+(3&-m)]=b[za[a>>>24]]^c[za[a>>>16&255]]^d[za[a>>>8&255]]^h[za[a&255]];g=n}return g}function Ge(g,a,b,c){var d=g.length/4-1;if(c){var e=Va[0];var f=Va[1];
var h=Va[2];var n=Va[3];var l=Fe}else e=Lb[0],f=Lb[1],h=Lb[2],n=Lb[3],l=za;var m=a[0]^g[0];var z=a[c?3:1]^g[1];var r=a[2]^g[2];a=a[c?1:3]^g[3];for(var u=3,w=1;w<d;++w){var k=e[m>>>24]^f[z>>>16&255]^h[r>>>8&255]^n[a&255]^g[++u];var R=e[z>>>24]^f[r>>>16&255]^h[a>>>8&255]^n[m&255]^g[++u];var p=e[r>>>24]^f[a>>>16&255]^h[m>>>8&255]^n[z&255]^g[++u];a=e[a>>>24]^f[m>>>16&255]^h[z>>>8&255]^n[r&255]^g[++u];m=k;z=R;r=p}b[0]=l[m>>>24]<<24^l[z>>>16&255]<<16^l[r>>>8&255]<<8^l[a&255]^g[++u];b[c?3:1]=l[z>>>24]<<
24^l[r>>>16&255]<<16^l[a>>>8&255]<<8^l[m&255]^g[++u];b[2]=l[r>>>24]<<24^l[a>>>16&255]<<16^l[m>>>8&255]<<8^l[z&255]^g[++u];b[c?1:3]=l[a>>>24]<<24^l[m>>>16&255]<<16^l[z>>>8&255]<<8^l[r&255]^g[++u]}function yd(g){g=g||{};var a="AES-"+(g.mode||"CBC").toUpperCase();var b=g.decrypt?k.cipher.createDecipher(a,g.key):k.cipher.createCipher(a,g.key);var c=b.start;b.start=function(a,e){var d=null;e instanceof k.util.ByteBuffer&&(d=e,e={});e=e||{};e.output=d;e.iv=a;c.call(b,e)};return b}unction Qg(g,a,b,c){var d=32===g.length?3:9;c=3===d?c?[30,-2,-2]:[0,32,2]:c?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var e=a[0],f=a[1];a=(e>>>4^f)&252645135;f^=a;e^=a<<4;a=(e>>>16^f)&65535;f^=a;e^=a<<16;a=(f>>>2^e)&858993459;e^=a;f^=a<<2;a=(f>>>8^e)&16711935;e^=a;f^=a<<8;a=(e>>>1^f)&1431655765;f^=a;e^=a<<1;e=e<<1|e>>>31;f=f<<1|f>>>31;for(var h=0;h<d;h+=3){for(var n=c[h+1],l=c[h+2],m=c[h];m!=n;m+=l){var z=f^g[m],r=(f>>>4|f<<28)^g[m+1];a=e;
e=f;f=a^(ol[z>>>24&63]|pl[z>>>16&63]|ql[z>>>8&63]|rl[z&63]|sl[r>>>24&63]|tl[r>>>16&63]|ul[r>>>8&63]|vl[r&63])}a=e;e=f;f=a}e=e>>>1|e<<31;f=f>>>1|f<<31;a=(e>>>1^f)&1431655765;f^=a;e^=a<<1;a=(f>>>8^e)&16711935;e^=a;f^=a<<8;a=(f>>>2^e)&858993459;e^=a;f^=a<<2;a=(e>>>16^f)&65535;f^=a;e^=a<<16;a=(e>>>4^f)&252645135;b[0]=e^a<<4;b[1]=f^a}function zd(g){g=g||{};var a="DES-"+(g.mode||"CBC").toUpperCase();var b=g.decrypt?k.cipher.createDecipher(a,g.key):k.cipher.createCipher(a,g.key);var c=b.start;b.start=function(a,
e){var d=null;e instanceof k.util.ByteBuffer&&(d=e,e={});e=e||{};e.output=d;e.iv=a;c.call(b,e)};return b}function y(g,a,b){this.data=[];null!=g&&("number"==typeof g?this.fromNumber(g,a,b):null==a&&"string"!=typeof g?this.fromString(g,256):this.fromString(g,a))}unction wl(g,a,b,c,d,e){for(;0<=--e;){var f=a*this.data[g++]+b.data[c]+d;d=Math.floor(f/67108864);b.data[c++]=f&67108863}return d}function xl(g,a,b,c,d,e){var f=a&32767;for(a>>=15;0<=--e;){var h=this.data[g]&
32767,n=this.data[g++]>>15,l=a*h+n*f;h=f*h+((l&32767)<<15)+b.data[c]+(d&1073741823);d=(h>>>30)+(l>>>15)+a*n+(d>>>30);b.data[c++]=h&1073741823}return d}function Rg(g,a,b,c,d,e){var f=a&16383;for(a>>=14;0<=--e;){var h=this.data[g]&16383,n=this.data[g++]>>14,l=a*h+n*f;h=f*h+((l&16383)<<14)+b.data[c]+d;d=(h>>28)+(l>>14)+a*n;b.data[c++]=h&268435455}return d}nction Bd(g){var a=1,b;0!=(b=g>>>16)&&
(g=b,a+=16);0!=(b=g>>8)&&(g=b,a+=8);0!=(b=g>>4)&&(g=b,a+=4);0!=(b=g>>2)&&(g=b,a+=2);0!=g>>1&&(a+=1);return a}on Gc(){}nction zl(){return{nextBytes:}function Wg(g,a,b){var c=k.util.createBuffer();a=Math.ceil(a.n.bitLength()/8);if(g.length>a-11)throw c=Error("Message is too long for PKCS#1 v1.5 padding."),c.length=g.length,c.max=a-11,c;c.putByte(0);c.putByte(b);a=a-3-g.length;if(0===b||1===b){b=0===b?0:255;for(var d=0;d<a;++d)c.putByte(b)}else for(;0<a;){var e=0,f=k.random.getBytes(a);for(d=0;d<a;++d)b=f.charCodeAt(d),0===b?++e:c.putByte(b);
a=e}c.putByte(0);c.putBytes(g);return c}function Cd(g,a,b,c){a=Math.ceil(a.n.bitLength()/8);g=k.util.createBuffer(g);var d=g.getByte(),e=g.getByte();if(0!==d||b&&0!==e&&1!==e||!b&&2!=e||b&&0===e&&"undefined"===typeof c)throw Error("Encryption block is invalid.");b=0;if(0===e)for(b=a-3-c,c=0;c<b;++c){if(0!==g.getByte())throw Error("Encryption block is invalid.");}else if(1===e)for(b=0;1<g.length();){if(255!==g.getByte()){--g.read;break}++b}else if(2===e)for(b=0;1<g.length();){if(0===g.getByte()){--g.read;
break}++b}if(0!==g.getByte()||b!==a-3-g.length())throw Error("Encryption block is invalid.");return g.getBytes()}function Al(g,a,b){function c(){d(g.pBits,function(a,c){if(a)return b(a);g.p=c;if(null!==g.q)return e(a,g.q);d(g.qBits,e)})}unction e(a,f){if(a)return b(a);g.q=f;0>g.p.compareTo(g.q)&&(a=g.p,g.p=g.q,g.q=a);0!==g.p.subtract(N.ONE).gcd(g.e).compareTo(N.ONE)?(g.p=null,c()):0!==g.q.subtract(N.ONE).gcd(g.e).compareTo(N.ONE)?(g.q=null,d(g.qBits,
e)):(g.p1=g.p.subtract(N.ONE),g.q1=g.q.subtract(N.ONE),g.phi=g.p1.multiply(g.q1),0!==g.phi.gcd(g.e).compareTo(N.ONE)?(g.p=g.q=null,c()):(g.n=g.p.multiply(g.q),g.n.bitLength()!==g.bits?(g.q=null,d(g.qBits,e)):(a=g.e.modInverse(g.phi),g.keys={privateKey:F.rsa.setPrivateKey(g.n,g.e,a,g.p,g.q,a.mod(g.p1),a.mod(g.q1),g.q.modInverse(g.p)),publicKey:F.rsa.setPublicKey(g.n,g.e)},b(null,g.keys))))}"function"===typeof a&&(b=a,a={});a=a||{};var f={algorithm:{name:a.algorithm||"PRIMEINC",options:{workers:a.workers||
2,workLoad:a.workLoad||100,workerScript:a.workerScript}}};"prng"in a&&(f.prng=a.prng);c()}function bb(g){g=g.toString(16);"8"<=g[0]&&(g="00"+g);g=k.util.hexToBytes(g);return 1<g.length&&(0===g.charCodeAt(0)&&0===(g.charCodeAt(1)&128)||255===g.charCodeAt(0)&&128===(g.charCodeAt(1)&128))?g.substr(1):g}function Bl(g){return 100>=g?27:150>=g?18:200>=g?15:250>=g?12:300>=g?9:350>=g?8:400>=g?7:500>=g?6:600>=g?5:800>=g?4:1250>=g?3:2}function Xg(g){return"undefined"!==typeof Qa.globalScope&&"object"===typeof Qa.globalScope.crypto&&
"object"===typeof Qa.globalScope.crypto.subtle&&"function"===typeof Qa.globalScope.crypto.subtle[g]}function Yg(g){return"undefined"!==typeof Qa.globalScope&&"object"===typeof Qa.globalScope.msCrypto&&"object"===typeof Qa.globalScope.msCrypto.subtle&&"function"===typeof Qa.globalScope.msCrypto.subtle[g]}function Zg(g){g=k.util.hexToBytes(g.toString(16));for(var a=new Uint8Array(g.length),b=0;b<g.length;++b)a[b]=g.charCodeAt(b);return a}function ah(g){if(g){var a=J.oids[x.derToOid(g)];if(!a)throw a=Error("Unsupported PRF OID."),a.oid=g,a.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],a;}else a="hmacWithSHA1";return bh(a)}function bh(g){var a=k.md;switch(g){case "hmacWithSHA224":a=k.md.sha512;case "hmacWithSHA1":case "hmacWithSHA256":case "hmacWithSHA384":case "hmacWithSHA512":g=g.substr(8).toLowerCase();break;default:throw a=Error("Unsupported PRF algorithm."),a.algorithm=g,a.supported=
["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],a;}if(!(a&&g in a))throw Error("Unknown hash algorithm: "+g);return a[g].create()}function nb(g){var a=g.message;if(a instanceof Uint8Array||a instanceof Fa)return a;var b=g.encoding;if(void 0===a)if(g.md)a=g.md.digest().getBytes(),b="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if("string"===typeof a&&!b)throw new TypeError('"options.encoding" must be "binary" or "utf8".');
if("string"===typeof a){if("undefined"!==typeof Buffer)return Buffer.from(a,b);a=new Ie(a,b)}else if(!(a instanceof Ie))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');g=new Fa(a.length());for(b=0;b<g.length;++b)g[b]=a.at(b);return g}function Hc(g,a){var b=k.md.sha512.create();g=new Ie(g);b.update(g.getBytes(a),"binary");a=b.digest().getBytes();if("undefined"!==typeof Buffer)return Buffer.from(a,
"binary");b=new Fa(H.constants.HASH_BYTE_LENGTH);for(g=0;64>g;++g)b[g]=a.charCodeAt(g);return b}function ch(g,a){var b,c;for(b=63;32<=b;--b){var d=0;var e=b-32;for(c=b-12;e<c;++e)a[e]+=d-16*a[b]*Je[e-(b-32)],d=a[e]+128>>8,a[e]-=256*d;a[e]+=d;a[b]=0}for(e=d=0;32>e;++e)a[e]+=d-(a[31]>>4)*Je[e],d=a[e]>>8,a[e]&=255;for(e=0;32>e;++e)a[e]-=d*Je[e];for(b=0;32>b;++b)a[b+1]+=a[b]>>8,g[b]=a[b]&255}function Ke(g){for(var a=new Float64Array(64),b=0;64>b;++b)a[b]=g[b],g[b]=0;ch(g,a)}unction Me(g,a){var b=C(),c=C(),d=C(),e=a[2],f=C(),h;for(h=0;16>h;++h)f[h]=e[h];for(h=253;0<=h;--h)O(f,f,f),2!==h&&4!==h&&O(f,f,e);for(h=0;16>h;++h)d[h]=f[h];O(b,a[0],d);O(c,a[1],d);Dd(g,c);g[31]^=dh(b)<<7}function Dd(g,a){var b,c=C(),
d=C();for(b=0;16>b;++b)d[b]=a[b];Ne(d);Ne(d);Ne(d);for(a=0;2>a;++a){c[0]=d[0]-65517;for(b=1;15>b;++b)c[b]=d[b]-65535-(c[b-1]>>16&1),c[b-1]&=65535;c[15]=d[15]-32767-(c[14]>>16&1);b=c[15]>>16&1;c[14]&=65535;Oe(d,c,1-b)}for(b=0;16>b;b++)g[2*b]=d[b]&255,g[2*b+1]=d[b]>>8}unction fh(g,a,b,c){var d,e=0;for(d=0;32>d;++d)e|=g[a+d]^b[c+d];return(1&e-1>>>8)-1}unction gh(g,
a,b){var c;zb(g[0],Pe);zb(g[1],Ed);zb(g[2],Ed);zb(g[3],Pe);for(c=255;0<=c;--c){var d=b[c/8|0]>>(c&7)&1;for(var e=g,f=a,h=d,n=0;4>n;++n)Oe(e[n],f[n],h);Le(a,g);Le(g,g);e=g;f=a;for(h=0;4>h;++h)Oe(e[h],f[h],d)}}unction zb(g,a){var b;for(b=0;16>b;b++)g[b]=a[b]|0}function Ne(g){var a,b=1;for(a=0;16>a;++a){var c=g[a]+b+65535;b=Math.floor(c/65536);g[a]=c-65536*b}g[0]+=b-1+37*(b-1)}function Oe(g,a,b){for(var c=
~(b-1),d=0;16>d;++d)b=c&(g[d]^a[d]),g[d]^=b,a[d]^=b}unction jc(g,a,b){for(var c=0;16>c;++c)g[c]=a[c]+b[c]}function ic(g,a,b){for(var c=0;16>c;++c)g[c]=a[c]-b[c]}function O(g,a,b){var c=b[0],d=b[1],e=b[2],f=b[3],h=b[4],n=b[5],l=b[6],m=b[7],z=b[8],r=b[9],u=b[10],w=b[11],k=b[12],R=b[13],p=b[14],q=b[15];b=a[0];var wa=b*c;var ob=b*d;var X=b*e;var M=b*f;var G=b*h;var Aa=b*n;var Ba=b*l;var U=b*m;var t=b*z;var v=b*
r;var x=b*u;var y=b*w;var B=b*k;var C=b*R;var V=b*p;var W=b*q;b=a[1];ob+=b*c;X+=b*d;M+=b*e;G+=b*f;Aa+=b*h;Ba+=b*n;U+=b*l;t+=b*m;v+=b*z;x+=b*r;y+=b*u;B+=b*w;C+=b*k;V+=b*R;W+=b*p;var P=b*q;b=a[2];X+=b*c;M+=b*d;G+=b*e;Aa+=b*f;Ba+=b*h;U+=b*n;t+=b*l;v+=b*m;x+=b*z;y+=b*r;B+=b*u;C+=b*w;V+=b*k;W+=b*R;P+=b*p;var ia=b*q;b=a[3];M+=b*c;G+=b*d;Aa+=b*e;Ba+=b*f;U+=b*h;t+=b*n;v+=b*l;x+=b*m;y+=b*z;B+=b*r;C+=b*u;V+=b*w;W+=b*k;P+=b*R;ia+=b*p;var Y=b*q;b=a[4];G+=b*c;Aa+=b*d;Ba+=b*e;U+=b*f;t+=b*h;v+=b*n;x+=b*l;y+=b*m;
B+=b*z;C+=b*r;V+=b*u;W+=b*w;P+=b*k;ia+=b*R;Y+=b*p;var E=b*q;b=a[5];Aa+=b*c;Ba+=b*d;U+=b*e;t+=b*f;v+=b*h;x+=b*n;y+=b*l;B+=b*m;C+=b*z;V+=b*r;W+=b*u;P+=b*w;ia+=b*k;Y+=b*R;E+=b*p;var F=b*q;b=a[6];Ba+=b*c;U+=b*d;t+=b*e;v+=b*f;x+=b*h;y+=b*n;B+=b*l;C+=b*m;V+=b*z;W+=b*r;P+=b*u;ia+=b*w;Y+=b*k;E+=b*R;F+=b*p;var K=b*q;b=a[7];U+=b*c;t+=b*d;v+=b*e;x+=b*f;y+=b*h;B+=b*n;C+=b*l;V+=b*m;W+=b*z;P+=b*r;ia+=b*u;Y+=b*w;E+=b*k;F+=b*R;K+=b*p;var J=b*q;b=a[8];t+=b*c;v+=b*d;x+=b*e;y+=b*f;B+=b*h;C+=b*n;V+=b*l;W+=b*m;P+=b*z;
ia+=b*r;Y+=b*u;E+=b*w;F+=b*k;K+=b*R;J+=b*p;var I=b*q;b=a[9];v+=b*c;x+=b*d;y+=b*e;B+=b*f;C+=b*h;V+=b*n;W+=b*l;P+=b*m;ia+=b*z;Y+=b*r;E+=b*u;F+=b*w;K+=b*k;J+=b*R;I+=b*p;var D=b*q;b=a[10];x+=b*c;y+=b*d;B+=b*e;C+=b*f;V+=b*h;W+=b*n;P+=b*l;ia+=b*m;Y+=b*z;E+=b*r;F+=b*u;K+=b*w;J+=b*k;I+=b*R;D+=b*p;var H=b*q;b=a[11];y+=b*c;B+=b*d;C+=b*e;V+=b*f;W+=b*h;P+=b*n;ia+=b*l;Y+=b*m;E+=b*z;F+=b*r;K+=b*u;J+=b*w;I+=b*k;D+=b*R;H+=b*p;var L=b*q;b=a[12];B+=b*c;C+=b*d;V+=b*e;W+=b*f;P+=b*h;ia+=b*n;Y+=b*l;E+=b*m;F+=b*z;K+=b*
r;J+=b*u;I+=b*w;D+=b*k;H+=b*R;L+=b*p;var N=b*q;b=a[13];C+=b*c;V+=b*d;W+=b*e;P+=b*f;ia+=b*h;Y+=b*n;E+=b*l;F+=b*m;K+=b*z;J+=b*r;I+=b*u;D+=b*w;H+=b*k;L+=b*R;N+=b*p;var jh=b*q;b=a[14];V+=b*c;W+=b*d;P+=b*e;ia+=b*f;Y+=b*h;E+=b*n;F+=b*l;K+=b*m;J+=b*z;I+=b*r;D+=b*u;H+=b*w;L+=b*k;N+=b*R;jh+=b*p;var Dl=b*q;b=a[15];W+=b*c;ob+=38*(ia+b*e);X+=38*(Y+b*f);M+=38*(E+b*h);G+=38*(F+b*n);Aa+=38*(K+b*l);Ba+=38*(J+b*m);U+=38*(I+b*z);t+=38*(D+b*r);v+=38*(H+b*u);x+=38*(L+b*w);y+=38*(N+b*k);B+=38*(jh+b*R);C+=38*(Dl+b*p);
V+=38*b*q;b=wa+38*(P+b*d)+1+65535;a=Math.floor(b/65536);wa=b-65536*a;b=ob+a+65535;a=Math.floor(b/65536);ob=b-65536*a;b=X+a+65535;a=Math.floor(b/65536);X=b-65536*a;b=M+a+65535;a=Math.floor(b/65536);M=b-65536*a;b=G+a+65535;a=Math.floor(b/65536);G=b-65536*a;b=Aa+a+65535;a=Math.floor(b/65536);Aa=b-65536*a;b=Ba+a+65535;a=Math.floor(b/65536);Ba=b-65536*a;b=U+a+65535;a=Math.floor(b/65536);U=b-65536*a;b=t+a+65535;a=Math.floor(b/65536);t=b-65536*a;b=v+a+65535;a=Math.floor(b/65536);v=b-65536*a;b=x+a+65535;
a=Math.floor(b/65536);x=b-65536*a;b=y+a+65535;a=Math.floor(b/65536);y=b-65536*a;b=B+a+65535;a=Math.floor(b/65536);B=b-65536*a;b=C+a+65535;a=Math.floor(b/65536);C=b-65536*a;b=V+a+65535;a=Math.floor(b/65536);V=b-65536*a;b=W+a+65535;a=Math.floor(b/65536);W=b-65536*a;wa+=a-1+37*(a-1);b=wa+1+65535;a=Math.floor(b/65536);wa=b-65536*a;b=ob+a+65535;a=Math.floor(b/65536);ob=b-65536*a;b=X+a+65535;a=Math.floor(b/65536);X=b-65536*a;b=M+a+65535;a=Math.floor(b/65536);M=b-65536*a;b=G+a+65535;a=Math.floor(b/65536);
G=b-65536*a;b=Aa+a+65535;a=Math.floor(b/65536);Aa=b-65536*a;b=Ba+a+65535;a=Math.floor(b/65536);Ba=b-65536*a;b=U+a+65535;a=Math.floor(b/65536);U=b-65536*a;b=t+a+65535;a=Math.floor(b/65536);t=b-65536*a;b=v+a+65535;a=Math.floor(b/65536);v=b-65536*a;b=x+a+65535;a=Math.floor(b/65536);x=b-65536*a;b=y+a+65535;a=Math.floor(b/65536);y=b-65536*a;b=B+a+65535;a=Math.floor(b/65536);B=b-65536*a;b=C+a+65535;a=Math.floor(b/65536);C=b-65536*a;b=V+a+65535;a=Math.floor(b/65536);V=b-65536*a;b=W+a+65535;a=Math.floor(b/
65536);g[0]=wa+(a-1+37*(a-1));g[1]=ob;g[2]=X;g[3]=M;g[4]=G;g[5]=Aa;g[6]=Ba;g[7]=U;g[8]=t;g[9]=v;g[10]=x;g[11]=y;g[12]=B;g[13]=C;g[14]=V;g[15]=b-65536*a}function kh(g,a,b,c){g.generate=function(d,e){for(var f=new k.util.ByteBuffer,g=Math.ceil(e/c)+b,n=new k.util.ByteBuffer,l=b;l<g;++l){n.putInt32(l);a.start();a.update(d+n.getBytes());var m=a.digest();f.putBytes(m.getBytes(c))}f.truncate(f.length()-e);return f.getBytes()}}var Ga="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?
window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ea=E(function(g){function a(a){return function(b,c,e,g){function f(){for(l in b){var a=h(l);if(0===c.indexOf(a)&&(a=c.substr(a.length),"."===a.charAt(0)||0===a.length)){c=a.substr(1);a=b[l];if(null==a){n=!0;return}if(!c.length){n=!0;return}b=a;return}}l=void 0;n=!0}var h=g&&"function"===typeof g.normalizer?g.normalizer:d;c=h(c);for(var l,n=!1;!n;)f();if(l)return null==b?b:a(b,l,e)}}function b(a,b){a.hasOwnProperty(b)&&delete a[b];
return a}function c(a,b,c){a.hasOwnProperty(b)&&(a[b]=c);return a}.exports=a(;g.exports.find=g.exports;g.exports.replace=g.exports.del=),Jc=Fd=El=Array.prototype.splice;
Yb.prototype.clear=Yb.prototype["delete"]=Yb.prototype.get=Yb.prototype.has=Yb.prototype.set=var id=Yb,lh="object"==typeof Ga&&Ga&&Ga.Object===
Object&&Ga,Fl="object"==typeof self&&self&&self.Object===Object&&self,cb=lh||Fl||Function("return this")(),Ra=cb.Symbol,mh=Object.prototype,Gl=mh.hasOwnProperty,Hl=mh.toString,Kc=Ra?Ra.toStringTag:void 0,Il=Object.prototype.toString,nh=Ra?Ra.toStringTag:void 0,Ob=
Oa=oh=Re=cb["__core-js_shared__"],ph=),Jl=Function.prototype.toString,Pb=Kl=/^\[object .+?Constructor\]$/,
Ll=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qb=Lc=Qb(cb,"Map"),Mc=Qb(Object,"create"),Ml=Object.prototype.hasOwnProperty,Nl=Object.prototype.hasOwnProperty;Hb.prototype.clear=Hb.prototype["delete"]=
Hb.prototype.get=Hb.prototype.has=Hb.prototype.set=var Gd=function(g,a){g=g.__data__;var b=typeof a;return("string"==
b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a)?g["string"==typeof a?"string":"hash"]:g.map};Zb.prototype.clear=Zb.prototype["delete"]=Zb.prototype.get=function(g){return Gd(this,g).get(g)};Zb.prototype.has=Zb.prototype.set=var td=Zb;$b.prototype.clear=$b.prototype["delete"]=$b.prototype.get=function(g){return this.__data__.get(g)};$b.prototype.has=$b.prototype.set=var Ac=$b,ig=Hd=),qh=Ol=Object.prototype.hasOwnProperty,ld=Nc=kb=rh=function(g){return kb(g)&&"[object Arguments]"==Ob(g)},sh=Object.prototype,Pl=sh.hasOwnProperty,Ql=sh.propertyIsEnumerable,Se=rh(function(){return arguments}())?rh:xa=Array.isArray,Rl=function(){return!1},jd=E(,Sl=/^(?:0|[1-9]\d*)$/,Id=Te=S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=
!0;S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object Boolean]"]=S["[object DataView]"]=S["[object Date]"]=S["[object Error]"]=S["[object Function]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object WeakMap]"]=!1;var Tl=Ue=kc=E(,th=kc&&kc.isTypedArray,rg=th?Ue(th):Tl,Ul=Object.prototype.hasOwnProperty,uh=function(g,a){var b=xa(g),c=!b&&Se(g),d=!b&&!c&&jd(g),e=!b&&!c&&!d&&rg(g);if(b=b||c||d||e){c=g.length;for(var f=String,h=-1,n=Array(c);++h<c;)n[h]=f(h);c=n}else c=[];f=c.length;for(var l in g)!a&&!Ul.call(g,l)||b&&("length"==l||d&&("offset"==l||"parent"==
l)||e&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Id(l,f))||c.push(l);return c},Vl=Object.prototype,Jd=vh=Wl=vh(Object.keys,Object),Xl=Object.prototype.hasOwnProperty,Rb=qa=function(g){if(Rb(g))g=uh(g);else if(Jd(g)){var a=[],b;for(b in Object(g))Xl.call(g,b)&&"constructor"!=b&&a.push(b);g=a}else g=Wl(g);return g},
Bk=function(g,a){return g&&Nc(a,qa(a),g)},Yl=Object.prototype.hasOwnProperty,kd=function(g){if(Rb(g))g=uh(g,!0);else if(Oa(g)){var a=Jd(g),b=[];for(c in g)("constructor"!=c||!a&&Yl.call(g,c))&&b.push(c);g=b}else{var c=[];if(null!=g)for(a in Object(g))c.push(a);g=c}return g},zk=wk=E(function(g,a){var b=(a=a&&!a.nodeType&&a)&&g&&!g.nodeType&&g,c=(a=b&&b.exports===a?cb.Buffer:void 0)?a.allocUnsafe:void 0;g.exports=function(a,b){if(b)return a.slice();b=a.length;
b=c?c(b):new a.constructor(b);a.copy(b);return b}}),vk=Zl=wh=$l=Object.prototype.propertyIsEnumerable,xh=Object.getOwnPropertySymbols,Ve=xh?wh,Ak=function(g,a){return Nc(g,Ve(g),a)},ze=yh=vh(Object.getPrototypeOf,Object),zh=Object.getOwnPropertySymbols?wh,yk=Ah=te=function(g){return Ah(g,qa,Ve)},Fk=We=Qb(cb,"DataView"),Xe=Qb(cb,"Promise"),Ye=Qb(cb,"Set"),Ze=Qb(cb,"WeakMap"),am=Pb(We),bm=Pb(Lc),cm=Pb(Xe),dm=Pb(Ye),em=Pb(Ze),Sb=Ob;if(We&&"[object DataView]"!=
Sb(new We(new ArrayBuffer(1)))||Lc&&"[object Map]"!=Sb(new Lc)||Xe&&"[object Promise]"!=Sb(Xe.resolve())||Ye&&"[object Set]"!=Sb(new Ye)||Ze&&"[object WeakMap]"!=Sb(new Ze))Sb=var zc=Sb,fm=Object.prototype.hasOwnProperty,uk=Kd=cb.Uint8Array,$e=gm=/\w*$/,Bh=Ra?Ra.prototype:void 0,Ch=Bh?Bh.valueOf:void 0,Ck=function(g,a,b){var c=g.constructor;switch(a){case "[object ArrayBuffer]":return $e(g);case "[object Boolean]":case "[object Date]":return new c(+g);case "[object DataView]":return a=b?$e(g.buffer):g.buffer,new g.constructor(a,
g.byteOffset,g.byteLength);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return a=b?$e(g.buffer):g.buffer,new g.constructor(a,g.byteOffset,g.length);case "[object Map]":return new c;case "[object Number]":case "[object String]":return new c(g);case "[object RegExp]":return a=new g.constructor(g.source,
gm.exec(g)),a.lastIndex=g.lastIndex,a;case "[object Set]":return new c;case "[object Symbol]":return Ch?Object(Ch.call(g)):{}}},Dh=Object.create,hm=),xk=im=function(g){return kb(g)&&"[object Map]"==zc(g)},Eh=kc&&kc.isMap,Ek=Eh?Ue(Eh):im,jm=Fh=kc&&
kc.isSet,Dk=Fh?Ue(Fh):jm,Q={};Q["[object Arguments]"]=Q["[object Array]"]=Q["[object ArrayBuffer]"]=Q["[object DataView]"]=Q["[object Boolean]"]=Q["[object Date]"]=Q["[object Float32Array]"]=Q["[object Float64Array]"]=Q["[object Int8Array]"]=Q["[object Int16Array]"]=Q["[object Int32Array]"]=Q["[object Map]"]=Q["[object Number]"]=Q["[object Object]"]=Q["[object RegExp]"]=Q["[object Set]"]=Q["[object String]"]=Q["[object Symbol]"]=Q["[object Uint8Array]"]=Q["[object Uint8ClampedArray]"]=Q["[object Uint16Array]"]=
Q["[object Uint32Array]"]=!0;Q["[object Error]"]=Q["[object Function]"]=Q["[object WeakMap]"]=!1;let km={Salesforce:!0};var Gh=Object.prototype,Hh=Gh.hasOwnProperty,Ca=Gh.toString;if("function"===typeof Symbol)var lm=Symbol.prototype.valueOf;if("function"===typeof BigInt)var mm=BigInt.prototype.valueOf;var nm={"boolean":1,number:1,string:1,undefined:1},om=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,pm=/^[A-Fa-f0-9]+$/,v={};v.a=v.type=v.defined=v.empty=function(g){var a=Ca.call(g),b;if("[object Array]"===a||"[object Arguments]"===a||"[object String]"===a)return 0===g.length;if("[object Object]"===a){for(b in g)if(Hh.call(g,b))return!1;return!0}return!g};v.equal=function(g,a){if(g===a)return!0;var b=Ca.call(g);if(b!==Ca.call(a))return!1;if("[object Object]"===b){for(c in g)if(!(v.equal(g[c],a[c])&&c in a))return!1;for(c in a)if(!(v.equal(g[c],a[c])&&c in g))return!1;return!0}if("[object Array]"===
b){var c=g.length;if(c!==a.length)return!1;for(;c--;)if(!v.equal(g[c],a[c]))return!1;return!0}return"[object Function]"===b?g.prototype===a.prototype:"[object Date]"===b?g.getTime()===a.getTime():!1};v.hosted=v.instance=v["instanceof"]=v.nil=v["null"]=v.undef=v.undefined=v.args=v.arguments=function(g){var a="[object Arguments]"===
Ca.call(g);g=!v.array(g)&&v.arraylike(g)&&v.object(g)&&v.fn(g.callee);return a||g};v.array=Array.isArray||function(g){return"[object Array]"===Ca.call(g)};v.args.empty=function(g){return v.args(g)&&0===g.length};v.array.empty=v.arraylike=v.bool=v["boolean"]=function(g){return"[object Boolean]"===Ca.call(g)};v["false"]=function(g){return v.bool(g)&&
!1===!!Number(g)};v["true"]=function(g){return v.bool(g)&&!0===!!Number(g)};v.date=function(g){return"[object Date]"===Ca.call(g)};v.date.valid=v.element=v.error=function(g){return"[object Error]"===Ca.call(g)};v.fn=v["function"]=function(g){if("undefined"!==typeof window&&g===window.alert)return!0;g=Ca.call(g);return"[object Function]"===g||"[object GeneratorFunction]"===
g||"[object AsyncFunction]"===g};v.number=function(g){return"[object Number]"===Ca.call(g)};v.infinite=function(g){return Infinity===g||-Infinity===g};v.decimal=function(g){return v.number(g)&&g===g&&!v.infinite(g)&&0!==g%1};v.divisibleBy=function(g,a){var b=v.infinite(g),c=v.infinite(a),d=v.number(g)&&g===g&&v.number(a)&&a===a&&0!==a;return b||c||d&&0===g%a};v.integer=v["int"]=function(g){return v.number(g)&&g===g&&0===g%1};v.maximum=function(g,a){if(g!==g)throw new TypeError("NaN is not a valid value");
if(!v.arraylike(a))throw new TypeError("second argument must be array-like");for(var b=a.length;0<=--b;)if(g<a[b])return!1;return!0};v.minimum=function(g,a){if(g!==g)throw new TypeError("NaN is not a valid value");if(!v.arraylike(a))throw new TypeError("second argument must be array-like");for(var b=a.length;0<=--b;)if(g>a[b])return!1;return!0};v.nan=v.even=function(g){return v.infinite(g)||v.number(g)&&g===g&&0===g%2};v.odd=function(g){return v.infinite(g)||
v.number(g)&&g===g&&0!==g%2};v.ge=function(g,a){if(g!==g||a!==a)throw new TypeError("NaN is not a valid value");return!v.infinite(g)&&!v.infinite(a)&&g>=a};v.gt=function(g,a){if(g!==g||a!==a)throw new TypeError("NaN is not a valid value");return!v.infinite(g)&&!v.infinite(a)&&g>a};v.le=function(g,a){if(g!==g||a!==a)throw new TypeError("NaN is not a valid value");return!v.infinite(g)&&!v.infinite(a)&&g<=a};v.lt=function(g,a){if(g!==g||a!==a)throw new TypeError("NaN is not a valid value");return!v.infinite(g)&&
!v.infinite(a)&&g<a};v.within=function(g,a,b){if(g!==g||a!==a||b!==b)throw new TypeError("NaN is not a valid value");if(!v.number(g)||!v.number(a)||!v.number(b))throw new TypeError("all arguments must be numbers");return v.infinite(g)||v.infinite(a)||v.infinite(b)||g>=a&&g<=b};v.object=function(g){return"[object Object]"===Ca.call(g)};v.primitive=function(g){return g?"object"===typeof g||v.object(g)||v.fn(g)||v.array(g)?!1:!0:!0};v.hash=v.regexp=function(g){return"[object RegExp]"===Ca.call(g)};v.string=v.base64=function(g){return v.string(g)&&(!g.length||om.test(g))};v.hex=v.symbol=function(g){return"function"===typeof Symbol&&"[object Symbol]"===Ca.call(g)&&"symbol"===typeof lm.call(g)};v.bigint=function(g){return"function"===typeof BigInt&&"[object BigInt]"===Ca.call(g)&&"bigint"===typeof mm.call(g)};var Ih=
/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/,Jh={parse:function(g){var a=[1,5,6,7,11,12],b=Ih.exec(g),c=0;if(!b)return new Date(g);g=0;for(var d;d=a[g];g++)b[d]=parseInt(b[d],10)||0;b[2]=parseInt(b[2],10)||1;b[3]=parseInt(b[3],10)||1;b[2]--;b[8]=b[8]?(b[8]+"00").substring(0,3):0;" "===b[4]?c=(new Date).getTimezoneOffset():"Z"!==b[9]&&b[10]&&(c=60*b[11]+b[12],"+"===b[10]&&(c=0-c));a=Date.UTC(b[1],b[2],b[3],b[5],
b[6]+c,b[7],b[8]);return new Date(a)},is:function(g,a){return a&&!1===/^\d{4}-\d{2}-\d{2}/.test(g)?!1:Ih.test(g)}},qm=/\d{13}/,Kh={is:function(g){return qm.test(g)},parse:,rm=/\d{10}/,Lh={is:function(g){return rm.test(g)},parse:function(g){g=1E3*parseInt(g,10);return new Date(g)}},nd=function(g){if(v.date(g))return g;if(v.number(g)){var a=Date;return new a(315576E5>g?1E3*g:g)}return Jh.is(g)?Jh.parse(g):Kh.is(g)?Kh.parse(g):Lh.is(g)?Lh.parse(g):new Date(g)},
sm=Object.prototype.toString,ha=function(g){switch(sm.call(g)){case "[object Date]":return"date";case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array";case "[object Error]":return"error"}if(null===g)return"null";if(void 0===g)return"undefined";if(g!==g)return"nan";if(g&&1===g.nodeType)return"element";if(null!=g&&(g._isBuffer||g.constructor&&"function"===typeof g.constructor.isBuffer&&g.constructor.isBuffer(g)))return"buffer";g=g.valueOf?
g.valueOf():Object.prototype.valueOf.apply(g);return typeof g},tm=Object.prototype.toString,um=/\b(Array|Date|Object|Math|JSON)\b/g,Mh=function(g,a){for(var b=g.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(um,"").match(/[a-zA-Z_]\w*/g)||[],c=[],d=0;d<b.length;d++)~c.indexOf(b[d])||c.push(b[d]);a&&"string"==typeof a&&(a=Hk(a));return a?Gk(g,c,a):c};try{var kg=Mh}catch(g){kg=Mh}var vm=wm=Object.prototype.hasOwnProperty,ve=function(g,a,b){a=jg(a);b=b||this;switch(vm(g)){case "array":var c=a;for(a=0;a<g.length;++a)c.call(b,g[a],a);break;case "object":if("number"==typeof g.length){c=a;for(a=0;a<g.length;++a)c.call(b,g[a],
a);break}for(c in g)wm.call(g,c)&&a.call(b,c,g[c]);break;case "string":for(c=a,a=0;a<g.length;++a)c.call(b,g.charAt(a),a)}},Nh=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/,md={parse:function(g){var a=[1,5,6,7,11,12],b=Nh.exec(g),c=0;if(!b)return new Date(g);g=0;for(var d;d=a[g];g++)b[d]=parseInt(b[d],10)||0;b[2]=parseInt(b[2],10)||1;b[3]=parseInt(b[3],10)||1;b[2]--;b[8]=b[8]?(b[8]+"00").substring(0,3):0;" "===
b[4]?c=(new Date).getTimezoneOffset():"Z"!==b[9]&&b[10]&&(c=60*b[11]+b[12],"+"===b[10]&&(c=0-c));a=Date.UTC(b[1],b[2],b[3],b[5],b[6]+c,b[7],b[8]);return new Date(a)},is:function(g,a){return"string"!==typeof g||a&&!1===/^\d{4}-\d{2}-\d{2}/.test(g)?!1:Nh.test(g)}},mg=ue;let Z=B.prototype;Z.proxy=function(g){let a=g.split(".");g=a.shift();g=this[g]||this.field(g);if(!g)return g;"function"===typeof g&&(g=g.call(this)||{});if(0===a.length)return this.opts.clone?ma(g,5):g;g=ea(g,a.join("."));return this.opts.clone?
ma(g,5):g};Z.field=function(g){g=this.obj[g];return this.opts.clone?ma(g,5):g};B.proxy=function(g){return function(){return this.proxy(g)}};B.field=B.multi=function(g){return function(){var a=this.proxy(g+"s");if(Array.isArray(a))return a;(a=this.proxy(g))&&(a=[this.opts.clone?ma(a,5):a]);return a||[]}};B.one=function(g){return function(){var a=this.proxy(g);if(a)return a;a=this.proxy(g+"s");if(Array.isArray(a))return a[0]}};Z.json=function(){let g=
this.opts.clone?ma(this.obj,5):this.obj;this.type&&(g.type=this.type());return g};Z.options=function(g){var a=this.obj.options||this.obj.context||{};a=this.opts.clone?ma(a,5):a;if(!g)return a;if(this.enabled(g))return a=this.integrations(),a=a[g]||ea(a,g),"object"!==typeof a&&(a=ea(this.options(),g)),"object"===typeof a?a:{}};Z.context=Z.options;Z.enabled=function(g){var a=this.proxy("options.providers.all");"boolean"!==typeof a&&(a=this.proxy("options.all"));"boolean"!==typeof a&&(a=this.proxy("integrations.all"));
"boolean"!==typeof a&&(a=!0);a=a&&!km[g];let b=this.integrations();b.providers&&b.providers.hasOwnProperty(g)&&(a=b.providers[g]);b.hasOwnProperty(g)&&(g=b[g],a="boolean"===typeof g?g:!0);return!!a};Z.integrations=Z.active=function(){let g=this.proxy("options.active");if(null===g||void 0===g)g=!0;return g};Z.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};Z.sessionId=Z.anonymousId;
Z.groupId=B.proxy("options.groupId");Z.traits=function(g){let a=this.proxy("options.traits")||{};var b=this.userId();g=g||{};b&&(a.id=b);for(let c in g)b=null==this[c]?this.proxy("options.traits."+c):this[c](),null!=b&&(a[g[c]]=b,delete a[c]);return a};Z.library=Z.device=function(){let g=this.proxy("context.device");"object"!==typeof g&&(g={});let a=this.library().name;
if(g.type)return g;-1<a.indexOf("ios")&&(g.type="ios");-1<a.indexOf("android")&&(g.type="android");return g};Z.userAgent=B.proxy("context.userAgent");Z.timezone=B.proxy("context.timezone");Z.timestamp=B.field("timestamp");Z.channel=B.field("channel");Z.ip=B.proxy("context.ip");Z.userId=B.field("userId");(function(g){g.zip=Xb("postalCode","zip");g.country=Xb("country");g.street=Xb("street");g.state=Xb("state");g.city=Xb("city");g.region=Xb("region")})(Z);var pb=E(function(g){g.exports="function"===
typeof Object.create?);pb(Pa,B);Pa.prototype.action=function(){return"alias"};Pa.prototype.type=Pa.prototype.action;Pa.prototype.previousId=function(){return this.field("previousId")||this.field("from")};Pa.prototype.from=Pa.prototype.previousId;
Pa.prototype.userId=function(){return this.field("userId")||this.field("to")};Pa.prototype.to=Pa.prototype.userId;let Ld=/.+@.+\..+/;pb(od,B);let Wa=od.prototype;Wa.action=function(){return"group"};Wa.type=Wa.action;Wa.groupId=B.field("groupId");Wa.created=Wa.email=function(){var g=this.proxy("traits.email");if(g)return g;g=this.groupId();
if(Ld.test(g))return g};Wa.traits=function(g){var a=this.properties(),b=this.groupId();g=g||{};b&&(a.id=b);for(var c in g)b=null==this[c]?this.proxy("traits."+c):this[c](),null!=b&&(a[g[c]]=b,delete a[c]);return a};Wa.name=B.proxy("traits.name");Wa.industry=B.proxy("traits.industry");Wa.employees=B.proxy("traits.employees");Wa.properties=pb(Bc,B);let T=Bc.prototype;T.action=function(){return"identify"};T.type=T.action;T.traits=
function(g){let a=this.field("traits")||{};var b=this.userId();g=g||{};b&&(a.id=b);for(let c in g)b=null==this[c]?this.proxy("traits."+c):this[c](),null!=b&&(a[g[c]]=b,c!==g[c]&&delete a[c]);return a};T.email=function(){var g=this.proxy("traits.email");if(g)return g;g=this.userId();if(Ld.test(g))return g};T.created=function(){let g=this.proxy("traits.created")||this.proxy("traits.createdAt");if(g)return nd(g)};T.companyCreated=T.companyName=T.name=function(){var g=this.proxy("traits.name");if("string"===typeof g)return g.trim();g=this.firstName();let a=this.lastName();if(g&&a)return(g+" "+a).trim()};T.firstName=function(){var g=this.proxy("traits.firstName");if("string"===typeof g)return g.trim();g=this.proxy("traits.name");if("string"===typeof g)return g.trim().split(" ")[0]};T.lastName=function(){var g=this.proxy("traits.lastName");if("string"===
typeof g)return g.trim();g=this.proxy("traits.name");if("string"===typeof g){var a=g.trim().indexOf(" ");if(-1!==a)return g.substr(a+1).trim()}};T.uid=T.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};T.age=function(){let g=this.birthday(),a=ea(this.traits(),"age");if(null!=a)return a;if(g instanceof Date)return(new Date).getFullYear()-g.getFullYear()};T.avatar=T.position=T.username=B.proxy("traits.username");T.website=B.one("traits.website");T.websites=B.multi("traits.website");T.phone=B.one("traits.phone");T.phones=B.multi("traits.phone");T.address=B.proxy("traits.address");T.gender=B.proxy("traits.gender");T.birthday=B.proxy("traits.birthday");pb(ac,B);let I=ac.prototype;I.action=function(){return"track"};I.type=I.action;
I.event=B.field("event");I.value=B.proxy("properties.value");I.category=B.proxy("properties.category");I.id=B.proxy("properties.id");I.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};I.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};I.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};I.checkoutId=function(){return this.proxy("properties.checkout_id")||
this.proxy("properties.checkoutId")};I.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};I.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};I.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};I.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};I.orderId=function(){return this.proxy("properties.id")||
this.proxy("properties.order_id")||this.proxy("properties.orderId")};I.sku=B.proxy("properties.sku");I.tax=B.proxy("properties.tax");I.name=B.proxy("properties.name");I.price=B.proxy("properties.price");I.total=B.proxy("properties.total");I.repeat=B.proxy("properties.repeat");I.coupon=B.proxy("properties.coupon");I.shipping=B.proxy("properties.shipping");I.discount=B.proxy("properties.discount");I.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};
I.paymentMethod=I.description=B.proxy("properties.description");I.plan=B.proxy("properties.plan");I.subtotal=function(){var g=ea(this.properties(),"subtotal");let a=this.total()||this.revenue();if(g)return g;if(!a)return 0;this.total()&&((g=this.tax())&&(a-=g),(g=this.shipping())&&(a-=g),(g=this.discount())&&(a+=g));return a};I.products=function(){var g=this.properties();g=ea(g,"products");return Array.isArray(g)?
g:[]};I.quantity=function(){return(this.obj.properties||{}).quantity||1};I.currency=I.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};I.query=B.proxy("options.query");I.properties=function(g){let a=this.field("properties")||{};g=g||{};for(let b in g){let c=null==this[b]?this.proxy("properties."+b):this[b]();null!=c&&(a[g[b]]=c,delete a[b])}return a};I.username=
I.email=function(){var g=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(g)return g;g=this.userId();if(Ld.test(g))return g};I.revenue=function(){var g=this.proxy("properties.revenue");let a=this.event(),b=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;!g&&a&&a.match(b)&&(g=this.proxy("properties.total"));a:{if(g){if("number"===
typeof g)break a;if("string"===typeof g&&(g=g.replace(/\$/g,""),g=parseFloat(g),!isNaN(g)))break a}g=void 0}return g};I.cents=I.identify=pb(Cc,B);let Ha=Cc.prototype;Ha.action=function(){return"page"};Ha.type=Ha.action;Ha.category=B.field("category");Ha.name=B.field("name");Ha.title=B.proxy("properties.title");Ha.path=B.proxy("properties.path");
Ha.url=B.proxy("properties.url");Ha.referrer=Ha.properties=function(g){let a=this.field("properties")||{};var b=this.category();let c=this.name();g=g||{};b&&(a.category=b);c&&(a.name=c);for(let c in g)b=null==this[c]?this.proxy("properties."+c):this[c](),null!=b&&(a[g[c]]=b,c!==g[c]&&delete a[c]);return a};Ha.email=function(){var g=this.proxy("context.traits.email")||this.proxy("properties.email");
if(g)return g;g=this.userId();if(Ld.test(g))return g};Ha.fullName=Ha.event=function(g){return g?"Viewed "+g+" Page":"Loaded a Page"};Ha.track=function(g){let a=this.json();a.event=this.event(g);a.timestamp=this.timestamp();a.properties=this.properties();return new ac(a,this.opts)};pb(vb,Cc);vb.prototype.action=function(){return"screen"};vb.prototype.type=vb.prototype.action;vb.prototype.event=vb.prototype.track=pb(pd,B);pd.prototype.type=function(){return"delete"};var xm=Object.freeze({__proto__:null,"default":{...B,Alias:Pa,Group:od,Identify:Bc,Track:ac,Page:Cc,Screen:vb,Delete:pd},Facade:B,Alias:Pa,Group:od,Identify:Bc,Track:ac,Page:Cc,Screen:vb,Delete:pd}),Md=E(function(g){function a(b){if(b){for(var c in a.prototype)b[c]=a.prototype[c];
return b}}g.exports=a;a.prototype.on=a.prototype.addEventListener=a.prototype.once=a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,c){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks=
{},this;var b=this._callbacks["$"+a];if(!b)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var e,f=0;f<b.length;f++)if(e=b[f],e===c||e.fn===c){b.splice(f,1);break}0===b.length&&delete this._callbacks["$"+a];return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var b=Array(arguments.length-1),d=this._callbacks["$"+a],e=1;e<arguments.length;e++)b[e-1]=arguments[e];if(d){d=d.slice(0);e=0;for(var f=d.length;e<f;++e)d[e].apply(this,b)}return this};
a.prototype.listeners=a.prototype.hasListeners=),ym=Object.prototype.toString,zm=function(g){var a=typeof g;return"number"===a||"object"===a&&"[object Number]"===ym.call(g)},af=[,Am=function(g,a){if("function"!==typeof a)throw new TypeError("Expected a function but got "+typeof a);g=Math.max(zm(g)?g:0,0);if(!af[g]){var b=g;var c=g;for(var d=[],e=1;e<=c;e+=1)d.push("arg"+e);c=d.join(", ");c="".concat("  return function(",c,") {\n","    return func.apply(this, arguments);\n","  };");c=new Function("func",
c);af[b]=c}return af[g](a)},Bm=Object.prototype.toString,Cm=Oh=function(g,a){if(!Cm(g))throw new TypeError("Expected a number but received "+typeof g);if("function"!==typeof a)throw new TypeError("Expected a function but received "+typeof a);var b=0;return Am(a.length,function(){b+=1;if(!(b<g))return a.apply(this,arguments)})},Ph=[].slice,bf=function(g,a){"string"==typeof a&&(a=g[a]);if("function"!=typeof a)throw Error("bind() requires a function");
var b=Ph.call(arguments,2);return ,Jb=function(g){for(var a in g)"function"===typeof g[a]&&(g[a]=bf(g,g[a]));return g},Nd=Object.prototype.hasOwnProperty,Qh=Object.prototype.toString,Rh=Object.defineProperty,Sh=Object.getOwnPropertyDescriptor,Th=Uh=function(g){if(!g||"[object Object]"!==Qh.call(g))return!1;var a=Nd.call(g,"constructor"),b=g.constructor&&
g.constructor.prototype&&Nd.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!a&&!b)return!1;for(var c in g);return"undefined"===typeof c||Nd.call(g,c)},Vh=Wh=Oc=function a(){var b,c,d=arguments[0],e=1,f=arguments.length,h=!1;"boolean"===typeof d&&(h=d,
d=arguments[1]||{},e=2);if(null==d||"object"!==typeof d&&"function"!==typeof d)d={};for(;e<f;++e){var n=arguments[e];if(null!=n)for(b in n){var l=Wh(d,b);var m=Wh(n,b);d!==m&&(h&&m&&(Uh(m)||(c=Th(m)))?(c?(c=!1,l=l&&Th(l)?l:[]):l=l&&Uh(l)?l:{},Vh(d,{name:b,newValue:a(h,l,m)})):"undefined"!==typeof m&&Vh(d,{name:b,newValue:m}))}}return d},Dm=function(a,b){b=b||{};var c=typeof a;if("string"===c&&0<a.length)return Nk(a);if("number"===c&&isFinite(a))return b.long?(b=Math.abs(a),a=864E5<=b?qd(a,b,864E5,
"day"):36E5<=b?qd(a,b,36E5,"hour"):6E4<=b?qd(a,b,6E4,"minute"):1E3<=b?qd(a,b,1E3,"second"):a+" ms"):(b=Math.abs(a),a=864E5<=b?Math.round(a/864E5)+"d":36E5<=b?Math.round(a/36E5)+"h":6E4<=b?Math.round(a/6E4)+"m":1E3<=b?Math.round(a/1E3)+"s":a+"ms"),a;throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a));},Em=function(a){function b(a){function d(...a){if(d.enabled){var c=Number(new Date);d.diff=c-(e||c);d.prev=e;e=d.curr=c;a[0]=b.coerce(a[0]);"string"!==typeof a[0]&&
a.unshift("%O");var f=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(c,e)=>{if("%%"===c)return"%";f++;e=b.formatters[e];"function"===typeof e&&(c=e.call(d,a[f]),a.splice(f,1),f--);return c});b.formatArgs.call(d,a);(d.log||b.log).apply(d,a)}}let e,n=null,l,m;d.namespace=a;d.useColors=b.useColors();d.color=b.selectColor(a);d.extend=c;d.destroy=b.destroy;Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(null!==n)return n;l!==b.namespaces&&(l=b.namespaces,m=b.enabled(a));return m},set:);"function"===typeof b.init&&b.init(d);return d}function c(a,c){a=b(this.namespace+("undefined"===typeof c?":":c)+a);a.log=this.log;return a}.debug=b;b.default=b;b.coerce=b.disable=function(){let a=[...b.names.map(d),...b.skips.map(d).map(].join();b.enable("");return a};b.enable=function(a){b.save(a);b.namespaces=a;b.names=[];b.skips=
[];let c,d=("string"===typeof a?a:"").split(/[\s,]+/),e=d.length;for(c=0;c<e;c++)d[c]&&(a=d[c].replace(/\*/g,".*?"),"-"===a[0]?b.skips.push(new RegExp("^"+a.slice(1)+"$")):b.names.push(new RegExp("^"+a+"$")))};b.enabled=function(a){if("*"===a[a.length-1])return!0;let c,d;c=0;for(d=b.skips.length;c<d;c++)if(b.skips[c].test(a))return!1;c=0;for(d=b.names.length;c<d;c++)if(b.names[c].test(a))return!0;return!1};b.humanize=Dm;b.destroy=
Object.keys(a).forEach(;b.names=[];b.skips=[];b.formatters={};b.selectColor=b.enable(b.load());return b},Ka=E(function(a,b){b.formatArgs=function(b){b[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+b[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff);if(this.useColors){var c="color: "+this.color;b.splice(1,0,c,"color: inherit");
var d=0,h=0;b[0].replace(/%[a-zA-Z%]/g,;b.splice(h,0,c)}};b.save=b.load=b.useColors=function(){return"undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs)?!0:"undefined"!==typeof navigator&&
navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!==typeof navigator&&
navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)};a:{try{var c=localStorage;break a}catch(d){}c=void 0}b.storage=c;b.destroy=(();b.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" ");
b.log=console.debug||console.log||(;a.exports=Em(b);({formatters:c}=a.exports);c.j=),qg=Ka("cookie"),Tb=function(a,b,c){switch(arguments.length){case 3:case 2:var d=c||{};var e=pg(a)+"="+pg(b);null==b&&(d.maxage=-1);d.maxage&&(d.expires=new Date(+new Date+d.maxage));d.path&&(e+="; path="+d.path);d.domain&&(e+="; domain="+d.domain);d.expires&&(e+="; expires="+d.expires.toUTCString());d.secure&&
(e+="; secure");document.cookie=e;break;case 1:return ng()[a];default:return ng()}},Od=function(a){return a},Fm=Xh=Math.max,Yh=function(a,b,c){b=Xh(void 0===b?a.length-1:b,0);return ,Gm=Hm=Date.now,Zh=Hd?Od),$h=ai=function(a,b,c){if(!Oa(c))return!1;var d=typeof b;return("number"==d?Rb(c)&&Id(b,c.length):"string"==d&&b in c)?Jc(c[b],a):!1},bi=
Object.prototype,Im=bi.hasOwnProperty,Ia=$h(function(a,b){a=Object(a);var c=-1,d=b.length,e=2<d?b[2]:void 0;for(e&&ai(b[0],b[1],e)&&(d=1);++c<d;){e=b[c];for(var f=kd(e),h=-1,n=f.length;++h<n;){var l=f[h],m=a[l];if(void 0===m||Jc(m,bi[l])&&!Im.call(a,l))a[l]=e[l]}}return a}),ci=E(function(a,b){b.parse=function(a){var b=document.createElement("a");b.href=a;a=b.href;var c=b.host||location.host;if("0"===b.port||""===b.port)a:switch(b.protocol){case "http:":var f=80;break a;case "https:":f=443;break a;
default:f=location.port}else f=b.port;return{href:a,host:c,port:f,hash:b.hash,hostname:b.hostname||location.hostname,pathname:"/"!=b.pathname.charAt(0)?"/"+b.pathname:b.pathname,protocol:b.protocol&&":"!=b.protocol?b.protocol:location.protocol,search:b.search,query:b.search.slice(1)}};b.isAbsolute=b.isRelative=b.isCrossDomain=),di=E(function(a,b){function c(a){var c=b.cookie;a=b.levels(a);for(var d=0;d<a.length;++d){var e=a[d],l={domain:"."+e};c("__tld__",1,l);if(c("__tld__"))return c("__tld__",null,l),e}return""}var d=ci.parse;c.levels=function(a){a=d(a).hostname.split(".");var b=a[a.length-1],c=[];if(4===a.length&&b===parseInt(b,10)||1>=a.length)return c;for(b=a.length-2;0<=b;--b)c.push(a.slice(b).join("."));return c};c.cookie=Tb;b=a.exports=c}),Jm=Ka("data-api.js:cookie");
wb.prototype.options=function(a){if(0===arguments.length)return this._options;a=a||{};var b="."+(window.location?di(window.location.href):"");"."===b&&(b=null);this._options=Ia(a,{maxage:31536E6,path:"/",domain:b});this.set("ajs:test",!0);this.get("ajs:test")||(Jm("fallback to domain=null"),this._options.domain=null);this.remove("ajs:test")};wb.prototype.set=function(a,b){try{return b=window.JSON.stringify(b),Tb(a,b,ma(this._options,5)),!0}catch(c){return!1}};wb.prototype.set_raw=function(a,b){try{return Tb(a,
b,ma(this._options,5)),!0}catch(c){return!1}};wb.prototype.get=wb.prototype.get_raw=function(a){try{var b=Tb(a);return b?b:null}catch(c){return null}};wb.prototype.remove=function(a){try{return Tb(a,null,ma(this._options,5)),!0}catch(b){return!1}};var ya=Jb(new wb);ya.Cookie=wb;var Pd=E(function(a,b){(function(){function c(a,b){unction h(a){if(null!=h[a])return h[a];if("bug-string-char-index"==
a)var c=!1;else if("json"==a)c=h("json-stringify")&&h("date-serialization")&&h("json-parse");else if("date-serialization"==a){if(c=h("json-stringify")&&U){var d=b.stringify;e(}}else{var f;if("json-stringify"==a){d=b.stringify;var m="function"==typeof d;m&&((f=.toJSON=
f,e(function(){m="0"===d(0)&&"0"===d(new l)&&'""'==d(new n)&&d(G)===q&&d(q)===q&&d()===q&&"1"===d(f)&&"[1]"==d([f])&&"[null]"==d([q])&&"null"==d(null)&&"[null,null,null]"==d([q,G,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[f,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===d(null,f)&&"[\n 1,\n 2\n]"==d([1,2],null,1)},function(){m=!1}));c=m}if("json-parse"==a){var z=b.parse,k;"function"==typeof z&&e(function(){0===z("0")&&!z(!1)&&(f=z('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),
k=5==f.a.length&&1===f.a[0])&&(e(,k&&e(function(){k=1!==z("01")}),k&&e()},;c=k}}return h[a]=!!c}a||(a=f.Object());b||(b=f.Object());var l=a.Number||f.Number,n=a.String||f.String,m=a.Object||f.Object,u=a.Date||f.Date,z=a.SyntaxError||f.SyntaxError,k=a.TypeError||f.TypeError,r=a.Math||f.Math;a=a.JSON||f.JSON;"object"==typeof a&&a&&(b.stringify=a.stringify,b.parse=a.parse);m=m.prototype;var G=m.toString,p=m.hasOwnProperty,q,U=new u(-0xc782b5b800cec);
e(;h["bug-string-char-index"]=h["date-serialization"]=h.json=h["json-stringify"]=h["json-parse"]=null;if(!h("json")){var t=h("bug-string-char-index"),v=function(a,b){var c=0,e,f;(e=.prototype.valueOf=0;var h=new e;for(f in h)p.call(h,f)&&c++;e=h=null;c?v=(h="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),v=function(a,b){var c="[object Function]"==G.call(a),e,f=!c&&"function"!=typeof a.constructor&&d[typeof a.hasOwnProperty]&&a.hasOwnProperty||p;for(e in a)c&&"prototype"==e||!f.call(a,e)||b(e);for(c=h.length;e=h[--c];)f.call(a,e)&&b(e)});return v(a,b)};if(!h("json-stringify")&&
!h("date-serialization")){var x={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},y=B=function(a){var b,c,d,e,f,h,l,m;if(U)var n=else{var u=r.floor,z=[0,31,59,90,120,151,181,212,243,273,304,334],k=n=B=function(a){a>-1/0&&a<1/0?(n(a),a=(0>=b||1E4<=b?(0>b?"-":"+")+y(6,0>b?-b:b):y(4,b))+"-"+y(2,c+1)+"-"+y(2,d)+"T"+y(2,f)+":"+y(2,h)+":"+y(2,l)+"."+y(3,m)+"Z",b=c=d=f=h=l=m=null):a=null;return a};return B(a)};if(h("json-stringify")&&!h("date-serialization")){var C=
V=b.stringify;b.stringify=function(a,b,c){var d=u.prototype.toJSON;u.prototype.toJSON=C;a=V(a,b,c);u.prototype.toJSON=d;return a}}else{var W=function(a){a=a.charCodeAt(0);var b=x[a];return b?b:"\\u00"+y(2,a.toString(16))},P=/[\x00-\x1f\x22\x5c]/g,E=Y=function(a,b,c,d,f,h,l){var m,n;e(;"object"==typeof m&&m&&(m.getUTCFullYear&&"[object Date]"==G.call(m)&&m.toJSON===u.prototype.toJSON?m=B(m):"function"==typeof m.toJSON&&
(m=m.toJSON(a)));c&&(m=c.call(b,a,m));if(m==q)return m===q?m:"null";var z=typeof m;"object"==z&&(n=G.call(m));switch(n||z){case "boolean":case "[object Boolean]":return""+m;case "number":case "[object Number]":return m>-1/0&&m<1/0?""+m:"null";case "string":case "[object String]":return E(""+m)}if("object"==typeof m){for(z=l.length;z--;)if(l[z]===m)throw k();l.push(m);var r=[];var w=h;h+=f;if("[object Array]"==n){var A=0;for(z=m.length;A<z;A++)n=Y(A,m,c,d,f,h,l),r.push(n===q?"null":n);z=r.length?f?
"[\n"+h+r.join(",\n"+h)+"\n"+w+"]":"["+r.join(",")+"]":"[]"}else v(d||m,,z=r.length?f?"{\n"+h+r.join(",\n"+h)+"\n"+w+"}":"{"+r.join(",")+"}":"{}";l.pop();return z}};b.stringify=function(a,b,c){var e;if(d[typeof b]&&b){var f=G.call(b);if("[object Function]"==f)var h=b;else if("[object Array]"==f){var l={};for(var m=0,n=b.length,u;m<n;)if(u=b[m++],f=G.call(u),"[object String]"==f||"[object Number]"==f)l[u]=1}}if(c)if(f=G.call(c),
"[object Number]"==f){if(0<(c-=c%1))for(10<c&&(c=10),e="";e.length<c;)e+=" "}else"[object String]"==f&&(e=10>=c.length?c:c.slice(0,10));return Y("",(u={},u[""]=a,u),h,l,e,"",[])}}}if(!h("json-parse")){var F=n.fromCharCode,J={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},K,I,D=H=function(){for(var a=I,b=a.length,c,d,e,f,h;K<b;)switch(h=a.charCodeAt(K),h){case 9:case 10:case 13:case 32:K++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=
t?a.charAt(K):a[K],K++,c;case 34:c="@";for(K++;K<b;)if(h=a.charCodeAt(K),32>h)D();else if(92==h)switch(h=a.charCodeAt(++K),h){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=J[h];K++;break;case 117:d=++K;for(e=K+4;K<e;K++)h=a.charCodeAt(K),48<=h&&57>=h||97<=h&&102>=h||65<=h&&70>=h||D();c+=F("0x"+a.slice(d,K));break;default:D()}else{if(34==h)break;h=a.charCodeAt(K);for(d=K;32<=h&&92!=h&&34!=h;)h=a.charCodeAt(++K);c+=a.slice(d,K)}if(34==a.charCodeAt(K))return K++,c;D();default:d=
K;45==h&&(f=!0,h=a.charCodeAt(++K));if(48<=h&&57>=h){for(48==h&&(h=a.charCodeAt(K+1),48<=h&&57>=h)&&D();K<b&&(h=a.charCodeAt(K),48<=h&&57>=h);K++);if(46==a.charCodeAt(K)){for(e=++K;e<b&&!(h=a.charCodeAt(e),48>h||57<h);e++);e==K&&D();K=e}h=a.charCodeAt(K);if(101==h||69==h){h=a.charCodeAt(++K);43!=h&&45!=h||K++;for(e=K;e<b&&!(h=a.charCodeAt(e),48>h||57<h);e++);e==K&&D();K=e}return+a.slice(d,K)}f&&D();c=a.slice(K,K+4);if("true"==c)return K+=4,!0;if("fals"==c&&101==a.charCodeAt(K+4))return K+=5,!1;if("null"==
c)return K+=4,null;D()}return"$"},L=function(a){var b;"$"==a&&D();if("string"==typeof a){if("@"==(t?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;){a=H();if("]"==a)break;if(c)","==a?(a=H(),"]"==a&&D()):D();else var c=!0;","==a&&D();b.push(L(a))}return b}if("{"==a){for(b={};;){a=H();if("}"==a)break;c?","==a?(a=H(),"}"==a&&D()):D():c=!0;","!=a&&"string"==typeof a&&"@"==(t?a.charAt(0):a[0])&&":"==H()||D();b[a.slice(1)]=L(H())}return b}D()}return a},N=O=function(a,b,c){var d=a[b],e;if("object"==typeof d&&d)if("[object Array]"==G.call(d))for(e=d.length;e--;)N(G,v,d,e,c);else v(d,;return c.call(a,b,d)};b.parse=function(a,b){var c;K=0;I=""+a;a=L(H());"$"!=H()&&D();K=I=null;return b&&"[object Function]"==G.call(b)?O((c={},c[""]=a,c),"",b):a}}}b.runInContext=c;return b}var d={"function":!0,object:!0},e=d.object&&b&&!b.nodeType&&b,f=d[typeof window]&&window||this,h=e&&d.object&&a&&!a.nodeType&&"object"==typeof Ga&&Ga;!h||
h.global!==h&&h.window!==h&&h.self!==h||(f=h);if(e)c(f,e);else{var n=f.JSON,l=f.JSON3,m=!1,z=c(f,f.JSON3={noConflict:);f.JSON={parse:z.parse,stringify:z.stringify}}}).call(Ga)}),ei=E(function(a){try{a.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(b){a.exports=!1}}),fi=Ka("jsonp"),Lm=function(a,b,c){function d(){m.parentNode&&m.parentNode.removeChild(m);window[f]=Ok;l&&clearTimeout(l)}"function"==
typeof b&&(c=b,b={});b||(b={});var e=b.prefix||"__jp",f=b.name||e+Km++;e=b.param||"callback";b=null!=b.timeout?b.timeout:6E4;var h=encodeURIComponent,n=document.getElementsByTagName("script")[0]||document.head,l;b&&(l=setTimeout(function(){d();c&&c(Error("Timeout"))},b));window[f]=function(a){fi("jsonp got",a);d();c&&c(null,a)};a+=(~a.indexOf("?")?"&":"?")+e+"="+h(f);a=a.replace("?&","?");fi('jsonp req "%s"',a);var m=document.createElement("script");m.src=a;n.parentNode.insertBefore(m,n);return ,Km=0,gi=E(function(a,b){function c(a,b,c,d){3===arguments.length&&(d=c,c={});var e=new XMLHttpRequest;e.onerror=d;e.onreadystatechange=e.open("POST",a,!0);for(var f in c)e.setRequestHeader(f,c[f]);e.send(Pd.stringify(b))}function d(a,c,d,l){3===arguments.length&&(l=d);var f=b.prefix,h=e(c);a+="?"+f+"="+h;Lm(a,{param:b.callback},}function e(a){var b=Pd.stringify(a);a="";var c,d=0;b=b.replace(/\r\n/g,
"\n");var e="";for(c=0;c<b.length;c++){var f=b.charCodeAt(c);128>f?e+=String.fromCharCode(f):(127<f&&2048>f?e+=String.fromCharCode(f>>6|192):(e+=String.fromCharCode(f>>12|224),e+=String.fromCharCode(f>>6&63|128)),e+=String.fromCharCode(f&63|128))}for(b=e;d<b.length;){var k=b.charCodeAt(d++);e=b.charCodeAt(d++);c=b.charCodeAt(d++);f=k>>2;k=(k&3)<<4|e>>4;var u=(e&15)<<2|c>>6;var w=c&63;isNaN(e)?u=w=64:isNaN(c)&&(w=64);a=a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(u)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(w)}b=a.replace(/\+/g,"-").replace(/\//g,"_");return encodeURIComponent(b)}b=a.exports=ei?c:d;b.callback="callback";b.prefix="data";b.json=c;b.base64=d;b.type=ei?"xhr":"jsonp"}),Mm=Ka("data-api.js:metrics");Dc.prototype.options=function(a){a=a||{};this.host=a.host||"api.segment.io/v1";
this.sampleRate=a.sampleRate||0;this.flushTimer=a.flushTimer||3E4;this.maxQueueSize=a.maxQueueSize||20;this.queue=[];if(0<this.sampleRate){var b=this;setInterval(function(){b._flush()},this.flushTimer)}};Dc.prototype.increment=function(a,b){Math.random()>this.sampleRate||this.queue.length>=this.maxQueueSize||(this.queue.push({type:"Counter",metric:a,value:1,tags:b}),0<a.indexOf("error")&&this._flush())};Dc.prototype._flush=function(){if(!(0>=this.queue.length)){var a={series:this.queue};this.queue=
[];"xhr"===gi.type&&gi("https://"+this.host+"/m",a,{"Content-Type":"text/plain"},}};var Ab=Jb(new Dc);Ab.Metrics=Dc;var Nm=),cf=,hi=ba=Qd=function(a,b,c){if("function"!==typeof a)throw new TypeError("Expected a function but received a "+typeof a);ba(c);return b},Om=Object.prototype.hasOwnProperty,df=function(a){return $h(function(b,c){var d=-1,e=c.length,f=1<e?c[e-1]:void 0,h=2<e?c[2]:void 0;f=3<a.length&&"function"==typeof f?(e--,f):void 0;h&&ai(c[0],c[1],h)&&(f=3>e?void 0:f,e=1);for(b=Object(b);++d<
e;)(h=c[d])&&a(b,h,d,f);return b})}(,Pm=Object.prototype.hasOwnProperty,ii=Jb(new rd);rd.prototype.set=function(a,b){this.store[a]=ma(b,5);return!0};rd.prototype.get=function(a){if(Pm.call(this.store,a))return ma(this.store[a],5)};rd.prototype.remove=function(a){delete this.store[a];return!0};var Rd=function(){var a={},b="undefined"!=typeof window?window:Ga,c=b.document;a.disabled=!1;a.version="1.3.20";a.set=
function(a,b){};a.get=a.has=a.remove=function(a){};a.clear=function(){};a.transact=function(b,c,d){null==d&&(d=c,c=null);null==c&&(c={});c=a.get(b,c);d(c);a.set(b,c)};a.getAll=a.forEach=function(){};a.serialize=function(a){return Pd.stringify(a)};a.deserialize=try{var d="localStorage"in b&&b.localStorage}catch(m){d=
!1}if(d){var e=b.localStorage;a.set=a.get=function(b,c){b=a.deserialize(e.getItem(b));return void 0===b?c:b};a.remove=function(a){e.removeItem(a)};a.clear=function(){e.clear()};a.forEach=else if(c&&c.documentElement.addBehavior){try{var f=new ActiveXObject("htmlfile");f.open();f.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></iframe>');
f.close();var h=f.w.frames[0].document;e=h.createElement("div")}catch(m){e=c.createElement("div"),h=c.body}b=function(b){return function(){var c=Array.prototype.slice.call(arguments,0);c.unshift(e);h.appendChild(e);e.addBehavior("#default#userData");e.load("localStorage");c=b.apply(a,c);h.removeChild(e);return c}};var n=/[!"#$%&'()*+,/\\:;<=>?@[\]^`{|}~]/g,l=a.set=b(function(b,c,d){c=l(c);if(void 0===d)return a.remove(c);b.setAttribute(c,
a.serialize(d));b.save("localStorage");return d});a.get=b(function(b,c,d){c=l(c);b=a.deserialize(b.getAttribute(c));return void 0===b?d:b});a.remove=b(function(a,b){b=l(b);a.removeAttribute(b);a.save("localStorage")});a.clear=b(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var c=b.length-1;0<=c;c--)a.removeAttribute(b[c].name);a.save("localStorage")});a.forEach=b(function(b,c){for(var d=b.XMLDocument.documentElement.attributes,e=0,f;f=d[e];++e)c(f.name,a.deserialize(b.getAttribute(f.name)))})}try{a.set("__storejs__",
"__storejs__"),"__storejs__"!=a.get("__storejs__")&&(a.disabled=!0),a.remove("__storejs__")}catch(m){a.disabled=!0}a.enabled=!a.disabled;return a}();bc.prototype.options=function(a){if(0===arguments.length)return this._options;a=a||{};Ia(a,{enabled:!0});this.enabled=a.enabled&&Rd.enabled;this._options=a};bc.prototype.set=function(a,b){return this.enabled?Rd.set(a,b):!1};bc.prototype.get=bc.prototype.remove=function(a){return this.enabled?Rd.remove(a):
!1};var db=Jb(new bc);db.Store=bc;var Qm=Ka("dataApi:entity"),Ib=ra;ra.prototype.initialize=function(){ya.set("dajs:cookies",!0);ya.get("dajs:cookies")?(ya.remove("dajs:cookies"),this._storage=ya):db.enabled?this._storage=db:(Qm("warning using memory store both cookies and localStorage are disabled"),this._storage=ii)};ra.prototype.storage=function(){return this._storage};ra.prototype.options=ra.prototype.id=
function(a){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(a)}};ra.prototype._getId=function(){var a=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return void 0===a?null:a};ra.prototype._setId=function(a){this._options.persist?this.storage().set(this._options.cookie.key,a):this._id=a};ra.prototype.properties=ra.prototype.traits=function(a){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(a)}};ra.prototype._getTraits=
function(){var a=this._options.persist?db.get(this._options.localStorage.key):this._traits;return a?mg(ma(a,5)):{}};ra.prototype._setTraits=function(a){a=a||{};this._options.persist?db.set(this._options.localStorage.key,a):this._traits=a};ra.prototype.identify=function(a,b){b=b||{};var c=this.id();if(null===c||c===a)b=df(this.traits(),b);a&&this.id(a);this.debug("identify %o, %o",a,b);this.traits(b);this.save()};ra.prototype.save=function(){if(!this._options.persist)return!1;ya.set(this._options.cookie.key,
this.id());db.set(this._options.localStorage.key,this.traits());return!0};ra.prototype.logout=function(){this.id(null);this.traits({});ya.remove(this._options.cookie.key);db.remove(this._options.localStorage.key)};ra.prototype.reset=ra.prototype.load=function(){this.id(ya.get(this._options.cookie.key));this.traits(db.get(this._options.localStorage.key))};var Pk=Ka("dataApi:group");Ec.defaults={persist:!0,cookie:{key:"dajs_group_id"},localStorage:{key:"dajs_group_properties"}};
pb(Ec,Ib);var Bb=Jb(new Ec);Bb.Group=Ec;var Rm=function(a){if(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)return!0;var b=a.which;a=a.button;return b||void 0===a?2===b?!0:!1:!a&1&&!a&2&&a&4};var ef=var ji=function(a){var b=document.createTextNode(""),c,d=0;(new a(function(){if(c){var a=c;c=null;"function"===typeof a?a():a.forEach(function(a){a()})}})).observe(b,{characterData:!0});return function(a){ef(a);c?"function"===
typeof c?c=[c,a]:c.push(a):(c=a,b.data=d=++d%2)}};var Pc=function(){if("undefined"!==typeof process&&process&&"function"===typeof process.nextTick)return process.nextTick;if("object"===typeof document&&document){if("function"===typeof MutationObserver)return ji(MutationObserver);if("function"===typeof WebKitMutationObserver)return ji(WebKitMutationObserver)}return"function"===typeof setImmediate?"function"===typeof setTimeout?null}(),
Sm=/\s/,Tm=Um=/^\s+/,ud=ki=0/0,Vm=/^[-+]0x[0-9a-f]+$/i,Wm=/^0b[01]+$/i,Xm=/^0o[0-7]+$/i,Ym=parseInt,Zm=function(a){if("number"==typeof a)return a;if(ud(a))return ki;Oa(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=Oa(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a?a.slice(0,Tm(a)+1).replace(Um,""):a;var b=Wm.test(a);return b||Xm.test(a)?Ym(a.slice(2),
b?2:8):Vm.test(a)?ki:+a},li=1/0,xe=$m=an=Math.max,Qc=function(a,b,c,d){a=Rb(a)?a:null==a?[]:$m(a,qa(a));c&&!d?(c?(c=Zm(c),c=c===li||c===-li?1.7976931348623157E308*(0>c?-1:1):c===c?c:0):c=0===c?c:0,d=c%1,c=c===c?d?c-d:c:0):c=0;d=a.length;0>c&&(c=an(d+c,0));var e=a;if("string"==typeof e||!xa(e)&&kb(e)&&"[object String]"==Ob(e))b=c<=d&&-1<a.indexOf(b,c);else{if(d=
!!d){if(b===b)a:{--c;for(d=a.length;++c<d;)if(a[c]===b){b=c;break a}b=-1}else a:{b=a.length;for(c+=-1;++c<b;)if(d=a[c],d=d!==d){b=c;break a}b=-1}d=-1<b}b=d}return b};sd.prototype.add=sd.prototype.push=sd.prototype.has=function(a){return this.__data__.has(a)};var bn=sg=cn=
dn=mi=Ra?Ra.prototype:void 0,ff=mi?mi.valueOf:void 0,Qk=Rk=Object.prototype.hasOwnProperty,tg=Object.prototype.hasOwnProperty,en=fn=ni=gn=hn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jn=/^\w*$/,gf=we.Cache=td;var kn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ln=/\\(\\)?/g,mn=,Sk=1/0,oi=Ra?Ra.prototype:void 0,vg=oi?oi.toString:void 0,Sd=nn=1/0,Rc=hf=pi=qi=on=function(a,b){return gf(a)&&b===b&&!Oa(b)?ni(Rc(a),b):function(c){var d=null==c?void 0:hf(c,a);d=void 0===d?void 0:d;return void 0===d&&d===b?null!=c&&qi(c,a,pi):cc(b,d,3)}},pn=qn=ri=function(a){return"function"==
typeof a?a:null==a?Od:"object"==typeof a?xa(a)?on(a[0],a[1]):gn(a):gf(a)?pn(Rc(a)):qn(a)},rn=sn=si=Ka("data-api.js:normalize"),ti=Object.prototype.hasOwnProperty,un=function(a,b){function c(a){var c;if(c=!Qc(b,a)&&"all"!==a.toLowerCase())a=a.toLowerCase(),c=!Qc(d,a);return!c}var d=sn(function(a){return a.toLowerCase()},b),e=a.options||{},f=e.integrations||
{},h=e.providers||{},n=e.context||{},l={};si("<-",a);ba(e);delete e.providers;ba(function(a,b){c(b)&&"object"!==ha(f[b])&&(ti.call(f,b)&&"boolean"===typeof h[b]||(f[b]=a))},h);ba(e);delete a.options;l.integrations=f;l.context=n;l=Ia(l,a);si("->",l);return l},tn=["integrations","anonymousId","timestamp","context"],ui=window.addEventListener?"addEventListener":"attachEvent",vn="addEventListener"!==
ui?"on":"",Td=ja=Td("object"==typeof globalThis&&globalThis)||Td("object"==typeof window&&window)||Td("object"==typeof self&&self)||Td("object"==typeof Ga&&Ga)||Function("return this")(),eb=Xa=!eb(,vi={}.propertyIsEnumerable,wi=Object.getOwnPropertyDescriptor,xi=wi&&!vi.call({1:2},1)?
vi,lc=wn={}.toString,Sc=xn="".split,mc=eb(?Object,qb=Ya=jf=yn={}.hasOwnProperty,ca=function(a,b){return yn.call(a,b)},Ud=ja.document,yi=Ya(Ud)&&Ya(Ud.createElement),zi=!Xa&&!eb(,Ai=Object.getOwnPropertyDescriptor,Bi=Xa?Ai:function(a,b){a=
mc(qb(a));b=jf(b,!0);if(zi)try{return Ai(a,b)}catch(c){}if(ca(a,b))return lc(!xi.call(a,b),a[b])},fb=Ci=Object.defineProperty,nc={f:Xa?Ci:,Cb=Xa?kf=Tc=ja["__core-js_shared__"]||kf("__core-js_shared__",{}),zn=Function.toString;"function"!=typeof Tc.inspectSource&&(Tc.inspectSource=function(a){return zn.call(a)});var Di=Tc.inspectSource,Ei=ja.WeakMap,An="function"===typeof Ei&&/native code/.test(Di(Ei)),Fi=E(,Bn=0,Cn=Math.random(),
Gi=Hi=Fi("keys"),lf=mf={},Dn=ja.WeakMap;if(An){var oc=new Dn,En=oc.get,Fn=oc.has,Gn=oc.set;var nf=var Vd=var of=function(a){return Fn.call(oc,a)}}else{var Uc=lf("state");mf[Uc]=!0;nf=Vd=of=function(a){return ca(a,Uc)}}var Za={set:nf,
get:Vd,has:of,enforce:getterFor:,rb=E(function(a){var b=Za.get,c=Za.enforce,d=String(String).split("String");(a.exports=function(a,b,h,n){var e=n?!!n.unsafe:!1,f=n?!!n.enumerable:!1;n=n?!!n.noTargetGet:!1;"function"==typeof h&&("string"!=typeof b||ca(h,"name")||Cb(h,"name",b),c(h).source=d.join("string"==typeof b?b:""));a===
ja?f?a[b]=h:kf(b,h):(e?!n&&a[b]&&(f=!0):delete a[b],f?a[b]=h:Cb(a,b,h))})(Function.prototype,"toString",}),Ii=Wd=Hn=Math.ceil,In=Math.floor,pf=Jn=Math.min,qf=Kn=Math.max,Ln=Math.min,Ji=function(a){return function(b,
c,d){b=mc(qb(b));var e=qf(b.length);d=pf(d);d=0>d?Kn(d+e,0):Ln(d,e);if(a&&c!=c)for(;e>d;){if(c=b[d++],c!=c)return!0}else for(;e>d;d++)if((a||d in b)&&b[d]===c)return a||d||0;return!a&&-1}},Mn=Ji(!0),Nn=Ji(!1),Ki=function(a,b){a=mc(qb(a));var c=0,d=[],e;for(e in a)!ca(mf,e)&&ca(a,e)&&d.push(e);for(;b.length>c;)ca(a,e=b[c++])&&(~Nn(d,e)||d.push(e));return d},Xd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),On=Xd.concat("length","prototype"),
Pn={f:Object.getOwnPropertyNames||function(a){return Ki(a,On)}},Yd=Object.getOwnPropertySymbols,Qn=Wd("Reflect","ownKeys")||function(a){var b=Pn.f(fb(a));return Yd?b.concat(Yd(a)):b},Rn=/#|\.prototype\./,Vc=Tn=Vc.normalize=Sn=Vc.data={},Vn=Vc.NATIVE="N",Un=Vc.POLYFILL="P",pc=function(a,b){var c=a.target,d=a.global,e=a.stat,f,h;if(f=d?ja:e?ja[c]||kf(c,{}):(ja[c]||
{}).prototype)for(h in b){var n=b[h];var l=a.noTargetGet?(l=Bi(f,h))&&l.value:f[h];var m=Vc(d?h:c+(e?".":"#")+h,a.forced);if(!m&&void 0!==l){if(typeof n===typeof l)continue;m=n;for(var k=l,r=Qn(k),u=nc.f,w=Bi,A=0;A<r.length;A++){var R=r[A];ca(m,R)||u(m,R,w(k,R))}}(a.sham||l&&l.sham)&&Cb(n,"sham",!0);rb(f,h,n,a)}},Li=!!Object.getOwnPropertySymbols&&!eb(,Wn=Li&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Zd=Fi("wks"),Wc=ja.Symbol,Xn=Wn?Wc:Wc&&Wc.withoutSetter||
Gi,gb=$d=Object.keys||Mi=Xa?Object.defineProperties:Yn=Wd("document","documentElement"),Ni=lf("IE_PROTO"),rf=function(){},sf,ae=function(){try{sf=document.domain&&new ActiveXObject("htmlfile")}catch(b){}if(sf){var a=sf;a.write("<script>\x3c/script>");a.close();a=a.parentWindow.Object}else a=yi?Ud.createElement("iframe"):
{},a.style.display="none",Yn.appendChild(a),a.src="javascript:",a=a.contentWindow.document,a.open(),a.write("<script>document.F=Object\x3c/script>"),a.close(),a=a.F;ae=a;for(a=Xd.length;a--;)delete ae.prototype[Xd[a]];return ae()};mf[Ni]=!0;var tf=Object.create||qc=gb("unscopables"),rc=Array.prototype;void 0==rc[qc]&&nc.f(rc,qc,{configurable:!0,value:tf(null)});var Zn=Object.defineProperty,
uf={},Oi=Pi=$n=Pi("indexOf",{ACCESSORS:!0,1:0});pc({target:"Array",proto:!0,forced:!$n},{includes:);rc[qc].includes=!0;var Qi=ao=Qi(!1),bo=Qi(!0),co=!eb(,Ri=lf("IE_PROTO"),eo=Object.prototype,be=co?Object.getPrototypeOf:function(a){a=Object(qb(a));return ca(a,Ri)?a[Ri]:"function"==typeof a.constructor&&
a instanceof a.constructor?a.constructor.prototype:a instanceof Object?eo:null},Si=gb("iterator"),Ti=!1,fo=function(){return this},sc;if([].keys){var Ui=[].keys();if("next"in Ui){var Vi=be(be(Ui));Vi!==Object.prototype&&(sc=Vi)}else Ti=!0}void 0==sc&&(sc={});ca(sc,Si)||Cb(sc,Si,fo);var ce=sc,de=Ti,go=nc.f,Wi=gb("toStringTag"),ee=tc={},ho=function(){return this},Xi=function(a,b,c){b+=" Iterator";a.prototype=tf(ce,{next:lc(1,
c)});ee(a,b,!1);tc[b]=ho;return a},Yi=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,b={};try{var c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;c.call(b,[]);a=b instanceof Array}catch(d){}return function(b,e){fb(b);if(!Ya(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");a?c.call(b,e):b.__proto__=e;return b}}():void 0),Xc=gb("iterator"),io=function(){return this},Zi=function(a,b,c,d,e,f,h){Xi(c,b,d);d=var n=b+" Iterator",l=!1,m=a.prototype,k=m[Xc]||m["@@iterator"]||e&&m[e],r=!de&&k||d(e),u="Array"==b?m.entries||k:k,w;u&&(a=be(u.call(new a)),ce!==Object.prototype&&a.next&&(be(a)!==ce&&(Yi?Yi(a,ce):"function"!=typeof a[Xc]&&Cb(a,Xc,io)),ee(a,n,!0)));"values"==e&&k&&"values"!==
k.name&&(l=!0,r=function(){return k.call(this)});m[Xc]!==r&&Cb(m,Xc,r);tc[b]=r;if(e){var A={values:d("values"),keys:f?r:d("keys"),entries:d("entries")};if(h)for(w in A)!de&&!l&&w in m||rb(m,w,A[w]);else pc({target:b,proto:!0,forced:de||l},A)}return A},jo=Za.set,ko=Za.getterFor("String Iterator");Zi(String,"String",;var lo=gb("iterator"),vf=!eb(,$i=uc=Object.assign,aj=Object.defineProperty,wf=!uc||eb(?function(a,b){for(var c=Object(qb(a)),d=arguments.length,e=1;d>e;)for(var f=mc(arguments[e++]),h=Yd?$d(f).concat(Yd(f)):$d(f),n=h.length,l=0,m;n>l;)if(m=h[l++],!Xa||xi.call(f,m))c[m]=f[m];return c}:uc,bj=cj=mo=gb("iterator"),no=Array.prototype,dj=oo=gb("toStringTag"),ej={};ej[oo]="z";var po="[object z]"===String(ej),qo=gb("toStringTag"),ro="Arguments"==Sc(function(){return arguments}()),fj=po?Sc:so=gb("iterator"),xf=vc=function(a){var b=Object(qb(a)),c="function"==typeof this?this:Array,d=arguments.length,e=1<d?arguments[1]:void 0,f=void 0!==e,h=xf(b),n=0,l;f&&(e=cj(e,2<d?arguments[2]:void 0,2));if(void 0!=h&&(c!=Array||void 0===h||tc.Array!==h&&no[mo]!==h))for(b=h.call(b),d=b.next,c=new c;!(l=d.call(b)).done;n++){if(f){h=
b;var m=e;l=[l.value,n];try{var k=m(fb(l)[0],l[1])}catch(r){throw e=h["return"],void 0!==e&&fb(e.call(h)),r;}}else k=l.value;h=k;dj(c,n,h)}else for(k=qf(b.length),c=new c(k);k>n;n++)h=f?e(b[n],n):b[n],dj(c,n,h);c.length=n;return c},to=/[^\0-\u007E]/,uo=/[.\u3002\uFF0E\uFF61]/g,wc=Math.floor,yf=String.fromCharCode,gj=vo=function(a){for(var b=[],c=[],d=0,e=a.length;d<e;){var f=a.charCodeAt(d++);if(55296<=f&&56319>=f&&d<e){var h=a.charCodeAt(d++);56320==(h&64512)?c.push(((f&
1023)<<10)+(h&1023)+65536):(c.push(f),d--)}else c.push(f)}a=c;c=a.length;d=128;var n=0,l=72;for(e=0;e<a.length;e++){var m=a[e];128>m&&b.push(yf(m))}for((h=f=b.length)&&b.push("-");h<c;){var k=2147483647;for(e=0;e<a.length;e++)m=a[e],m>=d&&m<k&&(k=m);var r=h+1;if(k-d>wc((2147483647-n)/r))throw RangeError("Overflow: input needs wider integers to process");n+=(k-d)*r;d=k;for(e=0;e<a.length;e++){m=a[e];if(m<d&&2147483647<++n)throw RangeError("Overflow: input needs wider integers to process");if(m==d){var u=
n;for(m=36;;m+=36){k=m<=l?1:m>=l+26?26:m-l;if(u<k)break;u-=k;var w=36-k;b.push(yf(gj(k+u%w)));u=wc(u/w)}b.push(yf(gj(u)));l=r;m=0;n=h==f?wc(n/700):n>>1;for(n+=wc(n/l);455<n;m+=36)n=wc(n/35);l=wc(m+36*n/(n+38));n=0;++h}}++n;++d}return b.join("")},wo=Za.set,xo=Za.getterFor("Array Iterator");Zi(Array,"Array",function(a,b){wo(this,{type:"Array Iterator",target:mc(qb(a)),index:0,kind:b})},"values");tc.Arguments=tc.Array;rc[qc].keys=!0;rc[qc].values=!0;rc[qc].entries=!0;var hj=ij=Wd("fetch"),zf=Wd("Headers"),yo=gb("iterator"),jj=Za.set,Ma=Za.getterFor("URLSearchParams"),zo=Za.getterFor("URLSearchParamsIterator"),Ao=/\+/g,kj=Array(4),Bo=Co=function(a){try{return decodeURIComponent(a)}catch(b){return a}},lj=mj=/[!'()~]|%20/g,Do={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},nj=function(a){return Do[a]},oj=function(a,b){if(b){b=b.split("&");for(var c=0,d;c<b.length;)d=b[c++],d.length&&(d=d.split("="),a.push({key:lj(d.shift()),value:lj(d.join("="))}))}},Eo=xc=Af=Xi("Iterator",,Yc=function(){$i(this,Yc,"URLSearchParams");var a=0<arguments.length?arguments[0]:void 0,b=[],c,d,e;jj(this,{type:"URLSearchParams",entries:b,updateURL:function(){},
updateSearchParams:Eo});if(void 0!==a)if(Ya(a)){var f=xf(a);if("function"===typeof f)for(a=f.call(a),f=a.next;!(c=f.call(a)).done;){c=hj(fb(c.value));var h=c.next;if((d=h.call(c)).done||(e=h.call(c)).done||!h.call(c).done)throw TypeError("Expected sequence with length 2");b.push({key:d.value+"",value:e.value+""})}else for(c in a)ca(a,c)&&b.push({key:c,value:a[c]+""})}else oj(b,"string"===typeof a?"?"===a.charAt(0)?a.slice(1):a:a+"")},fe=Yc.prototype;((fe,{append:"delete":get:getAll:has:set:function(a,b){xc(arguments.length,1);for(var c=Ma(this),d=c.entries,e=!1,f=a+"",h=b+"",n=0,l;n<d.length;n++)l=d[n],l.key===f&&(e?d.splice(n--,1):(e=!0,l.value=h));e||d.push({key:f,value:h});c.updateURL()},sort:function(){var a=Ma(this),b=a.entries,c=b.slice(),d,e;for(e=b.length=0;e<c.length;e++){var f=c[e];for(d=0;d<e;d++)if(b[d].key>f.key){b.splice(d,
0,f);break}d===e&&b.push(f)}a.updateURL()},forEach:function(a){for(var b=Ma(this).entries,c=cj(a,1<arguments.length?arguments[1]:void 0,3),d=0,e;d<b.length;)e=b[d++],c(e.value,e.key,this)},keys:function(){return new Af(this,"keys")},values:function(){return new Af(this,"values")},entries:,{enumerable:!0});rb(fe,yo,fe.entries);rb(fe,"toString",function(){for(var a=Ma(this).entries,b=[],c=0,d;c<a.length;)d=a[c++],b.push(encodeURIComponent(d.key).replace(mj,
nj)+"="+encodeURIComponent(d.value).replace(mj,nj));return b.join("&")},{enumerable:!0});ee(Yc,"URLSearchParams");pc({global:!0,forced:!vf},{URLSearchParams:Yc});vf||"function"!=typeof ij||"function"!=typeof zf||pc({global:!0,enumerable:!0,forced:!0},{fetch:function(a){var b=[a];if(1<arguments.length){var c=arguments[1];if(Ya(c)){var d=c.body;if("URLSearchParams"===fj(d)){var e=c.headers?new zf(c.headers):new zf;e.has("content-type")||e.set("content-type","application/x-www-form-urlencoded;charset=UTF-8");
c=tf(c,{body:lc(0,String(d)),headers:lc(0,e)})}}b.push(c)}return ij.apply(this,b)}});var Zc=ja.URL,Fo=Yc,Go=Za.set,aa=Za.getterFor("URL"),Ho=Math.floor,pj=Math.pow,qj=/[A-Za-z]/,Io=/[\d+-.A-Za-z]/,Bf=/\d/,Jo=/^(0x|0X)/,Ko=/^[0-7]+$/,Lo=/^\d+$/,rj=/^[\dA-Fa-f]+$/,Mo=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,No=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Oo=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Po=/[\u0009\u000A\u000D]/g,Cf=function(a,b){var c;if("["==b.charAt(0)){if("]"!=b.charAt(b.length-1))return"Invalid host";
var d=Qo(b.slice(1,-1));if(!d)return"Invalid host"}else if(ka(a)){d=[];b=b.toLowerCase().replace(uo,".").split(".");for(c=0;c<b.length;c++){var e=b[c];d.push(to.test(e)?"xn--"+vo(e):e)}b=d.join(".");if(Mo.test(b))return"Invalid host";d=Ro(b);if(null===d)return"Invalid host"}else{if(No.test(b))return"Invalid host";d="";b=vc(b);for(c=0;c<b.length;c++)d+=Db(b[c],ge)}a.host=d},Ro=function(a){var b=a.split("."),c;b.length&&""==b[b.length-1]&&b.pop();var d=b.length;if(4<d)return a;var e=[];for(c=0;c<d;c++){var f=
b[c];if(""==f)return a;var h=10;1<f.length&&"0"==f.charAt(0)&&(h=Jo.test(f)?16:8,f=f.slice(8==h?1:2));if(""===f)f=0;else{if(!(10==h?Lo:8==h?Ko:rj).test(f))return a;f=parseInt(f,h)}e.push(f)}for(c=0;c<d;c++)if(f=e[c],c==d-1){if(f>=pj(256,5-d))return null}else if(255<f)return null;a=e.pop();for(c=0;c<e.length;c++)a+=e[c]*pj(256,3-c);return a},Qo=function(a){var b=[0,0,0,0,0,0,0,0],c=0,d=null,e=0,f,h;var n=if(":"==n()){if(":"!=a.charAt(1))return;e+=2;c++;d=c}for(;n();){if(8==
c)return;if(":"==n()){if(null!==d)return;e++;c++;d=c}else{for(f=h=0;4>h&&rj.test(n());)f=16*f+parseInt(n(),16),e++,h++;if("."==n()){if(0==h)return;e-=h;if(6<c)return;for(f=0;n();){h=null;if(0<f)if("."==n()&&4>f)e++;else return;if(!Bf.test(n()))return;for(;Bf.test(n());){var l=parseInt(n(),10);if(null===h)h=l;else{if(0==h)return;h=10*h+l}if(255<h)return;e++}b[c]=256*b[c]+h;f++;2!=f&&4!=f||c++}if(4!=f)return;break}else if(":"==n()){if(e++,!n())return}else if(n())return;b[c++]=f}}if(null!==d)for(n=c-
d,c=7;0!=c&&0<n;)f=b[c],b[c--]=b[d+n-1],b[d+--n]=f;else if(8!=c)return;return b},$c=function(a){var b,c;if("number"==typeof a){var d=[];for(b=0;4>b;b++)d.unshift(a%256),a=Ho(a/256);return d.join(".")}if("object"==typeof a){d="";b=null;var e=1;for(var f=null,h=0,n=0;8>n;n++)0!==a[n]?(h>e&&(b=f,e=h),f=null,h=0):(null===f&&(f=n),++h);h>e&&(b=f);e=b;for(b=0;8>b;b++)c&&0===a[b]||(c&&(c=!1),e===b?(d+=b?":":"::",c=!0):(d+=a[b].toString(16),7>b&&(d+=":")));return"["+d+"]"}return a},ge={},sj=wf({},ge,{" ":1,
'"':1,"<":1,">":1,"`":1}),tj=wf({},sj,{"#":1,"?":1,"{":1,"}":1}),Df=wf({},tj,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Db=he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ka=Ef=ad=uj=vj=Ff={},wj={},Gf={},xj={},yj={},Hf={},zj={},Aj={},ie={},je={},If={},Jf={},Kf={},Lf={},Bj={},Mf={},bd={},hb={},Cj={},Ub={},sb={},ib=function(a,b,c,d){var e=c||Ff,f=0,h="",n=!1,l=!1,m=!1;c||(a.scheme="",a.username="",a.password="",a.host=null,a.port=null,a.path=[],a.query=null,a.fragment=null,a.cannotBeABaseURL=
!1,b=b.replace(Oo,""));b=b.replace(Po,"");for(b=vc(b);f<=b.length;){var k=b[f];switch(e){case Ff:if(k&&qj.test(k))h+=k.toLowerCase(),e=wj;else{if(c)return"Invalid scheme";e=Gf;continue}break;case wj:if(k&&(Io.test(k)||"+"==k||"-"==k||"."==k))h+=k.toLowerCase();else if(":"==k){if(c&&(ka(a)!=ca(he,h)||"file"==h&&(""!=a.username||""!=a.password||null!==a.port)||"file"==a.scheme&&!a.host))return;a.scheme=h;if(c){ka(a)&&he[a.scheme]==a.port&&(a.port=null);return}h="";"file"==a.scheme?e=Lf:ka(a)&&d&&d.scheme==
a.scheme?e=xj:ka(a)?e=Aj:"/"==b[f+1]?(e=yj,f++):(a.cannotBeABaseURL=!0,a.path.push(""),e=Cj)}else{if(c)return"Invalid scheme";h="";e=Gf;f=0;continue}break;case Gf:if(!d||d.cannotBeABaseURL&&"#"!=k)return"Invalid scheme";if(d.cannotBeABaseURL&&"#"==k){a.scheme=d.scheme;a.path=d.path.slice();a.query=d.query;a.fragment="";a.cannotBeABaseURL=!0;e=sb;break}e="file"==d.scheme?Lf:Hf;continue;case xj:if("/"==k&&"/"==b[f+1])e=ie,f++;else{e=Hf;continue}break;case yj:if("/"==k){e=je;break}else{e=hb;continue}case Hf:a.scheme=
d.scheme;if(void 0==k)a.username=d.username,a.password=d.password,a.host=d.host,a.port=d.port,a.path=d.path.slice(),a.query=d.query;else if("/"==k||"\\"==k&&ka(a))e=zj;else if("?"==k)a.username=d.username,a.password=d.password,a.host=d.host,a.port=d.port,a.path=d.path.slice(),a.query="",e=Ub;else if("#"==k)a.username=d.username,a.password=d.password,a.host=d.host,a.port=d.port,a.path=d.path.slice(),a.query=d.query,a.fragment="",e=sb;else{a.username=d.username;a.password=d.password;a.host=d.host;a.port=
d.port;a.path=d.path.slice();a.path.pop();e=hb;continue}break;case zj:if(!ka(a)||"/"!=k&&"\\"!=k)if("/"==k)e=je;else{a.username=d.username;a.password=d.password;a.host=d.host;a.port=d.port;e=hb;continue}else e=ie;break;case Aj:e=ie;if("/"!=k||"/"!=h.charAt(f+1))continue;f++;break;case ie:if("/"!=k&&"\\"!=k){e=je;continue}break;case je:if("@"==k){n&&(h="%40"+h);n=!0;h=vc(h);for(k=0;k<h.length;k++){var r=h[k];":"!=r||m?(r=Db(r,Df),m?a.password+=r:a.username+=r):m=!0}h=""}else if(void 0==k||"/"==k||
"?"==k||"#"==k||"\\"==k&&ka(a)){if(n&&""==h)return"Invalid authority";f-=vc(h).length+1;h="";e=If}else h+=k;break;case If:case Jf:if(c&&"file"==a.scheme){e=Mf;continue}else if(":"!=k||l)if(void 0==k||"/"==k||"?"==k||"#"==k||"\\"==k&&ka(a)){if(ka(a)&&""==h)return"Invalid host";if(c&&""==h&&(""!=a.username||""!=a.password||null!==a.port))return;if(e=Cf(a,h))return e;h="";e=bd;if(c)return;continue}else"["==k?l=!0:"]"==k&&(l=!1),h+=k;else{if(""==h)return"Invalid host";if(e=Cf(a,h))return e;h="";e=Kf;
if(c==Jf)return}break;case Kf:if(Bf.test(k))h+=k;else if(void 0==k||"/"==k||"?"==k||"#"==k||"\\"==k&&ka(a)||c){if(""!=h){e=parseInt(h,10);if(65535<e)return"Invalid port";a.port=ka(a)&&e===he[a.scheme]?null:e;h=""}if(c)return;e=bd;continue}else return"Invalid port";break;case Lf:a.scheme="file";if("/"==k||"\\"==k)e=Bj;else if(d&&"file"==d.scheme)if(void 0==k)a.host=d.host,a.path=d.path.slice(),a.query=d.query;else if("?"==k)a.host=d.host,a.path=d.path.slice(),a.query="",e=Ub;else if("#"==k)a.host=
d.host,a.path=d.path.slice(),a.query=d.query,a.fragment="",e=sb;else{uj(b.slice(f).join(""))||(a.host=d.host,a.path=d.path.slice(),vj(a));e=hb;continue}else{e=hb;continue}break;case Bj:if("/"==k||"\\"==k){e=Mf;break}d&&"file"==d.scheme&&!uj(b.slice(f).join(""))&&(ad(d.path[0],!0)?a.path.push(d.path[0]):a.host=d.host);e=hb;continue;case Mf:if(void 0==k||"/"==k||"\\"==k||"?"==k||"#"==k){if(!c&&ad(h))e=hb;else{if(""==h){if(a.host="",c)return}else{if(e=Cf(a,h))return e;"localhost"==a.host&&(a.host="");
if(c)return;h=""}e=bd}continue}else h+=k;break;case bd:if(ka(a)){if(e=hb,"/"!=k&&"\\"!=k)continue}else if(!c&&"?"==k)a.query="",e=Ub;else if(!c&&"#"==k)a.fragment="",e=sb;else if(void 0!=k&&(e=hb,"/"!=k))continue;break;case hb:if(void 0==k||"/"==k||"\\"==k&&ka(a)||!c&&("?"==k||"#"==k)){r=h;r=r.toLowerCase();".."===r||"%2e."===r||".%2e"===r||"%2e%2e"===r?(vj(a),"/"==k||"\\"==k&&ka(a)||a.path.push("")):"."===h||"%2e"===h.toLowerCase()?"/"==k||"\\"==k&&ka(a)||a.path.push(""):("file"==a.scheme&&!a.path.length&&
ad(h)&&(a.host&&(a.host=""),h=h.charAt(0)+":"),a.path.push(h));h="";if("file"==a.scheme&&(void 0==k||"?"==k||"#"==k))for(;1<a.path.length&&""===a.path[0];)a.path.shift();"?"==k?(a.query="",e=Ub):"#"==k&&(a.fragment="",e=sb)}else h+=Db(k,tj);break;case Cj:"?"==k?(a.query="",e=Ub):"#"==k?(a.fragment="",e=sb):void 0!=k&&(a.path[0]+=Db(k,ge));break;case Ub:c||"#"!=k?void 0!=k&&("'"==k&&ka(a)?a.query+="%27":a.query="#"==k?a.query+"%23":a.query+Db(k,ge)):(a.fragment="",e=sb);break;case sb:void 0!=k&&(a.fragment+=
Db(k,sj))}f++}},Vb=function(a){var b=$i(this,Vb,"URL"),c=1<arguments.length?arguments[1]:void 0,d=String(a),e=Go(b,{type:"URL"});if(void 0!==c)if(c instanceof Vb)var f=aa(c);else if(c=ib(f={},String(c)))throw TypeError(c);if(c=ib(e,d,null,f))throw TypeError(c);var h=e.searchParams=new Fo;d=Ma(h);d.updateSearchParams(e.query);d.updateURL=Xa||(b.href=ke.call(b),b.origin=Dj.call(b),b.protocol=Ej.call(b),b.username=Fj.call(b),b.password=Gj.call(b),b.host=Hj.call(b),
b.hostname=Ij.call(b),b.port=Jj.call(b),b.pathname=Kj.call(b),b.search=Lj.call(b),b.searchParams=Mj.call(b),b.hash=Nj.call(b))},Nf=Vb.prototype,ke=function(){var a=aa(this),b=a.scheme,c=a.username,d=a.password,e=a.host,f=a.port,h=a.path,n=a.query,l=a.fragment,m=b+":";if(null!==e){m+="//";if(""!=a.username||""!=a.password)m+=c+(d?":"+d:"")+"@";m+=$c(e);null!==f&&(m+=":"+f)}else"file"==b&&(m+="//");m+=a.cannotBeABaseURL?h[0]:h.length?"/"+h.join("/"):"";null!==n&&(m+="?"+n);null!==l&&(m+="#"+l);return m},
Dj=Ej=Fj=function(){return aa(this).username},Gj=function(){return aa(this).password},Hj=function(){var a=aa(this),b=a.host;a=a.port;return null===b?"":null===a?$c(b):$c(b)+":"+a},Ij=function(){var a=aa(this).host;return null===a?"":$c(a)},Jj=Kj=Lj=function(){var a=aa(this).query;return a?"?"+a:""},Mj=Nj=Sa=Xa&&Mi(Nf,{href:Sa(ke,,origin:Sa(Dj),
protocol:Sa(Ej,,username:Sa(Fj,function(a){var b=aa(this);a=vc(String(a));if(!Ef(b)){b.username="";for(var c=0;c<a.length;c++)b.username+=Db(a[c],Df)}}),password:Sa(Gj,,host:Sa(Hj,function(a){var b=aa(this);b.cannotBeABaseURL||ib(b,String(a),If)}),hostname:Sa(Ij,,
port:Sa(Jj,,pathname:Sa(Kj,,search:Sa(Lj,function(a){var b=aa(this);a=String(a);""==a?b.query=null:("?"==a.charAt(0)&&(a=a.slice(1)),b.query="",ib(b,a,Ub));Ma(b.searchParams).updateSearchParams(b.query)}),searchParams:Sa(Mj),hash:Sa(Nj,function(a){var b=aa(this);a=String(a);""==a?b.fragment=null:("#"==a.charAt(0)&&(a=a.slice(1)),b.fragment="",ib(b,
a,sb))})});rb(Nf,"toJSON",function(){return ke.call(this)},{enumerable:!0});rb(Nf,"toString",{enumerable:!0});if(Zc){var Oj=Zc.createObjectURL,Pj=Zc.revokeObjectURL;Oj&&rb(Vb,"createObjectURL",function(a){return Oj.apply(Zc,arguments)});Pj&&rb(Vb,"revokeObjectURL",}ee(Vb,"URL");pc({global:!0,forced:!vf,sham:!Xa},{URL:Vb});var Qj=function(a){return function(b,c,d,e){bj(c);b=Object(qb(b));var f=mc(b),h=qf(b.length),n=a?h-1:
0,l=a?-1:1;if(2>d)for(;;){if(n in f){e=f[n];n+=l;break}n+=l;if(a?0>n:h<=n)throw TypeError("Reduce of empty array with no initial value");}for(;a?0<=n:h>n;n+=l)n in f&&(e=c(e,f[n],n,b));return e}},So={left:Qj(!1),right:Qj(!0)}.left,To="reduce"),Uo=Pi("reduce",{1:0});pc({target:"Array",proto:!0,forced:!To||!Uo},{reduce:);
for(var Rj=function(){for(var a=document.getElementsByTagName("link"),b=0,c;c=a[b];b++)if("canonical"===c.getAttribute("rel"))return c.getAttribute("href")},Vk=Sj=Object.getOwnPropertySymbols,Vo=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable,zg=)?Object.assign:Tj=/(%[a-f0-9]{2})|([^%]+?)/gi,Uj=/(%[a-f0-9]{2})+/gi,Ag=function(a){if("string"!==typeof a)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch(h){for(var b={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},c=Uj.exec(a);c;){try{b[c[0]]=decodeURIComponent(c[0])}catch(n){var d=
c[0];try{var e=decodeURIComponent(d)}catch(l){e=d.match(Tj)||[];for(var f=1;f<e.length;f++)d=ye(e,f).join(""),e=d.match(Tj)||[];e=d}e!==c[0]&&(b[c[0]]=e)}c=Uj.exec(a)}b["%C2"]="\ufffd";c=Object.keys(b);for(d=0;d<c.length;d++)e=c[d],a=a.replace(new RegExp(e,"g"),b[e]);return a}},Xo={extract:xg,parse:yg,stringify:function(a,b){b=zg({encode:!0,strict:!0,arrayFormat:"none"},b);!1===b.sort&&(b.sort=function(){});var c=Tk(b);return a?Object.keys(a).sort(b.sort).map(function(d){var e=a[d];if(void 0===e)return"";
if(null===e)return Ja(d,b);if(Array.isArray(e)){var f=[];e.slice().forEach(;return f.join("&")}return Ja(d,b)+"="+Ja(e,b)}).filter(.join("&"):""},parseUrl:,Vj=E(function(a,b){(function(c,d){var e=f=h=function(a,b){return"string"===typeof a?-1!==n(b).indexOf(n(a)):!1},n=l=m=function(a,b){for(var c=0,e,f,h,l,n,m;c<b.length&&!n;){var u=b[c],k=b[c+1];for(e=f=0;e<u.length&&!n;)if(n=u[e++].exec(a))for(h=0;h<k.length;h++)m=n[++f],l=k[h],"object"===typeof l&&0<l.length?2===l.length?this[l[0]]="function"==typeof l[1]?l[1].call(this,m):l[1]:
3===l.length?this[l[0]]="function"!==typeof l[1]||l[1].exec&&l[1].test?m?m.replace(l[1],l[2]):d:m?l[1].call(this,m,l[2]):d:4===l.length&&(this[l[0]]=m?l[3].call(this,m.replace(l[1],l[2])):d):this[l]=m?m:d;c+=2}},k=function(a,b){for(var c in b)if("object"===typeof b[c]&&0<b[c].length)for(var e=0;e<b[c].length;e++){if(h(b[c][e],a))return"?"===c?d:c}else if(h(b[c],a))return"?"===c?d:c;return a},r={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",
8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},u={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],["version",["name","Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],["version",["name","Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],["name","version"],[/opios[\/ ]+([\w\.]+)/i],["version",["name","Opera Mini"]],[/\bopr\/([\w\.]+)/i],["version",["name","Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,
/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],["name","version"],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],["version",["name","UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],["version",
["name","WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],["version",["name","WeChat"]],[/konqueror\/([\w\.]+)/i],["version",["name","Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],["version",["name","IE"]],[/yabrowser\/([\w\.]+)/i],["version",["name","Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[["name",/(.+)/,"$1 Secure Browser"],"version"],[/\bfocus\/([\w\.]+)/i],["version",["name","Firefox Focus"]],[/\bopt\/([\w\.]+)/i],["version",["name","Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],
["version",["name","Coc Coc"]],[/dolfin\/([\w\.]+)/i],["version",["name","Dolphin"]],[/coast\/([\w\.]+)/i],["version",["name","Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/fxios\/([-\w\.]+)/i],["version",["name","Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[["name","360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[["name",/(.+)/,"$1 Browser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(electron)\/([\w\.]+) safari/i,
/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],["name","version"],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],["name"],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[["name","Facebook"],"version"],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],["name","version"],[/\bgsa\/([\w\.]+) .*safari\//i],["version",["name","GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],
["version",["name","Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[["name","Chrome WebView"],"version"],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],["name","version"],[/version\/([\w\.,]+) .*mobile\/\w+ (safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w(\.|,)]+) .*(mobile ?safari|safari)/i],["version","name"],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],["name",
["version",k,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[["name","Netscape"],"version"],[/mobile vr; rv:([\w\.]+)\).+firefox/i],["version",["name","Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,
/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],["name","version"],[/(cobalt)\/([\w\.]+)/i],["name",["version",/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",n]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],
[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",n]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",n]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],
["model",["vendor","Samsung"],["type","tablet"]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],["model",["vendor","Samsung"],["type","mobile"]],[/\((ip(?:hone|od)[\w ]*);/i],["model",["vendor","Apple"],["type","mobile"]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],["model",["vendor","Apple"],["type","tablet"]],[/(macintosh);/i],["model",["vendor","Apple"]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],
["model",["vendor","Huawei"],["type","tablet"]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],["model",["vendor","Huawei"],["type","mobile"]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],
[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","tablet"]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],["model",["vendor","OPPO"],["type","mobile"]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],["model",["vendor","Vivo"],["type","mobile"]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],["model",["vendor","Realme"],["type","mobile"]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,
/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],["model",["vendor","Motorola"],["type","mobile"]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],["model",["vendor","Motorola"],["type","tablet"]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],["model",["vendor","LG"],["type","tablet"]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],["model",["vendor","LG"],["type","mobile"]],
[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],["model",["vendor","Lenovo"],["type","tablet"]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[["model",/_/g," "],["vendor","Nokia"],["type","mobile"]],[/(pixel c)\b/i],["model",["vendor","Google"],["type","tablet"]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],["model",["vendor","Google"],["type","mobile"]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],
["model",["vendor","Sony"],["type","mobile"]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[["model","Xperia Tablet"],["vendor","Sony"],["type","tablet"]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],["model",["vendor","OnePlus"],["type","mobile"]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[["model",/(.+)/g,"Fire Phone $1"],
["vendor","Amazon"],["type","mobile"]],[/(playbook);[-\w\),; ]+(rim)/i],["model","vendor",["type","tablet"]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],["model",["vendor","ASUS"],["type","tablet"]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],["model",["vendor","ASUS"],["type","mobile"]],[/(nexus 9)/i],["model",["vendor","HTC"],["type","tablet"]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,
/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],["vendor",["model",/_/g," "],["type","mobile"]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],["model",["vendor","Acer"],["type","tablet"]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],["model",["vendor","Meizu"],["type","mobile"]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],["model",["vendor","Sharp"],["type","mobile"]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,
/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],["vendor","model",["type","mobile"]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],["vendor","model",["type","tablet"]],[/(surface duo)/i],["model",
["vendor","Microsoft"],["type","tablet"]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],["model",["vendor","Fairphone"],["type","mobile"]],[/(u304aa)/i],["model",["vendor","AT&T"],["type","mobile"]],[/\bsie-(\w*)/i],["model",["vendor","Siemens"],["type","mobile"]],[/\b(rct\w+) b/i],["model",["vendor","RCA"],["type","tablet"]],[/\b(venue[\d ]{2,7}) b/i],["model",["vendor","Dell"],["type","tablet"]],[/\b(q(?:mv|ta)\w+) b/i],["model",["vendor","Verizon"],["type","tablet"]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],
["model",["vendor","Barnes & Noble"],["type","tablet"]],[/\b(tm\d{3}\w+) b/i],["model",["vendor","NuVision"],["type","tablet"]],[/\b(k88) b/i],["model",["vendor","ZTE"],["type","tablet"]],[/\b(nx\d{3}j) b/i],["model",["vendor","ZTE"],["type","mobile"]],[/\b(gen\d{3}) b.+49h/i],["model",["vendor","Swiss"],["type","mobile"]],[/\b(zur\d{3}) b/i],["model",["vendor","Swiss"],["type","tablet"]],[/\b((zeki)?tb.*\b) b/i],["model",["vendor","Zeki"],["type","tablet"]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],
[["vendor","Dragon Touch"],"model",["type","tablet"]],[/\b(ns-?\w{0,9}) b/i],["model",["vendor","Insignia"],["type","tablet"]],[/\b((nxa|next)-?\w{0,9}) b/i],["model",["vendor","NextBook"],["type","tablet"]],[/\b(xtreme_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[["vendor","Voice"],"model",["type","mobile"]],[/\b(lvtel\-)?(v1[12]) b/i],[["vendor","LvTel"],"model",["type","mobile"]],[/\b(ph-1) /i],["model",["vendor","Essential"],["type","mobile"]],[/\b(v(100md|700na|7011|917g).*\b) b/i],["model",["vendor",
"Envizen"],["type","tablet"]],[/\b(trio[-\w\. ]+) b/i],["model",["vendor","MachSpeed"],["type","tablet"]],[/\btu_(1491) b/i],["model",["vendor","Rotor"],["type","tablet"]],[/(shield[\w ]+) b/i],["model",["vendor","Nvidia"],["type","tablet"]],[/(sprint) (\w+)/i],["vendor","model",["type","mobile"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],["model",["vendor","Zebra"],["type","tablet"]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],
["model",["vendor","Zebra"],["type","mobile"]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],["vendor","model",["type","console"]],[/droid.+; (shield) bui/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation [345portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],["model",["vendor","Microsoft"],["type","console"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],
["type","smarttv"]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[["vendor","LG"],["type","smarttv"]],[/(apple) ?tv/i],["vendor",["model","Apple TV"],["type","smarttv"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"],["type","smarttv"]],[/droid.+aft(\w)( bui|\))/i],["model",["vendor","Amazon"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/(bravia[\w ]+)( bui|\))/i],["model",["vendor","Sony"],["type","smarttv"]],
[/(mitv-\w{5}) bui/i],["model",["vendor","Xiaomi"],["type","smarttv"]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[["vendor",l],["model",l],["type","smarttv"]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[["type","smarttv"]],[/((pebble))app/i],["vendor","model",["type","wearable"]],[/droid.+; (glass) \d/i],["model",["vendor","Google"],["type","wearable"]],[/droid.+; (wt63?0{2,3})\)/i],["model",["vendor","Zebra"],["type","wearable"]],[/(quest( 2)?)/i],
["model",["vendor","Facebook"],["type","wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],["vendor",["type","embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],["model",["type","mobile"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],["model",["type","tablet"]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[["type","tablet"]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[["type","mobile"]],[/(android[-\w\. ]{0,9});.+buil/i],["model",
["vendor","Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],["version",["name","Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],["name","version"],[/rv:([\w\.]{1,9})\b.+(gecko)/i],["version","name"]],os:[[/microsoft (windows) (vista|xp)/i],["name","version"],[/(windows) nt 6\.2; (arm)/i,
/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],["name",["version",k,r]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[["name","Windows"],["version",k,r]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[["version",/_/g,"."],["name","iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[["name","Mac OS"],["version",/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],["version","name"],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,
/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],["name","version"],[/\(bb(10);/i],["version",["name","BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],["version",["name","Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],["version",["name","Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],["version",["name","webOS"]],[/crkey\/([\d\.]+)/i],["version",["name","Chromecast"]],
[/(cros) [\w]+ ([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,
/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],["name","version"],[/(sunos) ?([\w\.\d]*)/i],[["name","Solaris"],"version"],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],["name","version"]]},w=function(a,b){"object"===typeof a&&(b=a,a=d);if(!(this instanceof w))return(new w(a,b)).getResult();var f=a||
("undefined"!==typeof c&&c.navigator&&c.navigator.userAgent?c.navigator.userAgent:""),h=b?e(u,b):u;this.getBrowser=function(){var a={};a.name=d;a.version=d;m.call(a,f,h.browser);var b=a.version;b="string"===typeof b?b.replace(/[^\d\.]/g,"").split(".")[0]:d;a.major=b;return a};this.getCPU=this.getDevice=this.getEngine=function(){var a={};a.name=d;a.version=
d;m.call(a,f,h.engine);return a};this.getOS=this.getResult=this.getUA=function(){return f};this.setUA=function(a){f="string"===typeof a&&350<a.length?l(a,350):a;return this};this.setUA(f);return this};w.VERSION="0.7.33";w.BROWSER=f(["name","version","major"]);w.CPU=f(["architecture"]);w.DEVICE=
f("model vendor type console mobile smarttv tablet wearable embedded".split(" "));w.ENGINE=w.OS=f(["name","version"]);a.exports&&(b=a.exports=w);b.UAParser=w;var A="undefined"!==typeof c&&(c.jQuery||c.Zepto);if(A&&!A.ua){var R=new w;A.ua=R.getResult();A.ua.get=A.ua.set=})("object"===typeof window?window:Ga)}),Yk={aud:"audience",c:"campaignChannel",cmtp:"campaigntype",cn:"campaignname",crcopy:"creativecopy",
crcta:"creativecta",crim:"creativeimage",crtype:"creativetype",d:["detailChannel","channel"],dt:["deviceChannel","devicetype"],exp:"experiment",f:"forecastChannel",l:["locationChannel","locationcountry"],lang:"language",meta1:"meta1",meta2:"meta2",o:["offerChannel","offer"],p:["partnerChannel","partner"],pr:["productChannel","initiative"],route:"destinationurl",sq:"marinTag",subch:"subchannel",subcmtp:"subcampaigntype",subp:"subpartner",tar:"targetingtype",tarpr:"targetproduct",u:"urlChannel"},$k=
"gclid pub kw kwid matchtype device".split(" "),tb={browserDefaults:function(){var a=Vj(window.navigator.userAgent);return{name:a.browser.name,version:a.browser.version,height:window.innerHeight,width:window.innerWidth}},campaignDefaults:function(){var a=Xo.parse(window.document.location.search);return Ia({utmCampaign:a.utm_campaign,utmContent:a.utm_content,utmMedium:a.utm_medium,utmSource:a.utm_source,utmTerm:a.utm_term},al())},localeDefaults:function(){var a=window.navigator.language;return{countryCode:a.split("-")[1],
language:a}},pageDefaults:function(){var a=(a=Rj())?ci.parse(a).pathname:window.location.pathname;var b=location.pathname,c=document.referrer,d=location.search,e=document.title;var f=location.search;var h=Rj();h?f=Qc(h,"?")?h:h+f:(f=window.location.href,h=f.indexOf("#"),f=-1===h?f:f.slice(0,h));return{path:a,realPath:b,referrer:c,search:d,title:e,url:f,realUrl:location.href}},osDefaults:function(){var a=Vj(window.navigator.userAgent);return{name:a.os.name,version:a.os.version}},referrerDefaults:function(){var a=
document.referrer;try{var b=new URL(a);return{referrer:a,referrerHost:b.host,referrerPath:b.pathname,referrerSearch:b.search}}catch(c){return{referrer:a}}},subjectDefaults:,Yo=function(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var h=b[d],n=hf(a,h);if(c(n,h)){var l=f;h=Sd(h,a);if(Oa(l)){h=Sd(h,l);for(var m=-1,k=h.length,r=k-1;null!=l&&++m<k;){var u=Rc(h[m]),w=n;if("__proto__"===u||"constructor"===u||"prototype"===u)break;if(m!=r){var A=l[u];
w=void 0;void 0===w&&(w=Oa(A)?A:Id(h[m+1])?[]:{})}ld(l,u,w);l=l[u]}}}}return f},Zo=function(a,b){return Yo(a,b,},Wj=Ra?Ra.isConcatSpreadable:void 0,bl=$o=ap=,Xj=function(a){a=a||window.event;return a.preventDefault?a.preventDefault():a.returnValue=!1},bp=E(function(a,b){b=
a.exports=b.left=b.right=),cp=Object.prototype.toString,dp=function(a){switch(cp.call(a)){case "[object Date]":return"date";case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array";case "[object Error]":return"error"}if(null===
a)return"null";if(void 0===a)return"undefined";if(a!==a)return"nan";if(a&&1===a.nodeType)return"element";a=a.valueOf?a.valueOf():Object.prototype.valueOf.apply(a);return typeof a},ep=/(\w+)\[(\d+)\]/,le=Of=Pf={parse:function(a){if("string"!=typeof a)return{};a=bp(a);if(""==a)return{};"?"==a.charAt(0)&&(a=a.slice(1));var b={};a=a.split("&");for(var c=
0;c<a.length;c++){var d=a[c].split("="),e=Of(d[0]);(e=ep.exec(e))?(b[e[1]]=b[e[1]]||[],b[e[1]][e[2]]=Of(d[1])):b[d[0]]=null==d[1]?"":Of(d[1])}return b},stringify:function(a){if(!a)return"";var b=[],c;for(c in a){var d=a[c];if("array"==dp(d))for(var e=0;e<d.length;++e)b.push(le(c+"["+e+"]")+"="+le(d[e]));else b.push(le(c)+"="+le(a[c]))}return b.join("&")}},Eg="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&
msCrypto.getRandomValues.bind(msCrypto),cl=new Uint8Array(16),dl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,na=[],Qf=0;256>Qf;++Qf)na.push((Qf+256).toString(16).substr(1));var Yj,Rf,Sf=0,Tf=0,fp=Gg("v3",48,function(a){if("string"===typeof a){var b=unescape(encodeURIComponent(a));a=new Uint8Array(b.length);for(var c=0;c<b.length;++c)a[c]=b.charCodeAt(c)}b=a;if(0===b.length)b=[];else{c=8*b.length;for(var d=new Uint32Array((c+
64>>>9<<4)+15),e=0;e<c;e+=8)d[e>>5]|=(b[e/8]&255)<<e%32;b=d}a=8*a.length;b[a>>5]|=128<<a%32;b[(a+64>>>9<<4)+15-1]=a;a=1732584193;c=-271733879;d=-1732584194;e=271733878;for(var f=0;f<b.length;f+=16){var h=a,n=c,l=d,m=e;a=sa(a,c,d,e,b[f],7,-680876936);e=sa(e,a,c,d,b[f+1],12,-389564586);d=sa(d,e,a,c,b[f+2],17,606105819);c=sa(c,d,e,a,b[f+3],22,-1044525330);a=sa(a,c,d,e,b[f+4],7,-176418897);e=sa(e,a,c,d,b[f+5],12,1200080426);d=sa(d,e,a,c,b[f+6],17,-1473231341);c=sa(c,d,e,a,b[f+7],22,-45705983);a=sa(a,
c,d,e,b[f+8],7,1770035416);e=sa(e,a,c,d,b[f+9],12,-1958414417);d=sa(d,e,a,c,b[f+10],17,-42063);c=sa(c,d,e,a,b[f+11],22,-1990404162);a=sa(a,c,d,e,b[f+12],7,1804603682);e=sa(e,a,c,d,b[f+13],12,-40341101);d=sa(d,e,a,c,b[f+14],17,-1502002290);c=sa(c,d,e,a,b[f+15],22,1236535329);a=ta(a,c,d,e,b[f+1],5,-165796510);e=ta(e,a,c,d,b[f+6],9,-1069501632);d=ta(d,e,a,c,b[f+11],14,643717713);c=ta(c,d,e,a,b[f],20,-373897302);a=ta(a,c,d,e,b[f+5],5,-701558691);e=ta(e,a,c,d,b[f+10],9,38016083);d=ta(d,e,a,c,b[f+15],14,
-660478335);c=ta(c,d,e,a,b[f+4],20,-405537848);a=ta(a,c,d,e,b[f+9],5,568446438);e=ta(e,a,c,d,b[f+14],9,-1019803690);d=ta(d,e,a,c,b[f+3],14,-187363961);c=ta(c,d,e,a,b[f+8],20,1163531501);a=ta(a,c,d,e,b[f+13],5,-1444681467);e=ta(e,a,c,d,b[f+2],9,-51403784);d=ta(d,e,a,c,b[f+7],14,1735328473);c=ta(c,d,e,a,b[f+12],20,-1926607734);a=fa(c^d^e,a,c,b[f+5],4,-378558);e=fa(a^c^d,e,a,b[f+8],11,-2022574463);d=fa(e^a^c,d,e,b[f+11],16,1839030562);c=fa(d^e^a,c,d,b[f+14],23,-35309556);a=fa(c^d^e,a,c,b[f+1],4,-1530992060);
e=fa(a^c^d,e,a,b[f+4],11,1272893353);d=fa(e^a^c,d,e,b[f+7],16,-155497632);c=fa(d^e^a,c,d,b[f+10],23,-1094730640);a=fa(c^d^e,a,c,b[f+13],4,681279174);e=fa(a^c^d,e,a,b[f],11,-358537222);d=fa(e^a^c,d,e,b[f+3],16,-722521979);c=fa(d^e^a,c,d,b[f+6],23,76029189);a=fa(c^d^e,a,c,b[f+9],4,-640364487);e=fa(a^c^d,e,a,b[f+12],11,-421815835);d=fa(e^a^c,d,e,b[f+15],16,530742520);c=fa(d^e^a,c,d,b[f+2],23,-995338651);a=ua(a,c,d,e,b[f],6,-198630844);e=ua(e,a,c,d,b[f+7],10,1126891415);d=ua(d,e,a,c,b[f+14],15,-1416354905);
c=ua(c,d,e,a,b[f+5],21,-57434055);a=ua(a,c,d,e,b[f+12],6,1700485571);e=ua(e,a,c,d,b[f+3],10,-1894986606);d=ua(d,e,a,c,b[f+10],15,-1051523);c=ua(c,d,e,a,b[f+1],21,-2054922799);a=ua(a,c,d,e,b[f+8],6,1873313359);e=ua(e,a,c,d,b[f+15],10,-30611744);d=ua(d,e,a,c,b[f+6],15,-1560198380);c=ua(c,d,e,a,b[f+13],21,1309151649);a=ua(a,c,d,e,b[f+4],6,-145523070);e=ua(e,a,c,d,b[f+11],10,-1120210379);d=ua(d,e,a,c,b[f+2],15,718787259);c=ua(c,d,e,a,b[f+9],21,-343485551);a=xb(a,h);c=xb(c,n);d=xb(d,l);e=xb(e,m)}b=[a,
c,d,e];a=[];c=32*b.length;for(d=0;d<c;d+=8)e=b[d>>5]>>>d%32&255,e=parseInt("0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(e&15),16),a.push(e);return a}),gp=Gg("v5",80,function(a){var b=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof a){var d=unescape(encodeURIComponent(a));a=[];for(var e=0;e<d.length;++e)a.push(d.charCodeAt(e))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);d=Math.ceil((a.length/
4+2)/16);e=Array(d);for(var f=0;f<d;++f){for(var h=new Uint32Array(16),n=0;16>n;++n)h[n]=a[64*f+4*n]<<24|a[64*f+4*n+1]<<16|a[64*f+4*n+2]<<8|a[64*f+4*n+3];e[f]=h}e[d-1][14]=8*(a.length-1)/Math.pow(2,32);e[d-1][14]=Math.floor(e[d-1][14]);e[d-1][15]=8*(a.length-1)&4294967295;for(a=0;a<d;++a){f=new Uint32Array(80);for(h=0;16>h;++h)f[h]=e[a][h];for(h=16;80>h;++h)n=f[h-3]^f[h-8]^f[h-14]^f[h-16],f[h]=n<<1|n>>>31;h=c[0];n=c[1];for(var l=c[2],m=c[3],k=c[4],r=0;80>r;++r){var u=Math.floor(r/20),w=h<<5|h>>>27;
a:{switch(u){case 0:var A=n&l^~n&m;break a;case 1:A=n^l^m;break a;case 2:A=n&l^n&m^l&m;break a;case 3:A=n^l^m;break a}A=void 0}u=w+A+k+b[u]+f[r]>>>0;k=m;m=l;l=(n<<30|n>>>2)>>>0;n=h;h=u}c[0]=c[0]+h>>>0;c[1]=c[1]+n>>>0;c[2]=c[2]+l>>>0;c[3]=c[3]+m>>>0;c[4]=c[4]+k>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,c[0]&255,c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,c[1]&255,c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,c[2]&255,c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,c[3]&255,c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,c[4]&
255]}),hp=Object.freeze({__proto__:null,v1:function(a,b,c){c=b&&c||0;var d=b||Array(16);a=a||{};var e=a.node||Yj,f=void 0!==a.clockseq?a.clockseq:Rf;if(null==e||null==f){var h=a.random||(a.rng||Dg)();null==e&&(e=Yj=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]);null==f&&(f=Rf=(h[6]<<8|h[7])&16383)}h=void 0!==a.msecs?a.msecs:Date.now();var n=void 0!==a.nsecs?a.nsecs:Tf+1,l=h-Sf+(n-Tf)/1E4;0>l&&void 0===a.clockseq&&(f=f+1&16383);(0>l||h>Sf)&&void 0===a.nsecs&&(n=0);if(1E4<=n)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
Sf=h;Tf=n;Rf=f;h+=122192928E5;a=(1E4*(h&268435455)+n)%4294967296;d[c++]=a>>>24&255;d[c++]=a>>>16&255;d[c++]=a>>>8&255;d[c++]=a&255;a=h/4294967296*1E4&268435455;d[c++]=a>>>8&255;d[c++]=a&255;d[c++]=a>>>24&15|16;d[c++]=a>>>16&255;d[c++]=f>>>8|128;d[c++]=f&255;for(f=0;6>f;++f)d[c+f]=e[f];return b||wd(d)},v3:fp,v4:function(a,b,c){a=a||{};a=a.random||(a.rng||Dg)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(b){c=c||0;for(var d=0;16>d;++d)b[c+d]=a[d];return b}return wd(a)},v5:gp,NIL:"00000000-0000-0000-0000-000000000000",
version:validate:vd,stringify:wd,parse:Fg}),me=jb(hp),el=Ka("analytics:user");Ea.defaults={persist:!0,cookie:{key:"dajs_user_id",entityTypeKey:"da_js_user_type",oldKey:"dajs_user"},localStorage:{key:"dajs_user_traits"}};pb(Ea,Ib);Ea.prototype.id=Ea.prototype.identify=function(a,b,c){c=c||{};var d=this.id(),e=this.entityType();if(null===d&&null===e||d===
a&&e===b||d!==a&&"anonymous_visitor"===e&&"anonymous_visitor"!==b)c=df(this.traits(),c);if(a)(e===b&&a!=d||e!==b&&"anonymous_visitor"!==e)&&this.anonymousId(null),"anonymous_visitor"===b?this.anonymousId(a):this.id(a);else throw Error("entityId is required in User.prototype.identify");if(b)this.entityType(b);else throw Error("entityType is required in User.prototype.identify");this.debug("identify %o, %o, %o",a,b,c);this.traits(c);this.save()};Ea.prototype.entityType=Ea.prototype._getEntityType=Ea.prototype._setEntityType=Ea.prototype.anonymousId=function(a){var b=this.storage();if(arguments.length)return b.set("dajs_anonymous_id",a),this;if(a=b.get("dajs_anonymous_id"))return a;
a=ya.get_raw("_savt")||me.v4();b.set("dajs_anonymous_id",a);return b.get("dajs_anonymous_id")};Ea.prototype.logout=function(){Ib.prototype.logout.call(this);this.anonymousId(null);this.entityType(null)};Ea.prototype.load=Ea.prototype._loadOldCookie=function(){var a=ya.get(this._options.cookie.oldKey);if(!a)return!1;this.id(a.id);this.traits(a.traits);ya.remove(this._options.cookie.oldKey);return!0};var va=Jb(new Ea);va.User=Ea;var cd=
jb(xm),ip=Ga.dataApi,jp=cd.Alias,kp=cd.Group,lp=cd.Identify,mp=cd.Page,np=cd.Track,Zj=function(a,b,c,d){a[ui](vn+b,c,d||!1);return c};Md(D.prototype);D.prototype.use=D.prototype.addIntegration=D.prototype.init=D.prototype.initialize=function(a,b){a=a||{};b=b||{};this._options(b);this._readied=!1;ba(this._integrations);var c=this;ba(a);ba(function(a,d){if(!b.integrations||!1!==b.integrations[d]&&(!1!==b.integrations.All||b.integrations[d])){var e=c.Integrations[d],f={};Oc(!0,f,a);e=new e(f);c.log("initialize %o - %o",d,a);c.add(e)}},a);var d=this._integrations;va.load();Bb.load();var e=qa(d).length,f=Oh(e,;0>=e&&f();this.failedInitializations=[];ba(function(a){b.initialPageview&&!1===a.options.initialPageview&&
(a.page=Oh(2,a.page));a.dataApi=c;a.once("ready",f);try{Ab.increment("dataApi_js.integration.invoke",{method:"initialize",integration_name:a.name}),a.initialize()}catch(l){var d=a.name;Ab.increment("dataApi_js.integration.invoke.error",{method:"initialize",integration_name:a.name});c.failedInitializations.push(d);c.log("Error initializing %s integration: %o",d,l);a.ready()}},d);this.initialized=!0;this.emit("initialize",a,b);return this};D.prototype.setAnonymousId=D.prototype.add=D.prototype.identify=function(a,b,c,d,e){v.fn(d)&&(e=d,d=null);v.fn(c)&&(e=c,c=d=null);va.identify(a,b,c);b=this.normalize({options:d,traits:va.traits(),userId:va.id(),entityType:va.entityType()});this.options.integrations&&Ia(b.integrations,this.options.integrations);this._invoke("identify",new lp(b));this.emit("identify",a,c,d);this._callback(e);return this};D.prototype.user=function(){return va};D.prototype.group=
function(a,b,c,d){if(!arguments.length)return Bb;v.fn(c)&&(d=c,c=null);v.fn(b)&&(d=b,b=c=null);v.object(a)&&(c=b,b=a,a=Bb.id());Bb.identify(a,b);var e=this.normalize({options:c,traits:Bb.traits(),groupId:Bb.id()});this.options.integrations&&Ia(e.integrations,this.options.integrations);this._invoke("group",new kp(e));this.emit("group",a,b,c);this._callback(d);return this};D.prototype.track=function(a,b,c,d){v.fn(c)&&(d=c,c=null);v.fn(b)&&(d=b,b=c=null);var e=this.options.plan||{},f=e.track||{},h={},
n=this.normalize({properties:b,options:c,event:a});(e=f[a])?(this.log("plan %o - %o",a,e),h=!1===e.enabled?{All:!1,DataApi:!0}:e.integrations||{}):(f.__default||{enabled:!0}).enabled||(h={All:!1,DataApi:!0});Ia(n.integrations,this._mergeInitializeAndPlanIntegrations(h));this._invoke("track",new np(n));this.emit("track",a,b,c);this._callback(d);return this};D.prototype.trackClick=D.prototype.trackLink=function(a,b,c){if(!a)return this;"element"===ha(a)&&(a=[a]);var d=this;ba(function(a){if("element"!==
ha(a))throw new TypeError("Must pass HTMLElement to `dataApi.trackLink`.");Zj(a,"click",function(e){var f=v.fn(b)?b(a):b,n=v.fn(c)?c(a):c,l=a.getAttribute("href")||a.getAttributeNS("http://www.w3.org/1999/xlink","href")||a.getAttribute("xlink:href");d.track(f,n);l&&"_blank"!==a.target&&!Rm(e)&&(Xj(e),d._callback()})},a);return this};D.prototype.trackSubmit=D.prototype.trackForm=function(a,b,c){if(!a)return this;"element"===ha(a)&&(a=[a]);var d=this;ba(function(a){function e(e){Xj(e);
e=v.fn(b)?b(a):b;var f=v.fn(c)?c(a):c;d.track(e,f);d._callback(}if("element"!==ha(a))throw new TypeError("Must pass HTMLElement to `dataApi.trackForm`.");var h=window.jQuery||window.Zepto;h?h(a).submit(e):Zj(a,"submit",e)},a);return this};D.prototype.page=function(a,b,c,d,e){v.fn(d)&&(e=d,d=null);v.fn(c)&&(e=c,d=c=null);v.fn(b)&&(e=b,d=c=b=null);"object"===ha(a)&&(d=b,c=a,b=a=null);"object"===ha(b)&&(d=c,c=b,b=null);"string"===ha(a)&&"string"!==ha(b)&&(b=a,a=null);c=ma(c,5)||
{};b&&(c.name=b);a&&(c.category=a);var f=tb.pageDefaults();Ia(c,f);f=ap(c,qa(f));v.empty(f)||(d=d||{},d.context=d.context||{},d.context.page=f);f=this.normalize({properties:c,category:a,options:d,name:b});this.options.integrations&&Ia(f.integrations,this.options.integrations);this._invoke("page",new mp(f));this.emit("page",a,b,c,d);this._callback(e);return this};D.prototype.pageview=function(a){var b={};a&&(b.path=a);this.page(b);return this};D.prototype.alias=function(a,b,c,d){v.fn(c)&&(d=c,c=null);
v.fn(b)&&(d=b,b=c=null);v.object(b)&&(c=b,b=null);var e=this.normalize({options:c,previousId:b,userId:a});this.options.integrations&&Ia(e.integrations,this.options.integrations);this._invoke("alias",new jp(e));this.emit("alias",a,b,c);this._callback(d);return this};D.prototype.ready=function(a){if(v.fn(a))if(this._readied)Pc(a);else this.once("ready",a);return this};D.prototype.timeout=D.prototype.debug=
D.prototype._options=function(a){this.options=a=a||{};ya.options(a.cookie);Ab.options(a.metrics);db.options(a.localStorage);va.options(a.user);Bb.options(a.group);return this};D.prototype._callback=function(a){v.fn(a)&&(this._timeout?setTimeout(a,this._timeout):Pc(a));return this};D.prototype._invoke=function(a,b){var c=this;Ab.increment("dataApi_js.invoke",{method:a});this.emit("invoke",b);var d=c.failedInitializations||[];ba(function(e,f){if(b.enabled(f))if(0<=d.indexOf(f))c.log("Skipping invokation of .%s method of %s integration. Integation failed to initialize properly.",
a,f);else try{Ab.increment("dataApi_js.integration.invoke",{method:a,integration_name:e.name}),e.invoke.call(e,a,b)}catch(h){Ab.increment("dataApi_js.integration.invoke.error",{method:a,integration_name:e.name}),c.log("Error invoking .%s method of %s integration: %o",a,f,h)}},this._integrations);return this};D.prototype.push=D.prototype.reset=D.prototype._parseQuery=function(a){function b(a,
b){var c=a.length,d;return Qd(function(b,e,f){f.substr(0,c)===a&&(d=f.substr(c),b[d]=e);return b},{},b)}a=Pf.parse(a);var c=b("dajs_trait_",a),d=b("dajs_prop_",a);a.dajs_uid&&this.identify(a.dajs_uid,c);a.dajs_event&&this.track(a.dajs_event,d);a.dajs_aid&&va.anonymousId(a.dajs_aid);return this};D.prototype.normalize=function(a){a=un(a,qa(this._integrations));a.anonymousId&&va.anonymousId(a.anonymousId);a.anonymousId=va.anonymousId();a.entityType||va.entityType()||va.entityType("anonymous_visitor");
a.entityType=va.entityType();a.entityId=va.id();a.context.subject=a.context.subject||{};Ia(a.context.subject,this._generateSubjectContext(a));var b=this._defaultContext();qa(b).forEach(function(c){a.context[c]=Ia(a.context[c]||{},b[c])});return a};D.prototype._defaultContext=function(){return{browser:tb.browserDefaults(),campaign:tb.campaignDefaults(),locale:tb.localeDefaults(),page:tb.pageDefaults(),os:tb.osDefaults(),referrer:tb.referrerDefaults(),subject:tb.subjectDefaults()}};D.prototype._messageProperty=
function(a,b){if(a.traits)return a.traits[b];if(a.properties)return a.properties[b];if(a.context&&a.context.traits)return a.context.traits[b]};D.prototype._generateSubjectContext=function(a){var b="employee"===a.entityType?a.userId:this._messageProperty(a,"employeeToken")||this._messageProperty(a,"employmentToken"),c="legal_entity"===a.entityType?a.userId:this._messageProperty(a,"legalEntityToken"),d="merchant"===a.entityType?a.userId:this._messageProperty(a,"merchantToken"),e="person"===a.entityType?
a.userId:this._messageProperty(a,"personToken"),f="unit"===a.entityType?a.userId:this._messageProperty(a,"unitToken");return{credentialToken:this._messageProperty(a,"credentialToken"),deviceCredentialToken:this._messageProperty(a,"deviceCredentialToken"),employmentToken:b,employmentCanAccessMobileRegister:this._messageProperty(a,"employmentCanAccessMobileRegister"),employmentCanAccessSharedRegister:this._messageProperty(a,"employmentCanAccessSharedRegister"),employmentIsOwner:this._messageProperty(a,
"employmentIsOwner"),legalEntityToken:c,merchantToken:d,personToken:e,unitToken:f,userToken:a.userId,accountCountryCode:this._messageProperty(a,"accountCountryCode"),registeredCountryCode:this._messageProperty(a,"registeredCountryCode")}};D.prototype._mergeInitializeAndPlanIntegrations=function(a){if(!this.options.integrations)return a;var b=Oc({},this.options.integrations),c;!1===a.All&&(b={All:!1});for(c in a)a.hasOwnProperty(c)&&!1!==this.options.integrations[c]&&(b[c]=a[c]);return b};D.prototype.noConflict=
var op=ya;D.context=tb;D.cookie=op;D.memory=ii;D.store=db;D.metrics=Ab;var pp=Pf.parse,Uf={btid:"dataxu",urid:"millennial-media"};try{var Hg=ha}catch(a){Hg=ha}var qp=rp=dc.o=Ga.JSON&&"function"===typeof JSON.stringify?JSON.stringify:String;dc.s=String;dc.d=parseInt;var ak=sp=function(a,b){if(!a)throw Error("Cant load nothing...");v.string(a)&&(a={src:a});var c="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;a.src&&0===a.src.indexOf("//")&&(a.src=c?"https:"+a.src:"http:"+a.src);c&&a.https?a.src=a.https:!c&&a.http&&(a.src=a.http);var d=document.createElement("iframe");d.src=a.src;d.width=a.width||1;d.height=a.height||1;d.style.display="none";v.fn(b)&&ak(d,b);Pc(function(){var a=document.getElementsByTagName("script")[0];
a.parentNode.insertBefore(d,a)});return d},tp=function(a,b){if(!a)throw Error("Can't load nothing...");"string"===ha(a)&&(a={src:a});var c="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;a.src&&0===a.src.indexOf("//")&&(a.src=(c?"https:":"http:")+a.src);c&&a.https?a.src=a.https:!c&&a.http&&(a.src=a.http);var d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=a.src;"function"===ha(b)&&ak(d,b);Pc(;return d},bk=function(a){return up.test(a)?a.toLowerCase():vp.test(a)?(hl(a)||a).toLowerCase():wp.test(a)?jl(a).toLowerCase():a.toLowerCase()},up=/\s/,vp=/(_|-|\.|:)/,wp=/([a-z][A-Z]|[A-Z][a-z])/,il=/[\W_]+(.|$)/g,kl=/(.)([A-Z]+)/g,xp=E(function(a,b){function c(a){if(v.array(a)){var b=d;a=(xa(a)?qp:rp)(a,ri(b))?"mixed":"array"}else a=v.object(a)?"map":"unknown";return a}function d(a){return v.object(a)&&v.string(a.key)&&n.call(a,"value")?!0:!1}unction f(a,b,c){return function(d){d=d||window.event;var e=Error(b);e.event=d;e.source=c;a(e)}}ar n=Object.prototype.hasOwnProperty,l=m=window.onerror;Md(b);b.initialize=b.loaded=
b.page=function(a){};b.track=function(a){};b.map=function(a,b){var d=bk(b),e=c(a);return"unknown"===e?[]:Qd(function(a,b,c){if("map"===e){var f=c;var h=b}"array"===e&&(h=f=b);"mixed"===e&&(f=b.key,h=b.value);bk(f)===d&&a.push(h);return a},[],a)};b.invoke=function(a){if(this[a]){var b=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(a,b);this.debug("%s with %o",a,b);return this[a].apply(this,b)}};b.queue=b.flush=function(){this._ready=
!0;var a=this;ba(this._queue);this._queue.length=0};b.reset=function(){for(var a=0;a<this.globals.length;a++)window[this.globals[a]]=void 0;window.onerror=m;window.onload=null};b.load=function(a,b,c){"function"===typeof a&&(c=a,a=b=null);a&&"object"===typeof a&&(c=b,b=a,a=null);"function"===typeof b&&(c=b,b=null);a=a||"library";b=b||{};b=this.locals(b);var d=this.templates[a];if(!d)throw Error(dc('template "%s" not defined.',a));a=h(d,b);c=c||l;var f=this;
switch(d.type){case "img":a.width=1;a.height=1;var n=e(a,c);break;case "script":n=tp(a,;delete a.src;ba(a);break;case "iframe":n=sp(a,c)}return n};b.locals=function(a){a=a||{};var b=Math.floor((new Date).getTime()/36E5);a.hasOwnProperty("cache")||(a.cache=b);ba(this.options);return a};b.ready=b._wrapInitialize=
function(){var a=this.initialize;this.initialize=function(){this.debug("initialize");this._initialized=!0;var b=a.apply(this,arguments);this.emit("initialize");return b}};b._wrapPage=function(){var a=this.page,b=!1;this.page=function(){if(this._assumesPageview&&!b)b=!0;else return a.apply(this,arguments)}}}),yp=function(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");c=c[1];if("body"==
c)return c=b.createElement("html"),c.innerHTML=a,c.removeChild(c.lastChild);c=da[c]||da._default;var d=c[0],e=c[1],f=c[2];c=b.createElement("div");for(c.innerHTML=e+a+f;d--;)c=c.lastChild;if(c.firstChild==c.lastChild)return c.removeChild(c.firstChild);for(a=b.createDocumentFragment();c.firstChild;)a.appendChild(c.removeChild(c.firstChild));return a},ck=!1;if("undefined"!==typeof document){var Vf=document.createElement("div");Vf.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';
ck=!Vf.getElementsByTagName("link").length;Vf=void 0}var da={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:ck?[1,"X<div>","</div>"]:[0,"",""]};da.td=da.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];da.option=da.optgroup=[1,'<select multiple="multiple">',"</select>"];da.thead=da.tbody=da.colgroup=da.caption=da.tfoot=[1,"<table>","</table>"];da.polyline=da.ellipse=da.polygon=da.circle=
da.text=da.line=da.path=da.rect=da.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var zp=E(function(a,b){function c(a){a=a.replace(' src="',' data-src="');var b=yp(a),c={};ba(function(b){var d="data-src"===b.name?"src":b.name;Qc(a,b.name+"=")&&(c[d]=b.value)},b.attributes);return{type:b.tagName.toLowerCase(),attrs:c}}Md(b);b.option=b.mapping=b.global=b.assumesPageview=function(){this.prototype._assumesPageview=!0;return this};b.readyOnLoad=function(){this.prototype._readyOnLoad=!0;return this};b.readyOnInitialize=b.tag=function(a,b){null==b&&(b=a,a="library");this.prototype.templates[a]=c(b);return this}}),Ap=function(a){function b(c){if(c&&c.addIntegration)return c.addIntegration(b);this.debug=Ka("analytics:integration:"+
a.toLowerCase().replace(/[^a-z0-9]+/g," ").replace(/^\s+|\s+$/g,"").replace(/\s+/g,"-"));var d={};Oc(!0,d,c);this.options=Ia(d||{},this.defaults);this._queue=[];this.once("ready",bf(this,this.flush));b.emit("construct",this);this.ready=bf(this,this.ready);this._wrapInitialize();this._wrapPage()}b.prototype.defaults={};b.prototype.globals=[];b.prototype.templates={};b.prototype.name=a;Oc(b,zp);Oc(b.prototype,xp);return b},Jg=try{var lb=
window.localStorage}catch(a){lb=null}Ig.supported=!!lb;var ll=Object.defineProperty,Bp=window.location.protocol,Lg,dd=dd.http=function(){xd("http:")};dd.https=dd.reset=function(){xd(Bp)};var ml=Pf.parse,Mg=Object.prototype.hasOwnProperty,Cp={name:!0,term:!0,source:!0,medium:!0,content:!0};Be.strict=function(a){return Qd(function(a,c,d){Mg.call(Cp,d)&&(a[d]=c);return a},{},Be(a))};var Dp=me.v4,Wf={_data:{},
length:0,setItem:getItem:removeItem:function(a){a in this._data&&delete this._data[a];this.length=qa(this._data).length;return null},clear:key:;var Ep=function(){try{if(!window.localStorage)return!1;var a=Dp();window.localStorage.setItem(a,"test_value");var b=window.localStorage.getItem(a);window.localStorage.removeItem(a);
return"test_value"===b}catch(c){return!1}}()?window.localStorage:Wf;var nl=Ep,dk=JSON;Kb.prototype.set=function(a,b){var c=this._createValidKey(a);if(c)try{this.engine.setItem(c,dk.stringify(b))}catch(d){c=!1;if(d.code)switch(d.code){case 22:c=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===d.name&&(c=!0)}else-2147024882===d.number&&(c=!0);c&&(this._swapEngine(),this.set(a,b))}};Kb.prototype.get=
Kb.prototype.getOriginalEngine=Kb.prototype.remove=Kb.prototype._createValidKey=function(a){var b=this.name,c=this.id;if(!qa(this.keys).length)return[b,c,a].join(".");var d;ba(this.keys);return d};Kb.prototype._swapEngine=var De=
Kb,ek={setTimeout:function(a,b){return window.setTimeout(a,b)},clearTimeout:function(a){return window.clearTimeout(a)},Date:window.Date},yc=ek,ne={ASAP:1,RESCHEDULE:2,ABANDON:3};mb.prototype.now=mb.prototype.run=function(a,b,c){var d=this.nextId++;this.tasks[d]=yc.setTimeout(this._handle(d,a,b,c||ne.ASAP),b);return d};mb.prototype.cancel=mb.prototype.cancelAll=function(){hi(this.tasks,
yc.clearTimeout);this.tasks={}};mb.prototype._handle=function(a,b,c,d){var e=this,f=e.now();return function(){delete e.tasks[a];if(d>=ne.RESCHEDULE&&f+2*c<e.now())d===ne.RESCHEDULE&&e.run(b,c,d);else return b()}};mb.setClock=mb.resetClock=mb.Modes=ne;var ec=mb,Fc=me.v4,Fp=Ka("localstorage-retry");Md(La.prototype);La.prototype.start=function(){this._running&&this.stop();this._running=!0;this._ack();this._checkReclaim();this._processHead()};La.prototype.stop=La.prototype.shouldRetry=function(a,b){return b>this.maxAttempts?!1:!0};La.prototype.getDelay=function(a){a=this.backoff.MIN_RETRY_DELAY*Math.pow(this.backoff.FACTOR,a);if(this.backoff.JITTER){var b=Math.random(),c=Math.floor(b*this.backoff.JITTER*a);a=5>Math.floor(10*b)?a-c:a+c}return Number(Math.min(a,this.backoff.MAX_RETRY_DELAY).toPrecision(1))};La.prototype.addItem=La.prototype.requeue=La.prototype._enqueue=function(a){var b=this._store.get(this.keys.QUEUE)||[];b=b.slice(-(this.maxItems-1));b.push(a);b=b.sort(function(a,b){return a.time-b.time});this._store.set(this.keys.QUEUE,b);this._running&&this._processHead()};La.prototype._processHead=function(){function a(a,d){h.push({item:a.item,done:function(f,e){var h=c.get(b.keys.IN_PROGRESS)||
{};delete h[d];c.set(b.keys.IN_PROGRESS,h);b.emit("processed",f,e,a.item);f&&b.requeue(a.item,a.attemptNumber+1,f,a.id)}})}var b=this,c=this._store;this._schedule.cancel(this._processId);for(var d=c.get(this.keys.QUEUE)||[],e=c.get(this.keys.IN_PROGRESS)||{},f=this._schedule.now(),h=[],n=Object.keys(e).length;d.length&&d[0].time<=f&&n++<b.maxItems;){var l=d.shift(),m=Fc();e[m]={item:l.item,attemptNumber:l.attemptNumber,time:b._schedule.now()};a(l,m)}c.set(this.keys.QUEUE,d);c.set(this.keys.IN_PROGRESS,
e);ba(h);d=c.get(this.keys.QUEUE)||[];this._schedule.cancel(this._processId);0<d.length&&(this._processId=this._schedule.run(this._processHead,d[0].time-f,ec.Modes.ASAP))};La.prototype._ack=function(){this._store.set(this.keys.ACK,this._schedule.now());this._store.set(this.keys.RECLAIM_START,null);this._store.set(this.keys.RECLAIM_END,null);this._schedule.run(this._ack,this.timeouts.ACK_TIMER,ec.Modes.ASAP)};La.prototype._checkReclaim=
function(){function a(a){a.set(b.keys.RECLAIM_START,b.id);a.set(b.keys.ACK,b._schedule.now());b._schedule.run(b.timeouts.RECLAIM_WAIT,ec.Modes.ABANDON)}var b=this;ba(
this.name));this._schedule.run(this._checkReclaim,this.timeouts.RECLAIM_TIMER,ec.Modes.RESCHEDULE)};La.prototype._reclaim=function(a){var b=this;a=new De(this.name,a,this.keys);var c=this._store.get(this.keys.QUEUE)||[],d=a.get(this.keys.IN_PROGRESS)||{},e=a.get(this.keys.QUEUE)||[],f=[],h=function(a,d){ba(function(a){var e=
a.id||Fc();0<=f.indexOf(e)?b.emit("duplication",a.item,a.attemptNumber):(c.push({item:a.item,attemptNumber:a.attemptNumber+d,time:b._schedule.now(),id:e}),f.push(e))},a)};h(e,0);h(d,1);c=c.sort(;this._store.set(this.keys.QUEUE,c);a.remove(this.keys.IN_PROGRESS);a.remove(this.keys.QUEUE);a.remove(this.keys.RECLAIM_START);a.remove(this.keys.RECLAIM_END);a.remove(this.keys.ACK);this._processHead()};var k={options:{usePureJavaScript:!1}},fk={};var Gp=function(a,b,c){if("string"!==
typeof b)throw new TypeError('"alphabet" must be a string.');if(void 0!==c&&"number"!==typeof c)throw new TypeError('"maxline" must be a number.');var d="";if(a instanceof Uint8Array){var e,f=b.length,h=b.charAt(0),n=[0];for(e=0;e<a.length;++e){for(var l=0,m=a[e];l<n.length;++l)m+=n[l]<<8,n[l]=m%f,m=m/f|0;for(;0<m;)n.push(m%f),m=m/f|0}for(e=0;0===a[e]&&e<a.length-1;++e)d+=h;for(e=n.length-1;0<=e;--e)d+=b[n[e]]}else{h=b.length;e=b.charAt(0);f=[0];for(d=0;d<a.length();++d){n=0;for(l=a.at(d);n<f.length;++n)l+=
f[n]<<8,f[n]=l%h,l=l/h|0;for(;0<l;)f.push(l%h),l=l/h|0}h="";for(d=0;0===a.at(d)&&d<a.length()-1;++d)h+=e;for(d=f.length-1;0<=d;--d)h+=b[f[d]];d=h}c&&(d=d.match(new RegExp(".{1,"+c+"}","g")).join("\r\n"));return d};var Hp=function(a,b){if("string"!==typeof a)throw new TypeError('"input" must be a string.');if("string"!==typeof b)throw new TypeError('"alphabet" must be a string.');var c=fk[b];if(!c){c=fk[b]=[];for(var d=0;d<b.length;++d)c[b.charCodeAt(d)]=d}a=a.replace(/\s/g,"");var e=b.length;b=b.charAt(0);
var f=[0];for(d=0;d<a.length;d++){var h=c[a.charCodeAt(d)];if(void 0===h)return;for(var n=0;n<f.length;++n)h+=f[n]*e,f[n]=h&255,h>>=8;for(;0<h;)f.push(h&255),h>>=8}for(c=0;a[c]===b&&c<a.length-1;++c)f.push(0);return"undefined"!==typeof Buffer?Buffer.from(f.reverse()):new Uint8Array(f.reverse())};E(function(a){function b(a){if(8!==a&&16!==a&&24!==a&&32!==a)throw Error("Only 8, 16, 24, or 32 bits supported: "+a);}function c(a){this.data="";this.read=0;if("string"===typeof a)this.data=a;else if(d.isArrayBuffer(a)||
d.isArrayBufferView(a))if("undefined"!==typeof Buffer&&a instanceof Buffer)this.data=a.toString("binary");else{a=new Uint8Array(a);try{this.data=String.fromCharCode.apply(null,a)}catch(A){for(var b=0;b<a.length;++b)this.putByte(a[b])}}else if(a instanceof c||"object"===typeof a&&"string"===typeof a.data&&"number"===typeof a.read)this.data=a.data,this.read=a.read;this._constructedStringLength=0}var d=a.exports=k.util=k.util||{};(function(){if("undefined"!==typeof process&&process.nextTick&&!process.browser)d.nextTick=
process.nextTick,d.setImmediate="function"===typeof setImmediate?setImmediate:d.nextTick;else if("function"===typeof setImmediate)d.setImmediate=d.nextTick=else{d.setImmediate=if("undefined"!==typeof window&&"function"===typeof window.postMessage){var a=[];d.setImmediate=function(b){a.push(b);1===a.length&&window.postMessage("forge.setImmediate","*")};window.addEventListener("message",
function(b){b.source===window&&"forge.setImmediate"===b.data&&(b.stopPropagation(),b=a.slice(),a.length=0,b.forEach(function(a){a()}))},!0)}if("undefined"!==typeof MutationObserver){var b=Date.now(),c=!0,e=document.createElement("div");a=[];(new MutationObserver(function(){var b=a.slice();a.length=0;b.forEach(})).observe(e,{attributes:!0});var f=d.setImmediate;d.setImmediate=function(d){15<Date.now()-b?(b=Date.now(),f(d)):(a.push(d),1===a.length&&e.setAttribute("a",c=!c))}}d.nextTick=
d.setImmediate}})();d.isNodejs="undefined"!==typeof process&&process.versions&&process.versions.node;a=d.isNodejs?Ga:"undefined"===typeof self?window:self;d.globalScope=a;d.isArray=Array.isArray||d.isArrayBuffer=d.isArrayBufferView=d.ByteBuffer=c;d.ByteStringBuffer=c;d.ByteStringBuffer.prototype._optimizeConstructedString=
function(a){this._constructedStringLength+=a;4096<this._constructedStringLength&&(this.data.substr(0,1),this._constructedStringLength=0)};d.ByteStringBuffer.prototype.length=d.ByteStringBuffer.prototype.isEmpty=function(){return 0>=this.length()};d.ByteStringBuffer.prototype.putByte=function(a){return this.putBytes(String.fromCharCode(a))};d.ByteStringBuffer.prototype.fillWithByte=function(a,b){a=String.fromCharCode(a);for(var c=this.data;0<b;)b&1&&(c+=
a),b>>>=1,0<b&&(a+=a);this.data=c;this._optimizeConstructedString(b);return this};d.ByteStringBuffer.prototype.putBytes=function(a){this.data+=a;this._optimizeConstructedString(a.length);return this};d.ByteStringBuffer.prototype.putString=d.ByteStringBuffer.prototype.putInt16=function(a){return this.putBytes(String.fromCharCode(a>>8&255)+String.fromCharCode(a&255))};d.ByteStringBuffer.prototype.putInt24=function(a){return this.putBytes(String.fromCharCode(a>>
16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255))};d.ByteStringBuffer.prototype.putInt32=d.ByteStringBuffer.prototype.putInt16Le=function(a){return this.putBytes(String.fromCharCode(a&255)+String.fromCharCode(a>>8&255))};d.ByteStringBuffer.prototype.putInt24Le=function(a){return this.putBytes(String.fromCharCode(a&255)+String.fromCharCode(a>>
8&255)+String.fromCharCode(a>>16&255))};d.ByteStringBuffer.prototype.putInt32Le=function(a){return this.putBytes(String.fromCharCode(a&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>24&255))};d.ByteStringBuffer.prototype.putInt=function(a,c){b(c);var d="";do c-=8,d+=String.fromCharCode(a>>c&255);while(0<c);return this.putBytes(d)};d.ByteStringBuffer.prototype.putSignedInt=function(a,b){0>a&&(a+=2<<b-1);return this.putInt(a,b)};d.ByteStringBuffer.prototype.putBuffer=
d.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};d.ByteStringBuffer.prototype.getInt16=function(){var a=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return a};d.ByteStringBuffer.prototype.getInt24=function(){var a=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return a};d.ByteStringBuffer.prototype.getInt32=
d.ByteStringBuffer.prototype.getInt16Le=function(){var a=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return a};d.ByteStringBuffer.prototype.getInt24Le=function(){var a=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=
3;return a};d.ByteStringBuffer.prototype.getInt32Le=function(){var a=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return a};d.ByteStringBuffer.prototype.getInt=function(a){b(a);var c=0;do c=(c<<8)+this.data.charCodeAt(this.read++),a-=8;while(0<a);return c};d.ByteStringBuffer.prototype.getSignedInt=function(a){var b=this.getInt(a);a=2<<a-2;b>=a&&(b-=a<<1);return b};d.ByteStringBuffer.prototype.getBytes=
function(a){if(a){a=Math.min(this.length(),a);var b=this.data.slice(this.read,this.read+a);this.read+=a}else 0===a?b="":(b=0===this.read?this.data:this.data.slice(this.read),this.clear());return b};d.ByteStringBuffer.prototype.bytes=function(a){return"undefined"===typeof a?this.data.slice(this.read):this.data.slice(this.read,this.read+a)};d.ByteStringBuffer.prototype.at=function(a){return this.data.charCodeAt(this.read+a)};d.ByteStringBuffer.prototype.setAt=function(a,b){this.data=this.data.substr(0,
this.read+a)+String.fromCharCode(b)+this.data.substr(this.read+a+1);return this};d.ByteStringBuffer.prototype.last=d.ByteStringBuffer.prototype.copy=function(){var a=d.createBuffer(this.data);a.read=this.read;return a};d.ByteStringBuffer.prototype.compact=d.ByteStringBuffer.prototype.clear=d.ByteStringBuffer.prototype.truncate=
function(a){a=Math.max(0,this.length()-a);this.data=this.data.substr(this.read,a);this.read=0;return this};d.ByteStringBuffer.prototype.toHex=function(){for(var a="",b=this.read;b<this.data.length;++b){var c=this.data.charCodeAt(b);16>c&&(a+="0");a+=c.toString(16)}return a};d.ByteStringBuffer.prototype.toString=d.DataBuffer=function(a,b){b=b||{};this.read=b.readOffset||0;this.growSize=b.growSize||1024;var c=d.isArrayBuffer(a),e=d.isArrayBufferView(a);
c||e?(this.data=c?new DataView(a):new DataView(a.buffer,a.byteOffset,a.byteLength),this.write="writeOffset"in b?b.writeOffset:this.data.byteLength):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==a&&void 0!==a&&this.putBytes(a),"writeOffset"in b&&(this.write=b.writeOffset))};d.DataBuffer.prototype.length=d.DataBuffer.prototype.isEmpty=d.DataBuffer.prototype.accommodate=function(a,b){if(this.length()>=a)return this;
b=Math.max(b||this.growSize,a);a=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);b=new Uint8Array(this.length()+b);b.set(a);this.data=new DataView(b.buffer);return this};d.DataBuffer.prototype.putByte=function(a){this.accommodate(1);this.data.setUint8(this.write++,a);return this};d.DataBuffer.prototype.fillWithByte=d.DataBuffer.prototype.putBytes=function(a,b){if(d.isArrayBufferView(a)){b=
new Uint8Array(a.buffer,a.byteOffset,a.byteLength);a=b.byteLength-b.byteOffset;this.accommodate(a);var c=new Uint8Array(this.data.buffer,this.write);c.set(b);this.write+=a;return this}if(d.isArrayBuffer(a))return b=new Uint8Array(a),this.accommodate(b.byteLength),c=new Uint8Array(this.data.buffer),c.set(b,this.write),this.write+=b.byteLength,this;if(a instanceof d.DataBuffer||"object"===typeof a&&"number"===typeof a.read&&"number"===typeof a.write&&d.isArrayBufferView(a.data))return b=new Uint8Array(a.data.byteLength,
a.read,a.length()),this.accommodate(b.byteLength),c=new Uint8Array(a.data.byteLength,this.write),c.set(b),this.write+=b.byteLength,this;a instanceof d.ByteStringBuffer&&(a=a.data,b="binary");b=b||"binary";if("string"===typeof a){if("hex"===b)return this.accommodate(Math.ceil(a.length/2)),b=new Uint8Array(this.data.buffer,this.write),this.write+=d.binary.hex.decode(a,b,this.write),this;if("base64"===b)return this.accommodate(3*Math.ceil(a.length/4)),b=new Uint8Array(this.data.buffer,this.write),this.write+=
d.binary.base64.decode(a,b,this.write),this;"utf8"===b&&(a=d.encodeUtf8(a),b="binary");if("binary"===b||"raw"===b)return this.accommodate(a.length),b=new Uint8Array(this.data.buffer,this.write),this.write+=d.binary.raw.decode(b),this;if("utf16"===b)return this.accommodate(2*a.length),b=new Uint16Array(this.data.buffer,this.write),this.write+=d.text.utf16.encode(b),this;throw Error("Invalid encoding: "+b);}throw Error("Invalid parameter: "+a);};d.DataBuffer.prototype.putBuffer=function(a){this.putBytes(a);
a.clear();return this};d.DataBuffer.prototype.putString=d.DataBuffer.prototype.putInt16=function(a){this.accommodate(2);this.data.setInt16(this.write,a);this.write+=2;return this};d.DataBuffer.prototype.putInt24=function(a){this.accommodate(3);this.data.setInt16(this.write,a>>8&65535);this.data.setInt8(this.write,a>>16&255);this.write+=3;return this};d.DataBuffer.prototype.putInt32=function(a){this.accommodate(4);this.data.setInt32(this.write,a);this.write+=
4;return this};d.DataBuffer.prototype.putInt16Le=function(a){this.accommodate(2);this.data.setInt16(this.write,a,!0);this.write+=2;return this};d.DataBuffer.prototype.putInt24Le=function(a){this.accommodate(3);this.data.setInt8(this.write,a>>16&255);this.data.setInt16(this.write,a>>8&65535,!0);this.write+=3;return this};d.DataBuffer.prototype.putInt32Le=function(a){this.accommodate(4);this.data.setInt32(this.write,a,!0);this.write+=4;return this};d.DataBuffer.prototype.putInt=function(a,c){b(c);this.accommodate(c/
8);do c-=8,this.data.setInt8(this.write++,a>>c&255);while(0<c);return this};d.DataBuffer.prototype.putSignedInt=function(a,c){b(c);this.accommodate(c/8);0>a&&(a+=2<<c-1);return this.putInt(a,c)};d.DataBuffer.prototype.getByte=d.DataBuffer.prototype.getInt16=function(){var a=this.data.getInt16(this.read);this.read+=2;return a};d.DataBuffer.prototype.getInt24=d.DataBuffer.prototype.getInt32=d.DataBuffer.prototype.getInt16Le=function(){var a=this.data.getInt16(this.read,!0);this.read+=2;return a};d.DataBuffer.prototype.getInt24Le=function(){var a=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;this.read+=3;return a};d.DataBuffer.prototype.getInt32Le=function(){var a=this.data.getInt32(this.read,!0);this.read+=4;return a};d.DataBuffer.prototype.getInt=function(a){b(a);
var c=0;do c=(c<<8)+this.data.getInt8(this.read++),a-=8;while(0<a);return c};d.DataBuffer.prototype.getSignedInt=function(a){var b=this.getInt(a);a=2<<a-2;b>=a&&(b-=a<<1);return b};d.DataBuffer.prototype.getBytes=function(a){if(a){a=Math.min(this.length(),a);var b=this.data.slice(this.read,this.read+a);this.read+=a}else 0===a?b="":(b=0===this.read?this.data:this.data.slice(this.read),this.clear());return b};d.DataBuffer.prototype.bytes=d.DataBuffer.prototype.at=d.DataBuffer.prototype.setAt=d.DataBuffer.prototype.last=d.DataBuffer.prototype.copy=d.DataBuffer.prototype.compact=function(){if(0<this.read){var a=new Uint8Array(this.data.buffer,this.read),b=new Uint8Array(a.byteLength);b.set(a);this.data=
new DataView(b);this.write-=this.read;this.read=0}return this};d.DataBuffer.prototype.clear=function(){this.data=new DataView(new ArrayBuffer(0));this.read=this.write=0;return this};d.DataBuffer.prototype.truncate=function(a){this.write=Math.max(0,this.length()-a);this.read=Math.min(this.read,this.write);return this};d.DataBuffer.prototype.toHex=d.DataBuffer.prototype.toString=
function(a){var b=new Uint8Array(this.data,this.read,this.length());a=a||"utf8";if("binary"===a||"raw"===a)return d.binary.raw.encode(b);if("hex"===a)return d.binary.hex.encode(b);if("base64"===a)return d.binary.base64.encode(b);if("utf8"===a)return d.text.utf8.decode(b);if("utf16"===a)return d.text.utf16.decode(b);throw Error("Invalid encoding: "+a);};d.createBuffer=function(a,b){void 0!==a&&"utf8"===(b||"raw")&&(a=d.encodeUtf8(a));return new d.ByteBuffer(a)};d.fillString=function(a,b){for(var c=
"";0<b;)b&1&&(c+=a),b>>>=1,0<b&&(a+=a);return c};d.xorBytes=function(a,b,c){for(var d="",e,f="",h=0,l=0;0<c;--c,++h)e=a.charCodeAt(h)^b.charCodeAt(h),10<=l&&(d+=f,f="",l=0),f+=String.fromCharCode(e),++l;return d+f};d.hexToBytes=function(a){var b="",c=0;a.length&1&&(c=1,b+=String.fromCharCode(parseInt(a[0],16)));for(;c<a.length;c+=2)b+=String.fromCharCode(parseInt(a.substr(c,2),16));return b};d.bytesToHex=function(a){return d.createBuffer(a).toHex()};d.int32ToBytes=function(a){return String.fromCharCode(a>>
24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255)};var e=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];d.encode64=function(a,b){for(var c="",d="",e,f,h,l=0;l<a.length;)e=a.charCodeAt(l++),f=a.charCodeAt(l++),h=a.charCodeAt(l++),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e>>
2),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((e&3)<<4|f>>4),isNaN(f)?c+="==":(c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((f&15)<<2|h>>6),c+=isNaN(h)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h&63)),b&&c.length>b&&(d+=c.substr(0,b)+"\r\n",c=c.substr(b));return d+c};d.decode64=function(a){a=a.replace(/[^A-Za-z0-9\+\/=]/g,"");for(var b="",c,d,f,h,l=0;l<a.length;)c=e[a.charCodeAt(l++)-43],d=e[a.charCodeAt(l++)-
43],f=e[a.charCodeAt(l++)-43],h=e[a.charCodeAt(l++)-43],b+=String.fromCharCode(c<<2|d>>4),64!==f&&(b+=String.fromCharCode((d&15)<<4|f>>2),64!==h&&(b+=String.fromCharCode((f&3)<<6|h)));return b};d.encodeUtf8=function(a){return unescape(encodeURIComponent(a))};d.decodeUtf8=d.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Gp,decode:Hp}};d.binary.raw.encode=d.binary.raw.decode=d.binary.hex.encode=d.bytesToHex;d.binary.hex.decode=function(a,b,c){var d=b;d||(d=new Uint8Array(Math.ceil(a.length/2)));c=c||0;var f=0,e=c;a.length&1&&(f=1,d[e++]=parseInt(a[0],16));for(;f<a.length;f+=2)d[e++]=parseInt(a.substr(f,2),16);return b?e-c:d};d.binary.base64.encode=function(a,b){for(var c="",d="",f,e,h,l=0;l<a.byteLength;)f=a[l++],e=a[l++],h=a[l++],c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f>>
2),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((f&3)<<4|e>>4),isNaN(e)?c+="==":(c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((e&15)<<2|h>>6),c+=isNaN(h)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h&63)),b&&c.length>b&&(d+=c.substr(0,b)+"\r\n",c=c.substr(b));return d+c};d.binary.base64.decode=function(a,b,c){var d=b;d||(d=new Uint8Array(3*Math.ceil(a.length/4)));a=a.replace(/[^A-Za-z0-9\+\/=]/g,"");
c=c||0;for(var f,h,l,n,m=0,k=c;m<a.length;)f=e[a.charCodeAt(m++)-43],h=e[a.charCodeAt(m++)-43],l=e[a.charCodeAt(m++)-43],n=e[a.charCodeAt(m++)-43],d[k++]=f<<2|h>>4,64!==l&&(d[k++]=(h&15)<<4|l>>2,64!==n&&(d[k++]=(l&3)<<6|n));return b?k-c:d.subarray(0,k)};d.binary.base58.encode=function(a,b){return d.binary.baseN.encode(a,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",b)};d.binary.base58.decode=function(a,b){return d.binary.baseN.decode(a,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",
b)};d.text={utf8:{},utf16:{}};d.text.utf8.encode=d.text.utf8.decode=d.text.utf16.encode=d.text.utf16.decode=d.deflate=function(a,b,c){b=d.decode64(a.deflate(d.encode64(b)).rval);c&&(a=2,b.charCodeAt(1)&32&&(a=6),b=b.substring(a,b.length-4));return b};d.inflate=function(a,b,c){a=a.inflate(d.encode64(b)).rval;return null===a?null:d.decode64(a)};var f=function(a,b,c){if(!a)throw Error("WebStorage not available.");null===c?a=a.removeItem(b):(c=d.encode64(JSON.stringify(c)),a=a.setItem(b,c));if("undefined"!==typeof a&&!0!==a.rval)throw b=Error(a.error.message),b.id=a.error.id,b.name=
a.error.name,b;},h=function(a,b){if(!a)throw Error("WebStorage not available.");b=a.getItem(b);if(a.init)if(null===b.rval){if(b.error)throw a=Error(b.error.message),a.id=b.error.id,a.name=b.error.name,a;b=null}else b=b.rval;null!==b&&(b=JSON.parse(d.decode64(b)));return b},n=function(a,b,c,d){var e=h(a,b);null===e&&(e={});e[c]=d;f(a,b,e)},l=function(a,b,c){a=h(a,b);null!==a&&(a=c in a?a[c]:null);return a},m=function(a,b,c){var d=h(a,b);if(null!==d&&c in d){delete d[c];c=!0;for(var e in d){c=!1;break}c&&
(d=null);f(a,b,d)}},z=r=function(a,b,c){var d=null;"undefined"===typeof c&&(c=["web","flash"]);var f=!1,e=null,h;for(h in c){var l=c[h];try{if("flash"===l||"both"===l){if(null===b[0])throw Error("Flash local storage not available.");d=a.apply(this,b);f="flash"===l}if("web"===l||"both"===l)b[0]=localStorage,d=a.apply(this,b),f=!0}catch(X){e=X}if(f)break}if(!f)throw e;return d};d.setItem=d.getItem=d.removeItem=d.clearItems=d.isEmpty=d.format=function(a){var b=/%./g,c,d,f=0,e=[];for(d=0;c=b.exec(a);)switch(d=a.substring(d,b.lastIndex-2),0<d.length&&e.push(d),d=b.lastIndex,c=c[0][1],c){case "s":case "o":f<arguments.length?e.push(arguments[f++ +1]):e.push("<?>");break;case "%":e.push("%");break;default:e.push("<%"+c+"?>")}e.push(a.substring(d));return e.join("")};
d.formatNumber=function(a,b,c,d){var e=isNaN(b=Math.abs(b))?2:b;b=void 0===c?",":c;d=void 0===d?".":d;c=0>a?"-":"";var f=parseInt(a=Math.abs(+a||0).toFixed(e),10)+"",h=3<f.length?f.length%3:0;return c+(h?f.substr(0,h)+d:"")+f.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+d)+(e?b+Math.abs(a-f).toFixed(e).slice(2):"")};d.formatSize=function(a){return a=1073741824<=a?d.formatNumber(a/1073741824,2,".","")+" GiB":1048576<=a?d.formatNumber(a/1048576,2,".","")+" MiB":1024<=a?d.formatNumber(a/1024,0)+" KiB":d.formatNumber(a,
0)+" bytes"};d.bytesFromIP=d.bytesFromIPv4=function(a){a=a.split(".");if(4!==a.length)return null;for(var b=d.createBuffer(),c=0;c<a.length;++c){var f=parseInt(a[c],10);if(isNaN(f))return null;b.putByte(f)}return b.getBytes()};d.bytesFromIPv6=function(a){var b=0;a=a.split(":").filter(function(a){0===a.length&&++b;return!0});for(var c=2*(8-a.length+b),f=d.createBuffer(),e=0;8>e;++e)if(a[e]&&0!==a[e].length){var h=
d.hexToBytes(a[e]);2>h.length&&f.putByte(0);f.putBytes(h)}else f.fillWithByte(0,c),c=0;return f.getBytes()};d.bytesToIP=d.bytesToIPv4=d.bytesToIPv6=function(a){if(16!==a.length)return null;for(var b=[],c=[],f=0,e=0;e<a.length;e+=2){for(var h=d.bytesToHex(a[e]+a[e+1]);"0"===h[0]&&"0"!==h;)h=h.substr(1);
if("0"===h){var l=c[c.length-1],n=b.length;l&&n===l.end+1?(l.end=n,l.end-l.start>c[f].end-c[f].start&&(f=c.length-1)):c.push({start:n,end:n})}b.push(h)}0<c.length&&(a=c[f],0<a.end-a.start&&(b.splice(a.start,a.end-a.start+1,""),0===a.start&&b.unshift(""),7===a.end&&b.push("")));return b.join(":")};d.estimateCores=function(a,b){function c(a,l,n){if(0===l){var m=Math.floor(a.reduce(0)/a.length);d.cores=Math.max(1,m);URL.revokeObjectURL(h);return b(null,d.cores)}f(n,function(b,
d){a.push(e(n,d));c(a,l-1,n)})}function f(a,b){for(var c=[],d=[],f=0;f<a;++f){var e=new Worker(h);e.addEventListener("message",function(f){d.push(f.data);if(d.length===a){for(f=0;f<a;++f)c[f].terminate();b(null,d)}});c.push(e)}for(f=0;f<a;++f)c[f].postMessage(f)}function e(a,b){for(var c=[],d=0;d<a;++d)for(var f=b[d],e=c[d]=[],h=0;h<a;++h)if(d!==h){var l=b[h];(f.st>l.st&&f.st<l.et||l.st>f.st&&l.st<f.et)&&e.push(h)}return c.reduce(0)}"function"===typeof a&&
(b=a,a={});a=a||{};if("cores"in d&&!a.update)return b(null,d.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&0<navigator.hardwareConcurrency)return d.cores=navigator.hardwareConcurrency,b(null,d.cores);if("undefined"===typeof Worker)return d.cores=1,b(null,d.cores);if("undefined"===typeof Blob)return d.cores=2,b(null,d.cores);var h=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){a=Date.now();self.postMessage({st:a,et:a+4})})}.toString(),
")()"],{type:"application/javascript"}));c([],5,16)}});k.cipher=k.cipher||{};k.cipher.algorithms=k.cipher.algorithms||{};k.cipher.createCipher=function(a,b){var c=a;"string"===typeof c&&(c=k.cipher.getAlgorithm(c))&&(c=c());if(!c)throw Error("Unsupported algorithm: "+a);return new k.cipher.BlockCipher({algorithm:c,key:b,decrypt:!1})};k.cipher.createDecipher=function(a,b){var c=a;"string"===typeof c&&(c=k.cipher.getAlgorithm(c))&&(c=c());if(!c)throw Error("Unsupported algorithm: "+a);return new k.cipher.BlockCipher({algorithm:c,
key:b,decrypt:!0})};k.cipher.registerAlgorithm=function(a,b){a=a.toUpperCase();k.cipher.algorithms[a]=b};k.cipher.getAlgorithm=function(a){a=a.toUpperCase();return a in k.cipher.algorithms?k.cipher.algorithms[a]:null};var Xf=k.cipher.BlockCipher=function(a){this.algorithm=a.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this.output=this._input=null;this._op=a.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=a.decrypt;this.algorithm.initialize(a)};
Xf.prototype.start=function(a){a=a||{};var b={},c;for(c in a)b[c]=a[c];b.decrypt=this._decrypt;this._finish=!1;this._input=k.util.createBuffer();this.output=a.output||k.util.createBuffer();this.mode.start(b)};Xf.prototype.update=Xf.prototype.finish=function(a){!a||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(b){return a(this.blockSize,
b,!1)},this.mode.unpad=;var b={};b.decrypt=this._decrypt;b.overflow=this._input.length()%this.blockSize;if(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,b))return!1;this._finish=!0;this.update();return this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,b)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,b)?!1:!0};E(function(a){function b(a,b){"string"===typeof a&&(a=k.util.createBuffer(a));if(k.util.isArray(a)&&4<a.length){var c=
a;a=k.util.createBuffer();for(var d=0;d<c.length;++d)a.putByte(c[d])}if(a.length()<b)throw Error("Invalid IV length; got "+a.length()+" bytes and expected "+b+" bytes.");if(!k.util.isArray(a)){c=[];b/=4;for(d=0;d<b;++d)c.push(a.getInt32());a=c}return a}unction d(a){return[a/4294967296|0,a&4294967295]}k.cipher=k.cipher||{};a=a.exports=k.cipher.modes=k.cipher.modes||{};a.ecb=function(a){a=a||{};this.name="ECB";this.cipher=a.cipher;this.blockSize=
a.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints)};a.ecb.prototype.start=a.ecb.prototype.encrypt=function(a,b,c){if(a.length()<this.blockSize&&!(c&&0<a.length()))return!0;for(c=0;c<this._ints;++c)this._inBlock[c]=a.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(c=0;c<this._ints;++c)b.putInt32(this._outBlock[c])};a.ecb.prototype.decrypt=function(a,b,c){if(a.length()<this.blockSize&&!(c&&0<a.length()))return!0;
for(c=0;c<this._ints;++c)this._inBlock[c]=a.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(c=0;c<this._ints;++c)b.putInt32(this._outBlock[c])};a.ecb.prototype.pad=function(a,b){b=a.length()===this.blockSize?this.blockSize:this.blockSize-a.length();a.fillWithByte(b,b);return!0};a.ecb.prototype.unpad=function(a,b){if(0<b.overflow)return!1;b=a.length();b=a.at(b-1);if(b>this.blockSize<<2)return!1;a.truncate(b);return!0};a.cbc=function(a){a=a||{};this.name="CBC";this.cipher=a.cipher;
this.blockSize=a.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints)};a.cbc.prototype.start=function(a){if(null===a.iv){if(!this._prev)throw Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in a)this._iv=b(a.iv,this.blockSize),this._prev=this._iv.slice(0);else throw Error("Invalid IV parameter.");};a.cbc.prototype.encrypt=function(a,b,c){if(a.length()<this.blockSize&&!(c&&0<a.length()))return!0;for(c=0;c<this._ints;++c)this._inBlock[c]=
this._prev[c]^a.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(c=0;c<this._ints;++c)b.putInt32(this._outBlock[c]);this._prev=this._outBlock};a.cbc.prototype.decrypt=function(a,b,c){if(a.length()<this.blockSize&&!(c&&0<a.length()))return!0;for(c=0;c<this._ints;++c)this._inBlock[c]=a.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(c=0;c<this._ints;++c)b.putInt32(this._prev[c]^this._outBlock[c]);this._prev=this._inBlock.slice(0)};a.cbc.prototype.pad=function(a,b){b=
a.length()===this.blockSize?this.blockSize:this.blockSize-a.length();a.fillWithByte(b,b);return!0};a.cbc.prototype.unpad=function(a,b){if(0<b.overflow)return!1;b=a.length();b=a.at(b-1);if(b>this.blockSize<<2)return!1;a.truncate(b);return!0};a.cfb=function(a){a=a||{};this.name="CFB";this.cipher=a.cipher;this.blockSize=a.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);this._partialBlock=Array(this._ints);this._partialOutput=k.util.createBuffer();this._partialBytes=
0};a.cfb.prototype.start=function(a){if(!("iv"in a))throw Error("Invalid IV parameter.");this._iv=b(a.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};a.cfb.prototype.encrypt=function(a,b,c){var d=a.length();if(0===d)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&d>=this.blockSize)for(var f=0;f<this._ints;++f)this._inBlock[f]=a.getInt32()^this._outBlock[f],b.putInt32(this._inBlock[f]);else{var e=(this.blockSize-d)%this.blockSize;0<e&&
(e=this.blockSize-e);this._partialOutput.clear();for(f=0;f<this._ints;++f)this._partialBlock[f]=a.getInt32()^this._outBlock[f],this._partialOutput.putInt32(this._partialBlock[f]);if(0<e)a.read-=this.blockSize;else for(f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<e&&!c)return b.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=e,!0;b.putBytes(this._partialOutput.getBytes(d-this._partialBytes));
this._partialBytes=0}};a.cfb.prototype.decrypt=function(a,b,c){var d=a.length();if(0===d)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&d>=this.blockSize)for(var f=0;f<this._ints;++f)this._inBlock[f]=a.getInt32(),b.putInt32(this._inBlock[f]^this._outBlock[f]);else{var e=(this.blockSize-d)%this.blockSize;0<e&&(e=this.blockSize-e);this._partialOutput.clear();for(f=0;f<this._ints;++f)this._partialBlock[f]=a.getInt32(),this._partialOutput.putInt32(this._partialBlock[f]^
this._outBlock[f]);if(0<e)a.read-=this.blockSize;else for(f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<e&&!c)return b.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=e,!0;b.putBytes(this._partialOutput.getBytes(d-this._partialBytes));this._partialBytes=0}};a.ofb=function(a){a=a||{};this.name="OFB";this.cipher=a.cipher;this.blockSize=a.blockSize||16;this._ints=this.blockSize/4;
this._inBlock=null;this._outBlock=Array(this._ints);this._partialOutput=k.util.createBuffer();this._partialBytes=0};a.ofb.prototype.start=function(a){if(!("iv"in a))throw Error("Invalid IV parameter.");this._iv=b(a.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};a.ofb.prototype.encrypt=function(a,b,c){var d=a.length();if(0===a.length())return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&d>=this.blockSize)for(var f=0;f<this._ints;++f)b.putInt32(a.getInt32()^
this._outBlock[f]),this._inBlock[f]=this._outBlock[f];else{var e=(this.blockSize-d)%this.blockSize;0<e&&(e=this.blockSize-e);this._partialOutput.clear();for(f=0;f<this._ints;++f)this._partialOutput.putInt32(a.getInt32()^this._outBlock[f]);if(0<e)a.read-=this.blockSize;else for(f=0;f<this._ints;++f)this._inBlock[f]=this._outBlock[f];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<e&&!c)return b.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=
e,!0;b.putBytes(this._partialOutput.getBytes(d-this._partialBytes));this._partialBytes=0}};a.ofb.prototype.decrypt=a.ofb.prototype.encrypt;a.ctr=function(a){a=a||{};this.name="CTR";this.cipher=a.cipher;this.blockSize=a.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);this._partialOutput=k.util.createBuffer();this._partialBytes=0};a.ctr.prototype.start=function(a){if(!("iv"in a))throw Error("Invalid IV parameter.");this._iv=b(a.iv,this.blockSize);this._inBlock=
this._iv.slice(0);this._partialBytes=0};a.ctr.prototype.encrypt=function(a,b,d){var f=a.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize)for(var e=0;e<this._ints;++e)b.putInt32(a.getInt32()^this._outBlock[e]);else{var h=(this.blockSize-f)%this.blockSize;0<h&&(h=this.blockSize-h);this._partialOutput.clear();for(e=0;e<this._ints;++e)this._partialOutput.putInt32(a.getInt32()^this._outBlock[e]);0<h&&(a.read-=this.blockSize);0<this._partialBytes&&
this._partialOutput.getBytes(this._partialBytes);if(0<h&&!d)return b.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}c(this._inBlock)};a.ctr.prototype.decrypt=a.ctr.prototype.encrypt;a.gcm=function(a){a=a||{};this.name="GCM";this.cipher=a.cipher;this.blockSize=a.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints);this._partialOutput=
k.util.createBuffer();this._partialBytes=0;this._R=3774873600};a.gcm.prototype.start=function(a){if(!("iv"in a))throw Error("Invalid IV parameter.");var b=k.util.createBuffer(a.iv);this._cipherLength=0;var e="additionalData"in a?k.util.createBuffer(a.additionalData):k.util.createBuffer();this._tagLength="tagLength"in a?a.tagLength:128;this._tag=null;if(a.decrypt&&(this._tag=k.util.createBuffer(a.tag).getBytes(),this._tag.length!==this._tagLength/8))throw Error("Authentication tag does not match tag length.");
this._hashBlock=Array(this._ints);this.tag=null;this._hashSubkey=Array(this._ints);this.cipher.encrypt([0,0,0,0],this._hashSubkey);this.componentBits=4;this._m=this.generateHashTable(this._hashSubkey,this.componentBits);a=b.length();if(12===a)this._j0=[b.getInt32(),b.getInt32(),b.getInt32(),1];else{for(this._j0=[0,0,0,0];0<b.length();)this._j0=this.ghash(this._hashSubkey,this._j0,[b.getInt32(),b.getInt32(),b.getInt32(),b.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(d(8*
a)))}this._inBlock=this._j0.slice(0);c(this._inBlock);this._partialBytes=0;e=k.util.createBuffer(e);this._aDataLength=d(8*e.length());(b=e.length()%this.blockSize)&&e.fillWithByte(0,this.blockSize-b);for(this._s=[0,0,0,0];0<e.length();)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])};a.gcm.prototype.encrypt=function(a,b,d){var f=a.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize){for(var e=
0;e<this._ints;++e)b.putInt32(this._outBlock[e]^=a.getInt32());this._cipherLength+=this.blockSize}else{var h=(this.blockSize-f)%this.blockSize;0<h&&(h=this.blockSize-h);this._partialOutput.clear();for(e=0;e<this._ints;++e)this._partialOutput.putInt32(a.getInt32()^this._outBlock[e]);if(0>=h||d){d?(e=f%this.blockSize,this._cipherLength+=e,this._partialOutput.truncate(this.blockSize-e)):this._cipherLength+=this.blockSize;for(e=0;e<this._ints;++e)this._outBlock[e]=this._partialOutput.getInt32();this._partialOutput.read-=
this.blockSize}0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<h&&!d)return a.read-=this.blockSize,b.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock);c(this._inBlock)};a.gcm.prototype.decrypt=function(a,b,d){var f=a.length();if(f<this.blockSize&&!(d&&0<f))return!0;this.cipher.encrypt(this._inBlock,
this._outBlock);c(this._inBlock);this._hashBlock[0]=a.getInt32();this._hashBlock[1]=a.getInt32();this._hashBlock[2]=a.getInt32();this._hashBlock[3]=a.getInt32();this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(a=0;a<this._ints;++a)b.putInt32(this._outBlock[a]^this._hashBlock[a]);this._cipherLength=f<this.blockSize?this._cipherLength+f%this.blockSize:this._cipherLength+this.blockSize};a.gcm.prototype.afterFinish=function(a,b){var c=!0;b.decrypt&&b.overflow&&a.truncate(this.blockSize-
b.overflow);this.tag=k.util.createBuffer();a=this._aDataLength.concat(d(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,a);a=[];this.cipher.encrypt(this._j0,a);for(var f=0;f<this._ints;++f)this.tag.putInt32(this._s[f]^a[f]);this.tag.truncate(this.tag.length()%(this._tagLength/8));b.decrypt&&this.tag.bytes()!==this._tag&&(c=!1);return c};a.gcm.prototype.multiply=function(a,b){var c=[0,0,0,0];b=b.slice(0);for(var d=0;128>d;++d)a[d/32|0]&1<<31-d%32&&(c[0]^=b[0],c[1]^=b[1],c[2]^=b[2],
c[3]^=b[3]),this.pow(b,b);return c};a.gcm.prototype.pow=function(a,b){for(var c=a[3]&1,d=3;0<d;--d)b[d]=a[d]>>>1|(a[d-1]&1)<<31;b[0]=a[0]>>>1;c&&(b[0]^=this._R)};a.gcm.prototype.tableMultiply=function(a){for(var b=[0,0,0,0],c=0;32>c;++c){var d=this._m[c][a[c/8|0]>>>4*(7-c%8)&15];b[0]^=d[0];b[1]^=d[1];b[2]^=d[2];b[3]^=d[3]}return b};a.gcm.prototype.ghash=function(a,b,c){b[0]^=c[0];b[1]^=c[1];b[2]^=c[2];b[3]^=c[3];return this.tableMultiply(b)};a.gcm.prototype.generateHashTable=function(a,b){var c=8/
b,d=4*c;c*=16;for(var f=Array(c),e=0;e<c;++e){var k=[0,0,0,0];k[e/d|0]=1<<b-1<<(d-1-e%d)*b;f[e]=this.generateSubHashTable(this.multiply(k,a),b)}return f};a.gcm.prototype.generateSubHashTable=function(a,b){b=1<<b;var c=b>>>1,d=Array(b);d[c]=a.slice(0);for(var f=c>>>1;0<f;)this.pow(d[2*f],d[f]=[]),f>>=1;for(f=2;f<c;){for(var e=1;e<f;++e){var k=d[f],r=d[e];d[f+e]=[k[0]^r[0],k[1]^r[1],k[2]^r[2],k[3]^r[3]]}f*=2}d[0]=[0,0,0,0];for(f=c+1;f<b;++f)e=d[f^c],d[f]=[a[0]^e[0],a[1]^e[1],a[2]^e[2],a[3]^e[3]];return d}});
k.aes=k.aes||{};k.aes.startEncrypting=function(a,b,c,d){a=yd({key:a,output:c,decrypt:!1,mode:d});a.start(b);return a};k.aes.createEncryptionCipher=function(a,b){return yd({key:a,output:null,decrypt:!1,mode:b})};k.aes.startDecrypting=function(a,b,c,d){a=yd({key:a,output:c,decrypt:!0,mode:d});a.start(b);return a};k.aes.createDecryptionCipher=function(a,b){return yd({key:a,output:null,decrypt:!0,mode:b})};k.aes.Algorithm=function(a,b){Ee||Ng();var c=this;c.name=a;c.mode=new b({blockSize:16,cipher:{encrypt:function(a,
b){return Ge(c._w,a,b,!1)},decrypt:function(a,b){return Ge(c._w,a,b,!0)}}});c._init=!1};k.aes.Algorithm.prototype.initialize=function(a){if(!this._init){var b=a.key;if("string"===typeof b&&(16===b.length||24===b.length||32===b.length))b=k.util.createBuffer(b);else if(k.util.isArray(b)&&(16===b.length||24===b.length||32===b.length)){var c=b;b=k.util.createBuffer();for(var d=0;d<c.length;++d)b.putByte(c[d])}if(!k.util.isArray(b)){c=b;b=[];var e=c.length();if(16===e||24===e||32===e)for(e>>>=2,d=0;d<
e;++d)b.push(c.getInt32())}if(!k.util.isArray(b)||4!==b.length&&6!==b.length&&8!==b.length)throw Error("Invalid key parameter.");c=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=Pg(b,a.decrypt&&!c);this._init=!0}};k.aes._expandKey=function(a,b){Ee||Ng();return Pg(a,b)};k.aes._updateBlock=Ge;fc("AES-ECB",k.cipher.modes.ecb);fc("AES-CBC",k.cipher.modes.cbc);fc("AES-CFB",k.cipher.modes.cfb);fc("AES-OFB",k.cipher.modes.ofb);fc("AES-CTR",k.cipher.modes.ctr);fc("AES-GCM",k.cipher.modes.gcm);
var Ee=!1,gc=4,za,Fe,Og,Lb,Va;E(function(a){.pki=k.pki||{};var c=a.exports=k.pki.oids=k.oids=k.oids||{};b("1.2.840.113549.1.1.1","rsaEncryption");b("1.2.840.113549.1.1.4","md5WithRSAEncryption");b("1.2.840.113549.1.1.5","sha1WithRSAEncryption");b("1.2.840.113549.1.1.7","RSAES-OAEP");b("1.2.840.113549.1.1.8","mgf1");b("1.2.840.113549.1.1.9","pSpecified");b("1.2.840.113549.1.1.10","RSASSA-PSS");b("1.2.840.113549.1.1.11","sha256WithRSAEncryption");b("1.2.840.113549.1.1.12",
"sha384WithRSAEncryption");b("1.2.840.113549.1.1.13","sha512WithRSAEncryption");b("1.3.101.112","EdDSA25519");b("1.2.840.10040.4.3","dsa-with-sha1");b("1.3.14.3.2.7","desCBC");b("1.3.14.3.2.26","sha1");b("1.3.14.3.2.29","sha1WithRSASignature");b("2.16.840.1.101.3.4.2.1","sha256");b("2.16.840.1.101.3.4.2.2","sha384");b("2.16.840.1.101.3.4.2.3","sha512");b("2.16.840.1.101.3.4.2.4","sha224");b("2.16.840.1.101.3.4.2.5","sha512-224");b("2.16.840.1.101.3.4.2.6","sha512-256");b("1.2.840.113549.2.2","md2");
b("1.2.840.113549.2.5","md5");b("1.2.840.113549.1.7.1","data");b("1.2.840.113549.1.7.2","signedData");b("1.2.840.113549.1.7.3","envelopedData");b("1.2.840.113549.1.7.4","signedAndEnvelopedData");b("1.2.840.113549.1.7.5","digestedData");b("1.2.840.113549.1.7.6","encryptedData");b("1.2.840.113549.1.9.1","emailAddress");b("1.2.840.113549.1.9.2","unstructuredName");b("1.2.840.113549.1.9.3","contentType");b("1.2.840.113549.1.9.4","messageDigest");b("1.2.840.113549.1.9.5","signingTime");b("1.2.840.113549.1.9.6",
"counterSignature");b("1.2.840.113549.1.9.7","challengePassword");b("1.2.840.113549.1.9.8","unstructuredAddress");b("1.2.840.113549.1.9.14","extensionRequest");b("1.2.840.113549.1.9.20","friendlyName");b("1.2.840.113549.1.9.21","localKeyId");b("1.2.840.113549.1.9.22.1","x509Certificate");b("1.2.840.113549.1.12.10.1.1","keyBag");b("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");b("1.2.840.113549.1.12.10.1.3","certBag");b("1.2.840.113549.1.12.10.1.4","crlBag");b("1.2.840.113549.1.12.10.1.5","secretBag");
b("1.2.840.113549.1.12.10.1.6","safeContentsBag");b("1.2.840.113549.1.5.13","pkcs5PBES2");b("1.2.840.113549.1.5.12","pkcs5PBKDF2");b("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");b("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");b("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");b("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");b("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");b("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");b("1.2.840.113549.2.7",
"hmacWithSHA1");b("1.2.840.113549.2.8","hmacWithSHA224");b("1.2.840.113549.2.9","hmacWithSHA256");b("1.2.840.113549.2.10","hmacWithSHA384");b("1.2.840.113549.2.11","hmacWithSHA512");b("1.2.840.113549.3.7","des-EDE3-CBC");b("2.16.840.1.101.3.4.1.2","aes128-CBC");b("2.16.840.1.101.3.4.1.22","aes192-CBC");b("2.16.840.1.101.3.4.1.42","aes256-CBC");b("2.5.4.3","commonName");b("2.5.4.4","surname");b("2.5.4.5","serialNumber");b("2.5.4.6","countryName");b("2.5.4.7","localityName");b("2.5.4.8","stateOrProvinceName");
b("2.5.4.9","streetAddress");b("2.5.4.10","organizationName");b("2.5.4.11","organizationalUnitName");b("2.5.4.12","title");b("2.5.4.13","description");b("2.5.4.15","businessCategory");b("2.5.4.17","postalCode");b("2.5.4.42","givenName");b("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");b("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");b("2.16.840.1.113730.1.1","nsCertType");b("2.16.840.1.113730.1.13","nsComment");c["2.5.29.1"]="authorityKeyIdentifier";
c["2.5.29.2"]="keyAttributes";c["2.5.29.3"]="certificatePolicies";c["2.5.29.4"]="keyUsageRestriction";c["2.5.29.5"]="policyMapping";c["2.5.29.6"]="subtreesConstraint";c["2.5.29.7"]="subjectAltName";c["2.5.29.8"]="issuerAltName";c["2.5.29.9"]="subjectDirectoryAttributes";c["2.5.29.10"]="basicConstraints";c["2.5.29.11"]="nameConstraints";c["2.5.29.12"]="policyConstraints";c["2.5.29.13"]="basicConstraints";b("2.5.29.14","subjectKeyIdentifier");b("2.5.29.15","keyUsage");c["2.5.29.16"]="privateKeyUsagePeriod";
b("2.5.29.17","subjectAltName");b("2.5.29.18","issuerAltName");b("2.5.29.19","basicConstraints");c["2.5.29.20"]="cRLNumber";c["2.5.29.21"]="cRLReason";c["2.5.29.22"]="expirationDate";c["2.5.29.23"]="instructionCode";c["2.5.29.24"]="invalidityDate";c["2.5.29.25"]="cRLDistributionPoints";c["2.5.29.26"]="issuingDistributionPoint";c["2.5.29.27"]="deltaCRLIndicator";c["2.5.29.28"]="issuingDistributionPoint";c["2.5.29.29"]="certificateIssuer";c["2.5.29.30"]="nameConstraints";b("2.5.29.31","cRLDistributionPoints");
b("2.5.29.32","certificatePolicies");c["2.5.29.33"]="policyMappings";c["2.5.29.34"]="policyConstraints";b("2.5.29.35","authorityKeyIdentifier");c["2.5.29.36"]="policyConstraints";b("2.5.29.37","extKeyUsage");c["2.5.29.46"]="freshestCRL";c["2.5.29.54"]="inhibitAnyPolicy";b("1.3.6.1.4.1.11129.2.4.2","timestampList");b("1.3.6.1.5.5.7.1.1","authorityInfoAccess");b("1.3.6.1.5.5.7.3.1","serverAuth");b("1.3.6.1.5.5.7.3.2","clientAuth");b("1.3.6.1.5.5.7.3.3","codeSigning");b("1.3.6.1.5.5.7.3.4","emailProtection");
b("1.3.6.1.5.5.7.3.8","timeStamping")});E(function(a){function b(a,b,c){if(c>b){var d=Error("Too few bytes to parse DER.");d.available=a.length();d.remaining=b;d.requested=c;throw d;}}function c(a,e,n,l){b(a,e,2);var f=a.getByte();e--;var h=f&192,k=f&31;var u=a.length();var w=e;var A=a.getByte();w--;if(128===A)w=void 0;else if(A&128?(A&=127,b(a,w,A),w=a.getInt(A<<3)):w=A,0>w)throw Error("Negative length: "+w);e-=u-a.length();if(void 0!==w&&w>e){if(l.strict)throw n=Error("Too few bytes to read ASN.1 value."),
n.available=a.length(),n.remaining=e,n.requested=w,n;w=e}var p;if(f=32===(f&32)){var q=[];if(void 0===w)for(;;){b(a,e,2);if(a.bytes(2)===String.fromCharCode(0,0)){a.getBytes(2);e-=2;break}u=a.length();q.push(c(a,e,n+1,l));e-=u-a.length()}else for(;0<w;)u=a.length(),q.push(c(a,w,n+1,l)),e-=u-a.length(),w-=u-a.length()}void 0===q&&h===d.Class.UNIVERSAL&&k===d.Type.BITSTRING&&(p=a.bytes(w));if(void 0===q&&l.decodeBitStrings&&h===d.Class.UNIVERSAL&&k===d.Type.BITSTRING&&1<w){A=a.read;var t=e,wa=0;k===
d.Type.BITSTRING&&(b(a,e,1),wa=a.getByte(),e--);if(0===wa)try{u=a.length();var v=c(a,e,n+1,{strict:!0,decodeBitStrings:!0}),X=u-a.length();e-=X;k==d.Type.BITSTRING&&X++;var M=v.tagClass;X!==w||M!==d.Class.UNIVERSAL&&M!==d.Class.CONTEXT_SPECIFIC||(q=[v])}catch(G){}void 0===q&&(a.read=A,e=t)}if(void 0===q){if(void 0===w){if(l.strict)throw Error("Non-constructed ASN.1 object of indefinite length.");w=e}if(k===d.Type.BMPSTRING)for(q="";0<w;w-=2)b(a,e,2),q+=String.fromCharCode(a.getInt16()),e-=2;else q=
a.getBytes(w)}return d.create(h,k,f,q,void 0===p?null:{bitStringContents:p})}var d=a.exports=k.asn1=k.asn1||{};d.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};d.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};d.create=function(a,b,c,e,m){if(k.util.isArray(e)){for(var f=[],h=0;h<e.length;++h)void 0!==
e[h]&&f.push(e[h]);e=f}a={tagClass:a,type:b,constructed:c,composed:c||k.util.isArray(e),value:e};m&&"bitStringContents"in m&&(a.bitStringContents=m.bitStringContents,a.original=d.copy(a));return a};d.copy=function(a,b){if(k.util.isArray(a)){var c=[];for(var f=0;f<a.length;++f)c.push(d.copy(a[f],b));return c}if("string"===typeof a)return a;c={tagClass:a.tagClass,type:a.type,constructed:a.constructed,composed:a.composed,value:d.copy(a.value,b)};b&&!b.excludeBitStringContents&&(c.bitStringContents=a.bitStringContents);
return c};d.equals=function(a,b,c){if(k.util.isArray(a)){if(!k.util.isArray(b)||a.length!==b.length)return!1;for(c=0;c<a.length;++c)if(!d.equals(a[c],b[c]))return!1;return!0}if(typeof a!==typeof b)return!1;if("string"===typeof a)return a===b;var f=a.tagClass===b.tagClass&&a.type===b.type&&a.constructed===b.constructed&&a.composed===b.composed&&d.equals(a.value,b.value);c&&c.includeBitStringContents&&(f=f&&a.bitStringContents===b.bitStringContents);return f};d.getBerValueLength=function(a){var b=a.getByte();
if(128!==b)return b&128?a.getInt((b&127)<<3):b};d.fromDer=function(a,b){void 0===b&&(b={strict:!0,parseAllBytes:!0,decodeBitStrings:!0});"boolean"===typeof b&&(b={strict:b,parseAllBytes:!0,decodeBitStrings:!0});"strict"in b||(b.strict=!0);"parseAllBytes"in b||(b.parseAllBytes=!0);"decodeBitStrings"in b||(b.decodeBitStrings=!0);"string"===typeof a&&(a=k.util.createBuffer(a));var d=a.length(),f=c(a,a.length(),0,b);if(b.parseAllBytes&&0!==a.length())throw b=Error("Unparsed DER bytes remain after ASN.1 parsing."),
b.byteCount=d,b.remaining=a.length(),b;return f};d.toDer=function(a){var b=k.util.createBuffer(),c=a.tagClass|a.type,e=k.util.createBuffer(),f=!1;"bitStringContents"in a&&(f=!0,a.original&&(f=d.equals(a,a.original)));if(f)e.putBytes(a.bitStringContents);else if(a.composed)for(a.constructed?c|=32:e.putByte(0),f=0;f<a.value.length;++f)void 0!==a.value[f]&&e.putBuffer(d.toDer(a.value[f]));else if(a.type===d.Type.BMPSTRING)for(f=0;f<a.value.length;++f)e.putInt16(a.value.charCodeAt(f));else a.type===d.Type.INTEGER&&
1<a.value.length&&(0===a.value.charCodeAt(0)&&0===(a.value.charCodeAt(1)&128)||255===a.value.charCodeAt(0)&&128===(a.value.charCodeAt(1)&128))?e.putBytes(a.value.substr(1)):e.putBytes(a.value);b.putByte(c);if(127>=e.length())b.putByte(e.length()&127);else{c=e.length();a="";do a+=String.fromCharCode(c&255),c>>>=8;while(0<c);b.putByte(a.length|128);for(f=a.length-1;0<=f;--f)b.putByte(a.charCodeAt(f))}b.putBuffer(e);return b};d.oidToDer=function(a){a=a.split(".");var b=k.util.createBuffer();b.putByte(40*
parseInt(a[0],10)+parseInt(a[1],10));for(var c,d,e,f,r=2;r<a.length;++r){c=!0;d=[];e=parseInt(a[r],10);do f=e&127,e>>>=7,c||(f|=128),d.push(f),c=!1;while(0<e);for(c=d.length-1;0<=c;--c)b.putByte(d[c])}return b};d.derToOid=function(a){"string"===typeof a&&(a=k.util.createBuffer(a));var b=a.getByte();var c=Math.floor(b/40)+"."+b%40;for(var d=0;0<a.length();)b=a.getByte(),d<<=7,b&128?d+=b&127:(c+="."+(d+b),d=0);return c};d.utcTimeToDate=function(a){var b=new Date,c=parseInt(a.substr(0,2),10);c=50<=c?
1900+c:2E3+c;var d=parseInt(a.substr(2,2),10)-1,e=parseInt(a.substr(4,2),10),f=parseInt(a.substr(6,2),10),k=parseInt(a.substr(8,2),10),u=0;if(11<a.length){var w=a.charAt(10),A=10;"+"!==w&&"-"!==w&&(u=parseInt(a.substr(10,2),10),A+=2)}b.setUTCFullYear(c,d,e);b.setUTCHours(f,k,u,0);A&&(w=a.charAt(A),"+"===w||"-"===w)&&(c=parseInt(a.substr(A+1,2),10),a=parseInt(a.substr(A+4,2),10),a=6E4*(60*c+a),"+"===w?b.setTime(+b-a):b.setTime(+b+a));return b};d.generalizedTimeToDate=function(a){var b=new Date,c=parseInt(a.substr(0,
4),10),d=parseInt(a.substr(4,2),10)-1,e=parseInt(a.substr(6,2),10),f=parseInt(a.substr(8,2),10),k=parseInt(a.substr(10,2),10),u=parseInt(a.substr(12,2),10),w=0,A=0,q=!1;"Z"===a.charAt(a.length-1)&&(q=!0);var p=a.length-5,t=a.charAt(p);if("+"===t||"-"===t)A=parseInt(a.substr(p+1,2),10),p=parseInt(a.substr(p+4,2),10),A=6E4*(60*A+p),"+"===t&&(A*=-1),q=!0;"."===a.charAt(14)&&(w=1E3*parseFloat(a.substr(14),10));q?(b.setUTCFullYear(c,d,e),b.setUTCHours(f,k,u,w),b.setTime(+b+A)):(b.setFullYear(c,d,e),b.setHours(f,
k,u,w));return b};d.dateToUtcTime=function(a){if("string"===typeof a)return a;var b="",c=[];c.push((""+a.getUTCFullYear()).substr(2));c.push(""+(a.getUTCMonth()+1));c.push(""+a.getUTCDate());c.push(""+a.getUTCHours());c.push(""+a.getUTCMinutes());c.push(""+a.getUTCSeconds());for(a=0;a<c.length;++a)2>c[a].length&&(b+="0"),b+=c[a];return b+"Z"};d.dateToGeneralizedTime=function(a){if("string"===typeof a)return a;var b="",c=[];c.push(""+a.getUTCFullYear());c.push(""+(a.getUTCMonth()+1));c.push(""+a.getUTCDate());
c.push(""+a.getUTCHours());c.push(""+a.getUTCMinutes());c.push(""+a.getUTCSeconds());for(a=0;a<c.length;++a)2>c[a].length&&(b+="0"),b+=c[a];return b+"Z"};d.integerToDer=function(a){var b=k.util.createBuffer();if(-128<=a&&128>a)return b.putSignedInt(a,8);if(-32768<=a&&32768>a)return b.putSignedInt(a,16);if(-8388608<=a&&8388608>a)return b.putSignedInt(a,24);if(-2147483648<=a&&2147483648>a)return b.putSignedInt(a,32);b=Error("Integer too large; max is 32-bits.");b.integer=a;throw b;};d.derToInteger=
function(a){"string"===typeof a&&(a=k.util.createBuffer(a));var b=8*a.length();if(32<b)throw Error("Integer too large; max is 32-bits.");return a.getSignedInt(b)};d.validate=function(a,b,c,e){var f=!1;if(a.tagClass!==b.tagClass&&"undefined"!==typeof b.tagClass||a.type!==b.type&&"undefined"!==typeof b.type)e&&(a.tagClass!==b.tagClass&&e.push("["+b.name+'] Expected tag class "'+b.tagClass+'", got "'+a.tagClass+'"'),a.type!==b.type&&e.push("["+b.name+'] Expected type "'+b.type+'", got "'+a.type+'"'));
else if(a.constructed===b.constructed||"undefined"===typeof b.constructed){f=!0;if(b.value&&k.util.isArray(b.value))for(var h=0,l=0;f&&l<b.value.length;++l)f=b.value[l].optional||!1,a.value[h]&&((f=d.validate(a.value[h],b.value[l],c,e))?++h:b.value[l].optional&&(f=!0)),!f&&e&&e.push("["+b.name+'] Tag class "'+b.tagClass+'", type "'+b.type+'" expected value length "'+b.value.length+'", got "'+a.value.length+'"');if(f&&c&&(b.capture&&(c[b.capture]=a.value),b.captureAsn1&&(c[b.captureAsn1]=a),b.captureBitStringContents&&
"bitStringContents"in a&&(c[b.captureBitStringContents]=a.bitStringContents),b.captureBitStringValue&&"bitStringContents"in a))if(2>a.bitStringContents.length)c[b.captureBitStringValue]="";else{if(0!==a.bitStringContents.charCodeAt(0))throw Error("captureBitStringValue only supported for zero unused bits");c[b.captureBitStringValue]=a.bitStringContents.slice(1)}}else e&&e.push("["+b.name+'] Expected constructed "'+b.constructed+'", got "'+a.constructed+'"');return f};var e=/[^\\u0000-\\u00ff]/;d.prettyPrint=
function(a,b,c){var f="";b=b||0;c=c||2;0<b&&(f+="\n");for(var h="",n=0;n<b*c;++n)h+=" ";f+=h+"Tag: ";switch(a.tagClass){case d.Class.UNIVERSAL:f+="Universal:";break;case d.Class.APPLICATION:f+="Application:";break;case d.Class.CONTEXT_SPECIFIC:f+="Context-Specific:";break;case d.Class.PRIVATE:f+="Private:"}if(a.tagClass===d.Class.UNIVERSAL)switch(f+=a.type,a.type){case d.Type.NONE:f+=" (None)";break;case d.Type.BOOLEAN:f+=" (Boolean)";break;case d.Type.INTEGER:f+=" (Integer)";break;case d.Type.BITSTRING:f+=
" (Bit string)";break;case d.Type.OCTETSTRING:f+=" (Octet string)";break;case d.Type.NULL:f+=" (Null)";break;case d.Type.OID:f+=" (Object Identifier)";break;case d.Type.ODESC:f+=" (Object Descriptor)";break;case d.Type.EXTERNAL:f+=" (External or Instance of)";break;case d.Type.REAL:f+=" (Real)";break;case d.Type.ENUMERATED:f+=" (Enumerated)";break;case d.Type.EMBEDDED:f+=" (Embedded PDV)";break;case d.Type.UTF8:f+=" (UTF8)";break;case d.Type.ROID:f+=" (Relative Object Identifier)";break;case d.Type.SEQUENCE:f+=
" (Sequence)";break;case d.Type.SET:f+=" (Set)";break;case d.Type.PRINTABLESTRING:f+=" (Printable String)";break;case d.Type.IA5String:f+=" (IA5String (ASCII))";break;case d.Type.UTCTIME:f+=" (UTC time)";break;case d.Type.GENERALIZEDTIME:f+=" (Generalized time)";break;case d.Type.BMPSTRING:f+=" (BMP String)"}else f+=a.type;f=f+"\n"+(h+"Constructed: "+a.constructed+"\n");if(a.composed){var r=0,u="";for(n=0;n<a.value.length;++n)void 0!==a.value[n]&&(r+=1,u+=d.prettyPrint(a.value[n],b+1,c),n+1<a.value.length&&
(u+=","));f+=h+"Sub values: "+r+u}else if(f+=h+"Value: ",a.type===d.Type.OID&&(b=d.derToOid(a.value),f+=b,k.pki&&k.pki.oids&&b in k.pki.oids&&(f+=" ("+k.pki.oids[b]+") ")),a.type===d.Type.INTEGER)try{f+=d.derToInteger(a.value)}catch(w){f+="0x"+k.util.bytesToHex(a.value)}else if(a.type===d.Type.BITSTRING)f=1<a.value.length?f+("0x"+k.util.bytesToHex(a.value.slice(1))):f+"(none)",0<a.value.length&&(a=a.value.charCodeAt(0),1==a?f+=" (1 unused bit shown)":1<a&&(f+=" ("+a+" unused bits shown)"));else if(a.type===
d.Type.OCTETSTRING)e.test(a.value)||(f+="("+a.value+") "),f+="0x"+k.util.bytesToHex(a.value);else if(a.type===d.Type.UTF8)try{f+=k.util.decodeUtf8(a.value)}catch(w){if("URI malformed"===w.message)f+="0x"+k.util.bytesToHex(a.value)+" (malformed UTF8)";else throw w;}else f=a.type===d.Type.PRINTABLESTRING||a.type===d.Type.IA5String?f+a.value:e.test(a.value)?f+("0x"+k.util.bytesToHex(a.value)):0===a.value.length?f+"[null]":f+a.value;return f}});k.md=k.md||{};k.md.algorithms=k.md.algorithms||{};E(function(a){(a.exports=
k.hmac=k.hmac||{}).create=function(){var a=null,c=null,d=null,e={start:function(b,e){if(null!==b)if("string"===typeof b)if(b=b.toLowerCase(),b in k.md.algorithms)a=k.md.algorithms[b].create();else throw Error('Unknown hash algorithm "'+b+'"');else a=b;if(null!==e){if("string"===typeof e)e=k.util.createBuffer(e);else if(k.util.isArray(e)){b=e;e=k.util.createBuffer();for(var f=0;f<b.length;++f)e.putByte(b[f])}var h=e.length();h>a.blockLength&&(a.start(),a.update(e.bytes()),e=a.digest());c=k.util.createBuffer();
d=k.util.createBuffer();h=e.length();for(f=0;f<h;++f)b=e.at(f),c.putByte(54^b),d.putByte(92^b);if(h<a.blockLength)for(b=a.blockLength-h,f=0;f<b;++f)c.putByte(54),d.putByte(92);c=c.bytes();d=d.bytes()}a.start();a.update(c)},update:getMac:function(){var b=a.digest().bytes();a.start();a.update(d);a.update(b);return a.digest()}};e.digest=e.getMac;return e}});E(function(a){function b(){d=String.fromCharCode(128);d+=k.util.fillString(String.fromCharCode(0),64);e=[0,1,2,3,4,5,6,
7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];f=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];h=Array(64);for(var a=0;64>a;++a)h[a]=Math.floor(4294967296*Math.abs(Math.sin(a+1)));n=!0}function c(a,b,c){for(var d,l,k,m,n,z,p,q=c.length();64<=q;){l=a.h0;k=a.h1;m=a.h2;n=a.h3;for(p=0;16>
p;++p)b[p]=c.getInt32Le(),d=n^k&(m^n),d=l+d+h[p]+b[p],z=f[p],l=n,n=m,m=k,k+=d<<z|d>>>32-z;for(;32>p;++p)d=m^n&(k^m),d=l+d+h[p]+b[e[p]],z=f[p],l=n,n=m,m=k,k+=d<<z|d>>>32-z;for(;48>p;++p)d=k^m^n,d=l+d+h[p]+b[e[p]],z=f[p],l=n,n=m,m=k,k+=d<<z|d>>>32-z;for(;64>p;++p)d=m^(k|~n),d=l+d+h[p]+b[e[p]],z=f[p],l=n,n=m,m=k,k+=d<<z|d>>>32-z;a.h0=a.h0+l|0;a.h1=a.h1+k|0;a.h2=a.h2+m|0;a.h3=a.h3+n|0;q-=64}}a=a.exports=k.md5=k.md5||{};k.md.md5=k.md.algorithms.md5=a;a.create=function(){n||b();var a=null,e=k.util.createBuffer(),
f=Array(16),h={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){h.messageLength=0;h.fullMessageLength=h.messageLength64=[];for(var b=h.messageLengthSize/4,c=0;c<b;++c)h.fullMessageLength.push(0);e=k.util.createBuffer();a={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878};return h}};h.start();h.update=function(b,d){"utf8"===d&&(b=k.util.encodeUtf8(b));d=b.length;h.messageLength+=d;d=[d/4294967296>>>0,d>>>0];for(var l=h.fullMessageLength.length-
1;0<=l;--l)h.fullMessageLength[l]+=d[1],d[1]=d[0]+(h.fullMessageLength[l]/4294967296>>>0),h.fullMessageLength[l]>>>=0,d[0]=d[1]/4294967296>>>0;e.putBytes(b);c(a,f,e);(2048<e.read||0===e.length())&&e.compact();return h};h.digest=function(){var b=k.util.createBuffer();b.putBytes(e.bytes());b.putBytes(d.substr(0,h.blockLength-(h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize&h.blockLength-1)));for(var l,m=0,n=h.fullMessageLength.length-1;0<=n;--n)l=8*h.fullMessageLength[n]+m,m=l/
4294967296>>>0,b.putInt32Le(l>>>0);l={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3};c(l,f,b);b=k.util.createBuffer();b.putInt32Le(l.h0);b.putInt32Le(l.h1);b.putInt32Le(l.h2);b.putInt32Le(l.h3);return b};return h};var d=null,e=null,f=null,h=null,n=!1});E(function(a){function b(a){for(var b=a.name+": ",c=[],f=h=0;h<a.values.length;++h)c.push(a.values[h].replace(/^(\S+\r\n)/,f));b+=c.join(",")+"\r\n";c=0;a=-1;for(h=0;h<b.length;++h,++c)if(65<c&&-1!==a)c=b[a],","===c?(++a,b=b.substr(0,a)+
"\r\n "+b.substr(a)):b=b.substr(0,a)+"\r\n"+c+b.substr(a+1),c=h-a-1,a=-1,++h;else if(" "===b[h]||"\t"===b[h]||","===b[h])a=h;return b}a=a.exports=k.pem=k.pem||{};a.encode=function(a,d){d=d||{};var c="-----BEGIN "+a.type+"-----\r\n";if(a.procType){var f={name:"Proc-Type",values:[String(a.procType.version),a.procType.type]};c+=b(f)}a.contentDomain&&(f={name:"Content-Domain",values:[a.contentDomain]},c+=b(f));a.dekInfo&&(f={name:"DEK-Info",values:[a.dekInfo.algorithm]},a.dekInfo.parameters&&f.values.push(a.dekInfo.parameters),
c+=b(f));if(a.headers)for(f=0;f<a.headers.length;++f)c+=b(a.headers[f]);a.procType&&(c+="\r\n");c+=k.util.encode64(a.body,d.maxline||64)+"\r\n";return c+="-----END "+a.type+"-----\r\n"};a.decode=function(a){for(var b=[],c=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,f=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,h=/\r?\n/,n;;){n=c.exec(a);if(!n)break;var l=n[1];"NEW CERTIFICATE REQUEST"===l&&(l="CERTIFICATE REQUEST");l={type:l,procType:null,
contentDomain:null,dekInfo:null,headers:[],body:k.util.decode64(n[3])};b.push(l);if(n[2]){for(var m=n[2].split(h),z=0;n&&z<m.length;){n=m[z].replace(/\s+$/,"");for(var r=z+1;r<m.length;++r){var u=m[r];if(!/\s/.test(u[0]))break;n+=u;z=r}if(n=n.match(f)){r={name:n[1],values:[]};u=n[2].split(",");for(var w=0;w<u.length;++w)r.values.push(u[w].replace(/^\s+/,""));if(l.procType)if(l.contentDomain||"Content-Domain"!==r.name)if(l.dekInfo||"DEK-Info"!==r.name)l.headers.push(r);else{if(0===r.values.length)throw Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');
l.dekInfo={algorithm:u[0],parameters:u[1]||null}}else l.contentDomain=u[0]||"";else{if("Proc-Type"!==r.name)throw Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==r.values.length)throw Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:u[0],type:u[1]}}}++z}if("ENCRYPTED"===l.procType&&!l.dekInfo)throw Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".');
}}if(0===b.length)throw Error("Invalid PEM formatted message.");return b}});k.des=k.des||{};k.des.startEncrypting=function(a,b,c,d){a=zd({key:a,output:c,decrypt:!1,mode:d||(null===b?"ECB":"CBC")});a.start(b);return a};k.des.createEncryptionCipher=function(a,b){return zd({key:a,output:null,decrypt:!1,mode:b})};k.des.startDecrypting=function(a,b,c,d){a=zd({key:a,output:c,decrypt:!0,mode:d||(null===b?"ECB":"CBC")});a.start(b);return a};k.des.createDecryptionCipher=k.des.Algorithm=function(a,b){var c=this;c.name=a;c.mode=new b({blockSize:8,cipher:{encrypt:function(a,b){return Qg(c._keys,a,b,!1)},decrypt:});c._init=!1};k.des.Algorithm.prototype.initialize=function(a){if(!this._init){a=k.util.createBuffer(a.key);if(0===this.name.indexOf("3DES")&&24!==a.length())throw Error("Invalid Triple-DES key size: "+8*a.length());for(var b=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,
536871428,66048,66052,536936960,536936964],c=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],d=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],e=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],f=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],h=[0,1024,
32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],n=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],m=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],z=[0,268435456,8,268435464,0,268435456,8,268435464,
1024,268436480,1032,268436488,1024,268436480,1032,268436488],r=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],u=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],w=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],A=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],p=8<a.length()?3:1,q=[],t=[0,
0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],wa=0,v,X=0;X<p;X++){var M=a.getInt32(),G=a.getInt32();v=(M>>>4^G)&252645135;G^=v;M^=v<<4;v=(G>>>-16^M)&65535;M^=v;G^=v<<-16;v=(M>>>2^G)&858993459;G^=v;M^=v<<2;v=(G>>>-16^M)&65535;M^=v;G^=v<<-16;v=(M>>>1^G)&1431655765;G^=v;M^=v<<1;v=(G>>>8^M)&16711935;M^=v;G^=v<<8;v=(M>>>1^G)&1431655765;G^=v;M^=v<<1;v=M<<8|G>>>20&240;M=G<<24|G<<8&16711680|G>>>8&65280|G>>>24&240;G=v;for(var Aa=0;Aa<t.length;++Aa){t[Aa]?(M=M<<2|M>>>26,G=G<<2|G>>>26):(M=M<<1|M>>>27,G=G<<1|G>>>27);M&=-15;
G&=-15;var Ba=b[M>>>28]|c[M>>>24&15]|d[M>>>20&15]|e[M>>>16&15]|f[M>>>12&15]|h[M>>>8&15]|n[M>>>4&15],U=l[G>>>28]|m[G>>>24&15]|z[G>>>20&15]|r[G>>>16&15]|u[G>>>12&15]|w[G>>>8&15]|A[G>>>4&15];v=(U>>>16^Ba)&65535;q[wa++]=Ba^v;q[wa++]=U^v<<16}}this._keys=q;this._init=!0}};ab("DES-ECB",k.cipher.modes.ecb);ab("DES-CBC",k.cipher.modes.cbc);ab("DES-CFB",k.cipher.modes.cfb);ab("DES-OFB",k.cipher.modes.ofb);ab("DES-CTR",k.cipher.modes.ctr);ab("3DES-ECB",k.cipher.modes.ecb);ab("3DES-CBC",k.cipher.modes.cbc);ab("3DES-CFB",
k.cipher.modes.cfb);ab("3DES-OFB",k.cipher.modes.ofb);ab("3DES-CTR",k.cipher.modes.ctr);var sl=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,
16778240,0,65540,66560,0,16842756],ol=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,
1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],tl=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,
134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],pl=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],ul=[256,34078976,
34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,
33554688,1073742080,524288,0,1074266112,34078976,1073742080],ql=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,
4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],vl=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,
69206016,2048,67108866,67110912,2048,2097154],rl=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,
4160,4160,262208,268435456,268701696],Ip=Object.freeze({__proto__:null,"default":{}}),Yf=jb(Ip),Jp=k.pkcs5=k.pkcs5||{},ub;k.util.isNodejs&&!k.options.usePureJavaScript&&(ub=Yf);k.pbkdf2=Jp.pbkdf2=function(a,b,c,d,e,f){function h(){if(A>m)return f(null,u);r.start(null,null);r.update(b);r.update(k.util.int32ToBytes(A));p=w=r.digest().getBytes();q=2;n()}function n(){if(q<=c)return r.start(null,null),r.update(w),t=r.digest().getBytes(),p=k.util.xorBytes(p,t,l),w=t,++q,k.util.setImmediate(n);u+=A<m?p:
p.substr(0,z);++A;h()}"function"===typeof e&&(f=e,e=null);if(k.util.isNodejs&&!k.options.usePureJavaScript&&ub.pbkdf2&&(null===e||"object"!==typeof e)&&(4<ub.pbkdf2Sync.length||!e||"sha1"===e))return"string"!==typeof e&&(e="sha1"),a=Buffer.from(a,"binary"),b=Buffer.from(b,"binary"),f?4===ub.pbkdf2Sync.length?ub.pbkdf2(a,b,c,d,function(a,b){if(a)return f(a);f(null,b.toString("binary"))}):ub.pbkdf2(a,b,c,d,e,:4===ub.pbkdf2Sync.length?ub.pbkdf2Sync(a,
b,c,d).toString("binary"):ub.pbkdf2Sync(a,b,c,d,e).toString("binary");if("undefined"===typeof e||null===e)e="sha1";if("string"===typeof e){if(!(e in k.md.algorithms))throw Error("Unknown hash algorithm: "+e);e=k.md[e].create()}var l=e.digestLength;if(d>4294967295*l){a=Error("Derived key is too long.");if(f)return f(a);throw a;}var m=Math.ceil(d/l),z=d-(m-1)*l,r=k.hmac.create();r.start(e,a);var u="",w;if(!f){for(var A=1;A<=m;++A){r.start(null,null);r.update(b);r.update(k.util.int32ToBytes(A));var p=
w=r.digest().getBytes();for(var q=2;q<=c;++q){r.start(null,null);r.update(w);var t=r.digest().getBytes();p=k.util.xorBytes(p,t,l);w=t}u+=A<m?p:p.substr(0,z)}return u}A=1;h()};E(function(a){function b(a,b,c){for(var d,f,h,k,n,w,A,p,q,t,v,x,X,M=c.length();64<=M;){for(n=0;16>n;++n)b[n]=c.getInt32();for(;64>n;++n)d=b[n-2],d=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,f=b[n-15],f=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,b[n]=d+b[n-7]+f+b[n-16]|0;w=a.h0;A=a.h1;p=a.h2;q=a.h3;t=a.h4;v=a.h5;x=a.h6;X=a.h7;for(n=0;64>n;++n)d=
(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),h=x^t&(v^x),f=(w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),k=w&A|p&(w^A),d=X+d+h+e[n]+b[n],f+=k,X=x,x=v,v=t,t=q+d>>>0,q=p,p=A,A=w,w=d+f>>>0;a.h0=a.h0+w|0;a.h1=a.h1+A|0;a.h2=a.h2+p|0;a.h3=a.h3+q|0;a.h4=a.h4+t|0;a.h5=a.h5+v|0;a.h6=a.h6+x|0;a.h7=a.h7+X|0;M-=64}}a=a.exports=k.sha256=k.sha256||{};k.md.sha256=k.md.algorithms.sha256=a;a.create=function(){d||(c=String.fromCharCode(128),c+=k.util.fillString(String.fromCharCode(0),64),e=[1116352408,1899447441,3049323471,
3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,
659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=!0);var a=null,h=k.util.createBuffer(),n=Array(64),l={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){l.messageLength=0;l.fullMessageLength=l.messageLength64=[];for(var b=l.messageLengthSize/4,c=0;c<b;++c)l.fullMessageLength.push(0);h=k.util.createBuffer();a={h0:1779033703,
h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return l}};l.start();l.update=function(c,d){"utf8"===d&&(c=k.util.encodeUtf8(c));d=c.length;l.messageLength+=d;d=[d/4294967296>>>0,d>>>0];for(var e=l.fullMessageLength.length-1;0<=e;--e)l.fullMessageLength[e]+=d[1],d[1]=d[0]+(l.fullMessageLength[e]/4294967296>>>0),l.fullMessageLength[e]>>>=0,d[0]=d[1]/4294967296>>>0;h.putBytes(c);b(a,n,h);(2048<h.read||0===h.length())&&h.compact();return l};l.digest=
function(){var d=k.util.createBuffer();d.putBytes(h.bytes());d.putBytes(c.substr(0,l.blockLength-(l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize&l.blockLength-1)));for(var e,f,u=8*l.fullMessageLength[0],p=0;p<l.fullMessageLength.length-1;++p)e=8*l.fullMessageLength[p+1],f=e/4294967296>>>0,u+=f,d.putInt32(u>>>0),u=e>>>0;d.putInt32(u);e={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4,h5:a.h5,h6:a.h6,h7:a.h7};b(e,n,d);d=k.util.createBuffer();d.putInt32(e.h0);d.putInt32(e.h1);d.putInt32(e.h2);
d.putInt32(e.h3);d.putInt32(e.h4);d.putInt32(e.h5);d.putInt32(e.h6);d.putInt32(e.h7);return d};return l};var c=null,d=!1,e=null});E(function(a){var b=null;!k.util.isNodejs||k.options.usePureJavaScript||process.versions["node-webkit"]||(b=Yf);(a.exports=k.prng=k.prng||{}).create=function(a){function c(a){if(32<=h.pools[0].messageLength)return e(),a();h.seedFile(32-h.pools[0].messageLength<<5,function(b,c){if(b)return a(b);h.collect(c);e();a()})}function e(){h.reseeds=4294967295===h.reseeds?0:h.reseeds+
1;var a=h.plugin.md.create();a.update(h.keyBytes);for(var b=1,c=0;32>c;++c)0===h.reseeds%b&&(a.update(h.pools[c].digest().getBytes()),h.pools[c].start()),b<<=1;h.keyBytes=a.digest().getBytes();a.start();a.update(h.keyBytes);a=a.digest().getBytes();h.key=h.plugin.formatKey(h.keyBytes);h.seed=h.plugin.formatSeed(a);h.generated=0}function f(a){var b=null,c=k.util.globalScope,d=c.crypto||c.msCrypto;d&&d.getRandomValues&&(b=function(a){return d.getRandomValues(a)});c=k.util.createBuffer();if(b)for(;c.length()<
a;){var e=Math.max(1,Math.min(a-c.length(),65536)/4),f=new Uint32Array(Math.floor(e));try{for(b(f),e=0;e<f.length;++e)c.putInt32(f[e])}catch(R){if(!("undefined"!==typeof QuotaExceededError&&R instanceof QuotaExceededError))throw R;}}if(c.length()<a)for(b=Math.floor(65536*Math.random());c.length()<a;)for(e=16807*(b&65535),b=16807*(b>>16),e+=(b&32767)<<16,e+=b>>15,e=(e&2147483647)+(e>>31),b=e&4294967295,e=0;3>e;++e)f=b>>>(e<<3),f^=Math.floor(256*Math.random()),c.putByte(f&255);return c.getBytes(a)}
var h={plugin:a,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""};a=a.md;for(var n=Array(32),l=0;32>l;++l)n[l]=a.create();h.pools=n;h.pool=0;h.generate=function(a,b){function d(r){if(r)return b(r);if(m.length()>=a)return b(null,m.getBytes(a));1048575<h.generated&&(h.key=null);if(null===h.key)return k.util.nextTick(;r=e(h.key,h.seed);h.generated+=r.length;m.putBytes(r);h.key=l(e(h.key,f(h.seed)));h.seed=n(e(h.key,h.seed));k.util.setImmediate(d)}if(!b)return h.generateSync(a);
var e=h.plugin.cipher,f=h.plugin.increment,l=h.plugin.formatKey,n=h.plugin.formatSeed,m=k.util.createBuffer();h.key=null;d()};h.generateSync=function(a){var b=h.plugin.cipher,c=h.plugin.increment,d=h.plugin.formatKey,f=h.plugin.formatSeed;h.key=null;for(var l=k.util.createBuffer();l.length()<a;){1048575<h.generated&&(h.key=null);null===h.key&&(32<=h.pools[0].messageLength||h.collect(h.seedFileSync(32-h.pools[0].messageLength<<5)),e());var n=b(h.key,h.seed);h.generated+=n.length;l.putBytes(n);h.key=
d(b(h.key,c(h.seed)));h.seed=f(b(h.key,h.seed))}return l.getBytes(a)};b?(h.seedFile=h.seedFileSync=:(h.seedFile=h.seedFileSync=f);h.collect=h.collectInt=h.registerWorker=function(a){a===self?h.seedFile=function(a,b){function c(a){a=a.data;a.forge&&a.forge.prng&&(self.removeEventListener("message",c),b(a.forge.prng.err,a.forge.prng.bytes))}self.addEventListener("message",c);self.postMessage({forge:{prng:{needed:a}}})}:a.addEventListener("message",function(b){b=b.data;b.forge&&b.forge.prng&&h.seedFile(b.forge.prng.needed,})};return h}});E(function(a){(function(){k.random&&
k.random.getBytes?a.exports=k.random:function(b){function c(){var a=k.prng.create(d);a.getBytes=a.getBytesSync=function(b){return a.generate(b)};return a}var d={},e=Array(4),f=k.util.createBuffer();d.formatKey=function(a){var b=k.util.createBuffer(a);a=Array(4);a[0]=b.getInt32();a[1]=b.getInt32();a[2]=b.getInt32();a[3]=b.getInt32();return k.aes._expandKey(a,!1)};d.formatSeed=function(a){var b=k.util.createBuffer(a);a=Array(4);a[0]=b.getInt32();a[1]=b.getInt32();
a[2]=b.getInt32();a[3]=b.getInt32();return a};d.cipher=function(a,b){k.aes._updateBlock(a,b,e,!1);f.putInt32(e[0]);f.putInt32(e[1]);f.putInt32(e[2]);f.putInt32(e[3]);return f.getBytes()};d.increment=function(a){++a[3];return a};d.md=k.md.sha256;var h=c(),n=null,l=k.util.globalScope,m=l.crypto||l.msCrypto;m&&m.getRandomValues&&(n=;if(!k.util.isNodejs&&!n){h.collectInt(+new Date,32);if("undefined"!==typeof navigator){n="";for(var p in navigator)try{"string"==
typeof navigator[p]&&(n+=navigator[p])}catch(r){}h.collect(n);n=null}b&&(b().mousemove(,b().keypress()}if(k.random)for(p in h)k.random[p]=h[p];else k.random=h;k.random.createInstance=c;a.exports=k.random}("undefined"!==typeof jQuery?jQuery:null)})()});var Zf=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,
179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,
58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],gk=[1,2,3,5];k.rc2=k.rc2||{};k.rc2.expandKey=function(a,b){"string"===typeof a&&(a=k.util.createBuffer(a));b=b||128;var c=a;a=a.length();var d=b;b=Math.ceil(d/8);d=255>>(d&7);var e;for(e=a;128>e;e++)c.putByte(Zf[c.at(e-1)+c.at(e-
a)&255]);c.setAt(128-b,Zf[c.at(128-b)&d]);for(e=127-b;0<=e;e--)c.setAt(e,Zf[c.at(e+1)^c.at(e+b)]);return c};var hk=function(a,b,c){var d=!1,e=null,f=null,h=null,n,l,m=[];a=k.rc2.expandKey(a,b);for(n=0;64>n;n++)m.push(a.getInt16Le());if(c){var p=function(a){for(n=0;4>n;n++){a[n]+=m[l]+(a[(n+3)%4]&a[(n+2)%4])+(~a[(n+3)%4]&a[(n+1)%4]);var b=a[n],c=gk[n];a[n]=b<<c&65535|(b&65535)>>16-c;l++}};var r=function(a){for(n=0;4>n;n++)a[n]+=m[a[(n+3)%4]&63]}}else p=function(a){for(n=3;0<=n;n--){var b=a[n],c=gk[n];
a[n]=(b&65535)>>c|b<<16-c&65535;a[n]-=m[l]+(a[(n+3)%4]&a[(n+2)%4])+(~a[(n+3)%4]&a[(n+1)%4]);l--}},r=function(a){for(n=3;0<=n;n--)a[n]-=m[a[(n+3)%4]&63]};var u=null;return u={start:function(a,b){a&&"string"===typeof a&&(a=k.util.createBuffer(a));d=!1;e=k.util.createBuffer();f=b||new k.util.createBuffer;h=a;u.output=f},update:function(a){for(d||e.putBuffer(a);8<=e.length();){a=[[5,p],[1,r],[6,p],[1,r],[5,p]];var b=[];for(n=0;4>n;n++){var k=e.getInt16Le();null!==h&&(c?k^=h.getInt16Le():h.putInt16Le(k));
b.push(k&65535)}l=c?0:63;for(k=0;k<a.length;k++)for(var m=0;m<a[k][0];m++)a[k][1](b);for(n=0;4>n;n++)null!==h&&(c?h.putInt16Le(b[n]):b[n]^=h.getInt16Le()),f.putInt16Le(b[n])}},finish:function(a){var b=!0;if(c)if(a)b=a(8,e,!c);else{var h=8===e.length()?8:8-e.length();e.fillWithByte(h,h)}b&&(d=!0,u.update());!c&&(b=0===e.length())&&(a?b=a(8,f,!c):(a=f.length(),h=f.at(a-1),h>a?b=!1:f.truncate(h)));return b}}};k.rc2.startEncrypting=function(a,b,c){a=k.rc2.createEncryptionCipher(a,128);a.start(b,c);return a};
k.rc2.createEncryptionCipher=function(a,b){return hk(a,b,!0)};k.rc2.startDecrypting=function(a,b,c){a=k.rc2.createDecryptionCipher(a,128);a.start(b,c);return a};k.rc2.createDecryptionCipher=k.jsbn=k.jsbn||{};k.jsbn.BigInteger=y;if("undefined"===typeof navigator){y.prototype.am=Rg;var Eb=28}else"Microsoft Internet Explorer"==navigator.appName?(y.prototype.am=xl,Eb=30):"Netscape"!=navigator.appName?(y.prototype.am=wl,Eb=26):(y.prototype.am=Rg,Eb=28);y.prototype.DB=Eb;
y.prototype.DM=(1<<Eb)-1;y.prototype.DV=1<<Eb;y.prototype.FV=Math.pow(2,52);y.prototype.F1=52-Eb;y.prototype.F2=2*Eb-52;var Ad=[],Ta;var ed=48;for(Ta=0;9>=Ta;++Ta)Ad[ed++]=Ta;ed=97;for(Ta=10;36>Ta;++Ta)Ad[ed++]=Ta;ed=65;for(Ta=10;36>Ta;++Ta)Ad[ed++]=Ta;Mb.prototype.convert=Mb.prototype.revert=function(a){return a};Mb.prototype.reduce=Mb.prototype.mulTo=function(a,b,c){a.multiplyTo(b,c);this.reduce(c)};
Mb.prototype.sqrTo=function(a,b){a.squareTo(b);this.reduce(b)};Nb.prototype.convert=function(a){var b=L();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);0>a.s&&0<b.compareTo(y.ZERO)&&this.m.subTo(b,b);return b};Nb.prototype.revert=Nb.prototype.reduce=function(a){for(;a.t<=this.mt2;)a.data[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=a.data[b]&32767,d=c*this.mpl+((c*this.mph+(a.data[b]>>15)*this.mpl&this.um)<<15)&a.DM;c=b+this.m.t;for(a.data[c]+=
this.m.am(0,d,a,b,0,this.m.t);a.data[c]>=a.DV;)a.data[c]-=a.DV,a.data[++c]++}a.clamp();a.drShiftTo(this.m.t,a);0<=a.compareTo(this.m)&&a.subTo(this.m,a)};Nb.prototype.mulTo=function(a,b,c){a.multiplyTo(b,c);this.reduce(c)};Nb.prototype.sqrTo=function(a,b){a.squareTo(b);this.reduce(b)};y.prototype.copyTo=function(a){for(var b=this.t-1;0<=b;--b)a.data[b]=this.data[b];a.t=this.t;a.s=this.s};y.prototype.fromInt=function(a){this.t=1;this.s=0>a?-1:0;0<a?this.data[0]=a:-1>a?this.data[0]=a+this.DV:this.t=
0};y.prototype.fromString=function(a,b){if(16==b)b=4;else if(8==b)b=3;else if(256==b)b=8;else if(2==b)b=1;else if(32==b)b=5;else if(4==b)b=2;else{this.fromRadix(a,b);return}this.s=this.t=0;for(var c=a.length,d=!1,e=0;0<=--c;){var f=8==b?a[c]&255:Sg(a,c);0>f?"-"==a.charAt(c)&&(d=!0):(d=!1,0==e?this.data[this.t++]=f:e+b>this.DB?(this.data[this.t-1]|=(f&(1<<this.DB-e)-1)<<e,this.data[this.t++]=f>>this.DB-e):this.data[this.t-1]|=f<<e,e+=b,e>=this.DB&&(e-=this.DB))}8==b&&0!=(a[0]&128)&&(this.s=-1,0<e&&
(this.data[this.t-1]|=(1<<this.DB-e)-1<<e));this.clamp();d&&y.ZERO.subTo(this,this)};y.prototype.clamp=function(){for(var a=this.s&this.DM;0<this.t&&this.data[this.t-1]==a;)--this.t};y.prototype.dlShiftTo=function(a,b){var c;for(c=this.t-1;0<=c;--c)b.data[c+a]=this.data[c];for(c=a-1;0<=c;--c)b.data[c]=0;b.t=this.t+a;b.s=this.s};y.prototype.drShiftTo=function(a,b){for(var c=a;c<this.t;++c)b.data[c-a]=this.data[c];b.t=Math.max(this.t-a,0);b.s=this.s};y.prototype.lShiftTo=function(a,b){var c=a%this.DB,
d=this.DB-c,e=(1<<d)-1;a=Math.floor(a/this.DB);var f=this.s<<c&this.DM,h;for(h=this.t-1;0<=h;--h)b.data[h+a+1]=this.data[h]>>d|f,f=(this.data[h]&e)<<c;for(h=a-1;0<=h;--h)b.data[h]=0;b.data[a]=f;b.t=this.t+a+1;b.s=this.s;b.clamp()};y.prototype.rShiftTo=function(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)b.t=0;else{a%=this.DB;var d=this.DB-a,e=(1<<a)-1;b.data[0]=this.data[c]>>a;for(var f=c+1;f<this.t;++f)b.data[f-c-1]|=(this.data[f]&e)<<d,b.data[f-c]=this.data[f]>>a;0<a&&(b.data[this.t-
c-1]|=(this.s&e)<<d);b.t=this.t-c;b.clamp()}};y.prototype.subTo=function(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this.data[c]-a.data[c],b.data[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this.data[c],b.data[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a.data[c],b.data[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=0>d?-1:0;-1>d?b.data[c++]=this.DV+d:0<d&&(b.data[c++]=d);b.t=c;b.clamp()};y.prototype.multiplyTo=function(a,b){var c=this.abs(),d=a.abs(),e=
c.t;for(b.t=e+d.t;0<=--e;)b.data[e]=0;for(e=0;e<d.t;++e)b.data[e+c.t]=c.am(0,d.data[e],b,e,0,c.t);b.s=0;b.clamp();this.s!=a.s&&y.ZERO.subTo(b,b)};y.prototype.squareTo=function(a){for(var b=this.abs(),c=a.t=2*b.t;0<=--c;)a.data[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b.data[c],a,2*c,0,1);(a.data[c+b.t]+=b.am(c+1,2*b.data[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a.data[c+b.t]-=b.DV,a.data[c+b.t+1]=1)}0<a.t&&(a.data[a.t-1]+=b.am(c,b.data[c],a,2*c,0,1));a.s=0;a.clamp()};y.prototype.divRemTo=function(a,b,c){var d=
a.abs();if(!(0>=d.t)){var e=this.abs();if(e.t<d.t)null!=b&&b.fromInt(0),null!=c&&this.copyTo(c);else{null==c&&(c=L());var f=L(),h=this.s;a=a.s;var k=this.DB-Bd(d.data[d.t-1]);0<k?(d.lShiftTo(k,f),e.lShiftTo(k,c)):(d.copyTo(f),e.copyTo(c));d=f.t;e=f.data[d-1];if(0!=e){var l=e*(1<<this.F1)+(1<d?f.data[d-2]>>this.F2:0),m=this.FV/l;l=(1<<this.F1)/l;var p=1<<this.F2,r=c.t,u=r-d,q=null==b?L():b;f.dlShiftTo(u,q);0<=c.compareTo(q)&&(c.data[c.t++]=1,c.subTo(q,c));y.ONE.dlShiftTo(d,q);for(q.subTo(f,f);f.t<
d;)f.data[f.t++]=0;for(;0<=--u;){var A=c.data[--r]==e?this.DM:Math.floor(c.data[r]*m+(c.data[r-1]+p)*l);if((c.data[r]+=f.am(0,A,c,u,0,d))<A)for(f.dlShiftTo(u,q),c.subTo(q,c);c.data[r]<--A;)c.subTo(q,c)}null!=b&&(c.drShiftTo(d,b),h!=a&&y.ZERO.subTo(b,b));c.t=d;c.clamp();0<k&&c.rShiftTo(k,c);0>h&&y.ZERO.subTo(c,c)}}}};y.prototype.invDigit=function(){if(1>this.t)return 0;var a=this.data[0];if(0==(a&1))return 0;var b=a&3;b=b*(2-(a&15)*b)&15;b=b*(2-(a&255)*b)&255;b=b*(2-((a&65535)*b&65535))&65535;b=b*
(2-a*b%this.DV)%this.DV;return 0<b?this.DV-b:-b};y.prototype.isEven=function(){return 0==(0<this.t?this.data[0]&1:this.s)};y.prototype.exp=function(a,b){if(4294967295<a||1>a)return y.ONE;var c=L(),d=L(),e=b.convert(this),f=Bd(a)-1;for(e.copyTo(c);0<=--f;)if(b.sqrTo(c,d),0<(a&1<<f))b.mulTo(d,e,c);else{var h=c;c=d;d=h}return b.revert(c)};y.prototype.toString=function(a){if(0>this.s)return"-"+this.negate().toString(a);if(16==a)a=4;else if(8==a)a=3;else if(2==a)a=1;else if(32==a)a=5;else if(4==a)a=2;
else return this.toRadix(a);var b=(1<<a)-1,c,d=!1,e="",f=this.t,h=this.DB-f*this.DB%a;if(0<f--)for(h<this.DB&&0<(c=this.data[f]>>h)&&(d=!0,e="0123456789abcdefghijklmnopqrstuvwxyz".charAt(c));0<=f;)h<a?(c=(this.data[f]&(1<<h)-1)<<a-h,c|=this.data[--f]>>(h+=this.DB-a)):(c=this.data[f]>>(h-=a)&b,0>=h&&(h+=this.DB,--f)),0<c&&(d=!0),d&&(e+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(c));return d?e:"0"};y.prototype.negate=y.prototype.abs=y.prototype.compareTo=function(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t;b=c-a.t;if(0!=b)return 0>this.s?-b:b;for(;0<=--c;)if(0!=(b=this.data[c]-a.data[c]))return b;return 0};y.prototype.bitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+Bd(this.data[this.t-1]^this.s&this.DM)};y.prototype.mod=function(a){var b=L();this.abs().divRemTo(a,null,b);0>this.s&&0<b.compareTo(y.ZERO)&&a.subTo(b,b);return b};y.prototype.modPowInt=function(a,b){b=256>a||b.isEven()?
new Mb(b):new Nb(b);return this.exp(a,b)};y.ZERO=yb(0);y.ONE=yb(1);Gc.prototype.convert=Vg;Gc.prototype.revert=Vg;Gc.prototype.mulTo=Gc.prototype.sqrTo=hc.prototype.convert=function(a){if(0>a.s||a.t>2*this.m.t)return a.mod(this.m);if(0>a.compareTo(this.m))return a;var b=L();a.copyTo(b);this.reduce(b);return b};hc.prototype.revert=function(a){return a};hc.prototype.reduce=function(a){a.drShiftTo(this.m.t-1,this.r2);a.t>this.m.t+1&&(a.t=
this.m.t+1,a.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>a.compareTo(this.r2);)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);0<=a.compareTo(this.m);)a.subTo(this.m,a)};hc.prototype.mulTo=hc.prototype.sqrTo=var $a=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,
157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Kp=67108864/$a[$a.length-1];y.prototype.chunkSize=y.prototype.toRadix=function(a){null==a&&(a=10);if(0==this.signum()||2>a||36<a)return"0";var b=this.chunkSize(a);b=Math.pow(a,b);var c=yb(b),d=L(),
e=L(),f="";for(this.divRemTo(c,d,e);0<d.signum();)f=(b+e.intValue()).toString(a).substr(1)+f,d.divRemTo(c,d,e);return e.intValue().toString(a)+f};y.prototype.fromRadix=function(a,b){this.fromInt(0);null==b&&(b=10);for(var c=this.chunkSize(b),d=Math.pow(b,c),e=!1,f=0,h=0,k=0;k<a.length;++k){var l=Sg(a,k);0>l?"-"==a.charAt(k)&&0==this.signum()&&(e=!0):(h=b*h+l,++f>=c&&(this.dMultiply(d),this.dAddOffset(h,0),h=f=0))}0<f&&(this.dMultiply(Math.pow(b,f)),this.dAddOffset(h,0));e&&y.ZERO.subTo(this,this)};
y.prototype.fromNumber=function(a,b,c){if("number"==typeof b)if(2>a)this.fromInt(1);else for(this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(y.ONE.shiftLeft(a-1),He,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(y.ONE.shiftLeft(a-1),this);else{c=[];var d=a&7;c.length=(a>>3)+1;b.nextBytes(c);c[0]=0<d?c[0]&(1<<d)-1:0;this.fromString(c,256)}};y.prototype.bitwiseTo=function(a,b,c){var d,e=Math.min(a.t,this.t);for(d=0;d<e;++d)c.data[d]=
b(this.data[d],a.data[d]);if(a.t<this.t){var f=a.s&this.DM;for(d=e;d<this.t;++d)c.data[d]=b(this.data[d],f);c.t=this.t}else{f=this.s&this.DM;for(d=e;d<a.t;++d)c.data[d]=b(f,a.data[d]);c.t=a.t}c.s=b(this.s,a.s);c.clamp()};y.prototype.changeBit=function(a,b){a=y.ONE.shiftLeft(a);this.bitwiseTo(a,b,a);return a};y.prototype.addTo=function(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this.data[c]+a.data[c],b.data[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;c<this.t;)d+=this.data[c],b.data[c++]=
d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d+=a.data[c],b.data[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=0>d?-1:0;0<d?b.data[c++]=d:-1>d&&(b.data[c++]=this.DV+d);b.t=c;b.clamp()};y.prototype.dMultiply=function(a){this.data[this.t]=this.am(0,a-1,this,0,0,this.t);++this.t;this.clamp()};y.prototype.dAddOffset=y.prototype.multiplyLowerTo=
function(a,b,c){var d=Math.min(this.t+a.t,b);c.s=0;for(c.t=d;0<d;)c.data[--d]=0;var e;for(e=c.t-this.t;d<e;++d)c.data[d+this.t]=this.am(0,a.data[d],c,d,0,this.t);for(e=Math.min(a.t,b);d<e;++d)this.am(0,a.data[d],c,d,0,b-d);c.clamp()};y.prototype.multiplyUpperTo=function(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.s=0;0<=--d;)c.data[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c.data[this.t+d-b]=this.am(b-d,a.data[d],c,0,0,this.t+d-b);c.clamp();c.drShiftTo(1,c)};y.prototype.modInt=function(a){if(0>=a)return 0;
var b=this.DV%a,c=0>this.s?a-1:0;if(0<this.t)if(0==b)c=this.data[0]%a;else for(var d=this.t-1;0<=d;--d)c=(b*c+this.data[d])%a;return c};y.prototype.millerRabin=function(a){var b=this.subtract(y.ONE),c=b.getLowestSetBit();if(0>=c)return!1;for(var d=b.shiftRight(c),e=zl(),f,h=0;h<a;++h){do f=new y(this.bitLength(),e);while(0>=f.compareTo(y.ONE)||0<=f.compareTo(b));f=f.modPow(d,this);if(0!=f.compareTo(y.ONE)&&0!=f.compareTo(b)){for(var k=1;k++<c&&0!=f.compareTo(b);)if(f=f.modPowInt(2,this),0==f.compareTo(y.ONE))return!1;
if(0!=f.compareTo(b))return!1}}return!0};y.prototype.clone=y.prototype.intValue=function(){if(0>this.s){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]};y.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24};y.prototype.shortValue=y.prototype.signum=
function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this.data[0]?0:1};y.prototype.toByteArray=function(){var a=this.t,b=[];b[0]=this.s;var c=this.DB-a*this.DB%8,d,e=0;if(0<a--)for(c<this.DB&&(d=this.data[a]>>c)!=(this.s&this.DM)>>c&&(b[e++]=d|this.s<<this.DB-c);0<=a;)if(8>c?(d=(this.data[a]&(1<<c)-1)<<8-c,d|=this.data[--a]>>(c+=this.DB-8)):(d=this.data[a]>>(c-=8)&255,0>=c&&(c+=this.DB,--a)),0!=(d&128)&&(d|=-256),0==e&&(this.s&128)!=(d&128)&&++e,0<e||d!=this.s)b[e++]=d;return b};y.prototype.equals=
y.prototype.min=y.prototype.max=y.prototype.and=function(a){var b=L();this.bitwiseTo(a,yl,b);return b};y.prototype.or=function(a){var b=L();this.bitwiseTo(a,He,b);return b};y.prototype.xor=function(a){var b=L();this.bitwiseTo(a,Tg,b);return b};y.prototype.andNot=y.prototype.not=function(){for(var a=L(),b=0;b<this.t;++b)a.data[b]=
this.DM&~this.data[b];a.t=this.t;a.s=~this.s;return a};y.prototype.shiftLeft=function(a){var b=L();0>a?this.rShiftTo(-a,b):this.lShiftTo(a,b);return b};y.prototype.shiftRight=function(a){var b=L();0>a?this.lShiftTo(-a,b):this.rShiftTo(a,b);return b};y.prototype.getLowestSetBit=function(){for(var a=0;a<this.t;++a)if(0!=this.data[a]){var b=a*this.DB;a=this.data[a];if(0==a)a=-1;else{var c=0;0==(a&65535)&&(a>>=16,c+=16);0==(a&255)&&(a>>=8,c+=8);0==(a&15)&&(a>>=4,c+=4);0==(a&3)&&(a>>=2,c+=2);0==(a&1)&&
++c;a=c}return b+a}return 0>this.s?this.t*this.DB:-1};y.prototype.bitCount=function(){for(var a=0,b=this.s&this.DM,c=0;c<this.t;++c){for(var d=this.data[c]^b,e=0;0!=d;)d&=d-1,++e;a+=e}return a};y.prototype.testBit=y.prototype.setBit=function(a){return this.changeBit(a,He)};y.prototype.clearBit=function(a){return this.changeBit(a,Ug)};y.prototype.flipBit=y.prototype.add=
function(a){var b=L();this.addTo(a,b);return b};y.prototype.subtract=function(a){var b=L();this.subTo(a,b);return b};y.prototype.multiply=y.prototype.divide=y.prototype.remainder=y.prototype.divideAndRemainder=function(a){var b=L(),c=L();this.divRemTo(a,b,c);return[b,c]};y.prototype.modPow=function(a,b){var c=a.bitLength(),d=yb(1);if(0>=
c)return d;var e=18>c?1:48>c?3:144>c?4:768>c?5:6;b=8>c?new Mb(b):b.isEven()?new hc(b):new Nb(b);var f=[],h=3,k=e-1,l=(1<<e)-1;f[1]=b.convert(this);if(1<e)for(c=L(),b.sqrTo(f[1],c);h<=l;)f[h]=L(),b.mulTo(c,f[h-2],f[h]),h+=2;var m=a.t-1,p=!0,r=L();for(c=Bd(a.data[m])-1;0<=m;){if(c>=k)var u=a.data[m]>>c-k&l;else u=(a.data[m]&(1<<c+1)-1)<<k-c,0<m&&(u|=a.data[m-1]>>this.DB+c-k);for(h=e;0==(u&1);)u>>=1,--h;0>(c-=h)&&(c+=this.DB,--m);if(p)f[u].copyTo(d),p=!1;else{for(;1<h;)b.sqrTo(d,r),b.sqrTo(r,d),h-=2;
0<h?b.sqrTo(d,r):(h=d,d=r,r=h);b.mulTo(r,f[u],d)}for(;0<=m&&0==(a.data[m]&1<<c);)b.sqrTo(d,r),h=d,d=r,r=h,0>--c&&(c=this.DB-1,--m)}return b.revert(d)};y.prototype.modInverse=function(a){var b=a.isEven();if(this.isEven()&&b||0==a.signum())return y.ZERO;for(var c=a.clone(),d=this.clone(),e=yb(1),f=yb(0),h=yb(0),k=yb(1);0!=c.signum();){for(;c.isEven();)c.rShiftTo(1,c),b?(e.isEven()&&f.isEven()||(e.addTo(this,e),f.subTo(a,f)),e.rShiftTo(1,e)):f.isEven()||f.subTo(a,f),f.rShiftTo(1,f);for(;d.isEven();)d.rShiftTo(1,
d),b?(h.isEven()&&k.isEven()||(h.addTo(this,h),k.subTo(a,k)),h.rShiftTo(1,h)):k.isEven()||k.subTo(a,k),k.rShiftTo(1,k);0<=c.compareTo(d)?(c.subTo(d,c),b&&e.subTo(h,e),f.subTo(k,f)):(d.subTo(c,d),b&&h.subTo(e,h),k.subTo(f,k))}if(0!=d.compareTo(y.ONE))return y.ZERO;if(0<=k.compareTo(a))return k.subtract(a);if(0>k.signum())k.addTo(a,k);else return k;return 0>k.signum()?k.add(a):k};y.prototype.pow=y.prototype.gcd=function(a){var b=0>this.s?this.negate():this.clone();
a=0>a.s?a.negate():a.clone();if(0>b.compareTo(a)){var c=b;b=a;a=c}c=b.getLowestSetBit();var d=a.getLowestSetBit();if(0>d)return b;c<d&&(d=c);0<d&&(b.rShiftTo(d,b),a.rShiftTo(d,a));for(;0<b.signum();)0<(c=b.getLowestSetBit())&&b.rShiftTo(c,b),0<(c=a.getLowestSetBit())&&a.rShiftTo(c,a),0<=b.compareTo(a)?(b.subTo(a,b),b.rShiftTo(1,b)):(a.subTo(b,a),a.rShiftTo(1,a));0<d&&a.lShiftTo(d,a);return a};y.prototype.isProbablePrime=function(a){var b,c=this.abs();if(1==c.t&&c.data[0]<=$a[$a.length-1]){for(b=0;b<
$a.length;++b)if(c.data[0]==$a[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b<$a.length;){for(var d=$a[b],e=b+1;e<$a.length&&d<Kp;)d*=$a[e++];for(d=c.modInt(d);b<e;)if(0==d%$a[b++])return!1}return c.millerRabin(a)};E(function(a){function b(a,b,c){for(var d,e,f,h,k,u,p,q,R=c.length();64<=R;){e=a.h0;f=a.h1;h=a.h2;k=a.h3;u=a.h4;for(q=0;16>q;++q)d=c.getInt32(),b[q]=d,p=k^f&(h^k),d=(e<<5|e>>>27)+p+u+1518500249+d,u=k,k=h,h=(f<<30|f>>>2)>>>0,f=e,e=d;for(;20>q;++q)d=b[q-3]^b[q-8]^b[q-14]^b[q-16],d=
d<<1|d>>>31,b[q]=d,p=k^f&(h^k),d=(e<<5|e>>>27)+p+u+1518500249+d,u=k,k=h,h=(f<<30|f>>>2)>>>0,f=e,e=d;for(;32>q;++q)d=b[q-3]^b[q-8]^b[q-14]^b[q-16],d=d<<1|d>>>31,b[q]=d,p=f^h^k,d=(e<<5|e>>>27)+p+u+1859775393+d,u=k,k=h,h=(f<<30|f>>>2)>>>0,f=e,e=d;for(;40>q;++q)d=b[q-6]^b[q-16]^b[q-28]^b[q-32],d=d<<2|d>>>30,b[q]=d,p=f^h^k,d=(e<<5|e>>>27)+p+u+1859775393+d,u=k,k=h,h=(f<<30|f>>>2)>>>0,f=e,e=d;for(;60>q;++q)d=b[q-6]^b[q-16]^b[q-28]^b[q-32],d=d<<2|d>>>30,b[q]=d,p=f&h|k&(f^h),d=(e<<5|e>>>27)+p+u+2400959708+
d,u=k,k=h,h=(f<<30|f>>>2)>>>0,f=e,e=d;for(;80>q;++q)d=b[q-6]^b[q-16]^b[q-28]^b[q-32],d=d<<2|d>>>30,b[q]=d,p=f^h^k,d=(e<<5|e>>>27)+p+u+3395469782+d,u=k,k=h,h=(f<<30|f>>>2)>>>0,f=e,e=d;a.h0=a.h0+e|0;a.h1=a.h1+f|0;a.h2=a.h2+h|0;a.h3=a.h3+k|0;a.h4=a.h4+u|0;R-=64}}a=a.exports=k.sha1=k.sha1||{};k.md.sha1=k.md.algorithms.sha1=a;a.create=function(){d||(c=String.fromCharCode(128),c+=k.util.fillString(String.fromCharCode(0),64),d=!0);var a=null,f=k.util.createBuffer(),h=Array(80),n={algorithm:"sha1",blockLength:64,
digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){n.messageLength=0;n.fullMessageLength=n.messageLength64=[];for(var b=n.messageLengthSize/4,c=0;c<b;++c)n.fullMessageLength.push(0);f=k.util.createBuffer();a={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return n}};n.start();n.update=function(c,d){"utf8"===d&&(c=k.util.encodeUtf8(c));d=c.length;n.messageLength+=d;d=[d/4294967296>>>0,d>>>0];for(var e=n.fullMessageLength.length-1;0<=e;--e)n.fullMessageLength[e]+=
d[1],d[1]=d[0]+(n.fullMessageLength[e]/4294967296>>>0),n.fullMessageLength[e]>>>=0,d[0]=d[1]/4294967296>>>0;f.putBytes(c);b(a,h,f);(2048<f.read||0===f.length())&&f.compact();return n};n.digest=function(){var d=k.util.createBuffer();d.putBytes(f.bytes());d.putBytes(c.substr(0,n.blockLength-(n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize&n.blockLength-1)));for(var e,p,r=8*n.fullMessageLength[0],u=0;u<n.fullMessageLength.length-1;++u)e=8*n.fullMessageLength[u+1],p=e/4294967296>>>
0,r+=p,d.putInt32(r>>>0),r=e>>>0;d.putInt32(r);e={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4};b(e,h,d);d=k.util.createBuffer();d.putInt32(e.h0);d.putInt32(e.h1);d.putInt32(e.h2);d.putInt32(e.h3);d.putInt32(e.h4);return d};return n};var c=null,d=!1});E(function(a){function b(a,b,e){e||(e=k.md.sha1.create());for(var c="",d=Math.ceil(b/e.digestLength),n=0;n<d;++n){var l=String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255);e.start();e.update(a+l);c+=e.digest().getBytes()}return c.substring(0,b)}a=a.exports=
k.pkcs1=k.pkcs1||{};a.encode_rsa_oaep=function(a,d,e,f,h){if("string"===typeof e){var c=e;var l=f||void 0;var m=h||void 0}else if(e&&(c=e.label||void 0,l=e.seed||void 0,m=e.md||void 0,e.mgf1&&e.mgf1.md))var p=e.mgf1.md;m?m.start():m=k.md.sha1.create();p||(p=m);a=Math.ceil(a.n.bitLength()/8);e=a-2*m.digestLength-2;if(d.length>e)throw p=Error("RSAES-OAEP input message length is too long."),p.length=d.length,p.maxLength=e,p;c||(c="");m.update(c,"raw");c=m.digest();f="";e-=d.length;for(h=0;h<e;h++)f+=
"\x00";d=c.getBytes()+f+"\u0001"+d;if(!l)l=k.random.getBytes(m.digestLength);else if(l.length!==m.digestLength)throw p=Error("Invalid RSAES-OAEP seed. The seed length must match the digest length."),p.seedLength=l.length,p.digestLength=m.digestLength,p;a=b(l,a-m.digestLength-1,p);d=k.util.xorBytes(d,a,d.length);m=b(d,m.digestLength,p);return"\x00"+k.util.xorBytes(l,m,l.length)+d};a.decode_rsa_oaep=function(a,d,e,f){if("string"===typeof e){var c=e;var n=f||void 0}else if(e&&(c=e.label||void 0,n=e.md||
void 0,e.mgf1&&e.mgf1.md))var l=e.mgf1.md;e=Math.ceil(a.n.bitLength()/8);if(d.length!==e)throw l=Error("RSAES-OAEP encoded message length is invalid."),l.length=d.length,l.expectedLength=e,l;void 0===n?n=k.md.sha1.create():n.start();l||(l=n);if(e<2*n.digestLength+2)throw Error("RSAES-OAEP key is too short for the hash function.");c||(c="");n.update(c,"raw");c=n.digest().getBytes();a=d.charAt(0);f=d.substring(1,n.digestLength+1);d=d.substring(1+n.digestLength);var m=b(d,n.digestLength,l);f=k.util.xorBytes(f,
m,f.length);l=b(f,e-n.digestLength-1,l);d=k.util.xorBytes(d,l,d.length);e=d.substring(0,n.digestLength);l="\x00"!==a;for(a=0;a<n.digestLength;++a)l|=c.charAt(a)!==e.charAt(a);c=1;for(n=a=n.digestLength;n<d.length;n++)e=d.charCodeAt(n),f=e&1^1,l|=e&(c?65534:0),c&=f,a+=c;if(l||1!==d.charCodeAt(a))throw Error("Invalid RSAES-OAEP padding.");return d.substring(a+1)}});E(function(a){(function(){function b(a,b,d,f){return"workers"in d?e(a,b,d,f):c(a,b,d,f)}function c(a,b,c,e){var h=f(a,b);var k=h.bitLength();
k=100>=k?27:150>=k?18:200>=k?15:250>=k?12:300>=k?9:350>=k?8:400>=k?7:500>=k?6:600>=k?5:800>=k?4:1250>=k?3:2;"millerRabinTests"in c&&(k=c.millerRabinTests);var l=10;"maxBlockTime"in c&&(l=c.maxBlockTime);d(h,a,b,0,k,l,e)}function d(a,b,c,e,h,n,m){var r=+new Date;do{a.bitLength()>b&&(a=f(b,c));if(a.isProbablePrime(h))return m(null,a);a.dAddOffset(l[e++%8],0)}while(0>n||+new Date-r<n);k.util.setImmediate(}function e(a,b,d,e){function h(){function c(c){if(!k){var h=c.data;
if(h.found){for(c=0;c<d.length;++c)d[c].terminate();k=!0;return e(null,new n(h.prime,16))}l.bitLength()>a&&(l=f(a,b));h=l.toString(16);c.target.postMessage({hex:h,workLoad:r});l.dAddOffset(p,0)}}m=Math.max(1,m);for(var d=[],h=0;h<m;++h)d[h]=new Worker(X);for(h=0;h<m;++h)d[h].addEventListener("message",c);var k=!1}if("undefined"===typeof Worker)return c(a,b,d,e);var l=f(a,b),m=d.workers,r=d.workLoad||100,p=30*r/8,X=d.workerScript||"forge/prime.worker.js";if(-1===m)return k.util.estimateCores(function(a,
b){a&&(b=2);m=b-1;h()});h()}function f(a,b){b=new n(a,b);--a;b.testBit(a)||b.bitwiseTo(n.ONE.shiftLeft(a),p,b);b.dAddOffset(31-b.mod(m).byteValue(),0);return b}if(k.prime)a.exports=k.prime;else{var h=a.exports=k.prime=k.prime||{},n=k.jsbn.BigInteger,l=[6,4,2,4,2,4,6,2],m=new n(null);m.fromInt(30);var p=function(a,b){return a|b};h.generateProbablePrime=function(a,c,d){"function"===typeof c&&(d=c,c={});c=c||{};var e=c.algorithm||"PRIMEINC";"string"===typeof e&&(e={name:e});e.options=e.options||{};var f=
c.prng||k.random;c={nextBytes:function(a){for(var b=f.getBytesSync(a.length),c=0;c<a.length;++c)a[c]=b.charCodeAt(c)}};if("PRIMEINC"===e.name)return b(a,c,e.options,d);throw Error("Invalid prime generation algorithm: "+e.name);}}})()});if("undefined"===typeof N)var N=k.jsbn.BigInteger;var oe=k.util.isNodejs?Yf:null,t=k.asn1,Qa=k.util;k.pki=k.pki||{};k.pki.rsa=k.rsa=k.rsa||{};var F=k.pki,Lp=[6,4,2,4,2,4,6,2],Mp={name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",
tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Np={name:"RSAPrivateKey",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,
constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},
{name:"RSAPrivateKey.prime1",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",
tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Op={name:"RSAPublicKey",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Pp=k.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:t.Class.UNIVERSAL,
type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:t.Class.UNIVERSAL,
type:t.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Qp={name:"DigestInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,type:t.Type.NULL,
capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Rp=function(a){if(a.algorithm in F.oids)var b=F.oids[a.algorithm];else throw b=Error("Unknown message digest algorithm."),b.algorithm=a.algorithm,b;var c=t.oidToDer(b).getBytes();b=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var d=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);d.value.push(t.create(t.Class.UNIVERSAL,t.Type.OID,
!1,c));d.value.push(t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,""));a=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,a.digest().getBytes());b.value.push(d);b.value.push(a);return t.toDer(b).getBytes()},ik=function(a,b,c){if(c)return a.modPow(b.e,b.n);if(!b.p||!b.q)return a.modPow(b.d,b.n);b.dP||(b.dP=b.d.mod(b.p.subtract(N.ONE)));b.dQ||(b.dQ=b.d.mod(b.q.subtract(N.ONE)));b.qInv||(b.qInv=b.q.modInverse(b.p));do c=new N(k.util.bytesToHex(k.random.getBytes(b.n.bitLength()/8)),16);while(0<=c.compareTo(b.n)||
!c.gcd(b.n).equals(N.ONE));a=a.multiply(c.modPow(b.e,b.n)).mod(b.n);var d=a.mod(b.p).modPow(b.dP,b.p);for(a=a.mod(b.q).modPow(b.dQ,b.q);0>d.compareTo(a);)d=d.add(b.p);a=d.subtract(a).multiply(b.qInv).mod(b.p).multiply(b.q).add(a);return a=a.multiply(c.modInverse(b.n)).mod(b.n)};F.rsa.encrypt=function(a,b,c){var d=c,e=Math.ceil(b.n.bitLength()/8);!1!==c&&!0!==c?(d=2===c,c=Wg(a,b,c)):(c=k.util.createBuffer(),c.putBytes(a));a=new N(c.toHex(),16);b=ik(a,b,d).toString(16);d=k.util.createBuffer();for(e-=
Math.ceil(b.length/2);0<e;)d.putByte(0),--e;d.putBytes(k.util.hexToBytes(b));return d.getBytes()};F.rsa.decrypt=function(a,b,c,d){var e=Math.ceil(b.n.bitLength()/8);if(a.length!==e)throw b=Error("Encrypted message length is invalid."),b.length=a.length,b.expected=e,b;a=new N(k.util.createBuffer(a).toHex(),16);if(0<=a.compareTo(b.n))throw Error("Encrypted message is invalid.");a=ik(a,b,c).toString(16);var f=k.util.createBuffer();for(e-=Math.ceil(a.length/2);0<e;)f.putByte(0),--e;f.putBytes(k.util.hexToBytes(a));
return!1!==d?Cd(f.getBytes(),b,c):f.getBytes()};F.rsa.createKeyPairGenerationState=function(a,b,c){"string"===typeof a&&(a=parseInt(a,10));a=a||2048;c=c||{};var d=c.prng||k.random,e={nextBytes:;c=c.algorithm||"PRIMEINC";if("PRIMEINC"===c)a={algorithm:c,state:0,bits:a,rng:e,eInt:b||65537,e:new N(null),p:null,q:null,qBits:a>>1,pBits:a-(a>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw Error("Invalid key generation algorithm: "+
c);return a};F.rsa.stepKeyPairGenerationState=function(a,b){"algorithm"in a||(a.algorithm="PRIMEINC");var c=new N(null);c.fromInt(30);for(var d=0,e=f=+new Date,h,k=0;null===a.keys&&(0>=b||k<b);){if(0===a.state){h=null===a.p?a.pBits:a.qBits;var l=h-1;0===a.pqState?(a.num=new N(h,a.rng),a.num.testBit(l)||a.num.bitwiseTo(N.ONE.shiftLeft(l),e,a.num),a.num.dAddOffset(31-a.num.mod(c).byteValue(),0),d=0,++a.pqState):1===a.pqState?a.num.bitLength()>h?a.pqState=0:a.num.isProbablePrime(Bl(a.num.bitLength()))?
++a.pqState:a.num.dAddOffset(Lp[d++%8],0):2===a.pqState?a.pqState=0===a.num.subtract(N.ONE).gcd(a.e).compareTo(N.ONE)?3:0:3===a.pqState&&(a.pqState=0,null===a.p?a.p=a.num:a.q=a.num,null!==a.p&&null!==a.q&&++a.state,a.num=null)}else 1===a.state?(0>a.p.compareTo(a.q)&&(a.num=a.p,a.p=a.q,a.q=a.num),++a.state):2===a.state?(a.p1=a.p.subtract(N.ONE),a.q1=a.q.subtract(N.ONE),a.phi=a.p1.multiply(a.q1),++a.state):3===a.state?0===a.phi.gcd(a.e).compareTo(N.ONE)?++a.state:(a.p=null,a.q=null,a.state=0):4===a.state?
(a.n=a.p.multiply(a.q),a.n.bitLength()===a.bits?++a.state:(a.q=null,a.state=0)):5===a.state&&(h=a.e.modInverse(a.phi),a.keys={privateKey:F.rsa.setPrivateKey(a.n,a.e,h,a.p,a.q,h.mod(a.p1),h.mod(a.q1),a.q.modInverse(a.p)),publicKey:F.rsa.setPublicKey(a.n,a.e)});h=+new Date;k+=h-f;f=h}return null!==a.keys};F.rsa.generateKeyPair=function(a,b,c,d){1===arguments.length?"object"===typeof a?(c=a,a=void 0):"function"===typeof a&&(d=a,a=void 0):2===arguments.length?"number"===typeof a?"function"===typeof b?
(d=b,b=void 0):"number"!==typeof b&&(c=b,b=void 0):(c=a,d=b,b=a=void 0):3===arguments.length&&("number"===typeof b?"function"===typeof c&&(d=c,c=void 0):(d=c,c=b,b=void 0));c=c||{};void 0===a&&(a=c.bits||2048);void 0===b&&(b=c.e||65537);if(!c.prng&&256<=a&&16384>=a&&(65537===b||3===b))if(d){if(k.util.isNodejs&&"function"===typeof oe.generateKeyPair)return oe.generateKeyPair("rsa",{modulusLength:a,publicExponent:b,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},
;if(Xg("generateKey")&&Xg("exportKey"))return Qa.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:a,publicExponent:Zg(b),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(.then(void 0,function(a){d(a)}).then(function(a){a&&(a=F.privateKeyFromAsn1(t.fromDer(k.util.createBuffer(a))),
d(null,{privateKey:a,publicKey:F.setRsaPublicKey(a.n,a.e)}))});if(Yg("generateKey")&&Yg("exportKey")){var e=Qa.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:a,publicExponent:Zg(b),hash:{name:"SHA-256"}},!0,["sign","verify"]);e.oncomplete=function(a){a=Qa.globalScope.msCrypto.subtle.exportKey("pkcs8",a.target.result.privateKey);a.oncomplete=function(a){a=F.privateKeyFromAsn1(t.fromDer(k.util.createBuffer(a.target.result)));d(null,{privateKey:a,publicKey:F.setRsaPublicKey(a.n,
a.e)})};a.onerror=function(a){d(a)}};e.onerror=return}}else if(k.util.isNodejs&&"function"===typeof oe.generateKeyPairSync)return e=oe.generateKeyPairSync("rsa",{modulusLength:a,publicExponent:b,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),{privateKey:F.privateKeyFromPem(e.privateKey),publicKey:F.publicKeyFromPem(e.publicKey)};e=F.rsa.createKeyPairGenerationState(a,b,c);if(!d)return F.rsa.stepKeyPairGenerationState(e,0),e.keys;Al(e,
c,d)};F.setRsaPublicKey=F.rsa.setPublicKey=function(a,b){var c={n:a,e:b,encrypt:function(a,b,f){"string"===typeof b?b=b.toUpperCase():void 0===b&&(b="RSAES-PKCS1-V1_5");if("RSAES-PKCS1-V1_5"===b)b={encode:;else if("RSA-OAEP"===b||"RSAES-OAEP"===b)b={encode:function(a,b){return k.pkcs1.encode_rsa_oaep(b,a,f)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(b))b={encode:function(a){return a}};else if("string"===typeof b)throw Error('Unsupported encryption scheme: "'+
b+'".');a=b.encode(a,c,!0);return F.rsa.encrypt(a,c,!0)},verify:function(a,b,f,h){"string"===typeof f?f=f.toUpperCase():void 0===f&&(f="RSASSA-PKCS1-V1_5");void 0===h&&(h={_parseAllDigestBytes:!0});"_parseAllDigestBytes"in h||(h._parseAllDigestBytes=!0);if("RSASSA-PKCS1-V1_5"===f)f={verify:function(a,b){b=Cd(b,c,!0);var d=t.fromDer(b,{parseAllBytes:h._parseAllDigestBytes});b={};var e=[];if(!t.validate(d,Qp,b,e))throw a=Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value."),
a.errors=e,a;e=t.derToOid(b.algorithmIdentifier);if(e!==k.oids.md2&&e!==k.oids.md5&&e!==k.oids.sha1&&e!==k.oids.sha224&&e!==k.oids.sha256&&e!==k.oids.sha384&&e!==k.oids.sha512&&e!==k.oids["sha512-224"]&&e!==k.oids["sha512-256"])throw a=Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier."),a.oid=e,a;if(!(e!==k.oids.md2&&e!==k.oids.md5||"parameters"in b))throw Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return a===
b.digest}};else if("NONE"===f||"NULL"===f||null===f)f={verify:function(a,b){b=Cd(b,c,!0);return a===b}};b=F.rsa.decrypt(b,c,!0,!1);return f.verify(a,b,c.n.bitLength())}};return c};F.setRsaPrivateKey=F.rsa.setPrivateKey=function(a,b,c,d,e,f,h,n){var l={n:a,e:b,d:c,p:d,q:e,dP:f,dQ:h,qInv:n,decrypt:function(a,b,c){"string"===typeof b?b=b.toUpperCase():void 0===b&&(b="RSAES-PKCS1-V1_5");a=F.rsa.decrypt(a,l,!1,!1);if("RSAES-PKCS1-V1_5"===b)b={decode:Cd};else if("RSA-OAEP"===b||"RSAES-OAEP"===b)b={decode:;else if(-1!==["RAW","NONE","NULL",null].indexOf(b))b={decode:;else throw Error('Unsupported encryption scheme: "'+b+'".');return b.decode(a,l,!1)},sign:function(a,b){var c=!1;"string"===typeof b&&(b=b.toUpperCase());if(void 0===b||"RSASSA-PKCS1-V1_5"===b)b={encode:Rp},c=1;else if("NONE"===b||"NULL"===b||null===b)b={encode:,c=1;b=b.encode(a,l.n.bitLength());return F.rsa.encrypt(b,l,c)}};return l};F.wrapRsaPrivateKey=
F.privateKeyFromAsn1=function(a){var b={},c=[];t.validate(a,Mp,b,c)&&(a=t.fromDer(k.util.createBuffer(b.privateKey)));
b={};c=[];if(!t.validate(a,Np,b,c))throw b=Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey."),b.errors=c,b;c=k.util.createBuffer(b.privateKeyModulus).toHex();a=k.util.createBuffer(b.privateKeyPublicExponent).toHex();var d=k.util.createBuffer(b.privateKeyPrivateExponent).toHex();var e=k.util.createBuffer(b.privateKeyPrime1).toHex();var f=k.util.createBuffer(b.privateKeyPrime2).toHex();var h=k.util.createBuffer(b.privateKeyExponent1).toHex();var n=k.util.createBuffer(b.privateKeyExponent2).toHex();
b=k.util.createBuffer(b.privateKeyCoefficient).toHex();return F.setRsaPrivateKey(new N(c,16),new N(a,16),new N(d,16),new N(e,16),new N(f,16),new N(h,16),new N(n,16),new N(b,16))};F.privateKeyToAsn1=F.privateKeyToRSAPrivateKey=F.publicKeyFromAsn1=function(a){var b={},c=[];if(t.validate(a,Pp,b,c)){c=t.derToOid(b.publicKeyOid);if(c!==F.oids.rsaEncryption)throw b=Error("Cannot read public key. Unknown OID."),b.oid=c,b;a=b.rsaPublicKey}c=
[];if(!t.validate(a,Op,b,c))throw b=Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey."),b.errors=c,b;c=k.util.createBuffer(b.publicKeyModulus).toHex();b=k.util.createBuffer(b.publicKeyExponent).toHex();return F.setRsaPublicKey(new N(c,16),new N(b,16))};F.publicKeyToAsn1=F.publicKeyToSubjectPublicKeyInfo=F.publicKeyToRSAPublicKey=if("undefined"===typeof Sp)var Sp=k.jsbn.BigInteger;var x=k.asn1,J=k.pki=k.pki||{};J.pbe=k.pbe=k.pbe||{};var Wb=J.oids,Tp={name:"EncryptedPrivateKeyInfo",tagClass:x.Class.UNIVERSAL,
type:x.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:x.Class.UNIVERSAL,type:x.Type.OCTETSTRING,
constructed:!1,capture:"encryptedData"}]},Up={name:"PBES2Algorithms",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",
tagClass:x.Class.UNIVERSAL,type:x.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",
tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:x.Class.UNIVERSAL,type:x.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Vp={name:"pkcs-12PbeParams",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,
constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:x.Class.UNIVERSAL,type:x.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"iterations"}]};J.encryptPrivateKeyInfo=function(a,b,c){c=c||{};c.saltSize=c.saltSize||8;c.count=c.count||2048;c.algorithm=c.algorithm||"aes128";c.prfAlgorithm=c.prfAlgorithm||"sha1";var d=k.random.getBytesSync(c.saltSize),e=c.count,f=x.integerToDer(e),h;if(0===
c.algorithm.indexOf("aes")||"des"===c.algorithm){switch(c.algorithm){case "aes128":var n=h=16;var l=Wb["aes128-CBC"];var m=k.aes.createEncryptionCipher;break;case "aes192":h=24;n=16;l=Wb["aes192-CBC"];m=k.aes.createEncryptionCipher;break;case "aes256":h=32;n=16;l=Wb["aes256-CBC"];m=k.aes.createEncryptionCipher;break;case "des":n=h=8;l=Wb.desCBC;m=k.des.createEncryptionCipher;break;default:throw d=Error("Cannot encrypt private key. Unknown encryption algorithm."),d.algorithm=c.algorithm,d;}c="hmacWith"+
c.prfAlgorithm.toUpperCase();var p=bh(c);p=k.pkcs5.pbkdf2(b,d,e,h,p);b=k.random.getBytesSync(n);e=m(p);e.start(b);e.update(x.toDer(a));e.finish();a=e.output.getBytes();d=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,d),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,f.getBytes())]);"hmacWithSHA1"!==c&&d.value.push(x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,k.util.hexToBytes(h.toString(16))),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,
x.Type.OID,!1,x.oidToDer(J.oids[c]).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")]));d=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(Wb.pkcs5PBES2).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(Wb.pkcs5PBKDF2).getBytes()),d]),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(l).getBytes()),
x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,b)])])])}else if("3des"===c.algorithm)h=24,l=new k.util.ByteBuffer(d),p=J.pbe.generatePkcs12Key(b,l,1,e,h),b=J.pbe.generatePkcs12Key(b,l,2,e,h),e=k.des.createEncryptionCipher(p),e.start(b),e.update(x.toDer(a)),e.finish(),a=e.output.getBytes(),d=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(Wb["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,
x.Type.OCTETSTRING,!1,d),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,f.getBytes())])]);else throw d=Error("Cannot encrypt private key. Unknown encryption algorithm."),d.algorithm=c.algorithm,d;return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[d,x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,a)])};J.decryptPrivateKeyInfo=function(a,b){var c=null,d={},e=[];if(!x.validate(a,Tp,d,e))throw c=Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo."),c.errors=
e,c;e=x.derToOid(d.encryptionOid);b=J.pbe.getCipher(e,d.encryptionParams,b);d=k.util.createBuffer(d.encryptedData);b.update(d);b.finish()&&(c=x.fromDer(b.output));return c};J.encryptedPrivateKeyToPem=function(a,b){a={type:"ENCRYPTED PRIVATE KEY",body:x.toDer(a).getBytes()};return k.pem.encode(a,{maxline:b})};J.encryptedPrivateKeyFromPem=function(a){a=k.pem.decode(a)[0];if("ENCRYPTED PRIVATE KEY"!==a.type){var b=Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');
b.headerType=a.type;throw b;}if(a.procType&&"ENCRYPTED"===a.procType.type)throw Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return x.fromDer(a.body)};J.encryptRsaPrivateKey=function(a,b,c){c=c||{};if(!c.legacy)return a=J.wrapRsaPrivateKey(J.privateKeyToAsn1(a)),a=J.encryptPrivateKeyInfo(a,b,c),J.encryptedPrivateKeyToPem(a);switch(c.algorithm){case "aes128":c="AES-128-CBC";var d=16;var e=k.random.getBytesSync(16);var f=k.aes.createEncryptionCipher;break;case "aes192":c=
"AES-192-CBC";d=24;e=k.random.getBytesSync(16);f=k.aes.createEncryptionCipher;break;case "aes256":c="AES-256-CBC";d=32;e=k.random.getBytesSync(16);f=k.aes.createEncryptionCipher;break;case "3des":c="DES-EDE3-CBC";d=24;e=k.random.getBytesSync(8);f=k.des.createEncryptionCipher;break;case "des":c="DES-CBC";d=8;e=k.random.getBytesSync(8);f=k.des.createEncryptionCipher;break;default:throw a=Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+c.algorithm+'".'),a.algorithm=c.algorithm,
a;}b=k.pbe.opensslDeriveBytes(b,e.substr(0,8),d);b=f(b);b.start(e);b.update(x.toDer(J.privateKeyToAsn1(a)));b.finish();a={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:c,parameters:k.util.bytesToHex(e).toUpperCase()},body:b.output.getBytes()};return k.pem.encode(a)};J.decryptRsaPrivateKey=function(a,b){var c=null;a=k.pem.decode(a)[0];if("ENCRYPTED PRIVATE KEY"!==a.type&&"PRIVATE KEY"!==a.type&&"RSA PRIVATE KEY"!==a.type)throw b=Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".'),
b.headerType=b,b;if(a.procType&&"ENCRYPTED"===a.procType.type){switch(a.dekInfo.algorithm){case "DES-CBC":var d=8;var e=k.des.createDecryptionCipher;break;case "DES-EDE3-CBC":d=24;e=k.des.createDecryptionCipher;break;case "AES-128-CBC":d=16;e=k.aes.createDecryptionCipher;break;case "AES-192-CBC":d=24;e=k.aes.createDecryptionCipher;break;case "AES-256-CBC":d=32;e=k.aes.createDecryptionCipher;break;case "RC2-40-CBC":d=5;e=function(a){return k.rc2.createDecryptionCipher(a,40)};break;case "RC2-64-CBC":d=
8;e=function(a){return k.rc2.createDecryptionCipher(a,64)};break;case "RC2-128-CBC":d=16;e=break;default:throw b=Error('Could not decrypt private key; unsupported encryption algorithm "'+a.dekInfo.algorithm+'".'),b.algorithm=a.dekInfo.algorithm,b;}var f=k.util.hexToBytes(a.dekInfo.parameters);d=k.pbe.opensslDeriveBytes(b,f.substr(0,8),d);e=e(d);e.start(f);e.update(k.util.createBuffer(a.body));if(e.finish())c=e.output.getBytes();else return c}else c=
a.body;c="ENCRYPTED PRIVATE KEY"===a.type?J.decryptPrivateKeyInfo(x.fromDer(c),b):x.fromDer(c);null!==c&&(c=J.privateKeyFromAsn1(c));return c};J.pbe.generatePkcs12Key=function(a,b,c,d,e,f){var h,n;if("undefined"===typeof f||null===f){if(!("sha1"in k.md))throw Error('"sha1" hash algorithm unavailable.');f=k.md.sha1.create()}var l=f.digestLength,m=f.blockLength,p=new k.util.ByteBuffer,r=new k.util.ByteBuffer;if(null!==a&&void 0!==a){for(n=0;n<a.length;n++)r.putInt16(a.charCodeAt(n));r.putInt16(0)}a=
r.length();var q=b.length(),w=new k.util.ByteBuffer;w.fillWithByte(c,m);var A=m*Math.ceil(q/m);c=new k.util.ByteBuffer;for(n=0;n<A;n++)c.putByte(b.at(n%q));A=m*Math.ceil(a/m);b=new k.util.ByteBuffer;for(n=0;n<A;n++)b.putByte(r.at(n%a));r=c;r.putBuffer(b);b=Math.ceil(e/l);for(c=1;c<=b;c++){A=new k.util.ByteBuffer;A.putBytes(w.bytes());A.putBytes(r.bytes());for(n=0;n<d;n++)f.start(),f.update(A.getBytes()),A=f.digest();var t=new k.util.ByteBuffer;for(n=0;n<m;n++)t.putByte(A.at(n%l));var v=Math.ceil(q/
m)+Math.ceil(a/m),x=new k.util.ByteBuffer;for(h=0;h<v;h++){var wa=new k.util.ByteBuffer(r.getBytes(m)),y=511;for(n=t.length()-1;0<=n;n--)y>>=8,y+=t.at(n)+wa.at(n),wa.setAt(n,y&255);x.putBuffer(wa)}r=x;p.putBuffer(A)}p.truncate(p.length()-e);return p};J.pbe.getCipher=function(a,b,c){switch(a){case J.oids.pkcs5PBES2:return J.pbe.getCipherForPBES2(a,b,c);case J.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case J.oids["pbewithSHAAnd40BitRC2-CBC"]:return J.pbe.getCipherForPKCS12PBE(a,b,c);default:throw b=Error("Cannot read encrypted PBE data block. Unsupported OID."),
b.oid=a,b.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],b;}};J.pbe.getCipherForPBES2=function(a,b,c){var d={};a=[];if(!x.validate(b,Up,d,a)){var e=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");e.errors=a;throw e;}a=x.derToOid(d.kdfOid);if(a!==J.oids.pkcs5PBKDF2)throw e=Error("Cannot read encrypted private key. Unsupported key derivation function OID."),e.oid=a,e.supportedOids=
["pkcs5PBKDF2"],e;a=x.derToOid(d.encOid);if(a!==J.oids["aes128-CBC"]&&a!==J.oids["aes192-CBC"]&&a!==J.oids["aes256-CBC"]&&a!==J.oids["des-EDE3-CBC"]&&a!==J.oids.desCBC)throw e=Error("Cannot read encrypted private key. Unsupported encryption scheme OID."),e.oid=a,e.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],e;b=d.kdfSalt;var f=k.util.createBuffer(d.kdfIterationCount);f=f.getInt(f.length()<<3);switch(J.oids[a]){case "aes128-CBC":var h=16;e=k.aes.createDecryptionCipher;
break;case "aes192-CBC":h=24;e=k.aes.createDecryptionCipher;break;case "aes256-CBC":h=32;e=k.aes.createDecryptionCipher;break;case "des-EDE3-CBC":h=24;e=k.des.createDecryptionCipher;break;case "desCBC":h=8,e=k.des.createDecryptionCipher}a=ah(d.prfOid);c=k.pkcs5.pbkdf2(c,b,f,h,a);d=d.encIv;e=e(c);e.start(d);return e};J.pbe.getCipherForPKCS12PBE=function(a,b,c){var d={},e=[];if(!x.validate(b,Vp,d,e))throw c=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo."),
c.errors=e,c;e=k.util.createBuffer(d.salt);b=k.util.createBuffer(d.iterations);b=b.getInt(b.length()<<3);switch(a){case J.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:var f=24;var h=8;a=k.des.startDecrypting;break;case J.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5;h=8;a=function(a,b){a=k.rc2.createDecryptionCipher(a,40);a.start(b,null);return a};break;default:throw c=Error("Cannot read PKCS #12 PBE data block. Unsupported OID."),c.oid=a,c;}d=ah(d.prfOid);f=J.pbe.generatePkcs12Key(c,e,1,b,f,d);d.start();c=J.pbe.generatePkcs12Key(c,
e,2,b,h,d);return a(f,c)};J.pbe.opensslDeriveBytes=function(a,b,c,d){if("undefined"===typeof d||null===d){if(!("md5"in k.md))throw Error('"md5" hash algorithm unavailable.');d=k.md.md5.create()}null===b&&(b="");for(var e=[$g(d,a+b)],f=16,h=1;f<c;++h,f+=16)e.push($g(d,e[h-1]+a+b));return e.join("").substr(0,c)};E(function(a){var b=k.asn1;a=a.exports=k.pkcs7asn1=k.pkcs7asn1||{};k.pkcs7=k.pkcs7||{};k.pkcs7.asn1=a;var c={name:"ContentInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,
value:[{name:"ContentInfo.ContentType",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=c;var d={name:"EncryptedContentInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",
tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:b.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator=
{name:"EnvelopedData",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:b.Class.UNIVERSAL,type:b.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(d)};a.encryptedDataValidator={name:"EncryptedData",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:b.Class.UNIVERSAL,
type:b.Type.INTEGER,constructed:!1,capture:"version"}].concat(d)};a.signedDataValidator={name:"SignedData",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:b.Class.UNIVERSAL,type:b.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},c,{name:"SignedData.Certificates",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},
{name:"SignedData.CertificateRevocationLists",tagClass:b.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:b.Class.UNIVERSAL,type:b.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,
constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"digestAlgorithm"},
{name:"SignerInfo.digestAlgorithm.parameter",tagClass:b.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,
constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:b.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]};a.recipientInfoValidator={name:"RecipientInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,
constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,
capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:b.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});E(function(a){k.mgf=k.mgf||{};(a.exports=k.mgf.mgf1=k.mgf1=k.mgf1||{}).create=function(a){return{generate:function(b,d){for(var c=new k.util.ByteBuffer,f=Math.ceil(d/a.digestLength),h=0;h<f;h++){var n=new k.util.ByteBuffer;
n.putInt32(h);a.start();a.update(b+n.getBytes());c.putBuffer(a.digest())}c.truncate(c.length()-d);return c.getBytes()}}}});k.mgf=k.mgf||{};k.mgf.mgf1=k.mgf1;E(function(a){(a.exports=k.pss=k.pss||{}).create=function(a){3===arguments.length&&(a={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var b=a.md,d=a.mgf,e=b.digestLength,f=a.salt||null;"string"===typeof f&&(f=k.util.createBuffer(f));if("saltLength"in a)var h=a.saltLength;else if(null!==f)h=f.length();else throw Error("Salt length not specified or specific salt not given.");
if(null!==f&&f.length()!==h)throw Error("Given salt length does not match length of given salt.");var n=a.prng||k.random;return{encode:function(a,c){--c;var l=Math.ceil(c/8);a=a.digest().getBytes();if(l<e+h+2)throw Error("Message is too long to encrypt.");var m=null===f?n.getBytesSync(h):f.bytes();var p=new k.util.ByteBuffer;p.fillWithByte(0,8);p.putBytes(a);p.putBytes(m);b.start();b.update(p.getBytes());a=b.digest().getBytes();p=new k.util.ByteBuffer;p.fillWithByte(0,l-h-e-2);p.putByte(1);p.putBytes(m);
var q=p.getBytes(),A=l-e-1,t=d.generate(a,A);m="";for(p=0;p<A;p++)m+=String.fromCharCode(q.charCodeAt(p)^t.charCodeAt(p));c=65280>>8*l-c&255;m=String.fromCharCode(m.charCodeAt(0)&~c)+m.substr(1);return m+a+String.fromCharCode(188)},verify:function(a,c,f){var l=f-1;f=Math.ceil(l/8);c=c.substr(-f);if(f<e+h+2)throw Error("Inconsistent parameters to PSS signature verification.");if(188!==c.charCodeAt(f-1))throw Error("Encoded message does not end in 0xBC.");var n=f-e-1,m=c.substr(0,n);c=c.substr(n,e);
var p=65280>>8*f-l&255;if(0!==(m.charCodeAt(0)&p))throw Error("Bits beyond keysize not zero as expected.");var q=d.generate(c,n),z="";for(l=0;l<n;l++)z+=String.fromCharCode(m.charCodeAt(l)^q.charCodeAt(l));z=String.fromCharCode(z.charCodeAt(0)&~p)+z.substr(1);f=f-e-h-2;for(l=0;l<f;l++)if(0!==z.charCodeAt(l))throw Error("Leftmost octets not zero as expected");if(1!==z.charCodeAt(f))throw Error("Inconsistent PSS signature, 0x01 marker not found");f=z.substr(-h);n=new k.util.ByteBuffer;n.fillWithByte(0,
8);n.putBytes(a);n.putBytes(f);b.start();b.update(n.getBytes());a=b.digest().getBytes();return c===a}}}});E(function(a){function b(a,b){"string"===typeof b&&(b={shortName:b});for(var c=null,d,e=0;null===c&&e<a.attributes.length;++e)d=a.attributes[e],b.type&&b.type===d.type?c=d:b.name&&b.name===d.name?c=d:b.shortName&&b.shortName===d.shortName&&(c=d);return c}function c(a){var b=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);a=a.attributes;for(var c=0;c<a.length;++c){var d=a[c];var e=d.value,f=
l.Type.PRINTABLESTRING;"valueTagClass"in d&&(f=d.valueTagClass,f===l.Type.UTF8&&(e=k.util.encodeUtf8(e)));d=l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(d.type).getBytes()),l.create(l.Class.UNIVERSAL,f,!1,e)])]);b.value.push(d)}return b}function d(a){for(var b,c=0;c<a.length;++c){b=a[c];"undefined"===typeof b.name&&(b.type&&b.type in m.oids?b.name=m.oids[b.type]:b.shortName&&b.shortName in r&&(b.name=m.oids[r[b.shortName]]));
if("undefined"===typeof b.type)if(b.name&&b.name in m.oids)b.type=m.oids[b.name];else throw a=Error("Attribute type not specified."),a.attribute=b,a;"undefined"===typeof b.shortName&&b.name&&b.name in r&&(b.shortName=r[b.name]);if(b.type===p.extensionRequest&&(b.valueConstructed=!0,b.valueTagClass=l.Type.SEQUENCE,!b.value&&b.extensions)){b.value=[];for(var d=0;d<b.extensions.length;++d)b.value.push(m.certificateExtensionToAsn1(e(b.extensions[d])))}if("undefined"===typeof b.value)throw a=Error("Attribute value not specified."),
a.attribute=b,a;}}function e(a,b){b=b||{};"undefined"===typeof a.name&&a.id&&a.id in m.oids&&(a.name=m.oids[a.id]);if("undefined"===typeof a.id)if(a.name&&a.name in m.oids)a.id=m.oids[a.name];else{var d=Error("Extension ID not specified.");d.extension=a;throw d;}if("undefined"!==typeof a.value)return a;if("keyUsage"===a.name){var e=d=b=0;a.digitalSignature&&(d|=128,b=7);a.nonRepudiation&&(d|=64,b=6);a.keyEncipherment&&(d|=32,b=5);a.dataEncipherment&&(d|=16,b=4);a.keyAgreement&&(d|=8,b=3);a.keyCertSign&&
(d|=4,b=2);a.cRLSign&&(d|=2,b=1);a.encipherOnly&&(d|=1,b=0);a.decipherOnly&&(e|=128,b=7);b=String.fromCharCode(b);0!==e?b+=String.fromCharCode(d)+String.fromCharCode(e):0!==d&&(b+=String.fromCharCode(d));a.value=l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,b)}else if("basicConstraints"===a.name)a.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),a.cA&&a.value.value.push(l.create(l.Class.UNIVERSAL,l.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in a&&a.value.value.push(l.create(l.Class.UNIVERSAL,
l.Type.INTEGER,!1,l.integerToDer(a.pathLenConstraint).getBytes()));else if("extKeyUsage"===a.name)for(e in a.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),d=a.value.value,a)!0===a[e]&&(e in p?d.push(l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p[e]).getBytes())):-1!==e.indexOf(".")&&d.push(l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(e).getBytes())));else if("nsCertType"===a.name)d=b=0,a.client&&(d|=128,b=7),a.server&&(d|=64,b=6),a.email&&(d|=32,b=5),a.objsign&&(d|=16,b=4),
a.reserved&&(d|=8,b=3),a.sslCA&&(d|=4,b=2),a.emailCA&&(d|=2,b=1),a.objCA&&(d|=1,b=0),b=String.fromCharCode(b),0!==d&&(b+=String.fromCharCode(d)),a.value=l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,b);else if("subjectAltName"===a.name||"issuerAltName"===a.name){a.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);for(var f=0;f<a.altNames.length;++f){e=a.altNames[f];b=e.value;if(7===e.type&&e.ip){if(b=k.util.bytesFromIP(e.ip),null===b)throw d=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.'),
d.extension=a,d;}else 8===e.type&&(b=e.oid?l.oidToDer(l.oidToDer(e.oid)):l.oidToDer(b));a.value.value.push(l.create(l.Class.CONTEXT_SPECIFIC,e.type,!1,b))}}else if("nsComment"===a.name&&b.cert){if(!/^[\x00-\x7F]*$/.test(a.comment)||1>a.comment.length||128<a.comment.length)throw Error('Invalid "nsComment" content.');a.value=l.create(l.Class.UNIVERSAL,l.Type.IA5STRING,!1,a.comment)}else if("subjectKeyIdentifier"===a.name&&b.cert)d=b.cert.generateSubjectKeyIdentifier(),a.subjectKeyIdentifier=d.toHex(),
a.value=l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,d.getBytes());else if("authorityKeyIdentifier"===a.name&&b.cert)a.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),d=a.value.value,a.keyIdentifier&&(e=!0===a.keyIdentifier?b.cert.generateSubjectKeyIdentifier().getBytes():a.keyIdentifier,d.push(l.create(l.Class.CONTEXT_SPECIFIC,0,!1,e))),a.authorityCertIssuer&&(e=[l.create(l.Class.CONTEXT_SPECIFIC,4,!0,[c(!0===a.authorityCertIssuer?b.cert.issuer:a.authorityCertIssuer)])],d.push(l.create(l.Class.CONTEXT_SPECIFIC,
1,!0,e))),a.serialNumber&&(b=k.util.hexToBytes(!0===a.serialNumber?b.cert.serialNumber:a.serialNumber),d.push(l.create(l.Class.CONTEXT_SPECIFIC,2,!1,b)));else if("cRLDistributionPoints"===a.name){a.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);d=a.value.value;var h=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),n=l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[]);for(f=0;f<a.altNames.length;++f){e=a.altNames[f];b=e.value;if(7===e.type&&e.ip){if(b=k.util.bytesFromIP(e.ip),null===b)throw d=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.'),
d.extension=a,d;}else 8===e.type&&(b=e.oid?l.oidToDer(l.oidToDer(e.oid)):l.oidToDer(b));n.value.push(l.create(l.Class.CONTEXT_SPECIFIC,e.type,!1,b))}h.value.push(l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[n]));d.push(h)}if("undefined"===typeof a.value)throw d=Error("Extension value not specified."),d.extension=a,d;return a}function f(a,b){switch(a){case p["RSASSA-PSS"]:return a=[],void 0!==b.hash.algorithmOid&&a.push(l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,
!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(b.hash.algorithmOid).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")])])),void 0!==b.mgf.algorithmOid&&a.push(l.create(l.Class.CONTEXT_SPECIFIC,1,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(b.mgf.algorithmOid).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(b.mgf.hash.algorithmOid).getBytes()),l.create(l.Class.UNIVERSAL,
l.Type.NULL,!1,"")])])])),void 0!==b.saltLength&&a.push(l.create(l.Class.CONTEXT_SPECIFIC,2,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(b.saltLength).getBytes())])),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,a);default:return l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")}}function h(a){var b=l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===a.attributes.length)return b;a=a.attributes;for(var c=0;c<a.length;++c){var d=a[c],e=d.value,f=l.Type.UTF8;"valueTagClass"in d&&(f=d.valueTagClass);
f===l.Type.UTF8&&(e=k.util.encodeUtf8(e));var h=!1;"valueConstructed"in d&&(h=d.valueConstructed);d=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(d.type).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,f,h,e)])]);b.value.push(d)}return b}var l=k.asn1,m=a.exports=k.pki=k.pki||{},p=m.oids,r={};r.CN=p.commonName;r.commonName="CN";r.C=p.countryName;r.countryName="C";r.L=p.localityName;r.localityName="L";r.ST=p.stateOrProvinceName;r.stateOrProvinceName="ST";r.O=p.organizationName;r.organizationName="O";r.OU=p.organizationalUnitName;r.organizationalUnitName="OU";r.E=p.emailAddress;r.emailAddress="E";a=k.pki.rsa.publicKeyValidator;var q={name:"Certificate",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",
tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:l.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",
tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:l.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",
tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:l.Class.UNIVERSAL,type:l.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:l.Class.UNIVERSAL,type:l.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:l.Class.UNIVERSAL,
type:l.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:l.Class.UNIVERSAL,type:l.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},a,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:l.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,
optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:l.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",
tagClass:l.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:l.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",
tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},w={name:"rsapss",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:l.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:l.Class.UNIVERSAL,type:l.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:l.Class.UNIVERSAL,
type:l.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:l.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:l.Class.UNIVERSAL,type:l.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:l.Class.UNIVERSAL,
type:l.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:l.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:l.Class.UNIVERSAL,type:l.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:l.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",
tagClass:l.Class.UNIVERSAL,type:l.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},A={name:"CertificationRequest",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",
tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},a,{name:"CertificationRequestInfo.attributes",tagClass:l.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",
tagClass:l.Class.UNIVERSAL,type:l.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:l.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:l.Class.UNIVERSAL,
type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};m.RDNAttributesAsArray=function(a,b){for(var c=[],d,e,f,h=0;h<a.value.length;++h){d=a.value[h];for(var k=0;k<d.value.length;++k)f={},e=d.value[k],f.type=l.derToOid(e.value[0].value),f.value=e.value[1].value,f.valueTagClass=e.value[1].type,f.type in p&&(f.name=p[f.type],f.name in r&&(f.shortName=r[f.name])),b&&(b.update(f.type),b.update(f.value)),c.push(f)}return c};m.CRIAttributesAsArray=function(a){for(var b=[],c=0;c<a.length;++c){var d=
a[c],e=l.derToOid(d.value[0].value);d=d.value[1].value;for(var f=0;f<d.length;++f){var h={};h.type=e;h.value=d[f].value;h.valueTagClass=d[f].type;h.type in p&&(h.name=p[h.type],h.name in r&&(h.shortName=r[h.name]));if(h.type===p.extensionRequest){h.extensions=[];for(var k=0;k<h.value.length;++k)h.extensions.push(m.certificateExtensionFromAsn1(h.value[k]))}b.push(h)}}return b};var t=function(a,b,c){var d={};if(a!==p["RSASSA-PSS"])return d;c&&(d={hash:{algorithmOid:p.sha1},mgf:{algorithmOid:p.mgf1,
hash:{algorithmOid:p.sha1}},saltLength:20});c={};a=[];if(!l.validate(b,w,c,a))throw b=Error("Cannot read RSASSA-PSS parameter block."),b.errors=a,b;void 0!==c.hashOid&&(d.hash=d.hash||{},d.hash.algorithmOid=l.derToOid(c.hashOid));void 0!==c.maskGenOid&&(d.mgf=d.mgf||{},d.mgf.algorithmOid=l.derToOid(c.maskGenOid),d.mgf.hash=d.mgf.hash||{},d.mgf.hash.algorithmOid=l.derToOid(c.maskGenHashOid));void 0!==c.saltLength&&(d.saltLength=c.saltLength.charCodeAt(0));return d},v=function(a){switch(p[a.signatureOid]){case "sha1WithRSAEncryption":case "sha1WithRSASignature":return k.md.sha1.create();
case "md5WithRSAEncryption":return k.md.md5.create();case "sha256WithRSAEncryption":return k.md.sha256.create();case "sha384WithRSAEncryption":return k.md.sha384.create();case "sha512WithRSAEncryption":return k.md.sha512.create();case "RSASSA-PSS":return k.md.sha256.create();default:var b=Error("Could not compute "+a.type+" digest. Unknown signature OID.");b.signatureOid=a.signatureOid;throw b;}},x=function(a){var b=a.certificate;switch(b.signatureOid){case p["RSASSA-PSS"]:var c=p[b.signatureParameters.mgf.hash.algorithmOid];
if(void 0===c||void 0===k.md[c])throw a=Error("Unsupported MGF hash function."),a.oid=b.signatureParameters.mgf.hash.algorithmOid,a.name=c,a;var d=p[b.signatureParameters.mgf.algorithmOid];if(void 0===d||void 0===k.mgf[d])throw a=Error("Unsupported MGF function."),a.oid=b.signatureParameters.mgf.algorithmOid,a.name=d,a;d=k.mgf[d].create(k.md[c].create());c=p[b.signatureParameters.hash.algorithmOid];if(void 0===c||void 0===k.md[c])throw a=Error("Unsupported RSASSA-PSS hash function."),a.oid=b.signatureParameters.hash.algorithmOid,
a.name=c,a;c=k.pss.create(k.md[c].create(),d,b.signatureParameters.saltLength)}return b.publicKey.verify(a.md.digest().getBytes(),a.signature,c)};m.certificateFromPem=function(a,b,c){a=k.pem.decode(a)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type)throw b=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".'),b.headerType=a.type,b;if(a.procType&&"ENCRYPTED"===a.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");
c=l.fromDer(a.body,c);return m.certificateFromAsn1(c,b)};m.certificateToPem=function(a,b){a={type:"CERTIFICATE",body:l.toDer(m.certificateToAsn1(a)).getBytes()};return k.pem.encode(a,{maxline:b})};m.publicKeyFromPem=function(a){a=k.pem.decode(a)[0];if("PUBLIC KEY"!==a.type&&"RSA PUBLIC KEY"!==a.type){var b=Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');b.headerType=a.type;throw b;}if(a.procType&&"ENCRYPTED"===a.procType.type)throw Error("Could not convert public key from PEM; PEM is encrypted.");
a=l.fromDer(a.body);return m.publicKeyFromAsn1(a)};m.publicKeyToPem=function(a,b){a={type:"PUBLIC KEY",body:l.toDer(m.publicKeyToAsn1(a)).getBytes()};return k.pem.encode(a,{maxline:b})};m.publicKeyToRSAPublicKeyPem=function(a,b){a={type:"RSA PUBLIC KEY",body:l.toDer(m.publicKeyToRSAPublicKey(a)).getBytes()};return k.pem.encode(a,{maxline:b})};m.getPublicKeyFingerprint=function(a,b){b=b||{};var c=b.md||k.md.sha1.create();switch(b.type||"RSAPublicKey"){case "RSAPublicKey":a=l.toDer(m.publicKeyToRSAPublicKey(a)).getBytes();
break;case "SubjectPublicKeyInfo":a=l.toDer(m.publicKeyToAsn1(a)).getBytes();break;default:throw Error('Unknown fingerprint type "'+b.type+'".');}c.start();c.update(a);c=c.digest();if("hex"===b.encoding)return c=c.toHex(),b.delimiter?c.match(/.{2}/g).join(b.delimiter):c;if("binary"===b.encoding)return c.getBytes();if(b.encoding)throw Error('Unknown encoding "'+b.encoding+'".');return c};m.certificationRequestFromPem=function(a,b,c){a=k.pem.decode(a)[0];if("CERTIFICATE REQUEST"!==a.type)throw b=Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".'),
b.headerType=a.type,b;if(a.procType&&"ENCRYPTED"===a.procType.type)throw Error("Could not convert certification request from PEM; PEM is encrypted.");c=l.fromDer(a.body,c);return m.certificationRequestFromAsn1(c,b)};m.certificationRequestToPem=function(a,b){a={type:"CERTIFICATE REQUEST",body:l.toDer(m.certificationRequestToAsn1(a)).getBytes()};return k.pem.encode(a,{maxline:b})};m.createCertificate=function(){var a={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};a.siginfo.algorithmOid=
null;a.validity={};a.validity.notBefore=new Date;a.validity.notAfter=new Date;a.issuer={};a.issuer.getField=function(c){return b(a.issuer,c)};a.issuer.addField=function(b){d([b]);a.issuer.attributes.push(b)};a.issuer.attributes=[];a.issuer.hash=null;a.subject={};a.subject.getField=function(c){return b(a.subject,c)};a.subject.addField=function(b){d([b]);a.subject.attributes.push(b)};a.subject.attributes=[];a.subject.hash=null;a.extensions=[];a.publicKey=null;a.md=null;a.setSubject=function(b,c){d(b);
a.subject.attributes=b;delete a.subject.uniqueId;c&&(a.subject.uniqueId=c);a.subject.hash=null};a.setIssuer=function(b,c){d(b);a.issuer.attributes=b;delete a.issuer.uniqueId;c&&(a.issuer.uniqueId=c);a.issuer.hash=null};a.setExtensions=a.getExtension=function(b){"string"===typeof b&&(b={name:b});for(var c=null,d,e=0;null===c&&e<a.extensions.length;++e)d=a.extensions[e],b.id&&d.id===b.id?c=d:b.name&&d.name===b.name&&(c=d);return c};
a.sign=function(b,c){a.md=c||k.md.sha1.create();c=p[a.md.algorithm+"WithRSAEncryption"];if(!c)throw b=Error("Could not compute certificate digest. Unknown message digest algorithm OID."),b.algorithm=a.md.algorithm,b;a.signatureOid=a.siginfo.algorithmOid=c;a.tbsCertificate=m.getTBSCertificate(a);c=l.toDer(a.tbsCertificate);a.md.update(c.getBytes());a.signature=b.sign(a.md)};a.verify=function(b){var c=!1;if(!a.issued(b))throw b=b.issuer,c=Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject."),
c.expectedIssuer=a.subject.attributes,c.actualIssuer=b.attributes,c;var d=b.md;if(null===d){d=v({signatureOid:b.signatureOid,type:"certificate"});var e=b.tbsCertificate||m.getTBSCertificate(b);e=l.toDer(e);d.update(e.getBytes())}null!==d&&(c=x({certificate:a,md:d,signature:b.signature}));return c};a.isIssuer=function(b){var c=!1,d=a.issuer;b=b.subject;if(d.hash&&b.hash)c=d.hash===b.hash;else if(d.attributes.length===b.attributes.length){c=!0;for(var e,f,h=0;c&&h<d.attributes.length;++h)if(e=d.attributes[h],
f=b.attributes[h],e.type!==f.type||e.value!==f.value)c=!1}return c};a.issued=function(b){return b.isIssuer(a)};a.generateSubjectKeyIdentifier=a.verifySubjectKeyIdentifier=function(){for(var b=p.subjectKeyIdentifier,c=0;c<a.extensions.length;++c){var d=a.extensions[c];if(d.id===b)return b=a.generateSubjectKeyIdentifier().getBytes(),k.util.hexToBytes(d.subjectKeyIdentifier)===b}return!1};return a};m.certificateFromAsn1=
function(a,c){var e={},f=[];if(!l.validate(a,q,e,f))throw e=Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate."),e.errors=f,e;if(l.derToOid(e.publicKeyOid)!==m.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var h=m.createCertificate();h.version=e.certVersion?e.certVersion.charCodeAt(0):0;f=k.util.createBuffer(e.certSerialNumber);h.serialNumber=f.toHex();h.signatureOid=k.asn1.derToOid(e.certSignatureOid);h.signatureParameters=t(h.signatureOid,
e.certSignatureParams,!0);h.siginfo.algorithmOid=k.asn1.derToOid(e.certinfoSignatureOid);h.siginfo.parameters=t(h.siginfo.algorithmOid,e.certinfoSignatureParams,!1);h.signature=e.certSignature;f=[];void 0!==e.certValidity1UTCTime&&f.push(l.utcTimeToDate(e.certValidity1UTCTime));void 0!==e.certValidity2GeneralizedTime&&f.push(l.generalizedTimeToDate(e.certValidity2GeneralizedTime));void 0!==e.certValidity3UTCTime&&f.push(l.utcTimeToDate(e.certValidity3UTCTime));void 0!==e.certValidity4GeneralizedTime&&
f.push(l.generalizedTimeToDate(e.certValidity4GeneralizedTime));if(2<f.length)throw Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(2>f.length)throw Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");h.validity.notBefore=f[0];h.validity.notAfter=f[1];h.tbsCertificate=e.tbsCertificate;c&&(h.md=v({signatureOid:h.signatureOid,type:"certificate"}),c=l.toDer(h.tbsCertificate),
h.md.update(c.getBytes()));c=k.md.sha1.create();f=l.toDer(e.certIssuer);c.update(f.getBytes());h.issuer.getField=function(a){return b(h.issuer,a)};h.issuer.addField=function(a){d([a]);h.issuer.attributes.push(a)};h.issuer.attributes=m.RDNAttributesAsArray(e.certIssuer);e.certIssuerUniqueId&&(h.issuer.uniqueId=e.certIssuerUniqueId);h.issuer.hash=c.digest().toHex();c=k.md.sha1.create();f=l.toDer(e.certSubject);c.update(f.getBytes());h.subject.getField=function(a){return b(h.subject,a)};h.subject.addField=
function(a){d([a]);h.subject.attributes.push(a)};h.subject.attributes=m.RDNAttributesAsArray(e.certSubject);e.certSubjectUniqueId&&(h.subject.uniqueId=e.certSubjectUniqueId);h.subject.hash=c.digest().toHex();h.extensions=e.certExtensions?m.certificateExtensionsFromAsn1(e.certExtensions):[];h.publicKey=m.publicKeyFromAsn1(e.subjectPublicKeyInfo);return h};m.certificateExtensionsFromAsn1=m.certificateExtensionFromAsn1=function(a){var b={};b.id=l.derToOid(a.value[0].value);b.critical=!1;a.value[1].type===l.Type.BOOLEAN?(b.critical=0!==a.value[1].value.charCodeAt(0),b.value=a.value[2].value):b.value=a.value[1].value;if(b.id in p)if(b.name=p[b.id],"keyUsage"===b.name){a=l.fromDer(b.value);var c=0,d=0;1<a.value.length&&(c=a.value.charCodeAt(1),d=2<a.value.length?a.value.charCodeAt(2):0);b.digitalSignature=128===(c&128);b.nonRepudiation=64===(c&64);b.keyEncipherment=32===(c&
32);b.dataEncipherment=16===(c&16);b.keyAgreement=8===(c&8);b.keyCertSign=4===(c&4);b.cRLSign=2===(c&2);b.encipherOnly=1===(c&1);b.decipherOnly=128===(d&128)}else if("basicConstraints"===b.name)a=l.fromDer(b.value),b.cA=0<a.value.length&&a.value[0].type===l.Type.BOOLEAN?0!==a.value[0].value.charCodeAt(0):!1,c=null,0<a.value.length&&a.value[0].type===l.Type.INTEGER?c=a.value[0].value:1<a.value.length&&(c=a.value[1].value),null!==c&&(b.pathLenConstraint=l.derToInteger(c));else if("extKeyUsage"===b.name)for(a=
l.fromDer(b.value),c=0;c<a.value.length;++c)d=l.derToOid(a.value[c].value),d in p?b[p[d]]=!0:b[d]=!0;else if("nsCertType"===b.name)a=l.fromDer(b.value),c=0,1<a.value.length&&(c=a.value.charCodeAt(1)),b.client=128===(c&128),b.server=64===(c&64),b.email=32===(c&32),b.objsign=16===(c&16),b.reserved=8===(c&8),b.sslCA=4===(c&4),b.emailCA=2===(c&2),b.objCA=1===(c&1);else if("subjectAltName"===b.name||"issuerAltName"===b.name)for(b.altNames=[],a=l.fromDer(b.value),d=0;d<a.value.length;++d){c=a.value[d];
var e={type:c.type,value:c.value};b.altNames.push(e);switch(c.type){case 7:e.ip=k.util.bytesToIP(c.value);break;case 8:e.oid=l.derToOid(c.value)}}else"subjectKeyIdentifier"===b.name&&(a=l.fromDer(b.value),b.subjectKeyIdentifier=k.util.bytesToHex(a.value));return b};m.certificationRequestFromAsn1=function(a,c){var e={},f=[];if(!l.validate(a,A,e,f))throw e=Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest."),e.errors=f,e;if(l.derToOid(e.publicKeyOid)!==
m.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var h=m.createCertificationRequest();h.version=e.csrVersion?e.csrVersion.charCodeAt(0):0;h.signatureOid=k.asn1.derToOid(e.csrSignatureOid);h.signatureParameters=t(h.signatureOid,e.csrSignatureParams,!0);h.siginfo.algorithmOid=k.asn1.derToOid(e.csrSignatureOid);h.siginfo.parameters=t(h.siginfo.algorithmOid,e.csrSignatureParams,!1);h.signature=e.csrSignature;h.certificationRequestInfo=e.certificationRequestInfo;c&&(h.md=v({signatureOid:h.signatureOid,
type:"certification request"}),f=l.toDer(h.certificationRequestInfo),h.md.update(f.getBytes()));f=k.md.sha1.create();h.subject.getField=function(a){return b(h.subject,a)};h.subject.addField=function(a){d([a]);h.subject.attributes.push(a)};h.subject.attributes=m.RDNAttributesAsArray(e.certificationRequestInfoSubject,f);h.subject.hash=f.digest().toHex();h.publicKey=m.publicKeyFromAsn1(e.subjectPublicKeyInfo);h.getAttribute=function(a){return b(h,a)};h.addAttribute=function(a){d([a]);h.attributes.push(a)};
h.attributes=m.CRIAttributesAsArray(e.certificationRequestInfoAttributes||[]);return h};m.createCertificationRequest=function(){var a={version:0,signatureOid:null,signature:null,siginfo:{}};a.siginfo.algorithmOid=null;a.subject={};a.subject.getField=a.subject.addField=function(b){d([b]);a.subject.attributes.push(b)};a.subject.attributes=[];a.subject.hash=null;a.publicKey=null;a.attributes=[];a.getAttribute=function(c){return b(a,c)};a.addAttribute=function(b){d([b]);
a.attributes.push(b)};a.md=null;a.setSubject=function(b){d(b);a.subject.attributes=b;a.subject.hash=null};a.setAttributes=a.sign=function(b,c){a.md=c||k.md.sha1.create();c=p[a.md.algorithm+"WithRSAEncryption"];if(!c)throw b=Error("Could not compute certification request digest. Unknown message digest algorithm OID."),b.algorithm=a.md.algorithm,b;a.signatureOid=a.siginfo.algorithmOid=c;a.certificationRequestInfo=m.getCertificationRequestInfo(a);c=l.toDer(a.certificationRequestInfo);
a.md.update(c.getBytes());a.signature=b.sign(a.md)};a.verify=function(){var b=!1,c=a.md;if(null===c){c=v({signatureOid:a.signatureOid,type:"certification request"});var d=a.certificationRequestInfo||m.getCertificationRequestInfo(a);d=l.toDer(d);c.update(d.getBytes())}null!==c&&(b=x({certificate:a,md:c,signature:a.signature}));return b};return a};var y=new Date("1950-01-01T00:00:00Z"),ob=new Date("2050-01-01T00:00:00Z");m.getTBSCertificate=function(a){var b=n(a.validity.notBefore),d=n(a.validity.notAfter);
b=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(a.version).getBytes())]),l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,k.util.hexToBytes(a.serialNumber)),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(a.siginfo.algorithmOid).getBytes()),f(a.siginfo.algorithmOid,a.siginfo.parameters)]),c(a.issuer),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[b,d]),
c(a.subject),m.publicKeyToAsn1(a.publicKey)]);a.issuer.uniqueId&&b.value.push(l.create(l.Class.CONTEXT_SPECIFIC,1,!0,[l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+a.issuer.uniqueId)]));a.subject.uniqueId&&b.value.push(l.create(l.Class.CONTEXT_SPECIFIC,2,!0,[l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+a.subject.uniqueId)]));0<a.extensions.length&&b.value.push(m.certificateExtensionsToAsn1(a.extensions));return b};m.getCertificationRequestInfo=m.distinguishedNameToAsn1=function(a){return c(a)};m.certificateToAsn1=function(a){var b=a.tbsCertificate||m.getTBSCertificate(a);return l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[b,l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(a.signatureOid).getBytes()),f(a.signatureOid,a.signatureParameters)]),
l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+a.signature)])};m.certificateExtensionsToAsn1=m.certificateExtensionToAsn1=function(a){var b=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);b.value.push(l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(a.id).getBytes()));
a.critical&&b.value.push(l.create(l.Class.UNIVERSAL,l.Type.BOOLEAN,!1,String.fromCharCode(255)));var c=a.value;"string"!==typeof a.value&&(c=l.toDer(c).getBytes());b.value.push(l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,c));return b};m.certificationRequestToAsn1=m.createCaStore=function(a){function b(a){d(a);return e.certs[a.hash]||null}function d(a){if(!a.hash){var b=k.md.sha1.create();a.attributes=m.RDNAttributesAsArray(c(a),b);a.hash=b.digest().toHex()}}var e={certs:{},getIssuer:addCertificate:function(a){"string"===typeof a&&(a=k.pki.certificateFromPem(a));d(a.subject);if(!e.hasCertificate(a))if(a.subject.hash in
e.certs){var b=e.certs[a.subject.hash];k.util.isArray(b)||(b=[b]);b.push(a);e.certs[a.subject.hash]=b}else e.certs[a.subject.hash]=a},hasCertificate:function(a){"string"===typeof a&&(a=k.pki.certificateFromPem(a));var c=b(a.subject);if(!c)return!1;k.util.isArray(c)||(c=[c]);a=l.toDer(m.certificateToAsn1(a)).getBytes();for(var d=0;d<c.length;++d){var e=l.toDer(m.certificateToAsn1(c[d])).getBytes();if(a===e)return!0}return!1},listAllCertificates:function(){var a=[],b;for(b in e.certs)if(e.certs.hasOwnProperty(b)){var c=
e.certs[b];if(k.util.isArray(c))for(var d=0;d<c.length;++d)a.push(c[d]);else a.push(c)}return a},removeCertificate:function(a){"string"===typeof a&&(a=k.pki.certificateFromPem(a));d(a.subject);if(!e.hasCertificate(a))return null;var c=b(a.subject);if(!k.util.isArray(c)){var f=e.certs[a.subject.hash];delete e.certs[a.subject.hash];return f}for(var h=l.toDer(m.certificateToAsn1(a)).getBytes(),n=0;n<c.length;++n){var p=l.toDer(m.certificateToAsn1(c[n])).getBytes();h===p&&(f=c[n],c.splice(n,1))}0===c.length&&
delete e.certs[a.subject.hash];return f}};if(a)for(var f=0;f<a.length;++f)e.addCertificate(a[f]);return e};m.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};m.verifyCertificateChain=function(a,b,c){"function"===typeof c&&(c=
{verify:c});c=c||{};b=b.slice(0);var d=b.slice(0),e=c.validityCheckDate;"undefined"===typeof e&&(e=new Date);var f=!0,h=null,l=0;do{var n=b.shift(),p=null,r=!1;e&&(e<n.validity.notBefore||e>n.validity.notAfter)&&(h={message:"Certificate is not valid yet or has expired.",error:m.certificateError.certificate_expired,notBefore:n.validity.notBefore,notAfter:n.validity.notAfter,now:e});if(null===h){p=b[0]||a.getIssuer(n);null===p&&n.isIssuer(n)&&(r=!0,p=n);if(p){var q=p;k.util.isArray(q)||(q=[q]);for(var u=
!1;!u&&0<q.length;){p=q.shift();try{u=p.verify(n)}catch(P){}}u||(h={message:"Certificate signature is invalid.",error:m.certificateError.bad_certificate})}null!==h||p&&!r||a.hasCertificate(n)||(h={message:"Certificate is not trusted.",error:m.certificateError.unknown_ca})}null===h&&p&&!n.isIssuer(p)&&(h={message:"Certificate issuer is invalid.",error:m.certificateError.bad_certificate});if(null===h)for(q={keyUsage:!0,basicConstraints:!0},u=0;null===h&&u<n.extensions.length;++u){var A=n.extensions[u];
!A.critical||A.name in q||(h={message:"Certificate has an unsupported critical extension.",error:m.certificateError.unsupported_certificate})}null!==h||f&&(0!==b.length||p&&!r)||(f=n.getExtension("basicConstraints"),n=n.getExtension("keyUsage"),null!==n&&(n.keyCertSign&&null!==f||(h={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:m.certificateError.bad_certificate})),
null!==h||null===f||f.cA||(h={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:m.certificateError.bad_certificate}),null===h&&null!==n&&"pathLenConstraint"in f&&l-1>f.pathLenConstraint&&(h={message:"Certificate basicConstraints pathLenConstraint violated.",error:m.certificateError.bad_certificate}));n=null===h?!0:h.error;f=c.verify?c.verify(n,l,d):n;if(!0===f)h=null;else{!0===n&&(h={message:"The application rejected the certificate.",error:m.certificateError.bad_certificate});
if(f||0===f)"object"!==typeof f||k.util.isArray(f)?"string"===typeof f&&(h.error=f):(f.message&&(h.message=f.message),f.error&&(h.error=f.error));throw h;}f=!1;++l}while(0<b.length);return!0}});E(function(a){function b(a,b,c,d){for(var e=[],f=0;f<a.length;f++)for(var h=0;h<a[f].safeBags.length;h++){var k=a[f].safeBags[h];if(void 0===d||k.type===d)null===b?e.push(k):void 0!==k.attributes[b]&&0<=k.attributes[b].indexOf(c)&&e.push(k)}return e}function c(a){if(a.composed||a.constructed){for(var b=k.util.createBuffer(),
c=0;c<a.value.length;++c)b.putBytes(a.value[c].value);a.composed=a.constructed=!1;a.value=b.getBytes()}return a}function d(a,b,d,f){b=h.fromDer(b,d);if(b.tagClass!==h.Class.UNIVERSAL||b.type!==h.Type.SEQUENCE||!0!==b.constructed)throw Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var l=0;l<b.value.length;l++){var p={},r=[];if(!h.validate(b.value[l],m,p,r))throw a=Error("Cannot read ContentInfo."),a.errors=r,a;r={encrypted:!1};var q=p.content.value[0];switch(h.derToOid(p.contentType)){case n.oids.data:if(q.tagClass!==
h.Class.UNIVERSAL||q.type!==h.Type.OCTETSTRING)throw Error("PKCS#12 SafeContents Data is not an OCTET STRING.");p=c(q).value;break;case n.oids.encryptedData:var u=f;p={};var A=[];if(!h.validate(q,k.pkcs7.asn1.encryptedDataValidator,p,A))throw a=Error("Cannot read EncryptedContentInfo."),a.errors=A,a;q=h.derToOid(p.contentType);if(q!==n.oids.data)throw a=Error("PKCS#12 EncryptedContentInfo ContentType is not Data."),a.oid=q,a;q=h.derToOid(p.encAlgorithm);q=n.pbe.getCipher(q,p.encParameter,u);p=c(p.encryptedContentAsn1);
p=k.util.createBuffer(p.value);q.update(p);if(!q.finish())throw Error("Failed to decrypt PKCS#12 SafeContents.");p=q.output.getBytes();r.encrypted=!0;break;default:throw a=Error("Unsupported PKCS#12 contentType."),a.contentType=h.derToOid(p.contentType),a;}r.safeBags=e(p,d,f);a.safeContents.push(r)}}function e(a,b,c){if(!b&&0===a.length)return[];a=h.fromDer(a,b);if(a.tagClass!==h.Class.UNIVERSAL||a.type!==h.Type.SEQUENCE||!0!==a.constructed)throw Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");
for(var d=[],e=0;e<a.value.length;e++){var k={},l=[];if(!h.validate(a.value[e],r,k,l))throw a=Error("Cannot read SafeBag."),a.errors=l,a;var m={type:h.derToOid(k.bagId),attributes:f(k.bagAttributes)};d.push(m);var p=k.bagValue.value[0];switch(m.type){case n.oids.pkcs8ShroudedKeyBag:if(p=n.decryptPrivateKeyInfo(p,c),null===p)throw Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case n.oids.keyBag:try{m.key=n.privateKeyFromAsn1(p)}catch(U){m.key=null,m.asn1=p}continue;case n.oids.certBag:var q=
w;var u=function(){if(h.derToOid(k.certId)!==n.oids.x509Certificate){var a=Error("Unsupported certificate type, only X.509 supported.");a.oid=h.derToOid(k.certId);throw a;}a=h.fromDer(k.cert,b);try{m.cert=n.certificateFromAsn1(a,!0)}catch(qq){m.cert=null,m.asn1=a}};break;default:throw a=Error("Unsupported PKCS#12 SafeBag type."),a.oid=m.type,a;}if(void 0!==q&&!h.validate(p,q,k,l))throw a=Error("Cannot read PKCS#12 "+q.name),a.errors=l,a;u()}return d}function f(a){var b={};if(void 0!==a)for(var c=
0;c<a.length;++c){var d={},e=[];if(!h.validate(a[c],q,d,e))throw a=Error("Cannot read PKCS#12 BagAttribute."),a.errors=e,a;e=h.derToOid(d.oid);if(void 0!==n.oids[e]){b[n.oids[e]]=[];for(var f=0;f<d.values.length;++f)b[n.oids[e]].push(d.values[f].value)}}return b}var h=k.asn1,n=k.pki,l=a.exports=k.pkcs12=k.pkcs12||{},m={name:"ContentInfo",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"contentType"},
{name:"ContentInfo.content",tagClass:h.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},p={name:"PFX",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:h.Class.UNIVERSAL,type:h.Type.INTEGER,constructed:!1,capture:"version"},m,{name:"PFX.macData",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",
tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:h.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:h.Class.UNIVERSAL,type:h.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:h.Class.UNIVERSAL,type:h.Type.OCTETSTRING,
constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:h.Class.UNIVERSAL,type:h.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},r={name:"SafeBag",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:h.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:h.Class.UNIVERSAL,
type:h.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},q={name:"Attribute",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:h.Class.UNIVERSAL,type:h.Type.SET,constructed:!0,capture:"values"}]},w={name:"CertBag",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:h.Class.UNIVERSAL,
type:h.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:h.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:h.Class.UNIVERSAL,type:h.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};l.pkcs12FromAsn1=function(a,e,f){"string"===typeof e?(f=e,e=!0):void 0===e&&(e=!0);var m={};if(!h.validate(a,p,m,[]))throw e=Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX."),e.errors=e,e;var r={version:m.version.charCodeAt(0),safeContents:[],
getBags:function(a){var c={},d;"localKeyId"in a?d=a.localKeyId:"localKeyIdHex"in a&&(d=k.util.hexToBytes(a.localKeyIdHex));void 0===d&&!("friendlyName"in a)&&"bagType"in a&&(c[a.bagType]=b(r.safeContents,null,null,a.bagType));void 0!==d&&(c.localKeyId=b(r.safeContents,"localKeyId",d,a.bagType));"friendlyName"in a&&(c.friendlyName=b(r.safeContents,"friendlyName",a.friendlyName,a.bagType));return c},getBagsByFriendlyName:function(a,c){return b(r.safeContents,"friendlyName",a,c)},getBagsByLocalKeyId:;if(3!==m.version.charCodeAt(0))throw e=Error("PKCS#12 PFX of version other than 3 not supported."),e.version=m.version.charCodeAt(0),e;if(h.derToOid(m.contentType)!==n.oids.data)throw e=Error("Only PKCS#12 PFX in password integrity mode supported."),e.oid=h.derToOid(m.contentType),e;a=m.content.value[0];if(a.tagClass!==h.Class.UNIVERSAL||a.type!==h.Type.OCTETSTRING)throw Error("PKCS#12 authSafe content data is not an OCTET STRING.");a=c(a);if(m.mac){var q=
null,u=0,w=h.derToOid(m.macAlgorithm);switch(w){case n.oids.sha1:q=k.md.sha1.create();u=20;break;case n.oids.sha256:q=k.md.sha256.create();u=32;break;case n.oids.sha384:q=k.md.sha384.create();u=48;break;case n.oids.sha512:q=k.md.sha512.create();u=64;break;case n.oids.md5:q=k.md.md5.create(),u=16}if(null===q)throw Error("PKCS#12 uses unsupported MAC algorithm: "+w);w=new k.util.ByteBuffer(m.macSalt);var A="macIterations"in m?parseInt(k.util.bytesToHex(m.macIterations),16):1;u=l.generateKey(f,w,3,A,
u,q);w=k.hmac.create();w.start(q,u);w.update(a.value);if(w.getMac().getBytes()!==m.macDigest)throw Error("PKCS#12 MAC could not be verified. Invalid password?");}d(r,a.value,e,f);return r};l.toPkcs12Asn1=function(a,b,c,d){d=d||{};d.saltSize=d.saltSize||8;d.count=d.count||2048;d.algorithm=d.algorithm||d.encAlgorithm||"aes128";"useMac"in d||(d.useMac=!0);"localKeyId"in d||(d.localKeyId=null);"generateLocalKeyId"in d||(d.generateLocalKeyId=!0);var e=d.localKeyId,f;if(null!==e)e=k.util.hexToBytes(e);
else if(d.generateLocalKeyId)if(b){var m=k.util.isArray(b)?b[0]:b;"string"===typeof m&&(m=n.certificateFromPem(m));e=k.md.sha1.create();e.update(h.toDer(n.certificateToAsn1(m)).getBytes());e=e.digest().getBytes()}else e=k.random.getBytes(20);m=[];null!==e&&m.push(h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.oids.localKeyId).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SET,!0,[h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,e)])]));"friendlyName"in
d&&m.push(h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.oids.friendlyName).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SET,!0,[h.create(h.Class.UNIVERSAL,h.Type.BMPSTRING,!1,d.friendlyName)])]));0<m.length&&(f=h.create(h.Class.UNIVERSAL,h.Type.SET,!0,m));e=[];m=[];null!==b&&(m=k.util.isArray(b)?b:[b]);for(var p=[],r=0;r<m.length;++r){b=m[r];"string"===typeof b&&(b=n.certificateFromPem(b));var q=0===r?f:void 0;b=n.certificateToAsn1(b);b=h.create(h.Class.UNIVERSAL,
h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.oids.certBag).getBytes()),h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.oids.x509Certificate).getBytes()),h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,h.toDer(b).getBytes())])])]),q]);p.push(b)}0<p.length&&(b=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,p),b=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,
!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.oids.data).getBytes()),h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,h.toDer(b).getBytes())])]),e.push(b));null!==a&&(a=n.wrapRsaPrivateKey(n.privateKeyToAsn1(a)),a=null===c?h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.oids.keyBag).getBytes()),h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[a]),f]):h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,
h.Type.OID,!1,h.oidToDer(n.oids.pkcs8ShroudedKeyBag).getBytes()),h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[n.encryptPrivateKeyInfo(a,c,d)]),f]),a=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[a]),a=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.oids.data).getBytes()),h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,h.toDer(a).getBytes())])]),e.push(a));f=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,e);if(d.useMac){e=
k.md.sha1.create();var u=new k.util.ByteBuffer(k.random.getBytes(d.saltSize));d=d.count;a=l.generateKey(c,u,3,d,20);c=k.hmac.create();c.start(e,a);c.update(h.toDer(f).getBytes());c=c.getMac();u=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.oids.sha1).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.NULL,!1,"")]),h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,
!1,c.getBytes())]),h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,u.getBytes()),h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(d).getBytes())])}return h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(3).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.oids.data).getBytes()),h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,
h.toDer(f).getBytes())])]),u])};l.generateKey=k.pbe.generatePkcs12Key});E(function(a){var b=k.asn1,c=a.exports=k.pki=k.pki||{};c.pemToDer=function(a){a=k.pem.decode(a)[0];if(a.procType&&"ENCRYPTED"===a.procType.type)throw Error("Could not convert PEM to DER; PEM is encrypted.");return k.util.createBuffer(a.body)};c.privateKeyFromPem=function(a){a=k.pem.decode(a)[0];if("PRIVATE KEY"!==a.type&&"RSA PRIVATE KEY"!==a.type){var d=Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');
d.headerType=a.type;throw d;}if(a.procType&&"ENCRYPTED"===a.procType.type)throw Error("Could not convert private key from PEM; PEM is encrypted.");a=b.fromDer(a.body);return c.privateKeyFromAsn1(a)};c.privateKeyToPem=function(a,e){a={type:"RSA PRIVATE KEY",body:b.toDer(c.privateKeyToAsn1(a)).getBytes()};return k.pem.encode(a,{maxline:e})};c.privateKeyInfoToPem=function(a,c){a={type:"PRIVATE KEY",body:b.toDer(a).getBytes()};return k.pem.encode(a,{maxline:c})}});var fd=function(a,b,c,d){var e=k.util.createBuffer(),
f=a.length>>1,h=f+(a.length&1),n=a.substr(0,h);h=a.substr(f,h);a=k.util.createBuffer();f=k.hmac.create();c=b+c;var l=Math.ceil(d/16);b=Math.ceil(d/20);f.start("MD5",n);n=k.util.createBuffer();a.putBytes(c);for(var m=0;m<l;++m)f.start(null,null),f.update(a.getBytes()),a.putBuffer(f.digest()),f.start(null,null),f.update(a.bytes()+c),n.putBuffer(f.digest());f.start("SHA1",h);h=k.util.createBuffer();a.clear();a.putBytes(c);for(m=0;m<b;++m)f.start(null,null),f.update(a.getBytes()),a.putBuffer(f.digest()),
f.start(null,null),f.update(a.bytes()+c),h.putBuffer(f.digest());e.putBytes(k.util.xorBytes(n.getBytes(),h.getBytes(),d));return e},Wp=function(a,b,c){c=!1;try{var d=a.deflate(b.fragment.getBytes());b.fragment=k.util.createBuffer(d);b.length=d.length;c=!0}catch(e){}return c},Xp=function(a,b,c){c=!1;try{var d=a.inflate(b.fragment.getBytes());b.fragment=k.util.createBuffer(d);b.length=d.length;c=!0}catch(e){}return c},Na=Ua=function(a,b,c){a.putInt(c.length(),b<<3);a.putBuffer(c)},q={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};q.SupportedVersions=[q.Versions.TLS_1_1,q.Versions.TLS_1_0];q.Version=q.SupportedVersions[0];q.MaxFragment=15360;q.ConnectionEnd={server:0,client:1};q.PRFAlgorithm={tls_prf_sha256:0};q.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};q.CipherType=
{stream:0,block:1,aead:2};q.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};q.CompressionMethod={none:0,deflate:1};q.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};q.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};q.Alert={};q.Alert.Level={warning:1,fatal:2};q.Alert.Description=
{close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};q.HeartbeatMessageType={heartbeat_request:1,
heartbeat_response:2};q.CipherSuites={};q.getCipherSuite=function(a){var b=null,c;for(c in q.CipherSuites){var d=q.CipherSuites[c];if(d.id[0]===a.charCodeAt(0)&&d.id[1]===a.charCodeAt(1)){b=d;break}}return b};q.handleUnexpected=function(a,b){(a.open||a.entity!==q.ConnectionEnd.client)&&a.error(a,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.unexpected_message}})};q.handleHelloRequest=function(a,b,c){!a.handshaking&&
0<a.handshakes&&(q.queue(a,q.createAlert(a,{level:q.Alert.Level.warning,description:q.Alert.Description.no_renegotiation})),q.flush(a));a.process()};q.parseHelloMessage=function(a,b,c){var d=null,e=a.entity===q.ConnectionEnd.client;if(38>c)a.error(a,{message:e?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.illegal_parameter}});else{b=b.fragment;var f=b.length();d={version:{major:b.getByte(),
minor:b.getByte()},random:k.util.createBuffer(b.getBytes(32)),session_id:Na(b,1),extensions:[]};e?(d.cipher_suite=b.getBytes(2),d.compression_method=b.getByte()):(d.cipher_suites=Na(b,2),d.compression_methods=Na(b,1));f=c-(f-b.length());if(0<f){for(c=Na(b,2);0<c.length();)d.extensions.push({type:[c.getByte(),c.getByte()],data:Na(c,2)});if(!e)for(c=0;c<d.extensions.length;++c)if(b=d.extensions[c],0===b.type[0]&&0===b.type[1])for(b=Na(b.data,2);0<b.length()&&0===b.getByte();)a.session.extensions.server_name.serverNameList.push(Na(b,
2).getBytes())}if(a.session.version&&(d.version.major!==a.session.version.major||d.version.minor!==a.session.version.minor))return a.error(a,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.protocol_version}});if(e)a.session.cipherSuite=q.getCipherSuite(d.cipher_suite);else for(c=k.util.createBuffer(d.cipher_suites.bytes());0<c.length()&&(a.session.cipherSuite=q.getCipherSuite(c.getBytes(2)),null===a.session.cipherSuite););
if(null===a.session.cipherSuite)return a.error(a,{message:"No cipher suites in common.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.handshake_failure},cipherSuite:k.util.bytesToHex(d.cipher_suite)});a.session.compressionMethod=e?d.compression_method:q.CompressionMethod.none}return d};q.createSecurityParameters=function(a,b){var c=a.entity===q.ConnectionEnd.client,d=b.random.bytes();b=c?a.session.sp.client_random:d;c=c?d:q.createRandom().getBytes();a.session.sp={entity:a.entity,
prf_algorithm:q.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:a.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:b,server_random:c}};q.handleServerHello=function(a,b,c){b=q.parseHelloMessage(a,b,c);if(!a.fail){if(b.version.minor<=a.version.minor)a.version.minor=b.version.minor;else return a.error(a,
{message:"Incompatible TLS version.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.protocol_version}});a.session.version=a.version;c=b.session_id.bytes();0<c.length&&c===a.session.id?(a.expect=jk,a.session.resuming=!0,a.session.sp.server_random=b.random.bytes()):(a.expect=Yp,a.session.resuming=!1,q.createSecurityParameters(a,b));a.session.id=c;a.process()}};q.handleClientHello=function(a,b,c){b=q.parseHelloMessage(a,b,c);if(!a.fail){var d=b.session_id.bytes();c=null;if(a.sessionCache)if(c=
a.sessionCache.getSession(d),null===c)d="";else if(c.version.major!==b.version.major||c.version.minor>b.version.minor)c=null,d="";0===d.length&&(d=k.random.getBytes(32));a.session.id=d;a.session.clientHelloVersion=b.version;a.session.sp={};if(c)a.version=a.session.version=c.version,a.session.sp=c.sp;else{for(d=1;d<q.SupportedVersions.length;++d){var e=q.SupportedVersions[d];if(e.minor<=b.version.minor)break}a.version={major:e.major,minor:e.minor};a.session.version=a.version}null!==c?(a.expect=$f,
a.session.resuming=!0,a.session.sp.client_random=b.random.bytes()):(a.expect=!1!==a.verifyClient?Zp:ag,a.session.resuming=!1,q.createSecurityParameters(a,b));a.open=!0;q.queue(a,q.createRecord(a,{type:q.ContentType.handshake,data:q.createServerHello(a)}));a.session.resuming?(q.queue(a,q.createRecord(a,{type:q.ContentType.change_cipher_spec,data:q.createChangeCipherSpec()})),a.state.pending=q.createConnectionState(a),a.state.current.write=a.state.pending.write,q.queue(a,q.createRecord(a,{type:q.ContentType.handshake,
data:q.createFinished(a)}))):(q.queue(a,q.createRecord(a,{type:q.ContentType.handshake,data:q.createCertificate(a)})),a.fail||(q.queue(a,q.createRecord(a,{type:q.ContentType.handshake,data:q.createServerKeyExchange(a)})),!1!==a.verifyClient&&q.queue(a,q.createRecord(a,{type:q.ContentType.handshake,data:q.createCertificateRequest(a)})),q.queue(a,q.createRecord(a,{type:q.ContentType.handshake,data:q.createServerHelloDone(a)}))));q.flush(a);a.process()}};q.handleCertificate=function(a,b,c){if(3>c)return a.error(a,
{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.illegal_parameter}});c=Na(b.fragment,3);b=[];try{for(;0<c.length();){var d=Na(c,3);var e=k.asn1.fromDer(d);d=k.pki.certificateFromAsn1(e,!0);b.push(d)}}catch(f){return a.error(a,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.bad_certificate}})}d=a.entity===q.ConnectionEnd.client;!d&&!0!==a.verifyClient||
0!==b.length?0===b.length?a.expect=d?kk:ag:(d?a.session.serverCertificate=b[0]:a.session.clientCertificate=b[0],q.verifyCertificateChain(a,b)&&(a.expect=d?kk:ag)):a.error(a,{message:d?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.illegal_parameter}});a.process()};q.handleServerKeyExchange=function(a,b,c){if(0<c)return a.error(a,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:q.Alert.Level.fatal,
description:q.Alert.Description.unsupported_certificate}});a.expect=$p;a.process()};q.handleClientKeyExchange=function(a,b,c){if(48>c)return a.error(a,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.unsupported_certificate}});b=Na(b.fragment,2).getBytes();c=null;if(a.getPrivateKey)try{c=a.getPrivateKey(a,a.session.serverCertificate),c=k.pki.privateKeyFromPem(c)}catch(f){a.error(a,{message:"Could not get private key.",
cause:f,send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.internal_error}})}if(null===c)return a.error(a,{message:"No private key set.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.internal_error}});try{var d=a.session.sp;d.pre_master_secret=c.decrypt(b);var e=a.session.clientHelloVersion;if(e.major!==d.pre_master_secret.charCodeAt(0)||e.minor!==d.pre_master_secret.charCodeAt(1))throw Error("TLS version rollback attack detected.");}catch(f){d.pre_master_secret=
k.random.getBytes(48)}a.expect=$f;null!==a.session.clientCertificate&&(a.expect=aq);a.process()};q.handleCertificateRequest=function(a,b,c){if(3>c)return a.error(a,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.illegal_parameter}});b=b.fragment;b={certificate_types:Na(b,1),certificate_authorities:Na(b,2)};a.session.certificateRequest=b;a.expect=bq;a.process()};q.handleCertificateVerify=function(a,b,c){if(2>c)return a.error(a,
{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.illegal_parameter}});c=b.fragment;c.read-=4;b=c.bytes();c.read+=4;c=Na(c,2).getBytes();var d=k.util.createBuffer();d.putBuffer(a.session.md5.digest());d.putBuffer(a.session.sha1.digest());d=d.getBytes();try{if(!a.session.clientCertificate.publicKey.verify(d,c,"NONE"))throw Error("CertificateVerify signature does not match.");a.session.md5.update(b);a.session.sha1.update(b)}catch(e){return a.error(a,
{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.handshake_failure}})}a.expect=$f;a.process()};q.handleServerHelloDone=function(a,b,c){if(0<c)return a.error(a,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.record_overflow}});if(null===a.serverCertificate&&(b={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:q.Alert.Level.fatal,
description:q.Alert.Description.insufficient_security}},c=a.verify(a,b.alert.description,0,[]),!0!==c)){if(c||0===c)"object"!==typeof c||k.util.isArray(c)?"number"===typeof c&&(b.alert.description=c):(c.message&&(b.message=c.message),c.alert&&(b.alert.description=c.alert));return a.error(a,b)}null!==a.session.certificateRequest&&(b=q.createRecord(a,{type:q.ContentType.handshake,data:q.createCertificate(a)}),q.queue(a,b));b=q.createRecord(a,{type:q.ContentType.handshake,data:q.createClientKeyExchange(a)});
q.queue(a,b);a.expect=cq;b=function(a,b){null!==a.session.certificateRequest&&null!==a.session.clientCertificate&&q.queue(a,q.createRecord(a,{type:q.ContentType.handshake,data:q.createCertificateVerify(a,b)}));q.queue(a,q.createRecord(a,{type:q.ContentType.change_cipher_spec,data:q.createChangeCipherSpec()}));a.state.pending=q.createConnectionState(a);a.state.current.write=a.state.pending.write;q.queue(a,q.createRecord(a,{type:q.ContentType.handshake,data:q.createFinished(a)}));a.expect=jk;q.flush(a);
a.process()};if(null===a.session.certificateRequest||null===a.session.clientCertificate)return b(a,null);q.getClientSignature(a,b)};q.handleChangeCipherSpec=function(a,b){if(1!==b.fragment.getByte())return a.error(a,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.illegal_parameter}});b=a.entity===q.ConnectionEnd.client;if(a.session.resuming&&b||!a.session.resuming&&!b)a.state.pending=q.createConnectionState(a);a.state.current.read=
a.state.pending.read;if(!a.session.resuming&&b||a.session.resuming&&!b)a.state.pending=null;a.expect=b?dq:eq;a.process()};q.handleFinished=function(a,b,c){c=b.fragment;c.read-=4;var d=c.bytes();c.read+=4;b=b.fragment.getBytes();c=k.util.createBuffer();c.putBuffer(a.session.md5.digest());c.putBuffer(a.session.sha1.digest());var e=a.entity===q.ConnectionEnd.client;c=fd(a.session.sp.master_secret,e?"server finished":"client finished",c.getBytes(),12);if(c.getBytes()!==b)return a.error(a,{message:"Invalid verify_data in Finished message.",
send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.decrypt_error}});a.session.md5.update(d);a.session.sha1.update(d);if(a.session.resuming&&e||!a.session.resuming&&!e)q.queue(a,q.createRecord(a,{type:q.ContentType.change_cipher_spec,data:q.createChangeCipherSpec()})),a.state.current.write=a.state.pending.write,a.state.pending=null,q.queue(a,q.createRecord(a,{type:q.ContentType.handshake,data:q.createFinished(a)}));a.expect=e?fq:gq;a.handshaking=!1;++a.handshakes;a.peerCertificate=
e?a.session.serverCertificate:a.session.clientCertificate;q.flush(a);a.isConnected=!0;a.connected(a);a.process()};q.handleAlert=function(a,b){b=b.fragment;b={level:b.getByte(),description:b.getByte()};switch(b.description){case q.Alert.Description.close_notify:var c="Connection closed.";break;case q.Alert.Description.unexpected_message:c="Unexpected message.";break;case q.Alert.Description.bad_record_mac:c="Bad record MAC.";break;case q.Alert.Description.decryption_failed:c="Decryption failed.";break;
case q.Alert.Description.record_overflow:c="Record overflow.";break;case q.Alert.Description.decompression_failure:c="Decompression failed.";break;case q.Alert.Description.handshake_failure:c="Handshake failure.";break;case q.Alert.Description.bad_certificate:c="Bad certificate.";break;case q.Alert.Description.unsupported_certificate:c="Unsupported certificate.";break;case q.Alert.Description.certificate_revoked:c="Certificate revoked.";break;case q.Alert.Description.certificate_expired:c="Certificate expired.";
break;case q.Alert.Description.certificate_unknown:c="Certificate unknown.";break;case q.Alert.Description.illegal_parameter:c="Illegal parameter.";break;case q.Alert.Description.unknown_ca:c="Unknown certificate authority.";break;case q.Alert.Description.access_denied:c="Access denied.";break;case q.Alert.Description.decode_error:c="Decode error.";break;case q.Alert.Description.decrypt_error:c="Decrypt error.";break;case q.Alert.Description.export_restriction:c="Export restriction.";break;case q.Alert.Description.protocol_version:c=
"Unsupported protocol version.";break;case q.Alert.Description.insufficient_security:c="Insufficient security.";break;case q.Alert.Description.internal_error:c="Internal error.";break;case q.Alert.Description.user_canceled:c="User canceled.";break;case q.Alert.Description.no_renegotiation:c="Renegotiation not supported.";break;default:c="Unknown error."}if(b.description===q.Alert.Description.close_notify)return a.close();a.error(a,{message:c,send:!1,origin:a.entity===q.ConnectionEnd.client?"server":
"client",alert:b});a.process()};q.handleHandshake=function(a,b){var c=b.fragment,d=c.getByte(),e=c.getInt24();if(e>c.length())return a.fragmented=b,b.fragment=k.util.createBuffer(),c.read-=4,a.process();a.fragmented=null;c.read-=4;var f=c.bytes(e+4);c.read+=4;d in pe[a.entity][a.expect]?(a.entity!==q.ConnectionEnd.server||a.open||a.fail||(a.handshaking=!0,a.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,
md5:k.md.md5.create(),sha1:k.md.sha1.create()}),d!==q.HandshakeType.hello_request&&d!==q.HandshakeType.certificate_verify&&d!==q.HandshakeType.finished&&(a.session.md5.update(f),a.session.sha1.update(f)),pe[a.entity][a.expect][d](a,b,e)):q.handleUnexpected(a,b)};q.handleApplicationData=function(a,b){a.data.putBuffer(b.fragment);a.dataReady(a);a.process()};q.handleHeartbeat=function(a,b){var c=b.fragment;b=c.getByte();var d=c.getInt16();c=c.getBytes(d);if(b===q.HeartbeatMessageType.heartbeat_request){if(a.handshaking||
d>c.length)return a.process();q.queue(a,q.createRecord(a,{type:q.ContentType.heartbeat,data:q.createHeartbeat(q.HeartbeatMessageType.heartbeat_response,c)}));q.flush(a)}else if(b===q.HeartbeatMessageType.heartbeat_response){if(c!==a.expectedHeartbeatPayload)return a.process();a.heartbeatReceived&&a.heartbeatReceived(a,k.util.createBuffer(c))}a.process()};var Yp=1,kk=2,$p=3,bq=4,jk=5,dq=6,fq=7,cq=8,Zp=1,ag=2,aq=3,$f=4,eq=5,gq=6,p=q.handleUnexpected,lk=q.handleChangeCipherSpec,oa=q.handleAlert,Da=q.handleHandshake,
mk=q.handleApplicationData,pa=q.handleHeartbeat,bg=[];bg[q.ConnectionEnd.client]=[[p,oa,Da,p,pa],[p,oa,Da,p,pa],[p,oa,Da,p,pa],[p,oa,Da,p,pa],[p,oa,Da,p,pa],[lk,oa,p,p,pa],[p,oa,Da,p,pa],[p,oa,Da,mk,pa],[p,oa,Da,p,pa]];bg[q.ConnectionEnd.server]=[[p,oa,Da,p,pa],[p,oa,Da,p,pa],[p,oa,Da,p,pa],[p,oa,Da,p,pa],[lk,oa,p,p,pa],[p,oa,Da,p,pa],[p,oa,Da,mk,pa],[p,oa,Da,p,pa]];var Fb=q.handleHelloRequest,nk=q.handleCertificate,ok=q.handleServerKeyExchange,cg=q.handleCertificateRequest,qe=q.handleServerHelloDone,
pk=q.handleFinished,pe=[];pe[q.ConnectionEnd.client]=[[p,p,q.handleServerHello,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[Fb,p,p,p,p,p,p,p,p,p,p,nk,ok,cg,qe,p,p,p,p,p,p],[Fb,p,p,p,p,p,p,p,p,p,p,p,ok,cg,qe,p,p,p,p,p,p],[Fb,p,p,p,p,p,p,p,p,p,p,p,p,cg,qe,p,p,p,p,p,p],[Fb,p,p,p,p,p,p,p,p,p,p,p,p,p,qe,p,p,p,p,p,p],[Fb,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[Fb,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,pk],[Fb,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[Fb,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]];pe[q.ConnectionEnd.server]=
[[p,q.handleClientHello,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,nk,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,q.handleClientKeyExchange,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,q.handleCertificateVerify,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,pk],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]];q.generateKeys=function(a,b){var c=b.client_random+b.server_random;a.session.resuming||
(b.master_secret=fd(b.pre_master_secret,"master secret",c,48).bytes(),b.pre_master_secret=null);c=b.server_random+b.client_random;var d=2*b.mac_key_length+2*b.enc_key_length;(a=a.version.major===q.Versions.TLS_1_0.major&&a.version.minor===q.Versions.TLS_1_0.minor)&&(d+=2*b.fixed_iv_length);c=fd(b.master_secret,"key expansion",c,d);d={client_write_MAC_key:c.getBytes(b.mac_key_length),server_write_MAC_key:c.getBytes(b.mac_key_length),client_write_key:c.getBytes(b.enc_key_length),server_write_key:c.getBytes(b.enc_key_length)};
a&&(d.client_write_IV=c.getBytes(b.fixed_iv_length),d.server_write_IV=c.getBytes(b.fixed_iv_length));return d};q.createConnectionState=function(a){var b=a.entity===q.ConnectionEnd.client,c=d={read:c(),write:c()};d.read.update=function(a,b){d.read.cipherFunction(b,d.read)?d.read.compressFunction(a,b,d.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.bad_record_mac}});return!a.fail};d.write.update=function(a,b){d.write.compressFunction(a,b,d.write)?
d.write.cipherFunction(b,d.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.internal_error}});return!a.fail};if(a.session)switch(c=a.session.sp,a.session.cipherSuite.initSecurityParameters(c),c.keys=q.generateKeys(a,c),d.read.macKey=b?c.keys.server_write_MAC_key:c.keys.client_write_MAC_key,
d.write.macKey=b?c.keys.client_write_MAC_key:c.keys.server_write_MAC_key,a.session.cipherSuite.initConnectionState(d,a,c),c.compression_algorithm){case q.CompressionMethod.none:break;case q.CompressionMethod.deflate:d.read.compressFunction=Xp;d.write.compressFunction=Wp;break;default:throw Error("Unsupported compression algorithm.");}return d};q.createRandom=function(){var a=new Date;a=+a+6E4*a.getTimezoneOffset();var b=k.util.createBuffer();b.putInt32(a);b.putBytes(k.random.getBytes(28));return b};
q.createRecord=q.createAlert=function(a,b){var c=k.util.createBuffer();c.putByte(b.level);c.putByte(b.description);return q.createRecord(a,{type:q.ContentType.alert,data:c})};q.createClientHello=function(a){a.session.clientHelloVersion={major:a.version.major,minor:a.version.minor};for(var b=k.util.createBuffer(),c=0;c<a.cipherSuites.length;++c){var d=a.cipherSuites[c];
b.putByte(d.id[0]);b.putByte(d.id[1])}var e=b.length();c=k.util.createBuffer();c.putByte(q.CompressionMethod.none);var f=c.length();d=k.util.createBuffer();if(a.virtualHost){var h=k.util.createBuffer();h.putByte(0);h.putByte(0);var n=k.util.createBuffer();n.putByte(0);Ua(n,2,k.util.createBuffer(a.virtualHost));var l=k.util.createBuffer();Ua(l,2,n);Ua(h,2,l);d.putBuffer(h)}h=d.length();0<h&&(h+=2);n=a.session.id;e=n.length+1+2+4+28+2+e+1+f+h;f=k.util.createBuffer();f.putByte(q.HandshakeType.client_hello);
f.putInt24(e);f.putByte(a.version.major);f.putByte(a.version.minor);f.putBytes(a.session.sp.client_random);Ua(f,1,k.util.createBuffer(n));Ua(f,2,b);Ua(f,1,c);0<h&&Ua(f,2,d);return f};q.createServerHello=function(a){var b=a.session.id,c=b.length+1+2+4+28+2+1,d=k.util.createBuffer();d.putByte(q.HandshakeType.server_hello);d.putInt24(c);d.putByte(a.version.major);d.putByte(a.version.minor);d.putBytes(a.session.sp.server_random);Ua(d,1,k.util.createBuffer(b));d.putByte(a.session.cipherSuite.id[0]);d.putByte(a.session.cipherSuite.id[1]);
d.putByte(a.session.compressionMethod);return d};q.createCertificate=function(a){var b=a.entity===q.ConnectionEnd.client,c=null;a.getCertificate&&(c=a.getCertificate(a,b?a.session.certificateRequest:a.session.extensions.server_name.serverNameList));var d=k.util.createBuffer();if(null!==c)try{k.util.isArray(c)||(c=[c]);for(var e=null,f=0;f<c.length;++f){var h=k.pem.decode(c[f])[0];if("CERTIFICATE"!==h.type&&"X509 CERTIFICATE"!==h.type&&"TRUSTED CERTIFICATE"!==h.type){var n=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');
n.headerType=h.type;throw n;}if(h.procType&&"ENCRYPTED"===h.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");var l=k.util.createBuffer(h.body);null===e&&(e=k.asn1.fromDer(l.bytes(),!1));var m=k.util.createBuffer();Ua(m,3,l);d.putBuffer(m)}c=k.pki.certificateFromAsn1(e);b?a.session.clientCertificate=c:a.session.serverCertificate=c}catch(z){return a.error(a,{message:"Could not send certificate list.",cause:z,send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.bad_certificate}})}a=
3+d.length();b=k.util.createBuffer();b.putByte(q.HandshakeType.certificate);b.putInt24(a);Ua(b,3,d);return b};q.createClientKeyExchange=function(a){var b=k.util.createBuffer();b.putByte(a.session.clientHelloVersion.major);b.putByte(a.session.clientHelloVersion.minor);b.putBytes(k.random.getBytes(46));var c=a.session.sp;c.pre_master_secret=b.getBytes();b=a.session.serverCertificate.publicKey.encrypt(c.pre_master_secret);a=b.length+2;c=k.util.createBuffer();c.putByte(q.HandshakeType.client_key_exchange);
c.putInt24(a);c.putInt16(b.length);c.putBytes(b);return c};q.createServerKeyExchange=q.getClientSignature=function(a,b){var c=k.util.createBuffer();c.putBuffer(a.session.md5.digest());c.putBuffer(a.session.sha1.digest());c=c.getBytes();a.getSignature=a.getSignature||function(a,b,c){var d=null;if(a.getPrivateKey)try{d=a.getPrivateKey(a,a.session.clientCertificate),d=k.pki.privateKeyFromPem(d)}catch(n){a.error(a,{message:"Could not get private key.",cause:n,
send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.internal_error}})}null===d?a.error(a,{message:"No private key set.",send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.internal_error}}):b=d.sign(b,null);c(a,b)};a.getSignature(a,c,b)};q.createCertificateVerify=function(a,b){a=b.length+2;var c=k.util.createBuffer();c.putByte(q.HandshakeType.certificate_verify);c.putInt24(a);c.putInt16(b.length);c.putBytes(b);return c};q.createCertificateRequest=function(a){var b=
k.util.createBuffer();b.putByte(1);var c=k.util.createBuffer();for(e in a.caStore.certs){var d=k.pki.distinguishedNameToAsn1(a.caStore.certs[e].subject);d=k.asn1.toDer(d);c.putInt16(d.length());c.putBuffer(d)}a=1+b.length()+2+c.length();var e=k.util.createBuffer();e.putByte(q.HandshakeType.certificate_request);e.putInt24(a);Ua(e,1,b);Ua(e,2,c);return e};q.createServerHelloDone=function(a){a=k.util.createBuffer();a.putByte(q.HandshakeType.server_hello_done);a.putInt24(0);return a};q.createChangeCipherSpec=
function(){var a=k.util.createBuffer();a.putByte(1);return a};q.createFinished=function(a){var b=k.util.createBuffer();b.putBuffer(a.session.md5.digest());b.putBuffer(a.session.sha1.digest());b=fd(a.session.sp.master_secret,a.entity===q.ConnectionEnd.client?"client finished":"server finished",b.getBytes(),12);a=k.util.createBuffer();a.putByte(q.HandshakeType.finished);a.putInt24(b.length());a.putBuffer(b);return a};q.createHeartbeat=function(a,b,c){"undefined"===typeof c&&(c=b.length);var d=k.util.createBuffer();
d.putByte(a);d.putInt16(c);d.putBytes(b);a=d.length();d.putBytes(k.random.getBytes(Math.max(16,a-c-3)));return d};q.queue=function(a,b){if(b&&(0!==b.fragment.length()||b.type!==q.ContentType.handshake&&b.type!==q.ContentType.alert&&b.type!==q.ContentType.change_cipher_spec)){if(b.type===q.ContentType.handshake){var c=b.fragment.bytes();a.session.md5.update(c);a.session.sha1.update(c)}if(b.fragment.length()<=q.MaxFragment)c=[b];else{c=[];for(var d=b.fragment.bytes();d.length>q.MaxFragment;)c.push(q.createRecord(a,
{type:b.type,data:k.util.createBuffer(d.slice(0,q.MaxFragment))})),d=d.slice(q.MaxFragment);0<d.length&&c.push(q.createRecord(a,{type:b.type,data:k.util.createBuffer(d)}))}for(b=0;b<c.length&&!a.fail;++b)d=c[b],a.state.current.write.update(a,d)&&a.records.push(d)}};q.flush=function(a){for(var b=0;b<a.records.length;++b){var c=a.records[b];a.tlsData.putByte(c.type);a.tlsData.putByte(c.version.major);a.tlsData.putByte(c.version.minor);a.tlsData.putInt16(c.fragment.length());a.tlsData.putBuffer(a.records[b].fragment)}a.records=
[];return a.tlsDataReady(a)};var dg=function(a){switch(a){case !0:return!0;case k.pki.certificateError.bad_certificate:return q.Alert.Description.bad_certificate;case k.pki.certificateError.unsupported_certificate:return q.Alert.Description.unsupported_certificate;case k.pki.certificateError.certificate_revoked:return q.Alert.Description.certificate_revoked;case k.pki.certificateError.certificate_expired:return q.Alert.Description.certificate_expired;case k.pki.certificateError.certificate_unknown:return q.Alert.Description.certificate_unknown;
case k.pki.certificateError.unknown_ca:return q.Alert.Description.unknown_ca;default:return q.Alert.Description.bad_certificate}},hq=q.verifyCertificateChain=function(a,b){try{var c={},d;for(d in a.verifyOptions)c[d]=a.verifyOptions[d];c.verify=function(b,c,d){dg(b);c=a.verify(a,b,c,d);if(!0!==c){if("object"===typeof c&&!k.util.isArray(c))throw b=Error("The application rejected the certificate."),b.send=
!0,b.alert={level:q.Alert.Level.fatal,description:q.Alert.Description.bad_certificate},c.message&&(b.message=c.message),c.alert&&(b.alert.description=c.alert),b;c!==b&&(c=hq(c))}return c};k.pki.verifyCertificateChain(a.caStore,b,c)}catch(e){b=e;if("object"!==typeof b||k.util.isArray(b))b={send:!0,alert:{level:q.Alert.Level.fatal,description:dg(e)}};"send"in b||(b.send=!0);"alert"in b||(b.alert={level:q.Alert.Level.fatal,description:dg(b.error)});a.error(a,b)}return!a.fail};q.createSessionCache=function(a,
b){var c=null;if(a&&a.getSession&&a.setSession&&a.order)c=a;else{c={};c.cache=a||{};c.capacity=Math.max(b||100,1);c.order=[];for(var d in a)c.order.length<=b?c.order.push(d):delete a[d];c.getSession=function(a){var b=null,d=null;a?d=k.util.bytesToHex(a):0<c.order.length&&(d=c.order[0]);if(null!==d&&d in c.cache){b=c.cache[d];delete c.cache[d];for(var e in c.order)if(c.order[e]===d){c.order.splice(e,1);break}}return b};c.setSession=function(a,b){if(c.order.length===c.capacity){var d=c.order.shift();
delete c.cache[d]}d=k.util.bytesToHex(a);c.order.push(d);c.cache[d]=b}}return c};q.createConnection=function(a){var b=null;b=a.caStore?k.util.isArray(a.caStore)?k.pki.createCaStore(a.caStore):a.caStore:k.pki.createCaStore();var c=a.cipherSuites||null;if(null===c){c=[];for(var d in q.CipherSuites)c.push(q.CipherSuites[d])}d=a.server?q.ConnectionEnd.server:q.ConnectionEnd.client;var e=a.sessionCache?q.createSessionCache(a.sessionCache):null,f={version:{major:q.Version.major,minor:q.Version.minor},entity:d,
sessionId:a.sessionId,caStore:b,sessionCache:e,cipherSuites:c,connected:a.connected,virtualHost:a.virtualHost||null,verifyClient:a.verifyClient||!1,verify:a.verify||verifyOptions:a.verifyOptions||{},getCertificate:a.getCertificate||null,getPrivateKey:a.getPrivateKey||null,getSignature:a.getSignature||null,input:k.util.createBuffer(),tlsData:k.util.createBuffer(),data:k.util.createBuffer(),tlsDataReady:a.tlsDataReady,dataReady:a.dataReady,heartbeatReceived:a.heartbeatReceived,
closed:a.closed,error:function(b,c){c.origin=c.origin||(b.entity===q.ConnectionEnd.client?"client":"server");c.send&&(q.queue(b,q.createAlert(b,c.alert)),q.flush(b));var d=!1!==c.fatal;d&&(b.fail=!0);a.error(b,c);d&&b.close(!1)},deflate:a.deflate||null,inflate:a.inflate||null,reset:function(a){f.version={major:q.Version.major,minor:q.Version.minor};f.record=null;f.session=null;f.peerCertificate=null;f.state={pending:null,current:null};f.expect=0;f.fragmented=null;f.records=[];f.open=!1;f.handshakes=
0;f.handshaking=!1;f.isConnected=!1;f.fail=!(a||"undefined"===typeof a);f.input.clear();f.tlsData.clear();f.data.clear();f.state.current=q.createConnectionState(f)}};f.reset();f.handshake=function(a){if(f.entity!==q.ConnectionEnd.client)f.error(f,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(f.handshaking)f.error(f,{message:"Handshake already in progress.",fatal:!1});else{f.fail&&!f.open&&0===f.handshakes&&(f.fail=!1);f.handshaking=!0;a=a||"";var b=null;0<a.length&&(f.sessionCache&&
(b=f.sessionCache.getSession(a)),null===b&&(a=""));0===a.length&&f.sessionCache&&(b=f.sessionCache.getSession(),null!==b&&(a=b.id));f.session={id:a,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:k.md.md5.create(),sha1:k.md.sha1.create()};b&&(f.version=b.version,f.session.sp=b.sp);f.session.sp.client_random=q.createRandom().getBytes();f.open=!0;q.queue(f,q.createRecord(f,{type:q.ContentType.handshake,data:q.createClientHello(f)}));
q.flush(f)}};f.process=function(a){var b=0;a&&f.input.putBytes(a);if(!f.fail){null!==f.record&&f.record.ready&&f.record.fragment.isEmpty()&&(f.record=null);if(null===f.record){b=0;a=f.input;var c=a.length();5>c?b=5-c:(f.record={type:a.getByte(),version:{major:a.getByte(),minor:a.getByte()},length:a.getInt16(),fragment:k.util.createBuffer(),ready:!1},(a=f.record.version.major===f.version.major)&&f.session&&f.session.version&&(a=f.record.version.minor===f.version.minor),a||f.error(f,{message:"Incompatible TLS version.",
send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.protocol_version}}))}if(!f.fail&&null!==f.record&&!f.record.ready){b=f;a=0;c=b.input;var d=c.length();d<b.record.length?a=b.record.length-d:(b.record.fragment.putBytes(c.getBytes(b.record.length)),c.compact(),b.state.current.read.update(b,b.record)&&(null!==b.fragmented&&(b.fragmented.type===b.record.type?(b.fragmented.fragment.putBuffer(b.record.fragment),b.record=b.fragmented):b.error(b,{message:"Invalid fragmented record.",
send:!0,alert:{level:q.Alert.Level.fatal,description:q.Alert.Description.unexpected_message}})),b.record.ready=!0));b=a}if(!f.fail&&null!==f.record&&f.record.ready)if(a=f.record,c=a.type-q.ContentType.change_cipher_spec,d=bg[f.entity][f.expect],c in d)d[c](f,a);else q.handleUnexpected(f,a)}return b};f.prepare=function(a){q.queue(f,q.createRecord(f,{type:q.ContentType.application_data,data:k.util.createBuffer(a)}));return q.flush(f)};f.prepareHeartbeatRequest=function(a,b){a instanceof k.util.ByteBuffer&&
(a=a.bytes());"undefined"===typeof b&&(b=a.length);f.expectedHeartbeatPayload=a;q.queue(f,q.createRecord(f,{type:q.ContentType.heartbeat,data:q.createHeartbeat(q.HeartbeatMessageType.heartbeat_request,a,b)}));return q.flush(f)};f.close=function(a){if(!f.fail&&f.sessionCache&&f.session){var b={id:f.session.id,version:f.session.version,sp:f.session.sp};b.sp.keys=null;f.sessionCache.setSession(b.id,b)}if(f.open){f.open=!1;f.input.clear();if(f.isConnected||f.handshaking)f.isConnected=f.handshaking=!1,
q.queue(f,q.createAlert(f,{level:q.Alert.Level.warning,description:q.Alert.Description.close_notify})),q.flush(f);f.closed(f)}f.reset(a)};return f};k.tls=k.tls||{};for(var eg in q)"function"!==typeof q[eg]&&(k.tls[eg]=q[eg]);k.tls.prf_tls1=fd;k.tls.hmac_sha1=function(a,b,c){var d=k.hmac.create();d.start("SHA1",a);a=k.util.createBuffer();a.putInt32(b[0]);a.putInt32(b[1]);a.putByte(c.type);a.putByte(c.version.major);a.putByte(c.version.minor);a.putInt16(c.length);a.putBytes(c.fragment.bytes());d.update(a.getBytes());
return d.digest().getBytes()};k.tls.createSessionCache=q.createSessionCache;k.tls.createConnection=q.createConnection;E(function(a){function b(a,b,d){b=b.entity===k.tls.ConnectionEnd.client;a.read.cipherState={init:!1,cipher:k.cipher.createDecipher("AES-CBC",b?d.keys.server_write_key:d.keys.client_write_key),iv:b?d.keys.server_write_IV:d.keys.client_write_IV};a.write.cipherState={init:!1,cipher:k.cipher.createCipher("AES-CBC",b?d.keys.client_write_key:d.keys.server_write_key),iv:b?d.keys.client_write_IV:
d.keys.server_write_IV};a.read.cipherFunction=f;a.write.cipherFunction=c;a.read.macLength=a.write.macLength=d.mac_length;a.read.macFunction=a.write.macFunction=h.hmac_sha1}function c(a,b){var c=!1,e=b.macFunction(b.macKey,b.sequenceNumber,a);a.fragment.putBytes(e);b.updateSequenceNumber();e=a.version.minor===h.Versions.TLS_1_0.minor?b.cipherState.init?null:b.cipherState.iv:k.random.getBytesSync(16);b.cipherState.init=!0;b=b.cipherState.cipher;b.start({iv:e});a.version.minor>=h.Versions.TLS_1_1.minor&&
b.output.putBytes(e);b.update(a.fragment);b.finish(d)&&(a.fragment=b.output,a.length=a.fragment.length(),c=!0);return c}function d(a,b,c){c||(a-=b.length()%a,b.fillWithByte(a-1,a));return!0}function e(a,b,c){a=!0;if(c){c=b.length();for(var d=b.last(),e=c-1-d;e<c-1;++e)a=a&&b.at(e)==d;a&&b.truncate(d+1)}return a}function f(a,b){var c=a.version.minor===h.Versions.TLS_1_0.minor?b.cipherState.init?null:b.cipherState.iv:a.fragment.getBytes(16);b.cipherState.init=!0;var d=b.cipherState.cipher;d.start({iv:c});
d.update(a.fragment);c=d.finish(e);var f=b.macLength,l=k.random.getBytesSync(f),n=d.output.length();n>=f?(a.fragment=d.output.getBytes(n-f),l=d.output.getBytes(f)):a.fragment=d.output.getBytes();a.fragment=k.util.createBuffer(a.fragment);a.length=a.fragment.length();a=b.macFunction(b.macKey,b.sequenceNumber,a);b.updateSequenceNumber();b=b.macKey;d=k.hmac.create();d.start("SHA1",b);d.update(l);l=d.digest().getBytes();d.start(null,null);d.update(a);a=d.digest().getBytes();return l===a&&c}var h=a.exports=
k.tls;h.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(a){a.bulk_cipher_algorithm=h.BulkCipherAlgorithm.aes;a.cipher_type=h.CipherType.block;a.enc_key_length=16;a.block_length=16;a.fixed_iv_length=16;a.record_iv_length=16;a.mac_algorithm=h.MACAlgorithm.hmac_sha1;a.mac_length=20;a.mac_key_length=20},initConnectionState:b};h.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(a){a.bulk_cipher_algorithm=
h.BulkCipherAlgorithm.aes;a.cipher_type=h.CipherType.block;a.enc_key_length=32;a.block_length=16;a.fixed_iv_length=16;a.record_iv_length=16;a.mac_algorithm=h.MACAlgorithm.hmac_sha1;a.mac_length=20;a.mac_key_length=20},initConnectionState:b}});E(function(a){function b(a,b,c){for(var d,e,h,k,l,m,n,p,q,t,v,x,y,B,C,D,E,F,I,J,H,L,V,W,P,ia=c.length();128<=ia;){for(P=0;16>P;++P)b[P][0]=c.getInt32()>>>0,b[P][1]=c.getInt32()>>>0;for(;80>P;++P)l=b[P-2],q=l[0],l=l[1],d=((q>>>19|l<<13)^(l>>>29|q<<3)^q>>>6)>>>
0,e=((q<<13|l>>>19)^(l<<3|q>>>29)^(q<<26|l>>>6))>>>0,l=b[P-15],q=l[0],l=l[1],h=((q>>>1|l<<31)^(q>>>8|l<<24)^q>>>7)>>>0,k=((q<<31|l>>>1)^(q<<24|l>>>8)^(q<<25|l>>>7))>>>0,q=b[P-7],t=b[P-16],l=e+q[1]+k+t[1],b[P][0]=d+q[0]+h+t[0]+(l/4294967296>>>0)>>>0,b[P][1]=l>>>0;q=a[0][0];t=a[0][1];v=a[1][0];x=a[1][1];y=a[2][0];B=a[2][1];C=a[3][0];D=a[3][1];E=a[4][0];F=a[4][1];I=a[5][0];J=a[5][1];H=a[6][0];L=a[6][1];V=a[7][0];W=a[7][1];for(P=0;80>P;++P)d=((E>>>14|F<<18)^(E>>>18|F<<14)^(F>>>9|E<<23))>>>0,l=((E<<18|
F>>>14)^(E<<14|F>>>18)^(F<<23|E>>>9))>>>0,e=(H^E&(I^H))>>>0,m=(L^F&(J^L))>>>0,h=((q>>>28|t<<4)^(t>>>2|q<<30)^(t>>>7|q<<25))>>>0,k=((q<<4|t>>>28)^(t<<30|q>>>2)^(t<<25|q>>>7))>>>0,n=(q&v|y&(q^v))>>>0,p=(t&x|B&(t^x))>>>0,l=W+l+m+f[P][1]+b[P][1],d=V+d+e+f[P][0]+b[P][0]+(l/4294967296>>>0)>>>0,e=l>>>0,l=k+p,h=h+n+(l/4294967296>>>0)>>>0,k=l>>>0,V=H,W=L,H=I,L=J,I=E,J=F,l=D+e,E=C+d+(l/4294967296>>>0)>>>0,F=l>>>0,C=y,D=B,y=v,B=x,v=q,x=t,l=e+k,q=d+h+(l/4294967296>>>0)>>>0,t=l>>>0;l=a[0][1]+t;a[0][0]=a[0][0]+
q+(l/4294967296>>>0)>>>0;a[0][1]=l>>>0;l=a[1][1]+x;a[1][0]=a[1][0]+v+(l/4294967296>>>0)>>>0;a[1][1]=l>>>0;l=a[2][1]+B;a[2][0]=a[2][0]+y+(l/4294967296>>>0)>>>0;a[2][1]=l>>>0;l=a[3][1]+D;a[3][0]=a[3][0]+C+(l/4294967296>>>0)>>>0;a[3][1]=l>>>0;l=a[4][1]+F;a[4][0]=a[4][0]+E+(l/4294967296>>>0)>>>0;a[4][1]=l>>>0;l=a[5][1]+J;a[5][0]=a[5][0]+I+(l/4294967296>>>0)>>>0;a[5][1]=l>>>0;l=a[6][1]+L;a[6][0]=a[6][0]+H+(l/4294967296>>>0)>>>0;a[6][1]=l>>>0;l=a[7][1]+W;a[7][0]=a[7][0]+V+(l/4294967296>>>0)>>>0;a[7][1]=
l>>>0;ia-=128}}var c=a.exports=k.sha512=k.sha512||{};k.md.sha512=k.md.algorithms.sha512=c;a=k.sha384=k.sha512.sha384=k.sha512.sha384||{};a.create=function(){return c.create("SHA-384")};k.md.sha384=k.md.algorithms.sha384=a;k.sha512.sha256=k.sha512.sha256||{create:function(){return c.create("SHA-512/256")}};k.md["sha512/256"]=k.md.algorithms["sha512/256"]=k.sha512.sha256;k.sha512.sha224=k.sha512.sha224||{create:;k.md["sha512/224"]=k.md.algorithms["sha512/224"]=
k.sha512.sha224;c.create=function(a){e||(d=String.fromCharCode(128),d+=k.util.fillString(String.fromCharCode(0),128),f=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,
2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],
[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,
442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],h={"SHA-512":[[1779033703,
4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],"SHA-384":[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],"SHA-512/256":[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],
[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],"SHA-512/224":[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]]},e=!0);"undefined"===typeof a&&(a="SHA-512");if(!(a in h))throw Error("Invalid SHA-512 algorithm: "+a);for(var c=h[a],m=null,n=k.util.createBuffer(),p=Array(80),q=0;80>q;++q)p[q]=Array(2);q=64;switch(a){case "SHA-384":q=48;break;case "SHA-512/256":q=
32;break;case "SHA-512/224":q=28}var w={algorithm:a.replace("-","").toLowerCase(),blockLength:128,digestLength:q,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){w.messageLength=0;w.fullMessageLength=w.messageLength128=[];for(var a=w.messageLengthSize/4,b=0;b<a;++b)w.fullMessageLength.push(0);n=k.util.createBuffer();m=Array(c.length);for(b=0;b<c.length;++b)m[b]=c[b].slice(0);return w}};w.start();w.update=function(a,c){"utf8"===c&&(a=k.util.encodeUtf8(a));c=a.length;w.messageLength+=
c;c=[c/4294967296>>>0,c>>>0];for(var d=w.fullMessageLength.length-1;0<=d;--d)w.fullMessageLength[d]+=c[1],c[1]=c[0]+(w.fullMessageLength[d]/4294967296>>>0),w.fullMessageLength[d]>>>=0,c[0]=c[1]/4294967296>>>0;n.putBytes(a);b(m,p,n);(2048<n.read||0===n.length())&&n.compact();return w};w.digest=function(){var c=k.util.createBuffer();c.putBytes(n.bytes());c.putBytes(d.substr(0,w.blockLength-(w.fullMessageLength[w.fullMessageLength.length-1]+w.messageLengthSize&w.blockLength-1)));for(var e,f,h=8*w.fullMessageLength[0],
l=0;l<w.fullMessageLength.length-1;++l)e=8*w.fullMessageLength[l+1],f=e/4294967296>>>0,h+=f,c.putInt32(h>>>0),h=e>>>0;c.putInt32(h);e=Array(m.length);for(l=0;l<m.length;++l)e[l]=m[l].slice(0);b(e,p,c);c=k.util.createBuffer();f="SHA-512"===a?e.length:"SHA-384"===a?e.length-2:e.length-4;for(l=0;l<f;++l)c.putInt32(e[l][0]),l===f-1&&"SHA-512/224"===a||c.putInt32(e[l][1]);return c};return w};var d=null,e=!1,f=null,h=null});var la=k.asn1,iq={name:"SubjectPublicKeyInfo",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,
constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:la.Class.UNIVERSAL,type:la.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:la.Class.UNIVERSAL,type:la.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},jq={name:"PrivateKeyInfo",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,
constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:la.Class.UNIVERSAL,type:la.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:la.Class.UNIVERSAL,type:la.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:la.Class.UNIVERSAL,type:la.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:la.Class.UNIVERSAL,type:la.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};
if("undefined"===typeof kq)var kq=k.jsbn.BigInteger;var Ie=k.util.ByteBuffer,Fa="undefined"===typeof Buffer?Uint8Array:Buffer;k.pki=k.pki||{};k.pki.ed25519=k.ed25519=k.ed25519||{};var H=k.ed25519;H.constants={};H.constants.PUBLIC_KEY_BYTE_LENGTH=32;H.constants.PRIVATE_KEY_BYTE_LENGTH=64;H.constants.SEED_BYTE_LENGTH=32;H.constants.SIGN_BYTE_LENGTH=64;H.constants.HASH_BYTE_LENGTH=64;H.generateKeyPair=function(a){a=a||{};var b=a.seed;if(void 0===b)b=k.random.getBytesSync(H.constants.SEED_BYTE_LENGTH);
else if("string"===typeof b){if(b.length!==H.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+H.constants.SEED_BYTE_LENGTH+" bytes in length.");}else if(!(b instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');b=nb({message:b,encoding:"binary"});a=new Fa(H.constants.PUBLIC_KEY_BYTE_LENGTH);for(var c=new Fa(H.constants.PRIVATE_KEY_BYTE_LENGTH),d=0;32>d;++d)c[d]=b[d];b=[C(),C(),C(),C()];d=Hc(c,32);d[0]&=248;d[31]&=127;d[31]|=
64;Qe(b,d);Me(a,b);for(b=0;32>b;++b)c[b+32]=a[b];return{publicKey:a,privateKey:c}};H.privateKeyFromAsn1=function(a){var b={},c=[];if(!k.asn1.validate(a,jq,b,c))throw b=Error("Invalid Key."),b.errors=c,b;c=k.asn1.derToOid(b.privateKeyOid);a=k.oids.EdDSA25519;if(c!==a)throw Error('Invalid OID "'+c+'"; OID must be "'+a+'".');return{privateKeyBytes:nb({message:k.asn1.fromDer(b.privateKey).value,encoding:"binary"})}};H.publicKeyFromAsn1=function(a){var b={},c=[];if(!k.asn1.validate(a,iq,b,c))throw b=Error("Invalid Key."),
b.errors=c,b;c=k.asn1.derToOid(b.publicKeyOid);a=k.oids.EdDSA25519;if(c!==a)throw Error('Invalid OID "'+c+'"; OID must be "'+a+'".');b=b.ed25519PublicKey;if(b.length!==H.constants.PUBLIC_KEY_BYTE_LENGTH)throw Error("Key length is invalid.");return nb({message:b,encoding:"binary"})};H.publicKeyFromPrivateKey=function(a){a=a||{};a=nb({message:a.privateKey,encoding:"binary"});if(a.length!==H.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+H.constants.PRIVATE_KEY_BYTE_LENGTH);
for(var b=new Fa(H.constants.PUBLIC_KEY_BYTE_LENGTH),c=0;c<b.length;++c)b[c]=a[32+c];return b};H.sign=function(a){a=a||{};var b=nb(a),c=nb({message:a.privateKey,encoding:"binary"});if(c.length===H.constants.SEED_BYTE_LENGTH)c=H.generateKeyPair({seed:c}).privateKey;else if(c.length!==H.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+H.constants.SEED_BYTE_LENGTH+" or "+H.constants.PRIVATE_KEY_BYTE_LENGTH);a=new Fa(H.constants.SIGN_BYTE_LENGTH+
b.length);var d=b.length,e=c,f=new Float64Array(64),h=[C(),C(),C(),C()],k=Hc(e,32);k[0]&=248;k[31]&=127;k[31]|=64;for(c=0;c<d;++c)a[64+c]=b[c];for(c=0;32>c;++c)a[32+c]=k[32+c];b=Hc(a.subarray(32),d+32);Ke(b);Qe(h,b);Me(a,h);for(c=32;64>c;++c)a[c]=e[c];d=Hc(a,d+64);Ke(d);for(c=32;64>c;++c)f[c]=0;for(c=0;32>c;++c)f[c]=b[c];for(c=0;32>c;++c)for(b=0;32>b;b++)f[c+b]+=d[c]*k[b];ch(a.subarray(32),f);c=new Fa(H.constants.SIGN_BYTE_LENGTH);for(f=0;f<c.length;++f)c[f]=a[f];return c};H.verify=function(a){a=
a||{};var b=nb(a);if(void 0===a.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var c=nb({message:a.signature,encoding:"binary"});if(c.length!==H.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+H.constants.SIGN_BYTE_LENGTH);var d=nb({message:a.publicKey,encoding:"binary"});if(d.length!==H.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+
H.constants.PUBLIC_KEY_BYTE_LENGTH);a=new Fa(H.constants.SIGN_BYTE_LENGTH+b.length);var e=new Fa(H.constants.SIGN_BYTE_LENGTH+b.length),f;for(f=0;f<H.constants.SIGN_BYTE_LENGTH;++f)a[f]=c[f];for(f=0;f<b.length;++f)a[f+H.constants.SIGN_BYTE_LENGTH]=b[f];b=a.length;c=new Fa(32);f=[C(),C(),C(),C()];var h=[C(),C(),C(),C()];if(64>b)a=-1;else{var k=C();var l=C();var m=C(),p=C(),q=C(),u=C(),w=C();zb(h[2],Ed);var t=h[1],v;for(v=0;16>v;++v)t[v]=d[2*v]+(d[2*v+1]<<8);t[15]&=32767;t=h[1];O(m,t,t);O(p,m,lq);ic(m,
m,h[2]);jc(p,h[2],p);O(q,p,p);O(u,q,q);O(w,u,q);O(k,w,m);O(k,k,p);q=C();for(u=0;16>u;++u)q[u]=k[u];for(u=250;0<=u;--u)O(q,q,q),1!==u&&O(q,q,k);for(u=0;16>u;++u)k[u]=q[u];O(k,k,m);O(k,k,p);O(k,k,p);O(h[0],k,p);k=h[0];O(l,k,k);O(l,l,p);eh(l,m)&&O(h[0],h[0],mq);k=h[0];O(l,k,k);O(l,l,p);eh(l,m)?l=-1:(dh(h[0])===d[31]>>7&&ic(h[0],Pe,h[0]),O(h[3],h[0],h[1]),l=0);if(l)a=-1;else{for(l=0;l<b;++l)e[l]=a[l];for(l=0;32>l;++l)e[l+32]=d[l];d=Hc(e,b);Ke(d);gh(f,h,d);Qe(h,a.subarray(32));Le(f,h);Me(c,f);b-=64;if(fh(a,
0,c,0)){for(l=0;l<b;++l)e[l]=0;a=-1}else{for(l=0;l<b;++l)e[l]=a[l+64];a=b}}}return 0<=a};var Pe=C(),Ed=C([1]),lq=C([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Cl=C([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),hh=C([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ih=C([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,
26214,26214]),Je=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),mq=C([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);k.kem=k.kem||{};var qk=k.jsbn.BigInteger;k.kem.rsa={};k.kem.rsa.create=function(a,b){b=b||{};var c=b.prng||k.random;return{encrypt:function(b,e){var d=Math.ceil(b.n.bitLength()/8);do var h=(new qk(k.util.bytesToHex(c.getBytesSync(d)),16)).mod(b.n);while(0>=h.compareTo(qk.ONE));
h=k.util.hexToBytes(h.toString(16));d-=h.length;0<d&&(h=k.util.fillString(String.fromCharCode(0),d)+h);b=b.encrypt(h,"NONE");e=a.generate(h,e);return{encapsulation:b,key:e}},decrypt:function(b,c,f){b=b.decrypt(c,"NONE");return a.generate(b,f)}}};k.kem.kdf1=function(a,b){kh(this,a,0,b||a.digestLength)};k.kem.kdf2=k.log=k.log||{};k.log.levels="none error warning info debug verbose max".split(" ");var re={},fg=[],gd=null;k.log.LEVEL_LOCKED=2;k.log.NO_LEVEL_CHECK=
4;k.log.INTERPOLATE=8;for(var Gb=0;Gb<k.log.levels.length;++Gb){var rk=k.log.levels[Gb];re[rk]={index:Gb,name:rk.toUpperCase()}}k.log.logMessage=function(a){for(var b=re[a.level].index,c=0;c<fg.length;++c){var d=fg[c];d.flags&k.log.NO_LEVEL_CHECK?d.f(a):b<=re[d.level].index&&d.f(d,a)}};k.log.prepareStandard=k.log.prepareFull=function(a){if(!("full"in a)){var b=[a.message];b=b.concat([]);a.full=k.util.format.apply(this,
b)}};k.log.prepareStandardFull=var sk=["error","warning","info","debug","verbose"];for(Gb=0;Gb<sk.length;++Gb)(function(a){k.log[a]=function(b,c){var d=Array.prototype.slice.call(arguments).slice(2);k.log.logMessage({timestamp:new Date,level:a,category:b,message:c,arguments:d})}})(sk[Gb]);k.log.makeLogger=function(a){a={flags:0,f:a};k.log.setLevel(a,"none");return a};k.log.setLevel=function(a,b){var c=!1;if(a&&!(a.flags&
k.log.LEVEL_LOCKED))for(var d=0;d<k.log.levels.length;++d)if(b==k.log.levels[d]){a.level=b;c=!0;break}return c};k.log.lock=function(a,b){a.flags="undefined"===typeof b||b?a.flags|k.log.LEVEL_LOCKED:a.flags&~k.log.LEVEL_LOCKED};k.log.addLogger=function(a){fg.push(a)};if("undefined"!==typeof console&&"log"in console){if(console.error&&console.warn&&console.info&&console.debug)var nq={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},tk=function(a,
b){k.log.prepareStandard(b);a=nq[b.level];var c=[b.standard];c=c.concat(b.arguments.slice());a.apply(console,c)};else tk=function(a,b){k.log.prepareStandardFull(b);console.log(b.standardFull)};var gg=k.log.makeLogger(tk);k.log.setLevel(gg,"debug");k.log.addLogger(gg);gd=gg}else console={log:function(){}};if(null!==gd&&"undefined"!==typeof window&&window.location){var se=(new URL(window.location.href)).searchParams;se.has("console.level")&&k.log.setLevel(gd,se.get("console.level").slice(-1)[0]);se.has("console.lock")&&
"true"==se.get("console.lock").slice(-1)[0]&&k.log.lock(gd)}k.log.consoleLogger=gd;E(function(a){function b(a){var b={},c=[];if(!m.validate(a,p.asn1.recipientInfoValidator,b,c))throw a=Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo."),a.errors=c,a;return{version:b.version.charCodeAt(0),issuer:k.pki.RDNAttributesAsArray(b.issuer),serialNumber:k.util.createBuffer(b.serial).toHex(),encryptedContent:{algorithm:m.derToOid(b.encAlgorithm),parameter:b.encParameter?b.encParameter.value:
void 0,content:b.encKey}}}function c(a){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(a.version).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[k.pki.distinguishedNameToAsn1({attributes:a.issuer}),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,k.util.hexToBytes(a.serialNumber))]),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(a.encryptedContent.algorithm).getBytes()),m.create(m.Class.UNIVERSAL,
m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,a.encryptedContent.content)])}unction e(a){var b=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(a.version).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[k.pki.distinguishedNameToAsn1({attributes:a.issuer}),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,k.util.hexToBytes(a.serialNumber))]),
m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(a.digestAlgorithm).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")])]);a.authenticatedAttributesAsn1&&b.value.push(a.authenticatedAttributesAsn1);b.value.push(m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(a.signatureAlgorithm).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]));b.value.push(m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,
!1,a.signature));if(0<a.unauthenticatedAttributes.length){for(var c=m.create(m.Class.CONTEXT_SPECIFIC,1,!0,[]),d=0;d<a.unauthenticatedAttributes.length;++d)c.values.push(f(a.unauthenticatedAttributes[d]));b.value.push(c)}return b}function f(a){if(a.type===k.pki.oids.contentType)var b=m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(a.value).getBytes());else if(a.type===k.pki.oids.messageDigest)b=m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,a.value.bytes());else if(a.type===k.pki.oids.signingTime){b=
new Date("1950-01-01T00:00:00Z");var c=new Date("2050-01-01T00:00:00Z"),d=a.value;if("string"===typeof d){var e=Date.parse(d);d=isNaN(e)?13===d.length?m.utcTimeToDate(d):m.generalizedTimeToDate(d):new Date(e)}b=d>=b&&d<c?m.create(m.Class.UNIVERSAL,m.Type.UTCTIME,!1,m.dateToUtcTime(d)):m.create(m.Class.UNIVERSAL,m.Type.GENERALIZEDTIME,!1,m.dateToGeneralizedTime(d))}return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(a.type).getBytes()),m.create(m.Class.UNIVERSAL,
m.Type.SET,!0,[b])])}function h(a){return[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(k.pki.oids.data).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(a.algorithm).getBytes()),a.parameter?m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,a.parameter.getBytes()):void 0]),m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,a.content.getBytes())])]}function n(a,b,c){var d={};if(!m.validate(b,c,
d,[]))throw a=Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message."),a.errors=a,a;if(m.derToOid(d.contentType)!==k.pki.oids.data)throw Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(d.encryptedContent){b="";if(k.util.isArray(d.encryptedContent))for(c=0;c<d.encryptedContent.length;++c){if(d.encryptedContent[c].type!==m.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");
b+=d.encryptedContent[c].value}else b=d.encryptedContent;a.encryptedContent={algorithm:m.derToOid(d.encAlgorithm),parameter:k.util.createBuffer(d.encParameter.value),content:k.util.createBuffer(b)}}if(d.content){b="";if(k.util.isArray(d.content))for(c=0;c<d.content.length;++c){if(d.content[c].type!==m.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");b+=d.content[c].value}else b=d.content;a.content=k.util.createBuffer(b)}a.version=
d.version.charCodeAt(0);return a.rawCapture=d}function l(a){if(void 0===a.encryptedContent.key)throw Error("Symmetric key not available.");if(void 0===a.content){switch(a.encryptedContent.algorithm){case k.pki.oids["aes128-CBC"]:case k.pki.oids["aes192-CBC"]:case k.pki.oids["aes256-CBC"]:var b=k.aes.createDecryptionCipher(a.encryptedContent.key);break;case k.pki.oids.desCBC:case k.pki.oids["des-EDE3-CBC"]:b=k.des.createDecryptionCipher(a.encryptedContent.key);break;default:throw Error("Unsupported symmetric cipher, OID "+
a.encryptedContent.algorithm);}b.start(a.encryptedContent.parameter);b.update(a.encryptedContent.content);if(!b.finish())throw Error("Symmetric decryption failed.");a.content=b.output}}var m=k.asn1,p=a.exports=k.pkcs7=k.pkcs7||{};p.messageFromPem=function(a){a=k.pem.decode(a)[0];if("PKCS7"!==a.type){var b=Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');b.headerType=a.type;throw b;}if(a.procType&&"ENCRYPTED"===a.procType.type)throw Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");
a=m.fromDer(a.body);return p.messageFromAsn1(a)};p.messageToPem=function(a,b){a={type:"PKCS7",body:m.toDer(a.toAsn1()).getBytes()};return k.pem.encode(a,{maxline:b})};p.messageFromAsn1=function(a){var b={},c=[];if(!m.validate(a,p.asn1.contentInfoValidator,b,c))throw b=Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo."),b.errors=c,b;c=m.derToOid(b.contentType);switch(c){case k.pki.oids.envelopedData:c=p.createEnvelopedData();break;case k.pki.oids.encryptedData:c=p.createEncryptedData();
break;case k.pki.oids.signedData:c=p.createSignedData();break;default:throw Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.");}c.fromAsn1(b.content.value[0]);return c};p.createSignedData=function(){var a=null;return a={type:k.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(b){n(a,b,p.asn1.signedDataValidator);a.certificates=[];a.crls=[];a.digestAlgorithmIdentifiers=
[];a.contentInfo=null;a.signerInfos=[];if(a.rawCapture.certificates){b=a.rawCapture.certificates.value;for(var c=0;c<b.length;++c)a.certificates.push(k.pki.certificateFromAsn1(b[c]))}},toAsn1:function(){a.contentInfo||a.sign();for(var b=[],c=0;c<a.certificates.length;++c)b.push(k.pki.certificateToAsn1(a.certificates[c]));c=[];var d=m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(a.version).getBytes()),
m.create(m.Class.UNIVERSAL,m.Type.SET,!0,a.digestAlgorithmIdentifiers),a.contentInfo])]);0<b.length&&d.value[0].value.push(m.create(m.Class.CONTEXT_SPECIFIC,0,!0,b));0<c.length&&d.value[0].value.push(m.create(m.Class.CONTEXT_SPECIFIC,1,!0,c));d.value[0].value.push(m.create(m.Class.UNIVERSAL,m.Type.SET,!0,a.signerInfos));return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(a.type).getBytes()),d])},addSigner:function(b){var c=b.issuer,d=b.serialNumber;
b.certificate&&(d=b.certificate,"string"===typeof d&&(d=k.pki.certificateFromPem(d)),c=d.issuer.attributes,d=d.serialNumber);var e=b.key;if(!e)throw Error("Could not add PKCS#7 signer; no private key specified.");"string"===typeof e&&(e=k.pki.privateKeyFromPem(e));var f=b.digestAlgorithm||k.pki.oids.sha1;switch(f){case k.pki.oids.sha1:case k.pki.oids.sha256:case k.pki.oids.sha384:case k.pki.oids.sha512:case k.pki.oids.md5:break;default:throw Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+
f);}b=b.authenticatedAttributes||[];if(0<b.length){for(var h=!1,l=!1,m=0;m<b.length;++m){var n=b[m];if(!h&&n.type===k.pki.oids.contentType){if(h=!0,l)break}else if(!l&&n.type===k.pki.oids.messageDigest&&(l=!0,h))break}if(!h||!l)throw Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.");}a.signers.push({key:e,version:1,issuer:c,serialNumber:d,digestAlgorithm:f,
signatureAlgorithm:k.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:b,unauthenticatedAttributes:[]})},sign:function(b){b=b||{};if("object"!==typeof a.content||null===a.contentInfo)if(a.contentInfo=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(k.pki.oids.data).getBytes())]),"content"in a){var c;a.content instanceof k.util.ByteBuffer?c=a.content.bytes():"string"===typeof a.content&&(c=k.util.encodeUtf8(a.content));b.detached?a.detachedContent=
m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,c):a.contentInfo.value.push(m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,c)]))}if(0!==a.signers.length){b={};for(c=0;c<a.signers.length;++c){var d=a.signers[c],h=d.digestAlgorithm;h in b||(b[h]=k.md[k.pki.oids[h]].create());d.md=0===d.authenticatedAttributes.length?b[h]:k.md[k.pki.oids[h]].create()}a.digestAlgorithmIdentifiers=[];for(h in b)a.digestAlgorithmIdentifiers.push(m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,
!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(h).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]));a.detachedContent?c=a.detachedContent:(c=a.contentInfo.value[1],c=c.value[0]);if(!c)throw Error("Could not sign PKCS#7 message; there is no content to sign.");h=m.derToOid(a.contentInfo.value[0].value);var l=m.toDer(c);l.getByte();m.getBerValueLength(l);l=l.getBytes();for(var n in b)b[n].start().update(l);n=new Date;for(c=0;c<a.signers.length;++c){d=a.signers[c];if(0===d.authenticatedAttributes.length){if(h!==
k.pki.oids.data)throw Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.");}else{d.authenticatedAttributesAsn1=m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[]);l=m.create(m.Class.UNIVERSAL,m.Type.SET,!0,[]);for(var p=0;p<d.authenticatedAttributes.length;++p){var q=d.authenticatedAttributes[p];q.type===k.pki.oids.messageDigest?q.value=b[d.digestAlgorithm].digest():q.type!==k.pki.oids.signingTime||q.value||(q.value=n);l.value.push(f(q));d.authenticatedAttributesAsn1.value.push(f(q))}l=
m.toDer(l).getBytes();d.md.start().update(l)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}b=a;h=a.signers;n=[];for(c=0;c<h.length;++c)n.push(e(h[c]));b.signerInfos=n}},verify:addCertificate:function(b){"string"===typeof b&&(b=k.pki.certificateFromPem(b));a.certificates.push(b)},addCertificateRevokationList:};p.createEncryptedData=function(){var a=
null;return a={type:k.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:k.pki.oids["aes256-CBC"]},fromAsn1:decrypt:function(b){void 0!==b&&(a.encryptedContent.key=b);l(a)}}};p.createEnvelopedData=function(){var a=null;return a={type:k.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:k.pki.oids["aes256-CBC"]},fromAsn1:function(c){var d=n(a,c,p.asn1.envelopedDataValidator);c=a;d=d.recipientInfos.value;for(var e=[],
f=0;f<d.length;++f)e.push(b(d[f]));c.recipients=e},toAsn1:function(){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(a.type).getBytes()),m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(a.version).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SET,!0,d(a.recipients)),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,h(a.encryptedContent))])])])},findRecipient:decrypt:function(b,c){if(void 0===a.encryptedContent.key&&void 0!==b&&void 0!==c)switch(b.encryptedContent.algorithm){case k.pki.oids.rsaEncryption:case k.pki.oids.desCBC:b=c.decrypt(b.encryptedContent.content);a.encryptedContent.key=k.util.createBuffer(b);
break;default:throw Error("Unsupported asymmetric cipher, OID "+b.encryptedContent.algorithm);}l(a)},addRecipient:encrypt:function(b,c){if(void 0===a.encryptedContent.content){c=c||a.encryptedContent.algorithm;b=b||a.encryptedContent.key;var d;switch(c){case k.pki.oids["aes128-CBC"]:var e=d=16;var f=k.aes.createEncryptionCipher;break;
case k.pki.oids["aes192-CBC"]:d=24;e=16;f=k.aes.createEncryptionCipher;break;case k.pki.oids["aes256-CBC"]:d=32;e=16;f=k.aes.createEncryptionCipher;break;case k.pki.oids["des-EDE3-CBC"]:d=24;e=8;f=k.des.createEncryptionCipher;break;default:throw Error("Unsupported symmetric cipher, OID "+c);}if(void 0===b)b=k.util.createBuffer(k.random.getBytes(d));else if(b.length()!=d)throw Error("Symmetric key has wrong length; got "+b.length()+" bytes, expected "+d+".");a.encryptedContent.algorithm=c;a.encryptedContent.key=
b;a.encryptedContent.parameter=k.util.createBuffer(k.random.getBytes(e));b=f(b);b.start(a.encryptedContent.parameter.copy());b.update(a.content);if(!b.finish())throw Error("Symmetric encryption failed.");a.encryptedContent.content=b.output}for(b=0;b<a.recipients.length;++b)if(c=a.recipients[b],void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case k.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(a.encryptedContent.key.data);break;default:throw Error("Unsupported asymmetric cipher, OID "+
c.encryptedContent.algorithm);}}}}});E(function(a){function b(a,b){b=b.toString(16);"8"<=b[0]&&(b="00"+b);b=k.util.hexToBytes(b);a.putInt32(b.length);a.putBytes(b)}function c(a,b){a.putInt32(b.length);a.putString(b)}=a.exports=k.ssh=k.ssh||{};a.privateKeyToPutty=function(a,f,h){h=h||"";f=f||"";var e=""===f?"none":"aes256-cbc";var l="PuTTY-User-Key-File-2: ssh-rsa\r\nEncryption: "+(e+
"\r\nComment: ")+(h+"\r\n");var m=k.util.createBuffer();c(m,"ssh-rsa");b(m,a.e);b(m,a.n);var p=k.util.encode64(m.bytes(),64),q=Math.floor(p.length/66)+1;l+="Public-Lines: "+q+"\r\n";l+=p;p=k.util.createBuffer();b(p,a.d);b(p,a.p);b(p,a.q);b(p,a.qInv);f?(q=p.length()+16-1,q-=q%16,a=d(p.bytes()),a.truncate(a.length()-q+p.length()),p.putBuffer(a),q=k.util.createBuffer(),q.putBuffer(d("\x00\x00\x00\x00",f)),q.putBuffer(d("\x00\x00\x00\u0001",f)),q=k.aes.createEncryptionCipher(q.truncate(8),"CBC"),q.start(k.util.createBuffer().fillWithByte(0,
16)),q.update(p.copy()),q.finish(),q=q.output,q.truncate(16),a=k.util.encode64(q.bytes(),64)):a=k.util.encode64(p.bytes(),64);q=Math.floor(a.length/66)+1;l+="\r\nPrivate-Lines: "+q+"\r\n";l+=a;f=d("putty-private-key-file-mac-key",f);q=k.util.createBuffer();c(q,"ssh-rsa");c(q,e);c(q,h);q.putInt32(m.length());q.putBuffer(m);q.putInt32(p.length());q.putBuffer(p);h=k.hmac.create();h.start("sha1",f);h.update(q.bytes());return l+="\r\nPrivate-MAC: "+h.digest().toHex()+"\r\n"};a.publicKeyToOpenSSH=function(a,
d){d=d||"";var e=k.util.createBuffer();c(e,"ssh-rsa");b(e,a.e);b(e,a.n);return"ssh-rsa "+k.util.encode64(e.bytes())+" "+d};a.privateKeyToOpenSSH=a.getPublicKeyFingerprint=function(a,d){d=d||{};var e=d.md||k.md.md5.create(),f=k.util.createBuffer();c(f,"ssh-rsa");b(f,a.e);b(f,a.n);e.start();e.update(f.getBytes());a=e.digest();if("hex"===d.encoding)return a=a.toHex(),d.delimiter?a.match(/.{2}/g).join(d.delimiter):
a;if("binary"===d.encoding)return a.getBytes();if(d.encoding)throw Error('Unknown encoding "'+d.encoding+'".');return a}});var hg=k,oq=function(a,b){b=b.replace(/-/g,"");var c=hg.hmac.create();c.start("sha256",b);c.update(hg.util.encodeUtf8(a));a=c.digest();return"v1:"+hg.util.encode64(a.getBytes())};E(function(a){a=function(a){unction d(a,b,c,d){b=Object.create((b&&b.prototype instanceof
f?b:f).prototype);d=new v(d||[]);E(b,"_invoke",{value:p(a,c,d)});return b}unction f(){}function h(){}nction m(a,b){function c(d,f,h,k){d=e(a[d],a,f);if("throw"===d.type)k(d.arg);else{var l=d.arg;return(d=l.value)&&"object"===typeof d&&C.call(d,"__await")?b.resolve(d.__await).then(function(a){c("next",
a,h,k)},:b.resolve(d).then(}}var d;E(this,"_invoke",{value:)}function p(a,b,c){var d=J;return function(f,h){if(d===N)throw Error("Generator is already running");if(d===O){if("throw"===f)throw h;return y()}c.method=f;for(c.arg=h;;){if(f=c.delegate)if(f=q(f,c)){if(f===Q)continue;return f}if("next"===c.method)c.sent=
c._sent=c.arg;else if("throw"===c.method){if(d===J)throw d=O,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);d=N;f=e(a,b,c);if("normal"===f.type){d=c.done?O:L;if(f.arg===Q)continue;return{value:f.arg,done:c.done}}"throw"===f.type&&(d=O,c.method="throw",c.arg=f.arg)}}}function q(a,b){var c=b.method,d=a.iterator[c];if(d===D){b.delegate=null;if("throw"===c&&a.iterator["return"]&&(b.method="return",b.arg=D,q(a,b),"throw"===b.method))return Q;"return"!==c&&(b.method=
"throw",b.arg=new TypeError("The iterator does not provide a '"+c+"' method"));return Q}c=e(d,a.iterator,b.arg);if("throw"===c.type)return b.method="throw",b.arg=c.arg,b.delegate=null,Q;c=c.arg;if(!c)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,Q;if(c.done)b[a.resultName]=c.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=D);else return c;b.delegate=null;return Q}=Object.prototype,C=B.hasOwnProperty,E=Object.defineProperty||D,F="function"===typeof Symbol?Symbol:{},G=F.iterator||"@@iterator",I=F.asyncIterator||"@@asyncIterator",H=F.toStringTag||"@@toStringTag";try{b({},"")}catch(V){b=a.wrap=d;var J="suspendedStart",L="suspendedYield",N="executing",O="completed",Q={};F={};b(F,G,function(){return this});var S=Object.getPrototypeOf;(S=S&&S(S(x([]))))&&S!==B&&C.call(S,G)&&(F=S);var T=k.prototype=
f.prototype=Object.create(F);h.prototype=k;E(T,"constructor",{value:k,configurable:!0});E(k,"constructor",{value:h,configurable:!0});h.displayName=b(k,H,"GeneratorFunction");a.isGeneratorFunction=a.mark=a.awrap=
l(m.prototype);b(m.prototype,I,function(){return this});a.AsyncIterator=m;a.async=l(T);b(T,H,"Generator");b(T,G,;b(T,"toString",function(){return"[object Generator]"});a.keys=function(a){var b=Object(a),c=[],d;for(d in b)c.push(d);c.reverse();return ;a.values=x;v.prototype={constructor:v,reset:stop:dispatchException:abrupt:complete:finish:"catch":delegateYield:;return a}(a.exports);try{regeneratorRuntime=a}catch(b){"object"===typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}});var pq={"data-api":E(function(a,b){function c(a,b,c){0===a.length&&c(null,null);for(var e=!1,f=0,h=null,k=0;k<a.length;k++)d(a[k],b,function(b,d){f++;b?h=b:d&&d.id&&!e&&(e=!0,c(null,d));f!==a.length||e||c(h,null)})}function d(a,b,c){e("https://"+a+"/v1/id/"+
b,}function e(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0);c.withCredentials=!0;c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&(200<=c.status&&300>c.status?b(null,c.responseText?window.JSON.parse(c.responseText):null):b(c.statusText||"Unknown Error",null))};c.send()}var f=me.v4,h={maxage:31536E6,secure:!1,path:"/"},k={maxRetryDelay:36E4,minRetryDelay:1E3,backoffFactor:2,maxAttempts:10,maxItems:100},l=b=a.exports=
Ap("DataApi").option("apiKey","").option("env","staging").option("crossDomainIdServers",[]).option("retryQueue",!0).option("addBundledMetadata",!1).option("unbundledIntegrations",[]);b.storage=b.global=window;b.sendJsonWithTimeout=async function(a,b,c,d,e){var f=window.JSON.stringify({batch:[b]});c["X-CDP-Batch-ID"]=oq(f,b.apiKey);let h=new AbortController;var k;d&&0!==d&&(k=setTimeout(d));return await window.fetch(a,
{method:"POST",headers:new Headers(c),body:f,keepalive:!0,signal:h.signal}).then(a=>{k&&clearTimeout(k);e&&(429===a.status||500<=a.status&&600>a.status?e(Error("HTTP Error "+a.status+" ("+a.statusText+")")):e(null,a))}).catch(};l.prototype.initialize=function(){var a=this;this.options.retryQueue&&(this._lsqueue=new La("dataapi",k,function(b,c){b.msg.sentAt=new Date;l.sendJsonWithTimeout(b.url,b.msg,b.headers,1E4,function(d,e){a.debug("sent %O, received %O",b.msg,[d,e]);b.headers.hasOwnProperty("X-Request-ID")&&
delete b.headers["X-Request-ID"];if(d)return c(d);c(null,e)})}),this._lsqueue.start());this.ready();this.onInvoke=function(b){var c=b.action(),d="on"+b.action();a.debug("%s %o",c,b);if(a[d])a[d](b);a.ready()};this.dataApi.on("invoke",this.onInvoke);this.options.crossDomainIdServers&&0<this.options.crossDomainIdServers.length&&this.retrieveCrossDomainId()};l.prototype.shutdown=function(){this._lsqueue&&this._lsqueue.stop();this.dataApi.off("invoke",this.onInvoke);this.removeAllListeners()};l.prototype.loaded=
function(){return!0};l.prototype.onpage=function(a){a=a.json();a.apiMethod="page";this.enqueue(a)};l.prototype.onidentify=function(a){a=a.json();a.apiMethod="identify";this.enqueue(a)};l.prototype.ongroup=function(a){a=a.json();a.apiMethod="group";this.enqueue(a)};l.prototype.ontrack=function(a){a=a.json();delete a.traits;a.eventName=a.event;delete a.event;a.apiMethod="track";this.enqueue(a)};l.prototype.onalias=function(a){a=a.json();var b=this.dataApi.user();a.previousEntityId=a.previousId||a.from||
b.id()||b.anonymousId();a.userId=a.userId||a.to;delete a.from;delete a.to;a.apiMethod="alias";this.enqueue(a)};l.prototype.normalize=function(a){this.debug("normalize %o",a);var c=this.dataApi.user(),d=b.global.location.search,e=a.context=a.context||a.options||{};delete a.options;a.apiKey=this.options.apiKey;e.userAgent=navigator.userAgent;e.library||(e.library={name:"data-api.js",version:this.dataApi.VERSION});var f=this.cookie("dapi_xid");f&&(e.traits?e.traits.crossDomainId||(e.traits.crossDomainId=
f):e.traits={crossDomainId:f});d&&!e.campaign&&(e.campaign=Be(d));this.referrerId(d,e);a.entityId=a.userId||c.id();delete a.userId;a.entityType=a.entityType||c.entityType();a.anonymousId=c.anonymousId();a.sentAt=new Date;a.timestamp=new Date;c=this.dataApi.failedInitializations||[];0<c.length&&(a._metadata={failedInitializations:c});this.options.addBundledMetadata&&(c=qa(this.dataApi.Integrations),a._metadata=a._metadata||{},a._metadata.bundled=c,a._metadata.unbundled=this.options.unbundledIntegrations);
this.debug("normalized %o",a);this.ampId(e);this.googleAnalytics(e);return a};l.prototype.googleAnalytics=function(a){var b=this.cookie("_ga");if(b){var c=a.googleAnalytics||{};c._ga=c._ga||b;a.googleAnalytics=c}};l.prototype.ampId=l.prototype.enqueue=function(a,b){var c="https://api.squarestagingexternal.com/v1/cdp/batch";"production"===this.options.env&&(c="https://api.squareup.com/v1/cdp/batch");var d={"Content-Type":"application/json",
Authorization:"Basic "+window.btoa(this.options.apiKey+":")};a=this.normalize(a);32E3<window.JSON.stringify(a).length&&this.debug("message must be less than 32kb %O",a);this.debug("enqueueing %O",a);var e=this;this.options.retryQueue?this._lsqueue.addItem({url:c,headers:d,msg:a}):l.sendJsonWithTimeout(c,a,d,0,};l.prototype.cookie=function(a,c){var d=l.storage();if(1===arguments.length)return d(a);var e=b.global.location.href,
f="."+di(e);"."===f&&(f="");this.debug("store domain %s -> %s",e,f);e=Ae(h);e.domain=f;this.debug("store %s, %s, %o",a,c,e);d(a,c,e);d(a)||(delete e.domain,this.debug("fallback store %s, %s, %o",a,c,e),d(a,c,e))};l.prototype.referrerId=function(a,b){var c=this.cookie("s:context.referrer");c&&(c=window.JSON.parse(c));if(a)a:{a=pp(a);for(var d in a)if(a.hasOwnProperty(d))for(var e in Uf)if(Uf.hasOwnProperty(e)&&d===e){var f={id:a[d],type:Uf[e]};break a}f=void 0}if(f=f||c)b.referrer=df(b.referrer||{},
f),this.cookie("s:context.referrer",window.JSON.stringify(f))};l.prototype.retrieveCrossDomainId=function(a){if(!this.options.crossDomainIdServers)a&&a("crossDomainId not enabled",null);else if(!this.cookie("dapi_xid")){for(var b=this,d=this.options.apiKey,e=window.location.hostname.split(".").splice(-2).join("."),h=[],k=0;k<this.options.crossDomainIdServers.length;k++){var l=this.options.crossDomainIdServers[k];l.split(".").splice(-2).join(".")!==e&&h.push(l)}c(h,d,function(c,d){if(c)a&&a(c,null);
else{d?(c=d.id,d=d.domain):(c=f(),d=window.location.hostname);var e=(new Date).getTime();b.cookie("dapi_xid",c);b.cookie("dapi_xid_fd",d);b.cookie("dapi_xid_ts",e);b.dataApi.identify({crossDomainId:c});a&&a(null,{crossDomainId:c,fromDomain:d,timestamp:e})}})}}})},hd=new D;hd.VERSION="8.1.1";ba(function(a){hd.use(a)},pq);hd.load=function(a,b){hd.initialize({DataApi:{apiKey:a,env:b||"staging"}})};return hd})
