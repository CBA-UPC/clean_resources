(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4273],{88668:38265:function(e,t,n){"use strict";n.d(t,{Z:function(){return ConnectForm}});var r=n(52322),o=n(47330),a=n(73235),i=n(66547),c=n(91210),s=n(26806);et l=(0,i.ZP)(_templateObject(),c.$);var u=n(86414),d=n(45152),f=n(56958);let m=Object.values(o.tw).map(;function ConnectForm(e){let{webhookEvents:t,webhookAuthType:n,webhookAuthValue:o,integrationSettings:a,children:i,url:c}=e,{workspace:h}=(0,d.cF)(),[,x]=s.Db(l),{name:b,Logo:g,webhookFormat:y}=a;return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f.A.promise(x({workspaceId:h.id,data:{name:b,auth:{type:n,value:o},events:null!=t?t:m,format:y,url:c}}).then(e=>{if(e.error)throw Error(e.error.message);u.Z.track("".concat(b.toLowerCase(),"_integration_connected"))}),{loading:"Connecting to ".concat(b,"..."),success:"Connected to ".concat(b),error:"Error connecting to ".concat(b)})},children:[i,(0,r.jsxs)("button",{className:"btn-white mt-5 w-full justify-center bg-white font-medium shadow",type:"submit",children:[(0,r.jsx)(g,{className:"mr-2 h-4 w-4"}),"Connect to ",b]})]})}},92145:function(e,t,n){"use strict";let r;n.d(t,{_E:function(){return formatBasicCredentials},eS:function(){return getBasicCredentials},U7:function(){return getBearer}});var o=n(47330),a=n(48834).Buffer;let i="3.7.3",c="function"==typeof atob,s="function"==typeof btoa,l="function"==typeof a,u="function"==typeof TextDecoder?new TextDecoder:void 0,d="function"==typeof TextEncoder?new TextEncoder:void 0,f=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),m=(r={},f.forEach(,r),h=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,x=String.fromCharCode.bind(String),b="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):_mkUriSafe=_tidyB64=btoaPolyfill=g=s?e=>btoa(e):l?e=>a.from(e,"binary").toString("base64"):btoaPolyfill,y=l?fromUint8Array=(e,t=!1)=>t?_mkUriSafe(y(e)):y(e),cb_utob=p=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=e=>e.replace(p,cb_utob),A=l?e=>a.from(e,"utf8").toString("base64"):d?e=>g(utob(e)),encode=base64_encodeURI=_=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=btou=atobPolyfill=v=c?e=>atob(_tidyB64(e)):l?e=>a.from(e,"base64").toString("binary"):atobPolyfill,w=l?toUint8Array=e=>w(_unURI(e)),C=l?u?e=>btou(v(e)),_unURI=decode=_noEnum=extendString=extendUint8Array=U={version:i,VERSION:i,atob:v,atobPolyfill:atobPolyfill,btoa:g,btoaPolyfill:btoaPolyfill,fromBase64:decode,toBase64:encode,encode:encode,encodeURI:base64_encodeURI,encodeURL:base64_encodeURI,utob:utob,btou:btou,decode:decode,isValid:fromUint8Array:fromUint8Array,toUint8Array:toUint8Array,extendString:extendString,extendUint8Array:extendUint8Array,extendBuiltins:,parseBasicAuth=e=>{let t=U.decode(e),[n,r]=t.split(":");return{username:n,password:r}},stringifyBasicAuth=e=>{let{username:t,password:n}=e;return U.encode("".concat(t,":").concat(n))},getBearer=e=>{var t,n;return(null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.type)===o.H4.Bearer?null==e?void 0:null===(n=e.auth)||void 0===n?void 0:n.value:void 0},getBasicCredentials=e=>{var t,n;let empty=if((null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.type)!==o.H4.Basic)return empty();let r=null==e?void 0:null===(n=e.auth)||void 0===n?void 0:n.value;return r?parseBasicAuth(r):empty()},formatBasicCredentials=,56969:function(e,t,n){"use strict";n.r(t),n.d(t,{default:);var r=n(52322),o=n(8583),a=n(2784),i=n(38265),c=n(3016),s=n(47330),l=n(92145),u=n(77512),d=n(36380);let f=[{name:"US",value:"us"},{name:"EU",value:"eu"}];var m=n(64766),h=n(170);let x={name:"Segment",screenshot:"https://www.navattic.com/img/segment-dashboard.png",enableEventSettings:!0,webhookFormat:s.M8.Segment,Logo:o.Kmn,ConnectComponent:function(e){var t;let{webhook:n,integrationSettings:m}=e,[h,x]=(0,a.useState)(""),[b,g]=(0,a.useState)("us"),[y,p]=(0,a.useState)(null!==(t=null==n?void 0:n.events)&&void 0!==t?t:void 0);(0,a.useEffect)(()=>{if(!n)return;let{username:e}=(0,l.eS)(n);e&&x(e)},[n]);let A=(0,a.useMemo)([h]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{className:"mb-1 text-base font-semibold",children:"1. Grab your HTTP API key from Segment"}),(0,r.jsx)("div",{style:{minHeight:230},children:(0,r.jsx)("img",{src:"/segment-key.png",className:"mt-4 rounded shadow"})}),(0,r.jsxs)("a",{href:"https://segment.com/docs/connections/find-writekey/",target:"_blank",className:"link text-sm",rel:"noreferrer",children:["Segment documentation ",(0,r.jsx)(o.h0n,{className:"ml-1 inline-flex h-3 w-3"})]}),(0,r.jsx)("h4",{className:"mb-4 mt-10 text-base font-semibold",children:"2. Enter your key"}),(0,r.jsxs)(i.Z,{webhookAuthType:s.H4.Basic,webhookAuthValue:A,webhookEvents:y,integrationSettings:m,children:[(0,r.jsx)("label",{className:"label-base text-sm text-gray-500",children:"Segment HTTP API key"}),(0,r.jsxs)("div",{className:"flex w-full space-x-2",children:[(0,r.jsx)(u.oi,{className:"w-full flex-1",value:h,required:!0,name:"api-key",leftIcon:(0,r.jsx)(d.Z,{className:"h-4 w-4 text-gray-500"}),placeholder:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",onChange:x,styles:{wrapper:{height:"100%"}}}),(0,r.jsx)("div",{className:"w-20",children:(0,r.jsx)(c.Z,{mb:0,items:f,selected:b,onChange:)})]})]})]})}};egmentIntegrationPage.getLayout=var b=SegmentIntegrationPage}},function(e){e.O(0,[8934,3211,696,8426,3265,1617,4637,5837,9623,3327,4054,5306,7330,8583,6870,7156,6456,170,4766,9774,2888,179],,_N_E=e.O()}]);
//# sourceMappingURL=segment-9b07b031ef468b63.js.map