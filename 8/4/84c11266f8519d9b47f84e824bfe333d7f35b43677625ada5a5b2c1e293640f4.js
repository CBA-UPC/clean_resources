/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position","3.11.0",{requires:["base-build","node-screen","widget"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-align","3.11.0",{requires:["widget-position"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-stack","3.11.0",{requires:["base-build","widget"],skinnable:!0});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-constrain","3.11.0",{requires:["widget-position"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("overlay","3.11.0",{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0});
YUI.add("gallery-popover",function(Y){Y.Popover=Y.Base.create("popover",Y.Widget,[Y.WidgetStdMod,Y.WidgetPosition,Y.WidgetStack,Y.WidgetPositionAlign,Y.WidgetPositionConstrain],{initializer:function(){},bindUI:function(){this.after("arrowPositionChange",function(e){this._arrow.removeClass(this.getClassName("arrow",e.prevVal)),this._arrow.addClass(this.getClassName("arrow",e.newVal))})},renderUI:function(){var arrowPosition=this.get("arrowPosition");this._arrow=Y.Node.create('<div class="'+this.getClassName("arrow")+'"></div>'),this._arrow.addClass(this.getClassName("arrow",arrowPosition)),this.get("srcNode").append(this._arrow)},syncUI:function(){},alignToElement:function(node,constrainNode){var alignmentPositions,offsets,nodeRegion,xy,delta,arrowPosition=this.get("arrowPosition");switch(this.get("showSquare")&&(VERTICALOFFSET=8),arrowPosition){case"tl":alignmentPositions=[Y.WidgetPositionAlign.TL,Y.WidgetPositionAlign.BC],offsets={x:-18,y:16};break;case"t":alignmentPositions=[Y.WidgetPositionAlign.TC,Y.WidgetPositionAlign.BC],offsets={x:0,y:16};break;case"tr":alignmentPositions=[Y.WidgetPositionAlign.TR,Y.WidgetPositionAlign.BC],offsets={x:18,y:16};break;case"rt":alignmentPositions=[Y.WidgetPositionAlign.TR,Y.WidgetPositionAlign.LC],offsets={x:-18,y:-18};break;case"r":alignmentPositions=[Y.WidgetPositionAlign.RC,Y.WidgetPositionAlign.LC],offsets={x:-18,y:0};break;case"rb":alignmentPositions=[Y.WidgetPositionAlign.BR,Y.WidgetPositionAlign.LC],offsets={x:-18,y:18};break;case"br":alignmentPositions=[Y.WidgetPositionAlign.BR,Y.WidgetPositionAlign.TC],offsets={x:18,y:-16};break;case"b":alignmentPositions=[Y.WidgetPositionAlign.BC,Y.WidgetPositionAlign.TC],offsets={x:0,y:-16};break;case"bl":alignmentPositions=[Y.WidgetPositionAlign.BL,Y.WidgetPositionAlign.TC],offsets={x:-18,y:-16};break;case"lb":alignmentPositions=[Y.WidgetPositionAlign.BL,Y.WidgetPositionAlign.RC],offsets={x:18,y:18};break;case"l":alignmentPositions=[Y.WidgetPositionAlign.LC,Y.WidgetPositionAlign.RC],offsets={x:18,y:0};break;case"lt":alignmentPositions=[Y.WidgetPositionAlign.TL,Y.WidgetPositionAlign.RC],offsets={x:18,y:-18}}this.align(node,alignmentPositions),xy=[(nodeRegion=this._posNode.get("region")).left+offsets.x,nodeRegion.top+offsets.y],this.move(xy);var anchorRegion=node.get("region");"tl"===arrowPosition||"t"===arrowPosition||"tr"===arrowPosition||"bl"===arrowPosition||"b"===arrowPosition||"br"===arrowPosition?this._arrow.setX(node.getX()+anchorRegion.width/2):this._arrow.setY(node.getY()+anchorRegion.height/2),constrainNode&&(this.constrain(null,constrainNode),constrainNode=[(nodeRegion=this._posNode.get("region")).left,nodeRegion.top],"tl"===arrowPosition||"t"===arrowPosition||"tr"===arrowPosition||"bl"===arrowPosition||"b"===arrowPosition||"br"===arrowPosition?(xy[0]!==constrainNode[0]&&(delta=xy[0]-constrainNode[0],this._arrow.setX(node.getX()+anchorRegion.width/2)),xy[1]!==constrainNode[1]&&(delta=xy[1]-constrainNode[1],xy=[(nodeRegion=this._posNode.get("region")).left,nodeRegion.top+delta],this.move(xy))):"lt"!==arrowPosition&&"l"!==arrowPosition&&"lb"!==arrowPosition&&"rt"!==arrowPosition&&"r"!==arrowPosition&&"rb"!==arrowPosition||(xy[0]!==constrainNode[0]&&(delta=xy[0]-constrainNode[0],this._arrow.setY(node.getY()+anchorRegion.height/2)),xy[0]!==constrainNode[0]&&(delta=xy[0]-constrainNode[0],xy=[(nodeRegion=this._posNode.get("region")).left+delta,nodeRegion.top],this.move(xy)))),this._positionMarkerNode||(this._positionMarkerNode=Y.DOM.create('<div class="popover-position-marker"></div>'),Y.one("body").append(this._positionMarkerNode)),"br"===this.get("arrowPosition")&&this.get("accordian")&&(this.get("srcNode").getDOMNode().parentNode.style.bottom=""),Y.DOM.setXY(this._positionMarkerNode,this._posNode.get("region")),this.align(this._positionMarkerNode,[Y.WidgetPositionAlign.TL,Y.WidgetPositionAlign.BL]),this.get("extraCSS")&&this.get("srcNode").ancestor(".yui3-popover").addClass(this.get("extraCSS"))}},{TOPLEFT:"tl",TOP:"t",TOPRIGHT:"tr",RIGHTTOP:"rt",RIGHT:"r",RIGHTBOTTOM:"rb",BOTTOMRIGHT:"br",BOTTOM:"b",BOTTOMLEFT:"bl",LEFTBOTTOM:"lb",LEFT:"l",LEFTTOP:"lt",CSS_PREFIX:"yui3-popover",ATTRS:{arrowPosition:{value:"tr",validator:,accordian:{value:!1,validator:function(val){return"boolean"==typeof val}},isRefresh:{value:!1},refreshBottom:{value:null},refreshRight:{value:null},extraCSS:{value:""},showSquare:{value:!1}}})},"0.0.1",{requires:F.config.modules["gallery-popover"].requires||[],optional:F.config.modules["gallery-popover"].optional||[]});YUI.add("focus-tracker",function(Y){var textInputExp=/^text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color$/i;function get(){var focused;try{focused=Y.one(document.activeElement)}catch(err){return console.warn("Caught error from document.activeElement",err),!1}return focused}Y.focusTracker={get:get,isInput:function(){var tagName,elt=get();return!!elt&&("INPUT"===(tagName=elt.get("tagName").toUpperCase())?textInputExp.test(elt.get("type")):"TEXTAREA"===tagName||"SELECT"===tagName||void 0)},blur:function(){var elt=get();if(elt&&Y.Lang.isFunction(elt.blur))try{elt.blur()}catch(ex){}}}},"0.0.1",{requires:F.config.modules["focus-tracker"].requires||[],optional:F.config.modules["focus-tracker"].optional||[]});YUI.add("better-throttle",function(Y){Y.betterThrottle=function(supplied_function,delay,oScope,only_call_the_last_one){var last,timer;turn last=0,oScope=oScope||null,function(){var now=(new Date).getTime();if(only_call_the_last_one)cancel();else if(delay<now-last)return last=now,void call_supplied_function.apply(oScope,arguments);timer=timer||Y.later(delay,oScope,call_supplied_function,arguments)}}},"0.0.1",{requires:[]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("dump",function(e,t){var n=e.Lang,r="{...}",i="f(){...}",s=", ",o=" => ",u=function(e,t){var u,a,f=[],l=n.type(e);if(!n.isObject(e))return e+"";if(l=="date")return e;if(e.nodeType&&e.tagName)return e.tagName+"#"+e.id;if(e.document&&e.navigator)return"window";if(e.location&&e.body)return"document";if(l=="function")return i;t=n.isNumber(t)?t:3;if(l=="array"){f.push("[");for(u=0,a=e.length;u<a;u+=1)n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s);f.length>1&&f.pop(),f.push("]")}else if(l=="regexp")f.push(e.toString());else{f.push("{");for(u in e)if(e.hasOwnProperty(u))try{f.push(u+o),n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s)}catch(c){f.push("Error: "+c.message)}f.length>1&&f.pop(),f.push("}")}return f.join("")};e.dump=u,n.dump=u},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-stringify-simple","3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-base","3.11.0",{requires:["event-custom-base","querystring-stringify-simple"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("datatype-xml-parse",function(e,t){var n=e.Lang;e.mix(e.namespace("XML"),{parse:function(e){var t=null;if(n.isString(e))try{n.isUndefined(ActiveXObject)||(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e))}catch(r){try{n.isUndefined(DOMParser)||(t=(new DOMParser).parseFromString(e,"text/xml")),n.isUndefined(Windows.Data.Xml.Dom)||(t=new Windows.Data.Xml.Dom.XmlDocument,t.loadXml(e))}catch(i){}}return n.isNull(t)||n.isNull(t.documentElement)||t.documentElement.nodeName==="parsererror",t}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.11.0");
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-xdr","3.11.0",{requires:["io-base","datatype-xml-parse"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("json-parse","3.11.0",{requires:["yui-base"]});
YUI.add("gallery-flickr-api",function(Y){YUI.namespace("flickrAPITransactions");function onFailure(){return!0}function onProgress(){return!0}unction serializeObject(o){var string_out="";for(var i in o)o.hasOwnProperty(i)&&(string_out+=i+"="+o[i]+"&");return string_out.substr(0,string_out.length-1)}function formatCallbackArgs(fCallback,oArgs,isSuccess,isSetRequest){var data,args,f=com;if(isSetRequest){try{data=Y.JSON.parse(oArgs[1].responseText)}catch(ex){Y.log("invalid JSON","error","flickrAPI")}args=[{params:oArgs[2].params,data:data}].concat(oArgs)}else data=f.response_map[f.id_map[oArgs[0].tId]]?f.response_map[f.id_map[oArgs[0].tId]][0]:null,args=[{params:oArgs[0].data,data:data}].concat(oArgs);if(data&&isSuccess)return"ok"===data.stat?fCallback.apply(Y,args):(Y.log(data.message,"error","flickrAPI"),this.failure.apply(Y,args));if(0===isSuccess)this.failure.apply(Y,args);else if(fCallback)return fCallback.apply(Y,args)}var default_uri=Y.config.flickr.flags.enable_client_fullpath_api?Y.config.flickrAPI.flickr_api_uri:"/services/rest/",constant_params={format:"json",clientType:"yui-3-flickrapi-module"},TRANS=YUI.flickrAPITransactions,com={last_response_id:0,id_map:{},response_map:{},setResponse:function(id,data){var f=com;return f.response_map[id]=data,f.response_map[id]},setId:function(yui_id,flickr_id){var f=com,new_id=flickr_id;return f.id_map[yui_id]=new_id,f.last_response_id=new_id}};Y.flickrAPI={callMethod:function(sMethod,oRequest,oCallback,oYUIGetConf,return_only){"number"!=typeof(oYUIGetConf=oYUIGetConf||{}).timeout&&(oYUIGetConf.timeout=6e4),oYUIPOSTConf=oYUIGetConf,oRequest=oRequest||{};var full_url,uri=default_uri;(oRequest=Y.merge(Y.config.flickrAPI,oRequest)).flickr_api_uri&&(uri=oRequest.flickr_api_uri,delete oRequest.flickr_api_uri),Y.Object.each(oRequest,,oRequest.method=sMethod,Y.Lang.isFunction(oCallback)&&(oCallback={success:oCallback,failure:onFailure,progress:onProgress,timeout:onTimeout}),Y.Lang.isObject(oCallback)&&(oYUIGetConf=Y.merge(oYUIGetConf,{onSuccess:function(){return Y.fire("flickrAPI:success"),formatCallbackArgs.apply(oCallback,[oCallback.success,arguments,1])},onFailure:function(){if(null!==com.response_map[com.id_map[arguments[0].tId]])return Y.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI"),Y.fire("flickrAPI:failure"),formatCallbackArgs.apply(oCallback,[oCallback.failure,arguments,0])},onProgress:function(){return Y.fire("flickrAPI:progress"),formatCallbackArgs.apply(oCallback,[Y.Lang.isFunction(oCallback.progress)?oCallback.progress:function(){},arguments,null])},onTimeout:function(){return Y.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI"),TRANS["flapicb"+com.id_map[arguments[0].tId]]=com.response_map[com.id_map[arguments[0].tId]]=null,Y.Get.abort(arguments[0].tId),Y.fire("flickrAPI:timeout"),formatCallbackArgs.apply(oCallback,[oCallback.timeout,arguments,0])}}),oYUIPOSTConf=Y.merge(oYUIPOSTConf,{success:function(){return Y.fire("flickrAPI:success"),formatCallbackArgs.apply(oCallback,[oCallback.success,arguments,1,1])},failure:function(){return Y.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI"),Y.fire("flickrAPI:failure"),formatCallbackArgs.apply(oCallback,[oCallback.failure,arguments,0,1])},timeout:function(){return Y.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI"),Y.fire("flickrAPI:timeout"),formatCallbackArgs.apply(oCallback,[oCallback.timeout,arguments,0,1])}}));var url_param=(oYUIGetConf.scope=Y).merge(oYUIGetConf.data,constant_params,oRequest);return oYUIGetConf.data=url_param,full_url=uri+"?"+serializeObject(url_param),return_only?{uri:uri,params:url_param,full_url:full_url}:/(?:add|create|delete|edit|mute|post|record|remove|set|submit|unmute|move|sort|hide|block|unblock|insert|promote|login|cancel)[a-zA-Z]*$/.test(url_param.method)||full_url.length>Y.config.maxURLLength?(url_param.nojsoncallback=1,function(uri,params,yui_config){Y.use("io",function(Y){Y.io(uri,{method:"POST",data:serializeObject(params),timeout:6e4,on:yui_config,xdr:{credentials:!0},arguments:{params:params}})})}(uri,url_param,oYUIPOSTConf)):function(uri,params,yui_config){var flickr_response_id=com.last_response_id+1,yui_request_id=Y.Get.script(uri+"?"+serializeObject(params)+"&jsoncallback=YUI.flickrAPITransactions.flapicb"+flickr_response_id+"&cachebust="+(new Date).getTime(),yui_config);return com.setId(yui_request_id.tId,flickr_response_id),TRANS["flapicb"+flickr_response_id]=function(server_arg){com.setResponse(flickr_response_id,arguments)&&Y.later(1e3,Y,function(){delete TRANS["flapicb"+flickr_response_id]})},yui_request_id}(uri,url_param,oYUIGetConf)}}},"gallery-a-002",{requires:["event"]});YUI.add("sprintf",function(Y){function str_repeat(i,m){for(var o=[];0<m;o[--m]=i);return o.join("")}Y.sprintf=function(){for(var a,m,p,c,x,i=0,f=arguments[i++],o=[];f;){if(m=/^[^\x25]+/.exec(f))o.push(m[0]);else if(m=/^\x25{2}/.exec(f))o.push("%");else{if(!(m=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(f)))throw"sprintf failure";if(null==(a=arguments[m[1]||i++])||null==a)throw"Too few arguments.";if(/[^s]/.test(m[7])&&"number"!=typeof a)throw"Expecting number but found "+typeof a;switch(m[7]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a);break;case"e":a=m[6]?a.toExponential(m[6]):a.toExponential();break;case"f":a=m[6]?parseFloat(a).toFixed(m[6]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&m[6]?a.substring(0,m[6]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(m[7])&&m[2]&&0<=a?"+"+a:a,c=m[3]?"0"==m[3]?"0":m[3].charAt(1):" ",x=m[5]-String(a).length-"".length,p=m[5]?str_repeat(c,x):"",o.push(""+(m[4]?a+p:p+a))}f=f.substring(m[0].length)}return o.join("")}},"0.0.1");YUI.add("transjax-base",function(Y){var strings={};Y.transjax={add:function(module_name,new_strings){Y.Lang.isObject(strings[module_name])||(strings[module_name]={}),Y.Lang.isObject(new_strings)&&Y.mix(strings[module_name],new_strings)},get:function(){var arguments_arr,module_name,key,string,strings_obj_raw,strings_obj;if(module_name=(arguments_arr=Array.prototype.slice.call(arguments)).shift(),key=arguments_arr.shift(),strings_obj_raw=strings[module_name],1<arguments.length)return Y.Lang.isObject(strings_obj_raw)&&(string=strings_obj_raw[key]),Y.Lang.isUndefined(string)?key:(arguments_arr.unshift(string),Y.sprintf.apply(window,arguments_arr));for(var i in strings_obj={},strings_obj_raw)strings_obj_raw.hasOwnProperty(i)&&(strings_obj[i]=strings_obj_raw[i]);return strings_obj}}},"0.0.1",{requires:["sprintf"]});YUI.add("global-dialog-transjax","0.0.1",{requires:["transjax-base"]});YUI.add("page-context",function(Y){var contexts=[""];Y.PageContext={set:function(name){return contexts[contexts.length-1]!==name&&(contexts.push(name),Y.fire("PageContext:set",{newVal:name,oldVal:contexts[contexts.length-2]||""}),!0)},unset:function(name){var i;for(i=contexts.length-1;0<i;i-=1)if(contexts[i]===name)return contexts.splice(i,1),Y.fire("PageContext:unset",{newVal:contexts[contexts.length-1]||"",oldVal:name}),!0;return!1},get:},"0.0.1",{requires:F.config.modules["page-context"].requires||[],optional:F.config.modules["page-context"].optional||[]});YUI.add("keyboard-shortcut-legend-transjax",function(a){a.transjax.add("keyboard-shortcut-legend",{header_no_context:"Keyboard shortcuts for this page",header_context:"Keyboard shortcuts for this view",instructions:"This dialog lists all of the keyboard shortcuts available on this particular page. Press any key on your keyboard to hear what it does.",enable_shortcuts:"Enable keyboard shortcuts",saving:"Saving...",saved:"Saved!",unable_to_save:"Unable to save",button_close:"CLOSE",shortcut_description:"Show all keyboard shortcuts",esc_description:"Close a dialog, like this one",esc_description_screenreader:"(press escape again to close this dialog)",general:"General",navigation:"Navigation",lightbox:"Light Box",map:"Map",actions:"Actions",you_can_reenable_shortcuts_in_prefs:'You can always <a href="/account/prefs/shortcuts/?from=extend">re-enable keyboard shortcuts</a> later in your account settings, under Sharing &amp; Extending.',change_layout:"change",qwerty_layout:"QWERTY layout",spanish_layout:"Spanish layout",qwertz_layout:"QWERTZ layout",azerty_layout:"AZERTY layout",dvorak_layout:"Dvorak layout",spanish:"Spanish",layout_selector_description:"Select a keyboard layout",up_arrow:"Up arrow",down_arrow:"Down arrow",left_arrow:"Left arrow",right_arrow:"Right arrow"})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-transjax"].requires||[]});YUI.add("keyboard-shortcut-legend-layouts",function(Y){var qwerty,qwertz,azerty,spanish,dvorak;qwerty=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:189,sub:"-",sup:"_"},{keyCode:187,sub:"=",sup:"+"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:186,sub:";",sup:":"},{keyCode:222,sub:"'",sup:'"'},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:191,sub:"/",sup:"?"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]],spanish=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"<",sup:">"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:222,sub:"'",sup:"?"},{sub:"¡",sup:"¿"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"`",sup:"^"},{keyCode:107,sub:"+",sup:"*"},{sub:"Ç",sup:""}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"Ñ",sup:""},{sub:"´",sup:"¨"},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"-",sup:"_"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]],qwertz=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"^",sup:"˚"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:"§"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:191,sub:"ß",sup:"?"},{sub:"´",sup:"`"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:"@"},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:"€"},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"Ü",sup:""},{keyCode:107,sub:"+",sup:"*"},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"Ö",sup:""},{sub:"Ä",sup:""},{sub:"#",sup:"'"},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:89,sub:"Y",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"_",sup:"-"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]],azerty=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"2",sup:"",className:"small-text"},{keyCode:49,sub:"1",sup:"&"},{keyCode:50,sub:"2",sup:"é"},{keyCode:51,sub:"3",sup:'"'},{keyCode:52,sub:"4",sup:"'"},{keyCode:53,sub:"5",sup:"("},{keyCode:54,sub:"6",sup:"-"},{keyCode:55,sub:"7",sup:"è"},{keyCode:56,sub:"8",sup:"_"},{keyCode:57,sub:"9",sup:"ç"},{keyCode:48,sub:"0",sup:"à"},{sub:"˚",sup:")"},{keyCode:109,sub:"+",sup:"="},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:65,sub:"A",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:69,sub:"E",sup:"€"},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"¨",sup:"^"},{sub:"$",sup:"£"},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:77,sub:"M",sup:""},{sub:"ù",sup:"%"},{sub:"*",sup:"µ"},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:87,sub:"W",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:188,sub:",",sup:"?"},{keyCode:59,sub:";",sup:"."},{keyCode:191,sub:":",sup:"/"},{sub:"!",sup:"§"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]],dvorak=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:222,sub:"'",sup:'"'},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:80,sub:"P",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:191,sub:"/",sup:"?"},{keyCode:187,sub:"=",sup:"+"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:189,sub:"-",sup:"_"},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:186,sub:";",sup:":"},{keyCode:81,sub:"Q",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]],Y.keyboardShortcutLegendLayouts={qwerty:qwerty,spanish:spanish,qwertz:qwertz,azerty:azerty,dvorak:dvorak}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-layouts"].requires||[],optional:F.config.modules["keyboard-shortcut-legend-layouts"].optional||[]});YUI.add("keyboard-shortcut-manager",function(Y){var context,handle,default_modifiers,listeners=[],enabled=!1,ua=Y.UA,running=!1;function handleKeys(e){var current_modifiers=Y.merge(default_modifiers,{}),modifiers_ok=!0;enabled&&(context=Y.PageContext.get(),Y.focusTracker.isInput()||(e.altKey&&(current_modifiers.altKey=!0),e.ctrlKey&&(current_modifiers.ctrlKey=!0),e.metaKey&&(current_modifiers.metaKey=!0),e.shiftKey&&(current_modifiers.shiftKey=!0),listeners[e.keyCode]&&Y.Object.each(listeners[e.keyCode],function(value,guid,arr){modifiers_ok=!0,Y.Object.each(value.modifiers,function(modifier_value,modifier_guid,modifier_obj){modifiers_ok&&modifier_value!==current_modifiers[modifier_guid]&&(modifiers_ok=!1)}),modifiers_ok&&("*"===value.context[0]||-1<Y.Array.indexOf(value.context,context))&&value.handler.call(value.scope,e)},this)))}function register(keystring,handler,context,scope,modifiers){var params,legend,keyArray,len,o,guid,i,key;for("object"==typeof keystring&&(legend=(params=keystring).legend,keystring=params.keystring,handler=params.handler,context=params.context,scope=params.scope,modifiers=params.modifiers),modifiers=Y.merge(default_modifiers,modifiers),Y.Lang.isString(context)&&(context=[context]),running||function(){F&&F.keyListener?enabled=!(!F.keyListener.enabled||!Y.config.flickr.flags.enable_keyboard_shortcuts):(ua.gecko||531<ua.webkit||7<ua.ie||11<ua.opera)&&Y.config.flickr.flags.enable_keyboard_shortcuts&&(enabled=!0);enabled&&(handle=Y.on("key",handleKeys,"html","down:"));running=!0,enabled&&Y.config.flickr.flags.enable_keyboard_shortcut_legend&&Y.keyboardShortcutLegend&&Y.keyboardShortcutLegend.show&&(register({keystring:"191,109",handler:Y.keyboardShortcutLegend.show,context:"*"}),register({keystring:"191",handler:Y.keyboardShortcutLegend.show,context:"*",modifiers:{shiftKey:!0}}))}(),keyArray=keystring.split(","),len=keyArray.length,o=scope||window,guid=Y.guid(),F&&F.keyListener&&F.keyListener.detach(keyArray),i=0;i<len;i++)key=parseInt(keyArray[i],10),listeners[key]||(listeners[key]={}),listeners[key][guid]={handler:handler,context:context,modifiers:modifiers,scope:o};return Y.config.flickr.flags.enable_keyboard_shortcut_legend&&Y.keyboardShortcutLegend&&Y.keyboardShortcutLegend.register&&legend&&Y.Array.each(context,function(ctx){var newLegend=Y.clone(legend,!0);newLegend.keyCodes=keyArray,newLegend.context=ctx,Y.keyboardShortcutLegend.register(newLegend)}),{detach:function(){for(i=0;i<len;i++)key=parseInt(keyArray[i],10),listeners[key]&&listeners[key][guid]&&(listeners[key][guid]=void 0,delete listeners[key][guid])}}}default_modifiers={altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1},Y.keyboardShortcutManager={register:register,isEnabled:function(){return enabled},disable:function(){enabled=!1,Y.config.flickr.flags.enable_keyboard_shortcuts=!1},enable:function(){enabled=!0,Y.config.flickr.flags.enable_keyboard_shortcuts=!0},destroy:function(){running=enabled=!1,handle&&handle.detach()}}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-manager"].requires});YUI.add("global-dialog",function(Y){Y.global_dialog=new function(){var self=this,emulate_position_fixed=Y.UA.ie&&(Y.UA.ie<7||void 0!==document.documentMode&&5===document.documentMode||!document.compatMode.match(/css1compat/i))||navigator.userAgent.match(navigator.userAgent.match(/Version\/[1234]\s/i));Y.UA.ie&&Y.UA.ie;this.spinner=null,this.is_modal=!1,this.events_on=!1,this.o_shadows=null,this.is_showing=!1,this.style=void 0===Y.config||void 0===Y.config.flickr||Y.config.flickr.is_zeus?"default":"style_2009",this.last_style=null,this.on_escape_handler=null,this.esc_to_close=!0,this.o=null,this.o_container=null,this.o_cover=null,this.timestamp=null,this.get_elements=function(){return self.o_cover||(self.o_cover=Y.one("#global-dialog-background")),!(!self.o||!self.o_container)||(self.o=Y.one("#global_dialog"),!!self.o&&(self.o_container=self.o.one("div.global_dialog_container"),self.o?(self.o_shadows={left:Y.one("div.shadow_l"),right:Y.one("div.shadow_r")},!0):void 0))},this.reposition=function(){var shadow_height,bgY;if(emulate_position_fixed&&(bgY=window.innerWidth?(window.pageXOffset,window.pageYOffset):(document.body.scrollLeft,document.body.scrollTop)),!self.get_elements())return emulate_position_fixed&&(self.spinner&&(self.spinner.style.top=bgY+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px"),self.position_cover()),!1;(shadow_height=parseInt(self.o_container.get("offsetHeight"),10))&&self.o_shadows&&self.o_shadows.left&&self.o_shadows.right&&(self.o_shadows.left.setStyle("height",shadow_height+"px"),self.o_shadows.right.setStyle("height",shadow_height+"px")),self.o.setStyle("marginLeft",-self.o.get("offsetWidth")/2+"px"),self.o.setStyle("marginTop",-self.o.get("offsetHeight")/2+"px"),self.o.setStyle("left","50%"),self.o.setStyle("top","50%"),emulate_position_fixed&&self.o.setStyle("top",bgY+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px")},this.show=function(params){if(void 0!==params&&void 0!==params.loading&&self.set_loading(!!params.loading),!self.get_elements())return!1;params&&!1===params.esc_to_close?this.esc_to_close=!1:this.esc_to_close=!0,void 0!==params?(void 0===params.modal||void 0!==params.modal&&!1!==params.modal?self.set_modal(!0):self.set_modal(!1),void 0!==params.style?self.set_style(params.style):self.set_style(self.style),void 0!==params.width&&self.set_width(params.width),self.set_short_message_style(void 0!==params.short_message&&params.short_message)):self.set_modal(!0),self.is_showing||(params&&void 0!==params.left?(self.o.setStyle("left",params.left),self.o.setStyle("top",params.top),self.o.setStyle("display","block")):(self.o.setStyle("left","-9999px"),self.o.setStyle("top","-9999px"),self.o.setStyle("display","block"),self.reposition()),self.is_showing=!0)},this.hide=function(o_options){if(Y.focusTracker&&Y.focusTracker.isInput()&&Y.focusTracker.blur(),self.set_modal(),emulate_position_fixed&&self.detach_events(),self.detach_key_events(),o_options&&o_options.loading?self.set_loading(!0):self.set_loading(!1),!self.get_elements())return!1;self.is_showing&&(self.o.setStyle("display","none"),self.is_showing=!1),self.on_escape_handler=null,self.modal_remove_handler&&self.modal_remove_handler.detach&&self.modal_remove_handler.detach(),self.modal_remove_key_handler&&self.modal_remove_key_handler.detach&&self.modal_remove_key_handler.detach()},this.set_width=function(n_width){if(!self.get_elements())return!1;n_width?(self.o.setStyle("width","auto"),self.o_container.setStyle("width",n_width+("auto"===n_width?"":"px"))):(self.o.setStyle("width","auto"),self.o_container.setStyle("width",Y.UA.ie&&Y.UA.ie<7?"334px":"320px")),self.reposition()},this.set_style=function(s_style){if(!self.get_elements())return!1;self.last_style&&self.o.removeClass(self.last_style),s_style&&self.o.addClass(s_style),self.last_style=s_style,self.reposition()},this.set_short_message_style=function(use_style){if(self.use_short_message_style=use_style,!self.get_elements())return!1;self.o.removeClass("style_2009"),use_style?(self.o.removeClass("global_dialog"),self.o.addClass("global-dialog-short-msg"),self.is_modal&&(self.modal_remove_handler=self.o_cover.once("click",function(){self.hide()}),self.modal_remove_key_handler=Y.once("key",function(){Y.keyboardShortcutManager.isEnabled()&&this.esc_to_close&&(Y.PageContext&&Y.PageContext.unset(Y.PageContext.get()),self.hide())},window,"down:13,27"))):(self.o.removeClass("global-dialog-short-msg"),self.o.addClass("global_dialog")),self.reposition()},this.set_spinner=function(b_modal){b_modal?(self.spinner||(self.spinner=document.createElement("div"),self.spinner.className="global_dialog_spinner",document.body.appendChild(self.spinner),emulate_position_fixed&&self.position_cover()),self.spinner.style.display="block"):self.spinner&&(self.spinner.style.display="none")},this.set_modal=function(b_modal){if(self.is_modal=b_modal,!self.o_cover)return!1;if(b_modal){emulate_position_fixed?(self.o_cover.setStyle("position","absolute"),self.position_cover(),self.attach_events()):self.o_cover.setStyle("position","fixed"),self.attach_key_events();self.o_cover.setStyle("backgroundColor","#000"),self.o_cover.setStyle("opacity",.35),self.o_cover.setStyle("MozOpacity",.35),self.o_cover.setStyle("filter","alpha(opacity=35)"),self.o_cover.setStyle("display","block")}else self.o_cover.setStyle("position","absolute"),self.o_cover.setStyle("display","none"),self.detach_events(),self.detach_key_events()},this.set_loading=function(b_loading){if(!self.o_cover)return!1;b_loading?(self.set_spinner(b_loading),self.o_cover.removeClass("loaded"),self.o_cover.addClass("loading"),self.is_modal||self.set_modal(!0)):(self.set_spinner(b_loading),self.o_cover.removeClass("loading"),self.o_cover.addClass("loaded"),self.is_modal&&self.set_modal(!1))},this.set_aria=function(attrs){attrs&&"object"==typeof attrs&&(attrs["aria-labelledby"]&&self.o.setAttribute("aria-labelledby",attrs["aria-labelledby"]),attrs["aria-describedby"]&&self.o.setAttribute("aria-describedby",attrs["aria-describedby"]))},this.remove_existing_dialog=function(){if(self.o)try{return self.o._node.parentNode.removeChild(self.o._node),!(self.o=null)}catch(e){return!1}},this.create_dialog=function(innerHTML,o_options){self.o&&(self.remove_existing_dialog(),self.o=null),self.timestamp=(new Date).getTime(),self.last_style=null,self.is_showing=!1;var o=document.createElement("div");document.body.appendChild(o),self.o=Y.one(o),self.o.set("id","global_dialog"),self.o.set("className","global_dialog"),self.o.setAttribute("role","dialog");var admin_maximizer="";return Y.config.flickr.flags.enable_global_dialog_maximizer&&(Y.log("assign maximizer hlobal-dialog-maximized"))}),admin_maximizer='<div class="global-dialog-admin-maximizer">admins only: <a href="#">maximize global dialog</a></div>'),self.o.set("innerHTML",'<div id="global-dialog-container" class="global_dialog_container"><div class="wrapper">'+innerHTML+"</div>"+admin_maximizer+"</div>"),self.o_container=null,self.get_elements(),o_options&&o_options.style?self.set_style(o_options.style):self.set_style(self.style),o_options&&o_options.width?self.set_width(o_options.width):self.set_width(),self},this.create_confirmation_dialog=function(msg,callback,config_overrides){var hd_msg,bd_msg,ft_msg,config,photo_html,checkbox_html,html,confirm_id,cancel_id,event_handle,confirm_button_html;Y.Lang.isObject(msg)?(hd_msg=Y.Lang.isString(msg.hd)?msg.hd:"",bd_msg=Y.Lang.isString(msg.bd)?msg.bd:"",ft_msg=Y.Lang.isString(msg.ft)?msg.ft:""):bd_msg=Y.Lang.isString(msg)?msg:"",config={CONFIRM:Y.transjax.get("global-dialog","button_confirm"),CANCEL:Y.transjax.get("global-dialog","button_cancel"),width:330,loading:!1,modal:!0,confirm_butt_class:"Butt",cancel_butt_class:"CancelButt",checkboxes:[],photo:{},scope:window},Y.Lang.isObject(config_overrides)||(config_overrides={}),config=Y.mix(config_overrides,config),confirm_id=Y.guid(),cancel_id=Y.guid(),photo_html="",config.photo&&config.photo.url&&(photo_html='<div class="photo_container"><img src="'+config.photo.url+'"'+(config.photo.width?' width="'+config.photo.width+'"':"")+(config.photo.height?' height="'+config.photo.height+'"':"")+"></div>"),checkbox_html="",config.checkboxes.length&&Y.Ar '+label+"</label></div>"}),confirm_button_html=' <input type="button" class="'+config.confirm_butt_class+'" value="'+config.CONFIRM+'" id="'+confirm_id+'">',"BigAssButt"===config.confirm_butt_class&&(confirm_button_html=' <a href="#" class="'+config.confirm_butt_class+'" id="'+confirm_id+'"><span></span>'+config.CONFIRM+"</a>"),html=(hd_msg?'<div class="hd">'+hd_msg+"</div>":"")+'<div class="bd">'+bd_msg+photo_html+checkbox_html+'</div><div class="bd button_container confirmation_button_container">'+confirm_button_html+' <input type="button" class="'+config.cancel_butt_class+'" value="'+config.CANCEL+'" id="'+cancel_id+'"></div>'+(ft_msg?'<div class="ft">'+ft_msg+"</div>":""),Y.global_dialog.remove_existing_dialog(),Y.global_dialog.create_dialog(html,config).show(config),event_handle=Y.delegate("click",function(e){var confirmed,extra;confirmed=e.target.get("id")===confirm_id,extra={},config.checkboxes.length&&(extra.checkboxes=[],self.o_container.all('inppush(node.get("checked"))})),Y.global_dialog.hide(),Y.Lang.isFunction(callback)&&callback.apply(config.scope,[confirmed,extra]),e.preventDefault(),event_handle.detach()},self.o_container,'.button_container input[type="button"], .button_container a.BigAssButt')},this.create_alert_dialog=function(msg,callback,config_overrides){var config,html,confirm_id;config={CONFIRM:Y.transjax.get("global-dialog","button_confirm"),width:330,loading:!1,modal:!0},Y.Lang.isObject(config_overrides)||(config_overrides={}),config=Y.mix(config_overrides,config),confirm_id=Y.guid(),html='<div class="hd">'+msg+'</div><div class="bd button_container"> <input type="button" class="Butt" value="'+config.CONFIRM+'" id="'+confirm_id+'"></div>',Y.global_dialog.remove_existing_dialog(),Y.global_dialog.create_dialog(html,config).show(config),Y.delegate("click",function(){Y.global_dialog.hide(),Y.Lang.isFunction(callback)&&callback.apply(window,[!0])},this.o_container,"#"+confirm_id)},this.position_cover=function(o_element){var bgX,bgY;o_element=o_element||Y.one(self.o_cover),self.get_elements(),o_element&&(bgY=window.innerWidth?(bgX=window.pageXOffset,window.pageYOffset):(bgX=document.body.scrollLeft,document.body.scrollTop),o_element.setStyle("width","100%"),o_element.setStyle("height",Y.one("body").get("offsetHeight")+"px"),o_element.setStyle("top",bgY+"px"),o_element.setStyle("left",bgX+"px"))},this.legacy_resize_handler=function(){self.reposition(),self.position_cover()},n(),self.position_cover()},this.key_handler=function(e){if(Y.keyboardShortcutManager.isEnabled()&&27===(e.which||e.keyCode)){if(!this.esc_to_close)return;Y.PageContext&&Y.PageContext.unset(Y.PageContext.get()),self.hide()}},this.attach_events=function(){if(self.events_on)return!1;self.events_on=!0,Y.UA.ios||(self.resize_event_handle=Y.on("resize",self.legacy_resize_handler,window,self,!0),self.scroll_event_handle=Y.on("scroll",self.legacy_scroll_handler,window,self,!0))},this.attach_key_events=function(){self.key_event_handle=Y.on("key",self.key_handler,window,"up:27",self,!0)},this.detach_events=function(){if(!self.events_on)return!1;self.events_on=!1,self.resize_event_handle&&self.resize_event_handle.detach(),self.scroll_event_handle&&self.scroll_event_handle.detachkey_event_handle.detach()},this.get_elements()}},"0.0.1",{requires:F.config.modules["global-dialog"].requires||[],optional:F.config.modules["global-dialog"].optional||[]});YUI.add("keyboard-shortcut-legend",function(Y){var modalHTML,spinnerStart,layout,checkbox,allkeyNodes,allShortcutNodes,keyHandle,focusedKey,shortcutsShouldBeReenabled,windowResizeHandler,initialized=!1,contextName="keyboard-shortcut-legend",modalHTMLCache={},showing=!1,disabled=!1,minSpinnerDuration=2e3,cookieName="keylayout",escCount=0,fitsInViewport=!0,layoutChanged=!1,minWindowWidth=890,minWindowHeight=584,shortcuts=[],groups=[Y.transjax.get("keyboard-shortcut-legend","navigation"),Y.transjax.get("keyboard-shortcut-legend","actions"),Y.transjax.get("keyboard-shortcut-legend","lightbox"),Y.transjax.get("keyboard-shortcut-legend","map"),Y.transjax.get("keyboard-shortcut-legend","general")];function init(){Y.all(".keyboard-shortcut-legend-trigger").on("click",show),layout=Y.Cookie.get(cookieName)||function(){var bestLayout="qwerty";Y.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts&&("de-de"===Y.config.flickr.lang?bestLayout="qwertz":"fr-fr"===Y.config.flickr.lang?bestLayout="azerty":"es-us"===Y.config.flickr.lang&&(bestLayout="spanish"));return bestLayout}(),initialized=!0}function show(e){var currentContext=Y.PageContext.get(),sortedGroups={};showing?hide(e):(checkbox=Y.keyboardShortcutLegendLayouts[layout],""!==currentContext&&"lightbox"!==currentContext&&"flickrMap"!==currentContext&&(Y.PageContext.unset(currentContext),currentContext=Y.PageContext.get()),Y.Array.each(shortcuts,function(shortcut,i){shortcut.context!==currentContext&&"*"!==shortcut.context||Y.Array.each(groups,function(group,j){shortcut.group===group&&(sortedGroups[group]||(sortedGroups[group]=[]),sortedGroups[group].push(shortcutgroup].sort(shortcutSort)}),modalHTMLCache[currentContext+layout]?modalHTML=modalHTMLCache[currentContext+layout]:(modalHTML='<div class="hd keyboard-shortcut-legend-hd"><h2 id="keyboard-shortcut-legend-header">'+Y.transjax.get("keyboard-shortcut-legend","header_"+(""===currentContext?"no_context":"context"))+'</h2><label class="killswitch-container"><span class="spinner">'+Y.transjax.get("keyboard-shortcut-legend","saving")+'</span><span class="success"><span class="msg-icon"></span>'+Y.transjax.get("keyboard-shortcut-legend","saved")+'</span><span class="alert"><span class="msg-icon"></span>'+Y.transjax.get("keyboard-shortcut-legend","unable_to_save")+'</span><input type="checkbox" class="killswitch" tabindex="1" checked>'+Y.transjax.get("keyboard-shortcut-legend","enable_shortcuts")+'</label><a href="#" class="keyboard-shortcut-legend-close"></a></div><div class="bd keyboard-shortcut-legend-bd '+layout+'-layout"><p id="keyboard-shortcut-legend-instructions" class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","instructions")+"</p>",Y.Array.each(checkbox,function(row,i){modalHTML+='<ul class="keyboard-row row-'+i+'">',Y.Array.each(row,function(key){modalHTML+="<li"+(key.className?' class="'+key.className+'"':"")+' id="key-'+key.keyCode+'"><span class="key-container"><a href="#" class="key-height" role="button" tabindex="-1"><span class="key">'+(key.sup?'<span class="sup">'+key.sup+"</span>":"")+(key.sub?'<span class="sub">'+key.sub+"</span>":"")+"</span></a></span></li>"}),modalHTML+="</ul>"}),Y.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts&&(modalHTML+='<div class="layout-tools"><span class="layout-description show"><span class="selected-layout">'+Y.transjax.get("keyboard-shortcut-legend",layout+"_layout")+'</span> (<a href="#" class="layout-change" role="button" tabindex="1">'+Y.transjax.get("keyboard-shortcut-legend","change_layout")+'</a>)</span><span id="layout-selector-desc" class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","layout_selector_description")+'</span><select class="layout-selector" aria-label="layout-selector-desc"><option value="qwerty"'+("qwerty"===layout?" selected":"")+'>QWERTY</option><option value="spanish"'+("spanish"===layout?" selected":"")+">"+Y.transjax.get("keyboard-shortcut-legend","spanish")+'</option><option value="qwertz"'+("qwertz"===layout?" selected":"")+'>QWERTZ</option><option value="azerty"'+("azerty"===layout?" selected":"")+'>AZERTY</option><option value="dvorak"'+("dvorak"===layout?" selected":"")+">Dvorak</option></select></div>"),modalHTML+='<hr><div class="shortcuts" role="document">',Y.Array.each(groups,function(group,i){sortedGroups[group]&&(modalHTML+='<div class="group"><h4>'+group+"</h4><ul>",Y.Array.each(sortedGroups[group],function(shortcut,j){modalHTML+='<li id="shortcut-'+i+"-"+j+'"><kbd'+("&larr;"===shortcut.key||"&rarr;"===shortcut.key?' class="arrow"':"")+">"+shortcut.key+'</kbd><span id="shortcut-'+i+"-"+j+'-desc">'+shortcut.description+"</span></li>"}),modalHTML+="</ul></div>")}),modalHTML+='</div><div class="mask"></div></div>',modalHTMLCache[currentContext+layout]=modalHTML),fitsInViewport=Y.DOM.winHeight()>minWindowHeight&&Y.DOM.winWidth()>minWindowWidth,Y.PageContext.set(contextName),Y.global_dialog.remove_existing_dialog(),Y.global_dialog.create_dialog(modalHTML,{width:fitsInViewport?842:633}).show({loading:!1,modal:!0}),Y.global_dialog.set_aria({"aria-labelledby":"keyboard-shortcut-legend-header","aria-describedby":"keyboard-shortcut-legend-instructions"}),showing=!0,(checkbox=Y.one(".keyboard-shortcut-legend-hd .killswitch")).set("checked",Y.config.flickr.flags.enable_keyboard_shortcuts),layoutChanged&&(layoutChanged=!1,Y.one(".keyboard-shortcut-legend-bd .layout-tools .layout-change").focus()),toggleDisabledOverlay(checkbox,!0),fitsInViewport||(Y.one(".keyboard-shortcut-legend-bd").addClass("mini"),Y.global_dialog.reposition()),Y.Array.each(groups,function(group,i){sortedGroups[group]&&Y.Array.each(sortedGroups[group],function(shortcut,j){var shortcutNode=Y.one("#shortcut-"+i+"-"+j),shortcutCanBeUsed=!1;Y.Array.each(shortcut.keyCodes,function(keyCode){var keyNode=Y.one("#key-"+keyCode);keyNode&&(shortcutCanBeUsed=!0,keyNode.addClass("highlight"),keyNode.on(["focus","mouseover"],function(e){removeAllHighlights({blur:"mouseover"===e.type}),shortcutNode.addClass("highlight")}),keyNode.on(["blur","mouseout"],function(e){removeAllHighlights()}),sdClass("super-highlight")}),shortcutNode.on("mouseout",function(e){removeAllHighlights()}),keyNode.one("a.key-height").setAttribute("aria-describedby",shortcutNode.get("id")+"-desc"))}),shortcutCanBeUsed||shortcutNode.remove()})}),allkeyNodes=Y.all(".keyboard-shortcut-legend-bd .keyboard-row li"),allShortcutNodes=Y.all(".keyboard-shortcut-legend-bd .shortcuts li"),Y.once("click",hide,".keyboard-shortcut-legend-close"),Y.keyboardShortcutManager.register({keystring:"27",handler:hide,context:contextName}),Y.all(".keyboard-shortcut-legend-bdion(e){e.preventDefault()}),Y.all(".keyboard-shortcut-legend-hDisabledOverlay(e.target)}),Y.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts&&(Y.all(".keyboard-shortcut-legend-bd .layout-change").on("click",showLayoutSelector),Y.all(".keyboard-shortcut-legend-bd .layout-selector").on("change",handleLayoutChange)),windowResizeHandler=Y.on("resize",Y.betterThrottle(checkWindowSize,50)),Y.config.flickr.flags.enable_keyboard_shortcuts&&(shortcutsShouldBeReenabled=!0,Y.keyboardShortcutManager.disable(),attachKeyHandler()),e&&e.preventDefault&&e.preventDefault())}function shortcutSort(a,b){return a.order>b.order?1:b.order>a.order?-1:0}function removeAllHighlights(attr){(attr=attr||{}).blur&&focusedKey&&"function"==typeof focusedKey.blur&&(focusedKey.blur(),focusedKey=null),allkeyNodes.removeClass("super-highlight"),allShortcutNodes.removeClass("highlight")}function checkWindowSize(e){(Y.DOM.winHeight()>minWindowHeight&&Y.DOM.winWidth()>minWindowWidth)!==fitsInViewport&&(hide(),show())}function hideSpinner(success){var elapsedDuration=(new Date).getTime()-spinnerStart;minSpinnerDuration<=elapsedDuration||!success?(Y.one(".keyboard-shortcut-legend-hd .spinner").removeClass("show"),showApiS"),showApiStatus(success)},minSpinnerDuration-elapsedDuration)}function toggleDisabledOverlay(checkbox,skipApi){var modalBody=Y.one(".keyboard-shortcut-legend-bd"),maskNode=Y.one(".keyboard-shortcut-legend-bd .mask");skipApi||(hideApiStatus(),Y.one(".keyboard-shortcut-legend-hd .spinner").addClass("show"),spinnerStart=(new Date).getTime()),checkbox.get("checked")?(maskNode&&maskNode.setStyle("display","none"),skipApi||function(callback){callback=callback||function(){};Y.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:0},{success:function(){shortcutsShouldBeReenabled=!(disabled=!1),attachKeyHandler(),callback(!0)},failure:function(){callback(!1)}})}(function(rsp){hideSpinner(rsp),rsp||(maskNode&&maskNode.setStyle("display","block"),Y.keyboardShortcutManager.disable(),checkbox.set("checked",!1))})):(maskNode.setStyle("width",modalBody.get("offsetWidth")),maskNode.setStyle("height",modalBody.get("offsetHeight")),maskNode.setStyle("display","block"),skipApi||function(callback){callback=callback||function(){};Y.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:1},{success:function(){shortcutsShouldBeReenabled=!(disabled=!0),detachKeyHandle:function(){callback(!1)}})}(function(rsp){hideSpinner(rsp),rsp||(maskNode.setStyle("display","none"),Y.keyboardShortcutManager.enable(),checkbox.set("checked",!0))}))}function showApiStatus(success){Y.one(success?".keyboard-shortcut-legend-hd .success":".keyboard-shortcut-legend-hd .alert").addClass("show"),setTimeout(hideApiert").removeClass("show")}function showLayoutSelector(e){Y.one(".keyboard-shortcut-legend-bd .layout-description").removeClass("show"),Y.one(".keyboard-shortcut-legend-bd .layout-selector").addClass("show").focus(),e&&"function"==typeof e.preventDefault&&e.preventDefault()}function handleLayoutChange(options){layout=options.target.get("value"),options={domain:".flickr.com",path:"/",expires:new Date((new Date).getTime()+31536e7)},Y.Cookie.set(cookieName,layout,options),layoutChanged=!0,hide(),show()}function handleKeys(e){var keyNode;if(32===e.keyCode&&e.target.test(".keyboard-shortcut-legend-bd .layout-tools .layout-change"))showLayoutSelector(e);else if(!(Y.focusTracker.isInput()||e.altKey||e.ctrlKey||e.metaKey||9===e.keyCode||Y.one(".keyboard-shortcut-legend-bd .layout-tools").contains(e.target))){if(27===e.keyCode&&escCount++,1<escCount)return hide(),escCount=0,void e.preventDefault();(keyNode=Y.one("#key-"+e.keyCode))&&(focusedKey=keyNode.one("a.key-height")).focus(),e.preventDefault()}}function attachKeyHandler(){keyHandle=Y.on("key",handleKeys,"html","down:")}function detachKeyHandler(){keyHandle&&"function"==typeof keyHandle.detach&&keyHandle.detach()}function hide(e){Y.global_dialog.remove_existing_dialog(),Y.global_dialog.hide(),Y.PageContext.unset(contextName),windowResizeHandler.detach(),detachKeyHandler(),shortcutsShouldBeReenabled&&Y.keyboardShortcutManager.enable(),showing=!1,disabled&&Y.global_dialog.create_alert_dialog('<span class="reenable-msg">'+Y.transjax.get("keyboard-shortcut-legend","you_can_reenable_shortcuts_in_prefs")+"</span>",Y.global_dialog.hide,{width:280}),e&&e.preventDefault&&e.preventDefault()}function register(params){initialized||init(),params.context||(params.context=""),params.group||(params.group=Y.transjax.get("keyboard-shortcut-legend","general")),params.order||0===params.order||(params.order=50),shortcuts.push(params)}Y.keyboardShortcutLegend={show:show,hide:hide,register:register},register({keyCodes:[191,109],key:"?",description:Y.transjax.get("keyboard-shortcut-legend","shortcut_description"),context:"*",order:0}),register({keyCodes:[27],key:"esc",description:Y.transjax.get("keyboard-shortcut-legend","esc_description")+' <span class="obscured">'+Y.transjax.get("keyboard-shortcut-legend","esc_description_screenreader")+"</span>",context:"*",order:1})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend"].requires||[],optional:F.config.modules["keyboard-shortcut-legend"].optional||[]});YUI.add("menus",ftor.apply(this,arguments)}Y.menus={add:function(config){return registry[config.id]=new Menu(config),registry[config.id]},hide:function(){Y.fire("flickr-menus:hide")}},Menu.NAME="Menu",Menu.ATTRS={id:{value:""},popover:{},context:{},button_node:{},constrain_node:{},open_on_hover:{value:!1},hide_delay:{},scroll:{value:!1},button_evt_listeners:{},click_to_hide_handle:{},escape_key_listener:{},use_touch_events:{value:"ontouchstart"in document.documentElement},show_timer:{},hide_timer:{},hidden_prop:{value:""},onHide:{}},Y.extend(Menu,Y.Base,{initializer:function(config){this.set("scroll",config.scroll),this.set("id",config.id),this.set("popover",config.popover),this.set("context",config.context),config.button_node instanceof Y.Node?this.set("button_node",config.button_node):(config.button_node=void 0,delete config.button_node),config.constrain_node instanceof Y.Node?this.set("constrain_node",config.constrain_node):(config.constrain_node=void 0,delete config.constrain_nodentainer"!==e&&this.hide()},this),this.attachWindowHideHandler(),this.attachButtonActionHandler(),this.after("button_nodeChange",this.attachButtonActionHandler,this)},show:function(){if(this.get("popover").get("visible"))return!1;this.get("button_node")&&this.get("button_node").addClass("ActiveButt"),Y.fire("flickr-menus:hide"),this.get("button_node")&&this.get("popover").alignToElement(this.get("button_node"),this.get("constrain_node")||Y.one("#main")),this.get("popover").show(),Y.PageContext.set(this.get("context")),Y.later(20,this,function(){var click_to_hide_handle;this.get("click_to_hide_handle")||(click_to_hide_handle=Y.one("body").on(this.get("use_touch_events")?"touchstart":"click",function(e){!this.get("popover").get("boundingBox").contains(e.target)&&e.target.ancestor("body",!0)&&this.hide()},this),this.set("click_to_hide_handle",click_to_hide_handle)),this.get("escape_key_listener")||(click_to_hide_handle=Y.keyboardShortcutManager.registr:function(e){this.hide()},context:this.get("context"),scope:this}),this.set("escape_key_listener",click_to_hide_handle))}),this.get("scroll")&&Y.one("#"+this.get("id")).vis.animScrollIntoView(!0,40,!0),Y.fire("menus:show")},hide:function(){if(!this.get("popover").get("visible"))return!1;this.get("button_node")&&this.get("button_node").removeClass("ActiveButt"),this.get("popover").hide(),Y.PageContext.unset(this.get("context")),this.get("escape_key_listener")&&(this.get("escape_key_listener").detach(),this.set("escape_key_listener",void 0)),this.get("click_to_hide_handle")&&(this.get("click_to_hide_handle").detach(),this.set("click_to_hide_handle",void 0)),Y.fire("menus:hide"),"function"==typeof this.get("onHide")&&this.get("onHide")()},toggle:function(){this.get("popover").get("visible")?this.hide():this.show()},attachButtonActionHandler:function(){var listeners,i,hover_toggler,new_evt_listeners=[];if(this.get("button_evt_listeners")){for(i=(listeners=this.get("button_evt_listeners")).length-1;0<=i;i--)listeners[i].detach();this.set("button_evt_listeners",[])}this.get("open_on_hover")?(hover_toggler=function(e){var focusedElt;e.currentTarget.hasClass("DisabledButt")||("mouseenter"===e.type&&e.currentTarget.hasClass("open")&&"BODY"!==(focusedElt=Y.focusTracker.get()).getDOMNode().tagName&&(focusedElt.blur(),this.show()),"mouseenter"!==e.type&&("touchstart"===e.type&&e.stopImmediatePropagation(),"mousemove"!==e.type||e.currentTarget.hasClass("open"))?"focus"===e.type&&document[this.get("hidden_prop")]||e.currentTarget.hasClass("open")&&"mouseleave"!==e.type&&"blur"!==e.type||(this.toggle(),e.halt()):this.show())},new_evt_listeners.push(this.get("button_node").on("focus",hover_toggler,this)),new_evt_listeners.push(this.get("button_node").on("blur",hover_toggler,this)),this.get("use_touch_events")&&new_evt_listeners.push(this.get("button_node").on("touchstart",hover_toggler,this)),new_evt_listeners.push(this.get("button_node").on("mouseenter",hover_toggler,this)),new_evt_listeners.push(this.get("button_node").on("mouseleave",hover_toggler,this)),new_evt_listeners.push(this.get("button_node").once("mousemove",hover_toggler,this))):(hover_toggler=function(e){if(!e.target.test("a")&&(e.preventDefault(),!e.currentTarget.hasClass("DisabledButt"))){this.toggle();try{e.currentTarget.blur()}catch(it_was_the_worst_of_times){}}},new_evt_listeners.push(this.get("button_node").on("click",hover_toggler,this))),this.set("button_evt_listeners",new_evt_listeners)},attachWindowHideHandler:function(){void 0!==document.hidden?this.set("hidden_prop","hidden"):void 0!==document.mozHidden?this.set("hidden_prop","mozHidden"):void 0!==document.msHidden?this.set("hidden_prop","msHidden"):void 0!==document.webkitHidden&&this.set("hidden_prop","webkitHidden")}})},"0.0.1",{requires:F.config.modules.menus.requires||[],optional:F.config.modules.menus.optional||[]});YUI.add("circle-fill-graph",function(Y){var PI=Math.PI;Y.CircleFillGraph=function(params){var containerElement,dim,lineWidth,radius,pos,segments,fillProportion,rotOffset,duration,backgroundStrokeColor,gradient,stops,canvas,ctx,animation,startTime,prevTime,delta,elapsed,currStopInd,prevStopInd,currPercent,currStopTimePercent,prevStopTimePercent,EasingFunctions;function start(){startTime=Date.now(),prevTime=startTime,prevStopTimePercent=currStopTimePercent=currPercent=prevStopInd=currStopInd=elapsed=delta=0,animation=window.requestAnimationFrame(update)}function update(){ctx.clearRect(0,0,canvas.width,canvas.height),function(){var time=Date.now();if(delta=(time-prevTime)/1e3,elapsed=(time-startTime)/1e3,currStopInd<stops.length){var stopPercentEased,currStop=stops[currStopInd],prevStop=0<currStopInd?stops[currStopInd-1]:{durationProportion:0,fillProportion:0},stopDuration=duration*(currStop.durationProportion-prevStop.durationProportion);currStopTimePercent=prevStopTimePercent+delta/stopDuration,stopPercentEased=currStop.easeFunction?EasingFunctions[currStop.easeFunction](currStopTimePercent):currStopTimePercent,currPercent=prevStop.fillProportion+(currStop.fillProportion-prevStop.fillProportion)*stopPercentEased,1<=currStopTimePercent&&(currPercent=currStop.fillProportion,prevStopTimePercent=currStopTimePercent=0,currStopInd===prevStopInd&&currStopInd++)}ctx.beginPath(),ctx.lineWidth=lineWidth,ctx.strokeStyle=backgroundStrokeColor,ctx.arc(pos.x,pos.y,radius,0,2*PI),ctx.stroke(),function(proportion){for(var segCount=segments*proportion,gradientSteps=segments,i=0;i<segCount;i++)drawCircleStroke(i,gradientSteps)}(currPercent),prevStopTimePercent=currStopTimePercent,currPercent,prevStopInd=currStopInd,prevTime=time}(),duration<elapsed?setTimeout(function(){window.cancelAnimationFrame(animation)},100):animation=window.reqtOffset+.01),ctx.stroke()}retunear:functiad:function(unction(t){retrn t<.5?2*t*:function(t){nction(t){returt:(t-1)*(2*tunction(t){reon(t){return 1-5?8*t*t*t*t:ction(t){retun(t){return 1+-*t*t*t*t:1+16*--t*t*t*t*t},easeOutElastic:function(t){return(.04-.04/t)*Math.n.04*t/--t*Math.s2-.01/t)*Math.sin(50*t)+1}},function(params){return containerElement=(params=params||{}).containerElement,dim=params.dim||{width:containerElement.clientWidth,height:containerElement.clientHeight},lineWidth=params.lineWidth||5,radius=params.radius||dim.width/2-lineWidth/2,pos=params.pos||{x:dim.width/2,y:dim.height/2},segments=params.segments||60,fillProportion=params.fillProportion||.8,rotOffset=params.rotOffset||-Math.PI/2,duration=params.duration||1,backgroundStrokeColor=params.backgroundStrokeColor||"#eeeeee",gradient=params.gradient||[{fillProportion:0,value:"5BF4FC"},{fillProportion:.3,value:"5BF4FC"},{fillProportion:.7,value:"FF32C4"},{fillProportion:1,value:"FF32C4"}],stops=params.stops||[{durationProportion:1,fillProportion:fillProportion}],fillProportion=Math.max(0,Math.min(fillPrn(stop.fillProportion,1))}),ctx=(canvas=function(containerElement){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),scale=window.devicePixelRatio||1;return containerElement.appendChild(canvas),canvas.style.width=dim.width+"px",canvas.style.height=dim.height+"px",canvas.width=dim.width*scale,canvas.height=dim.height*scale,ctx.scale(scale,scale),canvas}(params.containerElement)).getContext("2d"),{start:start}}(params)}},"0.0.1",{requires:F.config.modules["circle-fill-graph"].requires||[],optional:F.config.modules["circle-fill-graph"].optional||[]});YUI.add("global-nav",function(Y){var selectors={banners:["#refresh-announcement","#subscription-announcement","#storage-announcement","#https-announcement","#groups-opt"],eyebrow:"#eyebrow",nav:"#global-nav",searchBox:"#gn-search-field",searchButt:"#global-nav .search-icon",menuParent:".gn-menu-parent",tools:".tools",accountCardUsage:".droparound-with-storage .usage",accountCardGraph:".droparound-with-storage .graph",notifCount:"#global-nav .notifications-count"},elts={banners:[],eyebrow:null,nav:null,searchBox:null,searchButt:null,tools:null,menuParents:null},support={touch:"ontouchstart"in document.documentElement},expandTimeoutHandle=null,showTimeoutHandle=null,accountCardUsageNode=null,accountCardGraphNode=null,storageGraph=null,userPhotoCount=0,userUploadLimit=1e3,WINDOW_MIN_WIDTH=995,MINUTE=6e4,PANEL_ATTR_CONFIG={node:{},visible:{value:!1},bound){return this.get("node")}}},MenuPanel=function(attr){attr=attr||{},this.addAttrs(Y.clone(PANEL_ATTR_CONFIG,!0),attr)};function focusSearchField(){clearTimeout(expandTimeoutHandle),elts.tools.addClass("expanded")}function blurSearchField(){0===elts.searchBox.get("value").length&&(expas.removeClass("expanded")},100))}function setupPositioning(){var useFixedPositionHeaders=!1;(support.touch||document.body.offsetWidth&&document.body.offsetWidth<WINDOW_MIN_WIDTH||"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth<WINDOW_MIN_WIDTH||window.innerWidth<WINDOW_MIN_WIDTH)&&(useFixedPositionHeaders=!0),elts.nav.toggleClass("scrolling-header",useFixedPositionHeaders),elts.eyebrow&&elts.eyebrow.toggleClass("scrolling-header",useFixedPositionHeaders);for(var i=0,l=elts.banners.length;i<l;i++)elts.banners[i].toggleClass("scrolling-header",useFixedPositionHeaders)}function pollNotifications(){Y.config.flickr.flags.enable_classic_notifications_icon&&elts.notifCount&&Y.flickrAPI.callMethod("flickr.activity.getNotificationsCount",{notification_groups:"default,hermes_2020,groups_you_admin"},{success:function(count){count&&count.data&&count.data.activity&&"total"in count.data.activity?(count=count.data.activity.total,elts.notifCount.setContent(count=99<count?"99+":count),elts.notifCount.toggleClass("hidden",0===count),setTimeout(pollNotifications,MINUTE)):setTimeout(pollNotifillNotifications,5*MINUTE)}})}MenuPanel.prototype.show=function(){var node=this.get("node");Y.fire("MenuPanel:menuShown",{context:node.getData("context")}),this.set("visible",!0),showTimeo"),showTimeoutHandle=null},100)},MenuPanel.prototype.hide=function(){showTimeoutHandle&&(window.clearTimeout(showTimeoutHandle),showTimeoutHandle=null),this.get("node").removeClass("open"),this.set("visible",!1)},MenuPanel.prototype.alignToElement=function(){},Y.globalNav={init:function(){elts.eyebrow=Y.one(selectors.eyebrow),elts.nav=Y.one(selectors.nav),elts.searchBox=Y.one(selectors.searchBox),elts.searchButt=Y.one(selectors.searchButt),elts.tools=Y.one(selectors.tools),elts.menuParents=elts.nav.all(selectors.menuParent),elts.notifCount=Y.one(selectors.notifCount);for(var i=0,l=selectors.banners.length;i<l;i++){var bannerNode=Y.one(selectors.banners[i]);bannerNode&&elts.banners.push(bannerNode)}elts.searchBox&&elts.searchBox.on(["focus","blur"],function(e){elts.searchButt.toggleClass("focused","focus"===e.type)}),function(){Y.augment(MenuPanel,Y.Attribute),accountCardUsageNode=Y.one(selectors.accountCardUsage),accountCardGraphNode=Y.one(selectors.accountCardGraph),accountCardUsageNode&&(userPhotoCount=parseInt(accountCardUsageNode.getData("user-photo-count")||0),userUploadLimit=parseInt(accountCardUsageNode.getData("user-upload-limit")||1e3));for(var i=0,len=elts.menuParents.size();i<len;i++){var node=elts.menuParents.item(i),context="gn-menu-"+node.getData("context");Y.menus.add({id:context,popover:new MenuPanel({node:node}),context:context,button_node:node,open_on_hover:"account"!==node.getData("context")})}elts.nav.removeClass("no-js")}(),setupPositioning(),pollNotifications(),Y.on("Liquiion(e){setupPositioning()},50)),F.config.flickr.flags.enable_global_nav_upload_icon&&elts.searchBox&&elts.tools&&(elts.searchBox.on("focus",focusSearchField),elts.searchBox.on("blur",blurSearchField),elts.searchBox.on("key",elts.searchBox.blur,"down:27"),Y.config.doc.activeElement.isEqualNode(elts.searchBox.getDOMNode())&&(elts.searchBox.blur(),elts.searchBox.focus())),Y.on("MenuPanel:menuShown",function(evt){"account"===evt.context&&accountCardGraphNode&&function(){var stops=userUploadLimit,itemCount=userPhotoCount;storageGraph||(stops=.1<(stops=itemCount/stops||0)?[{durationProportion:.2,fillProportion:.001},{durationProportion:1,fillProportion:stops,easeFunction:"easeInOutQuad"}]:[{durationProportion:.2,fillProportion:.001},{durationProportion:.65,fillProportion:.7,easeFunction:"easeOutQuad"},{durationProportion:1,fillProportion:stops,easeFunction:"easeInOutQuad"}],storageGraph=new Y.CircleFillGraph({containerElement:accountCardGraphNode.getDOMNode(),dim:{width:50,height:50},lineWidth:2,backgroundStrokeColor:"#e1e1e1",gradient:[{fillProportion:0,value:"5BF4FC"},{fillProportion:.3,value:"33b7ff"},{fillProportion:.7,value:"FF0084"},{fillProportion:1,value:"FF0084"}],duration:1.4,stops:stops,segments:120}));storageGraph.start()}()})}}},"0.0.1",{requires:F.config.modules["global-nav"].requires||[],optional:F.config.modules["global-nav"].optional||[]});YUI.add("trustarc-consent-manager",function(Y){var trustTimeout;function updateBannerPosition(){var boundBox=document.querySelector(".foot").getBoundingClientRect(),bannerZone=document.querySelector(".banners-go-here"),viewHeight=Math.max(document.documentElement.clientHeight,window.innerHeight);bannerZone&&(boundBox.bottom<0||0<=boundBox.top-viewHeight?bannerZone.classList.add("fixed"):bannerZone.classList.remove("fixed"))}function waitForTrustArc(){var cookiePrefButton,__i__;"truste"in window&&"PrivacyManagerAPI"in window?(cookiePrefButton=document.querySelector(".trustarc-cookie-pref-butt"),clearTimeout(trustTimeout),__i__=window.postMessage&&setInterval(function(){var apiObject;window.PrivacyManagerAPI&&__i__&&(apiObject={PrivacyManagerAPI:{action:"getConsentDecision",timestamp:(new Date).getTime(),self:window.location.host}},window.top.postMessage(JSON.stringify(apiObject),"*"),__i__=clearInterval(__i__))},50),window.addEventListener("message",checkManagerInteraction),cookiePrefButton&&cookiePrefButto.truste.eu.reopenBanner()})):trustTimeout=setTimeout(waitForTrustArc,250)}function checkManagerInteraction(event){var __dispatched__,newDecision;if(event&&event.data){try{newDecision=JSON.parse(event.data)}catch(e){return}newDecision&&(newDecision.PrivacyManagerAPI||newDecision.PrivacyManagerAPI)&&(__dispatched__={},(newDecision=window.PrivacyManagerAPI.callApi("getGDPRConsentDecision",window.location.host).consentDeci(__dispatched__[label]=1)}),newDecision.length&&0!==newDecision[0]&&(new Y.CookieCatcher).handleConsentManagerChoice())}}Y.TrustArcBanner={init:function(){waitForTrustArc(),Y.on("scroll",Y.betterThrottle(updateBannerPosition,100)),Y.on("resize",Y.betterThrottle(updateBannerPosition,100))}}},"0.0.1",{requires:["yui-base","cookie-catcher"]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add(nt(e.replace(/\+/g," "))}},"3.11.0",{requires:["yui-base"]});
if(void 0===YAHOO||!YAHOO)var YAHOO={};YAHOO.i13n=YAHOO.i13n||{},YAHOO.me=t,this.spaceidPrefix=n}var t="richview";e.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var r={pageview:new e("pv","pageview",""),simple:new e("lv","event","P"),linkview:new e("lv","linkview","P"),richview:new e(t,t,"R"),contentmodification:new e(t,"contentmodification","R"),dwell:new e("lv","dwell","e:function(e){return r[e]}}}(),YAhis.map={},this.count=0}function o(e,t){if(!e)return null;null===t&&(t=!1);var n=new r,o=j.getAttribute(e,j.data_action_outcome);o&&n.set("outcm",o);var i=j.getAttribute(e,"data-ylk");if(null===i||0===i.length)return n;for(var a=i.split(j.ylk_pair_delim),c=0,u=a.length;c<u;c++){var s=a[c].split(j.ylk_kv_delim);if(2===s.length){var l=s[0],d=s[1];null!==l&&""!==l&&null!==d&&(d.length>j.MAX_VALUE_LENGTH&&(d=d.substring(0,j.MAX_VALUE_LENGTH)),l.length<=8&&j.MAX_VALUE_LENGTH>=d.length&&("_p"!==l||t)&&n.set(l,d))}}return n}function c(t){Y.set("A_sid",YAHOO.i13n.A_SID||j.rand()),Y.set("_w",j.rmProto(window.location.href).substring(0,j.MAX_VALUE_LENGTH)),t?Y.absorb(t):e.keys&&Y.absorb(e.keys)}function u(e){var t=YAHOO.i13n,n=YAHOO.i13n.TEST_ID||e.test_id,r=document.location+"";c(e.keys),n=n&&j.norm(""+n);var u={version:"3.18.5",keys:Y,getReferrer:function(){return j.norm(j.clref(e.referrer||document.referrer))},spaceid:j.norm(YAHOO.i13n.SPACEID||e.spaceid),yrid:j.norm(e.yrid||""),oo:e.oo?"1":"0",nol:e.nol?"1":"0",yql_enabled:!1!==e.yql_enabled,ywa:e.ywa||null,ywa_dpid:null,ywa_cf_override:t.YWA_CF_MAP||{},ywa_action_map:t.YWA_ACTION_MAP||{},ywa_outcome_map:t.YWA_OUTCOME_MAP||{},fing:1==e.use_fing,USE_RAPID:!1!==e.use_rapid,linktrack_attribut:e.lt_attr||"text",tracked_mods:e.tracked_mods||[],lt_attr:e.lt_attr||"text",client_only:e.client_only,text_link_len:e.text_link_len||-1,test_id:n,yql_host:e.yql_host||"geo.query.yahoo.com",yql_path:e.yql_path||"/v1/public/yql",compr_timeout:e.compr_timeout||700,compr_on:!1!==e.compr_on,compr_type:e.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||e.webworker_file||"rapidworker-1.1.js",nofollow_classname:e.nofollow_class||"rapidnofollow",no_click_listen:e.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:e.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",deb:!0===e.debug,ldbg:0<r.indexOf("yhldebug=1"),addmod_timeout:e.addmodules_timeout||300,ult_token_capture:"boolean"==typeof e.ult_token_capture&&e.ult_token_capture,track_type:e.track_type||"data-tracktype",dwell_on:!1!==e.dwell_on,async_all_clicks:!0===e.async_all_clicks,click_postmsg:e.click_postmsg||{},apv:!1!==e.apv,apv_time:e.apv_time||1e3,apv_px:e.apv_px||500,ex:!0===e.ex,persist_asid:!0===e.persist_asid,track_right_click:!0===e.track_right_click,gen_bcookie:!0===e.gen_bcookie,skip_attr:e.skip_attr||"data-rapid-skip",parse_dom:!0===e.parse_dom,pageview_on_init:!1!==e.pageview_on_init};u.ywa_action_map[YAHOO.i13n.EventTypes.getEventByName("richview").getEventName()]=100,!u.ywa||u.ywa.project_id&&0!=u.ywa.project_id&&j.isNumeric(u.ywa.project_id)||(f("Invalid YWA project id: null or not numeric."),u.ywa=null);var s=1*u.compr_timeout;t,n){return e<t?t:n<e?n:e}(s,300,700):700;var l=1*e.click_timeout;return u.click_timeout=j.isNum(l)?l:500,u}function d(e){console Date).getTime()+"):"+e)}function v(){var e=document.cookie;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(e))for(var t=e.split(/;\s/g),n=null,r=null,o=null,i=0,a=t.length;i<a;i++){if((o=t[i].match(/([^=]+)=/i))instanceof Array)try{n=j.dec(o[1]),r=j.dec(t[i].substring(o[1].length+1))}catch(c){f(c)}else r=n=j.dec(t[i]);("B"===n||"BX"===n||"TT"===n||W.ywa&&n==="fpc"+W.ywa.project_id||"fpc"===n||"ywandp"===n||0===n.indexOf("ywadp")||"D"===(new Date).valueOf()/1e3)}function _(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*n);var i=e+"="+t+("; expires="+r.toGMTString())+"; path=/";document.cookie=i}function y(e){var t,n=[];for(t in e)e[t]&&n.push(t+":"+e[t]);return encodeURIComponent(n.join(";"))}function w(e,t){e=e||"";var n=decodeURIComponent(e).split(";"),r={};for(i=0,excl=n.length;excl>i;i++){var o=n[i].split(":");r[o[0]]=o[1]}return t?r[t]:r}function k(e,t,n,r,i,a){var c="",u=null,s={sec:t,_p:n};return a?(s.slk=i||"section",u=o(r)):(r.setAttribute(W.anc_pos_attr,n),(c=j.getLT(r,e))&&""!==c?u=o(r):c="_ELINK_",s.slk=c),null!==u&&j.aug(s,u.getAll()),s}function T(e){return"input"===e.nodeName.toLowerCase()&&"submit"===j.getAttribute(e,"type")}function C(e,t){var n=function(e,t){e=e||event;for(var n=j.getTarget(e),r="button",a="",c=!1,u=null;n&&(a=n.nodeName.toLowerCase())&&"a"!==a&&a!==r&&!T(n)&&!j.hasClass(n,W.nonanchor_track_class);)n=n.parentNode;if(!n||j.hasClass(n,W.no_click_listen))return 0;if(j.hasClass(n,W.nonanchor_track_class)){u={pos:0,sec:t.moduleName,slk:"_"};var s=o(n,1);s&&j.aug(u,s.getAll())}else{var l=j.getAttribute(n,W.anc_pos_attr);if(!(u=t.getLinkAtPos(l)))res(n,W.nofollow_classname)}(e,n,t.moduleElement)||(c=!0)}if(!u.tar){var d=j.getAttribute(n,"href");d&&(u.tar=j.extDomain(d)),d&&u.tar||(u.tar=j.extDomain(window.document.location+""))}u.tar_uri||(u.tar_uri=n.pathname?n.pathname.substring(0,j.MAX_VALUE_LENGTH):"");var f=t.moduleYLK;if(f){nction(e){return!(e in u)})}return u.A_xy=j.xy(e),u.A_sr=j.sr(),"contextmenu"==e.type&&(u.A_cl=3,c=!1),{data:u,event:e,moduleElement:t.moduleElement,targetElement:n,synch:c,hasTargetTop:n&&n.target&&"_top"===n.target.toLowerCase(,name:t,data:n,outcome:r}}function I(e,t,n){t=t||document;for(var r=e.split(","),o=[],i=0,a=r.length;i<a;i++)for(var c=t.getElementsByTagName(r[i]),u=0,s=c.length;u<s;u++){var l=c[u];n&&!n.call(0,l)||o.push(l)}var d=o[0];return d?(d.sourceIndex?o.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):d.compareDocumentPosition&&o.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),o):[]}function D(e,t,n,r){t=t||document;var o=e.split(",");n=n||[];var i=t.childNodes;if("true"!==j.getAttribute(t,W.skip_attr))for(var a=0,c=i.length;a<c;a++){var u=i[a];!j.isTagOfInterest(u,o)||r&&!r.call(0,u)||n.push(u),"true"!==j.getAttribute(u,W.skip_attr)?D(e,u,n,r):"true"===j.getAttribute(u,W.skip_attr)&&n.push(u)}var s=n[0];retusourceIndex-t.sourceIndex}):s.compampareDocumentPosition(t))}),n):[]}function N(e,t){function n(t,n){var i=[];n=n||1;for(var u=0,l=t.length;u<l;u++)if("div"===t[u].tagName.toLowerCase()){var d=t[u],f=o(d),p=k(s,e,1,d,f.map.slk||a.map.slk,!0);c.push(p),i.push(p)}else{p=k(s,e,n++,t[u]);c.push(p),i.push(p)}if("true"===j.getAttribute(r,W.skip_attr)){p=k(s,e,1,d,a.map.slk,!0);c.push(p),i.push(p)}return i}var r=document.getElementById(t),i="a,button,input";if(!r)return d("Specified module not in DOM: "+t),null;var a=o(r),c=[],u=W.parse_dom?D(i,r):I(i,r),s=function(e,t){return j.hasClass(e,"rapid_track_href")?"href":j.hasClass(e,"rapid_track_text")?"text":j.hasClass(e,"rapid_track_title")?"title":j.hasClass(e,"rapid_track_id")?"id":t}(r,W.lt_attr),l=u.length,f=j.getAttribute(r,W.track_type);n(u);var v={moduleYLK:a,links:c,moduleName:e,trackType:f,moduleElement:r,refretribute(e,W.anc_pos_attr)}var c=W.parse_dom?D(i,document.getElementById(e),null,a):I(i,document.getElementById(e),a);if(!0===t||0<c.length){var u=n(c,l+1);if(l+=c.length,W.USE_RAPID||o.event){var s={};j.aug(s,this),s.links=u,!0!==t&&!r||q.sendRefreshedContent(s,t,o)}}else j.ldbg&&p("refreshModule("+e+") - no new links.");!0===t&&(W.ywa&&q.sendYWAPV(o.pp),W.apv&&B&&BmEvent(r,"conrn e>c.length?nur:t},m=function(e){C(e,v)};return j.addEvent(r,"click",m),W.track_right_click&&j.addEvent(r,"contextmenu",m),v}function P(e,t,r){if(W.ldbg&&p("beaconPageview called, pp="+j.fData(e)),t&&!W.persist_asid&&Y.set("A_sid",j.rand()),W.USE_RAPID&&q.sendRapidNoDelay([],!0,e,null,r),W.ywa){var o=n.makeFromPP(W.keys);o.absorb(e),q.sendYWAPV(o.getAll())}W.apv&&null!=B&&B.reInit()}function S(){function t(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}function a(){null!=e&&clearTimeout(e);var o=(new Date).getTime();W.apv_time>o-n&&(r=t(),lsetTimeout(function(){i()},W.apv_time)}var e=null,n=lastApvTime=(new Date).getTime(),r=t(),o=-1,i=function(){var e=t(),n=-1===o?e-r:e-o,i=0<n?0:1;Math.abs(n)>W.apv_px&&(P({A_apv:1,A_apx:e,A_asd:i},!1,!0),o=e,lastApvTime=(new Date).getTime())};j.addEvent(window,"scroll",a),this.reInit=function(){r=t(),o=-1,n=lastApvTime=(new DatmEvent(window,"scroll",a)}}function V(e){var t=navigator.userAgent,n=Object.prototype,r=t.match(/MSIE\s[^;]*/)||t.match(/Trident\/[^;]*/)?1:0,o=/KHTML/.test(t)?1:0,i=null!==t.match(/(iPhone|iPad|iPod)/gi),a=(t.indexOf("android"),i&&null!==t.match(/AppleWebKit/)),c=null!==t.match(/AppleWebKit/)&&null===t.match(/Chrome/),u=RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),s=RegExp(/[\u007f-\u00a0]|\s{2,}/g),l="http://",p="https://",v="class",m=" ",_=-1,g="https:"===window.location.protocol;return r&&(_=navigator.appVersion.match(/MSIE/)?parseFloat(navigator.appVersion.split("MSIE")[1]):parseFloat(navigator.appVersion.split("; rv:")[1])),{ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:e.ylk_kv_delim||":",ylk_pair_delim:e.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:r,isIOSSafari:a,isSafari:c,isWebkit:o,ieV:_,M.hasOwnProperty.call(e,t)},enc:encodeURIComponent,dec:do:function(){return g?p:l},isSecure:function(){return g},strip:function(e){for(var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",cookie:"",keys:[]},r=0;-1!==e.indexOf("_yl",r);){var o=e.indexOf("_yl",r);if(r<o&&(n.clean+=e.slice(r,o-1)),r=o+3,t[e.charAt(o-1)]&&"="===e.charAt(o+4)){n.ult=1;var i="_yl"+e.charAt(o+3),a="";for(o+=5;e.length>o&&!t[e.charAt(o)];o++)a+=e.charAt(o);n.keys.push(i),n[i]=a,"_ylv"!=i&&(n.cookie+="&"+i+"="+a),t[e.charAt(o)]&&"P"===t[e.charAt(o)]&&(n.clean+=e.charAt(o)),r=o+1}else n.clean+=e.slice(o-1,r)}return n.ult&&(n.cookie=n.cookie.substr(1),n.clean+=e.suefault():e.returnValue=!1},appBodyEl:function(e){document.bodume,t,n)his.sa(ontinutorage}c"!=typeof Xn(){return!!window.Worker},clearCookie:function(e,t,n){t=t||"/",n=n||"",document.cookie=e+"= ; path="+t+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+n+";"},uniqConcat:function(e,t,n){function r(e){for(var t=0,r=e.length;t<r;t++){var a=e[t];if(a){var c=n(a);i[c]||(i[c]=1,o.push(a))}}}var o=[],i={").replace/?#]|$)/i);return t&&t[1]},getAttribute:function(e,t){var n="";return document.documentElement.hasAttribute||t!==v||(t="className"),e&&e.getAttribute&&(n=e.getAttribute(t,2)),n},isDate:function(e){return"[object Date]"==y]"==={returr"==typeof e&&isFinite(e)},isNumeric:function(e){return e-0==e&&0<(e+"").replace(/^\surn de}catch(t){f(t)}return e},getTarget:function(e){var t=e.target||e.srcElement;return this.rTN(t)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.atta&&e.detachEvent("on"+t,n)},aug:function(e,t,n){if(t)for(var r in t)if(this.hasOwn(t,r)){if(n&&!n.call(null,r))coe.substr(8,e.length):e:""},norm:function(e){return null===e?"":(e=""+e,this.trim(e.replace(s," ").replace(u,"")))},_hasClass:function(e,t){var n,r=!1;return e&&t&&(n=this.getAttribute(e,v)||"",r=t.exec?t.test(n):t&&-1<(m+n+m).ir(t)&&ring(16))})+'"':'"'+e+'"'},sfy:function(e){if(!e&&""!==e)return{};var t,n=typeof e;if("undefined"==n)return"undefined";if("number"==n||"boolean"==n)return""+e;if("string"==n)return this.quote(e);if("function"==typeof e.toJSON)return this.sfy(e.toJSON());if(this.isDate(e)){var r=e.getUTCMonth()+1,o=e.getUTCDate(),i=e.getUTCFullYear(),a=e.getUTCHours(),c=e.getUTCMinutes(),u=e.getUTCSeconds(),s=e.getUTCMilliseconds();return r<10&&(r="0"+r),o<10&&(o="0"+o),a<10&&(a="0"+a),c<10&&(c="0"+c),u<10&&(u="0"+u),s<100&&(s="0"+s),s<10&&(s="0"+s),'"'+i+"-"+r+"-"+o+"T"+a+":"+c+":"+u+"."+s+'Z"'}if(t=[],this.isArr(e)){for(var l=0,d=e.length;l<d;l++)t.push(this.sfy(e[l]));return"["+t.join(",")+"]"}if("object"==n){for(var f in e)if(this.hasOwn(e,f)){var p=typeof f,v=null;if("string"===p)v=this.quote(f);else{if("number"!==p)continue;v='"'+f+'"'}if("function"!==(p=typeof e[f])&&"undefined"!==p){var m;m=null===e[f]?'""':0===e[f]?0:this.sfy(e[f]),t.push(v+":"+m)}}return"{"+t.join(",")+"}"}},toJSON:fuy:this.sfy)).call(this,t)}}(),executeOnLoad:function(e){var t=!1,n=function(n){(document.addEventListener||n&&"load"===n.type||"complete"===document.readyState)&&.detachEvent("onload",n))};if("complete"===document.readyState)setTimeout(n);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var o=!1;try{o=null==window.frameElement&&document.documentElement(a,50)}r(),e.call(tLinkCisStr(e)?e:this.toJSON(e)},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),n="input"===e.nodeName.toLowerCase()?this.getAttribute(e,"value"):"text"===t?o?e.textContent:e.innerText?e.innerText:e.textContent:"href"===t?this.rmProto(this.getAttribute(e,"href")):this.getAttribute(e,t)||"",""===(n=this.norm(n))&&(n=(n=this.norm(this.getLinkContent(e)))||this.norm(this.rmProto(this.getAttribute(e,"href")))),""===n?"_":n},clref:function(e){if(0!==e.indexOf(l)&&0!==e.indexOf(p))return"";var t=this.strip(e);rreen.pixelDepth:"unknown"},sr:function(e){return screen?screen.width+(e||",")+screen.height:""},xy:function(e){var n=null,o=e.pallTop,t.scrollLeft]:[0,0]}()),o||0===o||(o=e.clientX||0,r&&(o+=n[1])),i||0===i||(i=e.clientY||0,r&"="===r)return!0}return!1},isValidPair:function(e,t){return!(8<e.length||t.length>j.MAX_VALUE_LENGTH)||(d("Invalid key/value pair ("+e+"="+t+") Size must be < 8/300 respectively."),!1)},ser:function(e,t){if(!e)return"";var n=[],r="";for(var o in e)if(this.hasOwn(e,o)){var i=o,a=e[o];if(null===i||null===a)continue;if(i+="",(a+="").length>j.MAX_VALUE_LENGTH&&(a=a.substring(0,j.MAX_VALUE_LENGTH)),!this.isValidPair(i,a))continue;if(!this.hasCC(i)&&!this.hasCC(a)){(r="")!==(a=this.trim(a))&&" "!==a||!t||(a="_");try{r=this.enc(i+""+a),j.isSafari&&(r=r.replace(/'/g,"%27"))}catch(c){r="_ERR_ENCODE_",f(c)}n.push(r)}}re(r<3unction(){return+new Date},cookEn:function(){var e=navigator.cookieEnabled?1:0,t="rapidtc";return void 0!==navigator.cookieEnabled||e||(document.cookie=t+"=1",e=-1!=document.cookie.indexOf("testcookie"),document.cookie=t+"=; expires=Thu, 01 Jan 1970 1,15:1,18:1,19:1rCase())return!0;return!1}}}"undefined"!=typeof console&&void 0!==console.log||(console={log:function(){}}),void 0===console.error&&(console.error=console.log),void 0===console.warn&&(console.warn=con(){return j.ser(this.map)},set:function(e,t){var n=t?j.norm(t):t;null==n&&(n=""),null!==n&&j.isStr(n)&&(n=n.replace(/\\/g,"\\\\")),n.length>j.MAX_VALUE_LENGTH&&(n=n.substring(0,j.MAX_VALUE_LENGTH)),j.isValidPair(e,n)&&(this.map[j.norm(e)]=n,this.count++)},get:function(e){return this.map[e]},getAll:functionwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(e&&j.isObj(e))for(var n in e)t&&!t.call(null,n)||!j.hasOwn(e,n)|ction(){return this.count}},n.prototype=new t,(r.prototype=new(n.prototype.constructor=t)).e&&t.absorb(e.getAll()),t};var Y=new n,j=V(e),H=new function()ction(t,n){e[j.norm(t)]=n},addModules:function(e){var t=j.isArr(e),n=[];for(var r in t||j.isStr(e)&&(e=Array(e),t=!0),e)if(j.hasOwn(e,r)){var o=t?e[r]:r,i=j.trim(e[r]);if(this.exists(o))f('addModules() called with prev processed id:"'+o+'"');else{var a=N(i,o);a&&(this.addModule(o,a),n.pushdules:function on unknown sveHandlethis.reon(t){return e[j.norm(t)]}}},U={none:0,gzip:1,lzw:2,deflate:3};v.prototype={getYWAFPC:function(){if(!W.ywa)return null;var e=this.cookieMap["fpc"+W.ywa.project_id],t=this.cookieMap.fpc,n=w(t),r=null;t&&(r=n[W.ywa.project_id]),e&&(j.clearCookie("fpc"+W.ywa.project_id),!r)&&(n[W.ywa.project_id]=e,_("fpc",y(n),31536e4),r=e);retur{return this.cookieMap[e]},getYWADPID:function(){if(W.ywa){var e,t="ywandp",n="ywadp"+W.ywa.project_id,r=w(this.cookieMap[t]),o=r[W.ywa.project_id];if(null==o||""===o){e=this.cookieMap[n],r[W.ywa.project_id]=e||""+Math.floor(4294967295*Math.random()),o=r[W.ywa.project_id];var i=y(r);_(t,i,31536e4),this.cookieMap[t]=i}W.ywa_dpid=o}}};var W=u(e),q=function(){function e(e){return"cf"+(e<10&&"0"!==(""+e).charAt(0)?"0"+e:e)}function t(){void 0!==window.ITTs&&j.isArr(window.ITTs)&&0!==window.ITTs.length||(window.ITTs=[{}]),window.ITTs[0].setFPCookies||(window.ITTs[0].setFPCookies=function(){var e="fpc",t=new v,n=w(t.getCookieByName(e));n[W.ywa.project_id]=window.ITTs[0].FPCV,_(e,y(n),31536e3),t.getCookieByName(e+W.ywa.project_id)&&j.clearCookie(e+W.ywa.project_id)})}function r(e,t,n,r){W.ldbg&&p(e);var o=new Image,i=null;o.onload=o.onabort=o.onerror=function(){t&&n?t[n]=1:r&&(clearTimeout(i),r.call(null))t(function(){r.call(null)},W.Timeout(function(){o=null},1e5)}function o(e,t){for(var n in e)if(j.hasOwn(e,n)){var r=W.ywa_cf_override[n];r&&(t[r]=e[n])}}function i(n,r,i,a,c,u,s){function l(e,t){return e+(i?(t?"%3B":";")+e:"")}var d=new v,p=d.getYWAFPC();d.getYWADPID(),a=a||{},"c"!==n&&t();var m=[j.curProto(),W.ywa.host||"a.analytics.yahoo.com","/fpc.pl?"],_=W.ywa.project_id,g=W.ywa.document_group,y={};W.test_id&&(y[14]=W.test_id);var w=["_cb="+j.rand(),".ys="+W.spaceid,"a="+_,"b="+j.enc(W.ywa.document_name||document.title),"d="+j.enc(new Date),"f="+j.enc(window.location.href),"j="+j.sr("x"),"k="+j.cold(),"t="+h(),"l=true"];if(s)for(var b in s)j.hasOwn(s,b)&&w.push(b+"="+j.enc(s[b]));if(g&&""!==g&&w.push("c="+j.enc(g)),W.ywa_dpid&&w.push("dpid="+W.ywa_dpid),"c"===n){a.x=12;var k="12";i&&(k=j.enc(k+";"+i)),w.splice(0,0,"x="+k)}else"e"===n&&w.push("x="+r+(i?";"+i:""));p&&w.push("fpc="+j.enc(p));var A=W.ywa.member_id;A&&w.push("m="+A),""!==W.getReferrer()&&w.push("e="+j.enc(W.getReferrer()));var E={};j.aug(E,C().getAll()),j.aug(E,u),o(E,y),j.hasOwn(E,"A_apv")&&(y[15]=E.A_apv),"e"===n&&c&&o(c,y);var T=W.ywaon(e){return!j.isResCF(e)}),y)j.hasOwn(y,O)&&w.push(e(O)+"="+l(j.enc(y[O]),1));if("e"!==n&&"c"!==n||w.push("ca=1"),"p"!==n&&w.push("resp=img"),"c"===n)for(var L in a)if(j.hasOwn(a,L)&&"x"!==L){var M=a[L];try{M=j.enc(l(M)),j.isSafari&&(M=M.replace(/'/g,"%27"))}catch(x){f(x)}w.push(e(L)+"="+M)}retAttribute("cssText",t,0)}function u(e){var t=null;if(j.isIE&&j.ieV<=8){var n="";j.isSecure()&&6==j.ieV&&(n='src="https://geo.yahoo.com/b.html"'),t=document.createElement("<iframe "+n+' name="'+e+'"></iframe>')}else t=document.createElement("iframe");return t.name=e,t}function l(e,t){var n,r=j.make("form"),o=j.make("input"),i=a(),l=a(),d="application/x-www-form-urlencoded;charset=UTF-8";c(n=u(i)),c(r),r.id=l,r.method="POST",r.action=m(t),r.target=i,j.isIE&&j.ieV<=7?r.setAttribute("enctype",d):(r.setAttribute("enctype",d),r.setAttribute("encoding",d)),o.name="q",o.value=e,j.isIE&&10<=j.ieV&&(o.type="submit"),r.appendChild(o);var f="load",v=function(){var e="";W.ldbg&&(!j.isIE||9<=j.ieV)&&(e=(n.contentDocument||n.contentWindow.document).body.innerHTML);jrmBodyEl(n),j.rmBodyEl(r)},0),W.ldbg&&p("iframe resp: "+e),j.odyEl(e)}),j.appBodyEl(e)},1)};j.addEvent(n,f,v),j.appBodyEl(n),j.appBodyEl(r),r.submit()}function m(e){var t=W.deb,n=j.rand(),r=[j.curProto(),W.yql_host,W.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",W.spaceid,!0===t?"&yhlEnv=staging":"",!0===t||W.ldbg?"&debug=true&diagnostics=true":"",j.isIE&&j.ieV?"&yhlUA=ie"+j.ieV:"",j.isIE&&8==j.ieV?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",W.version,"&yhlRnd=",n,"&yhlCompressed=",e||0,W.gen_bcookie?"&yhlBcookie=1":""].join("");return W.ldbg&&p(r),r}function b(e,t,n){var r={};return j.isObj(e)&&j.aug(r,e,n),r}function k(e,t){var n={m:j.norm(e.moduleName),l:[]};e.moduleYLK&&(n.ylk=e.moduleYLK.getAll());function o(e){var n="_p"===e;return!(!t||!n)||"sec"!==e&&!n}for(var r=e.links,i=0,a=r.length;i<a;i++)n.l.push(b(r[i],0,o));return n}function T(e,t,n,r,o){return[{t:function(e,t){return e?"pv":t&&t.event?t.event.type.getYQLID():"lv"}(t,o),s:W.spaceid,pp:C(t,r).getAll(),_ts:h(),lv:function(e,t){var n=[],r=null;for(var o in e)if(j.hasOwn(e,o)&&(r=e[o])){var i=k(r,t);0<i.l.length?n.push(i):W.ldbg&&p('Not capturing 0 links mod: "'+r.moduleName+'"')}return n}(e,n)}]}function C(e,t){var r=n.makeFromPP(W.keys);return r.absorb(t),e&&r.set("A_",1),r}function O(e,t,n){var r="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?j.enc(r):r)}function L(e){var t={bp:H(),r:e.call(0),yrid:W.yrid,optout:W.oo,nolI(e){return e.identifier}function D(e){function t(e,t){0===t&&(e=e.replace(/'/g,"\\'")),r&&p("body: "+e),j.hasCORS()?function(e,t){var n=j.getXHR(),r=m(t);n.open("POST",r,!0),n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),W.lsponse: "+n.responseText)}),n.send(e)}(Or&&p("sent in failSend"))}var r=W.ldbg,i=U[W.compr_type];if(W.compr_on&&j.hasWorkers()&&1<i&&2048<e.length){r&&p("Looking for worker:"+W.webworker_file+", compr timeout:"+W.compr_timeout);var a=new Worker(W.webworker_file)(e.message),a.terminate()},a.onmessage=function(n){clearTimeout(u);var o=j.tms();c||(c=!0,t(n.data,i)),r&&p("Ratio ("+n.data.length+"/"+e.length+"): "+(100*n.data.length/e.length).toFixed(2)+"% -> C_T: "+(o-s)+" ms ("+o+"-"+s+")"),a.terminate()},r&&p("posting to worker: "+e),s=j.tms(),a.postMessage({tyction(){n(),a.terminate()},W.compr_timeout)}else t(e,0)}function N(e,t,n){return j.curProto()+Y+"/"+e+["?s="+(n||W.spaceid),"t="+j.rand()+","+Math.random(),"_I="+W.yrid,"_AO="+W.oo,"_NOL="+W.nol,"_R="+j.enc(W.getReferrer()),("c"===e?"_K=":"_P=")+P(t)].join("&")}function P(e){var t=new n(H(!1));return t.absorb(W.keys.getAll()),t.set("_ts",h()),e&&(e instanceof n?t.absorb(e.getAll()):f("Internal error in buildGeoPP: not PP type")),W.version+"%05"+t.ser()}function R(e,t){var n=e[t];return n&&j.isNum(n)&&0<=n?n:null}var Y=YAHOO.i13n.beacon_server||"geo.yahoo.com",H=function(e){var t={_pl:1,A_v:W.version},n=W.getReferrer();return n&&!1!==e&&(t._R=n.substring(0,j.MAX_VALUE_LENGTH)),W.test_id&&(t.test=W.test_id),W.ex&&(t._ex=1),t._bt||(t._bt="rapid"),t},q=function(){var e=null,t=[],n=0,r=W.addmod_timeout;return function(o,i,a,c){clearTimeout(e);var u=+new Date-n;(t=j.uniqConcat(t,o,I),r<u)?(n=+new Date,x(taddMods"),x(t,i,a,c),t=[]},r-u)}}();return{sendGeoT:function(e){r([j.curProto(),Y,"/teoPV:function(){r(N("b"))},sendRapidNoDelay:function(e,t,o,i,a){if(!W.yql_enabled||a){var c=null;o&&(c=new n(o)),r(N(t?"b":"p",c))}ction(e,t,n,r){q(e,t,n,r)},sendRefreshedContent:function(e,t,n){var r={};n.event&&j.aug(r,n.event.dat(){return T([e],t,!0,r,n)}))},sendYWAEvent:function(e){var t=null,n=null,o=e.name;W.ywa_action_map&&o&&(t=R(W.ywa_action_map,o)),null!==t&&(W.ywa_outcome_map&&e.outcome&&(n=R(W.ywa_outcome_map,e.outcome)),r(i("e",t,n,null,e.data)))},sendULTEvent:function(e,t){var o={};e&&e.data&&(o=e.data);var i=N("p",new n(o),t||0);e.type&&(i+="&_V="+e.type.spac.sendULTEveywa&&this.sendYWAEvent(e)},sendClick:function(e){var t,n="",a="",c=null,u=!1,s=null;if(W.USE_RAPID&&(n=function(e){return[N("c")+"&_C="+j.ser(e.data)].join("&")}(e)),W.ywa){var l=e.data,d=e.targetElement,f={18:l.sec,19:l.slk,20:l._p};"A_cl"in l&&(f[130]=l.A_cl),c=d?function(e){var t=j.getAttribute(e,j.DATA_ACTION),n=j.getAttribute(e,j.data_action_outcome);return null!==t?R(W.ywa_action_map,t):null!==n?R(W.ywa_outcome_map,n):null}(d):R(W.ywa_outcome_map,e.outcome),W.ywa_cf_override&&o(l,f),a=i("c",0,c,f)}if(W.async_all_clicks||!e.synch)return n&&r(n),void(a&&r(a));if(j.prevDef(e.event),t=function(){if(!u){u=!0;var t=e.targetElement.href;if(W.click_postmsg.origin){var n=W.click_postmsg.window||top,r=W.click_postmsg.payload||{};r.href=t,n.postMessage(j.toJSON(r),W.click_postmsg.origin)}else e.hasTargetTop?top.document.location=t:document.location=t}},W.USE_RAPID)if(W.ywa){var p=new Image,v=new Image,m=0;p.onload=p.onerror=p.onabort=v.onload=v.onerror=v.onabort=function(){2==++m&&(clearTimeout(s),t())},p.src=n,v.src=a,s=setTimeout(t,Wmeout(function(){v=p=null},1e5)}else r(n,0,0,t);else W.ywa&&r(a,0,0,t)},sendYWAPV:function(e){function t(){r[0].removeChild(a)}var n=i("p",0,0,0,0,e),r=document.getElementsByTagName("head"),o="true";if(0!==r.length){var a=j.make("script",{defer:o,async:o,type:"text/javascript",src:n});j.isIE?a.onreadystatechange=function(){var e=this.readyState;"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())}:j.isWebkit?a.addEventListener("load",t):a.onload=t,r[0].appendChild(a)}},sendInternalSearch:function(e,t){e=e||"",j.isNum(t)||(t=0),r(i("e","INTERNAL_SEARCH",null,null,null,null,{isk:e,isr:t}))},sendYWAECommerce:function(e,t){var n={},a={amount:"xa",orderId:"oc",tax:"xt",shipping:"xs",discount:"xd",sku:"p",units:"q",amounts:"r"};if(e in{PRODUCT_VIEW:1,ADD_TO_CART:1,CANCELLED_SALE:1,PENDING_SALE:1,SALE:1}){for(var c in t)if(j.hasOwn(t,c)&&c in a){n[a[c]]=t[c]}"SALE"===e&&(e=1),r(i("e",e,null,null,null,null,n))}else f("invalid YWA ecommerce action: "+e)}}}(),B=null;return function(){(function(){if(W.ult_token_capture&&!0!==YAHOO.i13n.__handled_ult_tokens__){YAHOO.i13n.__handled_ult_tokens__=!0;var e=window.document.location+"";if(e.match(/;_yl[a-z]{1}=/))W.ldbg&&p("Found ULT Token on URL."),q.sendGeoT(e);else{var n=(new v).getCookieByName("D");n&&(j.clearCookie("D","/",".yahoo.com"),q.sendGeoT(n))}}})(),W.ldbg&&p("tracked_mods: "+j.fData(W.tracked_mods));var e=H.addModules(W.tracked_mods);W.USE_RAPID&&W.pageview_on_init&&q.sendRapidNoDelay(e,1==W.client_only),W.ywa&&W.pageview_on_init&&q.sendYWAPOnLoad(fun S})}(),{init:function(){},beaconEvent:function(e,t,n){W.ldbg&&p('beaconEvent: event="'+e+'" data='+j.fData(t)+" outcome="+n);var r=L(0,e,t,n);q.sendEvents(r)},beaconRichView:function(e,t){W.ldbg&&p("beaconRichView: outcome="+t);var n=L("richview","",e,t);q.sendEvents(n)},beaconClick:function(e,t,n,r,o){!r&&o&&(r={}),o&&(r.outcm=o),q.sendClick(function(e,t,n,r,o){var i={};return j.aug(i,r),i.sec=e,i.slk=t,i._p=n,{data:i,outcome:o,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}(e,t,n,r,o))},addModules:function(e,t,n){W.ldbg&&p("addModules() called: mods="+j.fData(e)+" isPage: "+t);var r={A_am:1};(n=n||{}).pp&&j.aug(r,n.pp);switch(t=t||!1){case 1:case"1":case!0:t=!0;break;case 2:case"2":t=!!0,n.event=L("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(W.yql_enabled){n&&n.event&&t&&(f("Cannot track event type and pageview at same time."),n.event=null);var i=H.addModules(e);0===i.length&&!n.event||((W.USE_RAPID||n.event)&&(t||n.event||n.pp?(n.event&&n.event.data&&j.aug(r,n.event.data),q.sendRapidNoDelay(i,t,r,n)):q.sendRapid(i,t,r,n)),!0===t&&(W.ywa&&q.sendYWAPV(r),W.apv&&B&&B.reInit()))}else t?P(r,!1):n.event&&this.beaconRichView(r,n.event.outcome)},addModulesAsRichView:function(e,t){var n=L("richview","",{},t),r=!0;this.addModules(e,!1,{event:n}),W.yql_enabled||(r=!1),W.ywa&&r&&q.sendYWAEvent(n)},refreshModule:function(e,t,n,r){W.ldbg&&p("refreshModule called: mod="+e+" isPV: "+t+" sendLinks: "+n+" options: "+j.fData(r));switch(r=r||{},t=t||!1){case 1:case"1":case!0:t=!0;break;case 2:case"2":t=!!0,r.event=L("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(W.yql_enabled){var a=!1!==n;t&&r&&r.event&&(r.event=null),H.refreshModule(e,t,a,r)}else{var i=r.pp||{};t?P(i,!1):r.event&&this.beaconRichView(i,r.event.outcome)}},refreshModuleAsRichView:function(e,t){var n=L("richview","",{},t),r=!0;this.refreshModule(e,!1,!0,{event:n}),W.yql_enabled||(r=!1),W.ywa&&r&&q.sention(e){H.remove),H&&void 0!==H.exists(e)},destroy:function(){p("destroy called"),H.destroy(),null!==B&&(B.destroy(),B=null)},reInit:function(e){return W.ldbg&&p("reInit called with: "+j.fData(e)),(e=e||{}).spaceid?(Y=new n,W=u(e),void(j=V(e))):void f("Invalid spid in reInit config: "+jeview:function(e){P(e,!0)},beaconECommerce:function(e,t){W.ywa&&q.sendYWAECommerce(q.sendInternaln(){return Y.get("A_sid")},noger.historyStateChanged()},beaconLinkViews:function(e,t,n){W.ldbg&&p("beaconLinkViews() called: eventType: "+a);var o={A_lv:2};(n=n||{}).pp&&j.aug(o,n.pp);var a=!1;switch(t){case 1:case"1":case!0:a=!0;break;case 2:case"2":a=!!0,n.event=L("contentmodification","",{});break;case 0:case"0":case!1:default:a=!1}if(W.yql_enabled){if(n&&n.event&&a&&(f("Cannot track event type and pageview at same time."),n.event=null),0!==e.length||n.event){var c=[];e.forEach(function(e){varturn"sec"!=e&&"_links"!=e});var n=[],o=1;e._links.forEach(function(t){var r={sec:e.sec,_p:o++};j.aug(r,t),n.push(r)});var i={moduleName:e.sec,moduleYLK:t,links:n};c.push(i)}),(W.USE_RAPID||n.event)&&(a||n.event||n.pp?(n.event&&n.event.data&&j.aug(o,n.event.data),q.sendRapidNoDelay(c,a,o,n)):q.sendRapid(c,a,o,n))}}else a?P(o,!1):n.event&&this.beaconRichView(o,n.event.outcome)}}};YUI.add("rapid-tracker",function(Y){var ybeacon,active=!1,rapidTracker={ok:active,_queue:[],init:function(conf){var i,len,myEvent;active||Y.one("body").on("click",function(e){var link=e.target.ancestor(".ywa-track",!0);link&&rapidTracker.beacon(link.getAttribute("data-ywa-name"))});try{for((ybeacon=new(YAHOO.i13n.Rapid||YAHOO.i13n.Track)(conf)).init(),Y.mix(this,ybeacon),i=0,len=this._queue.length;i<len;i++)myEvent=this._queue.shift(),this.beaconEvent(myEvent.key,myEvent.data);active=!0}catch(e){active=!1}},beacon:function(stringKey,objValue){objValue=objValue||"",ybeacon?ybeacon.beaconEvent(stringKey,objValue):this._queue.push({key:stringKey,data:objValue})},stripQueryParams:function(keys){var queryStringObj,queryString,loc=window.location,hist=window.history,found=!1;if(loc.search&&hist.replaceState&&(queryStringObj=Y.QueryString.parse(loc.search.repyStringObj[key],found=!0)}),found)){queryString=Y.QueryString.stringify(queryStringObj);try{hist.replaceState({},"",loc.pathname+(queryString?"?"+queryString:""))}catch(e){}}}};Y.rapidTracker=rapidTracker},"1.0.0");YUI.add("nav-selecta-rapid",function(Y){var lookup={search:/\/search\/\?q=.+/i,search_my_photos:/\/search\/\?w=[0-9]+\@N[0-9]+\&q=.+/i,search_my_contacts:/\/search\/\?w=contacts\&q=.+/i,search_groups:/\/search\/groups\/\?q=.+/i,search_users:/\/search\/people\/\?m=names&q=.+/i,contact_photostream:/^\/photos\/[a-z]+\/?/i};Y.on("NavSelecta:beforeNavigatingAway",function(url){var name;if(-1!==url.indexOf("?")||0===url.indexOf("/photos/"))if(0!==url.indexOf("/photos/me")){for(name in lookup)if(lookup.hasOwnProperty(name)&&url.match(lookup[name]))return void Y.rapidTracker.beaconClick("searchform",name)}else Y.rapidTracker.beaconClick("searchform","my_photostream");else Y.rapidTracker.beaconClick("searchform",url)})},"0.0.1",{requires:F.config.modules["nav-selecta-rapid"].requires||[]});