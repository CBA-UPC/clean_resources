/*! * @description data collection 
 * @version     0.1.10
 * update at 10/12/2020, 12:22:28 PM 
 * @author      
 * @copyright   Anthon Pang, Snowplow Analytics Ltd
 * @license     ISC
 */
(({1:[{}],2:[{}],3:[{}],4:[{}],5:[{}],6:[{charenc:2,crypt:3}],7:[{"./lib/core":9}],8:[function(c,d,a){.base64encode=b},{}],9:[function(b,d,a){var f=b("uuid");var h=b("./payload");unction g(k,p){if(typeof k==="undefined"){k=true}var i={};n{setBase64Encoding:function(q){k=q},addPayloadPair:m,addPayloadDict:resetPayloadPairs:setTrackerVersion:function(q){m("tv",q)},setTrackerNamespace:function(q){m("tna",q)},setAppId:function(q){m("aid",q)},setPlatform:function(q){m("p",q)},setUserId:function(q){m("uid",q)},setScreenResolution:function(r,q){m("res",r+"x"+q)},setViewport:setColorDepth:function(q){m("cd",q)},setTimezone:function(q){m("tz",q)},setLang:function(q){m("lang",q)},setIpAddress:trackUnstructEvent:n,trackSelfDescribingEvent:n,trackPageView:trackPagePing:trackStructEvent:trackEcommerceTransaction:trackEcommerceTransactionItem:trackScreenView:trackLinkClick:trackAdImpression:trackAdClick:function(s,y,q,t,B,v,u,w,A,r,z){var x={schema:"iglu:com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0",data:l({targetUrl:s,clickId:y,costModel:q,cost:t,bannerId:B,zoneId:v,impressionId:u,advertiserId:w,campaignId:A})};return n(x,r,z)},trackAdConversion:trackSocialInteraction:trackAddToCart:function(x,s,u,v,w,r,t,q){return n({schema:"iglu:com.snowplowanalytics.snowplow/add_to_cart/jsonschema/1-0-0",data:l({sku:x,name:s,category:u,unitPrice:v,quantity:w,currency:r})},t,q)},trackRemoveFromCart:trackFormChange:trackFormSubmission:trackSiteSearch:}a.trackerCore=g},{"./payload":10,uuid:12}],10:[function(g,h,c){var a=g("./base64");isNonEmptyJson=d;.isJson=i;.payloadBuilder=b},{"./base64":8}],11:[{}],12:[{"./rng":11}],13:[function(b,c,a){var f=b("./lib_managed/lodash"),d=b("./lib/helpers");uuid=b("uuid");(function(p,n){var i="dap.hindustantimes.com";var h=p.product_id;switch(h){case"elm":i="dap.livemint.com";break;case"eht":i="dap.hindustantimes.com";
break;case"elh":i="dap.livehindustan.com";break}var q="_ht_fp";function l(r){window.dapCollector("trackUnstructEvent",{schema:"iglu:com.htdigital.streams/notification_token/jsonschema/1-0-0",data:{notificationToken:r,}})}var k=function(){if(webengage&&webengage.util){var t=webengage.util.getWebengageCookie();if(t&&t.wp_status=="granted"){var r=localStorage.getItem("Snowplow-webengage-token")?JSON.parse(localStorage.getItem("Snowplow-webengage-token")):null;var s={};s.network_userId=m(q);s.luid=t.luid;s.cuid=t.cuid;if(!r){if(t.cuid){l(t.cuid)}else{l(t.luid)}localStorage.setItem("Snowplow-webengage-token",JSON.stringify(s))}else{if(t.cuid&&(r.cuid!=t.cuid||s.network_userId!=r.network_userId)){l(t.cuid);localStorage.setItem("Snowplow-webengage-token",JSON.stringify(s))}else{if(r.luid!=t.luid||s.network_userId!=r.network_userId){l(t.luid);localStorage.setItem("Snowplow-webengage-token",JSON.stringify(s))}}}}}};var j=function(){try{var r=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","unloadEventStart","unloadEventEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","msFirstPaint","chromeFirstPaint","requestEnd","proxyStart","proxyEnd"];
var w=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;if(w){var v={};for(var u in w.timing){if(d.isValueInArray(u,r)&&(w.timing[u]!==null)){v[u]=w.timing[u]}}delete v.requestEnd;var s=w.getEntriesByType("paint");if(s!==undefined&&s.length>0&&s[1]&&s[1].startTime){v.chromeFirstPaint=parseInt(s[1].startTime)}return{schema:"iglu:org.w3/PerformanceTiming/jsonschema/1-0-0",data:v}}}catch(t){console.log("Performance",t)}};function o(){try{var r="web";p.dapCollector("newTracker","cf",i,{appId:p.product_id,platform:r||p.platoform,encodeBase64:true,sessionCookieTimeout:30*60,stateStorageStrategy:"cookieAndLocalStorage",post:true,contexts:{webPage:true}});if(g("_ht_clientid")){var s=m("_ht_clientid");p.dapCollector("setUserId",s)}p.dapCollector("enableActivityTracking",20,20);p.dapCollector("updatePageActivity");p.dapCollector("trackPageView",null);p.addEventListener("load",function(){setTimeout(function(){p.dapCollector("trackUnstructEvent",j());k()},200)
})}catch(t){}}function m(r){var t=document.cookie.split(";");for(var s=0;s<t.length;s++){if(t[s].indexOf(r)>-1){return t[s].split("=")[1]}}}function g(r){try{var v=document.cookie.split(";");var u={};var t=false;for(var s=0;s<v.length;s++){var x=v[s].split("=");if((x[0]+"").trim()==r){t=true;break}else{t=false}}return t}catch(w){}}o()})(window,document)},{"./lib/helpers":18,"./lib_managed/lodash":20,uuid:12}],14:[{"./lib/helpers":18,"./lib_managed/lodash":20}],15:[function(b,c,a){(function(){var g=b("./lib_managed/lodash"),f=b("./lib/helpers"),d=typeof a!=="undefined"?a:this;d.InQueueManager=function(h,n,m,k,o){var j={};ction r(){var v,u,x,w,t,A,y,z;for(v=0;v<arguments.length;v+=1){w=arguments[v];t=Array.prototype.shift.call(w);if(g.isFunction(t)){t.apply(j,w);continue}A=s(t);x=A[0];y=A[1];if(x==="newTracker"){q(w[0],w[1],w[2]);continue}z=p(y);for(u=0;u<z.length;
u++){z[u][x].apply(z[u],w)}}}for(var l=0;l<k.length;l++){r(k[l])}return{push:r}}}())},{"./lib/helpers":18,"./lib_managed/lodash":20}],16:[{"./snowplow":22}],17:[{"../lib_managed/lodash":20,"browser-cookie-lite":1,jstimezonedetect:4,murmurhash:5}],18:[function(b,c,a){(function(){var h=b("../lib_managed/lodash"),f=b("browser-cookie-lite"),d=typeof a!=="undefined"?a:this;
d.fixupTitle=d.getHostName=d.fixupDomain=d.getReferrer=d.addEventListener=d.fromQuerystring=d.warn=d.getCssClasses=.getFilter=d.decorateQuerystring=d.attemptGetLocalStorage=d.attemptWriteLocalStorage=d.findRootDomain=d.isValueInArray=d.deleteCookie=d.getCookiesWithPrefix=d.parseInt=function(j){var i=parseInt(j);return isNaN(i)?undefined:i};d.parseFloat=())},{"../lib_managed/lodash":20,"browser-cookie-lite":1}],19:[{"./helpers":18}],20:[{}],21:[{"./lib/detectors":17,"./lib/helpers":18,"./lib_managed/lodash":20}],22:[{"./in_queue":15,"./lib/helpers":18,"./lib_managed/lodash":20,"./tracker":23,uuid:12}],23:[function(b,c,a){(function(){var p=b("./lib_managed/lodash"),f=b("./lib/helpers"),i=b("./lib/proxies"),g=b("browser-cookie-lite"),n=b("./lib/detectors"),m=b("sha1"),o=b("./errors"),k=b("./out_queue"),l=b("snowplow-tracker-core").trackerCore,d=b("uuid"),h=typeof a!=="undefined"?a:this;h.Tracker=function j(bk,aT,Q,z,aA){var x=l(true,,aq=document,ae=window,S=navigator,t=i.fixupUrl(aq.domain,ae.location.href,f.getReferrer()),a3=f.fixupDomain(t[0]),bj=t[1],aN=t[2],bq,ah,aA=aA||{},aL="GET",I=aA.hasOwnProperty("platform")?aA.platform:"web",v,a6=aA.hasOwnProperty("appId")?aA.appId:"",aw,aQ=aq.title,A,aJ=aA.hasOwnProperty("pageUnloadTimer")?aA.pageUnloadTimer:500,M=false,C,R,D,bg=aA.hasOwnProperty("cookieName")?aA.cookieName:"_sp_",F=aA.hasOwnProperty("cookieDomain")?aA.cookieDomain:null,bh="/",X=S.doNotTrack||S.msDoNotTrack||ae.doNotTrack,ba=aA.hasOwnProperty("respectDoNotTrack")?aA.respectDoNotTrack&&(X==="yes"||X==="1"):false,ao,al,J=aA.hasOwnProperty("cookieLifetime")?aA.cookieLifetime:63072000,O=aA.hasOwnProperty("sessionCookieTimeout")?aA.sessionCookieTimeout:1800,T=aA.hasOwnProperty("userFingerprintSeed")?aA.userFingerprintSeed:123412414,a8=aq.characterSet||aq.charset,aU=aA.hasOwnProperty("forceSecureTracker")?(aA.forceSecureTracker===true):false,ab=!aU&&aA.hasOwnProperty("forceUnsecureTracker")?(aA.forceUnsecureTracker===true):false,ak=aA.hasOwnProperty("useLocalStorage")?(f.warn("argmap.useLocalStorage is deprecated. Use argmap.stateStorageStrategy instead."),aA.useLocalStorage):true,aD=aA.hasOwnProperty("useCookies")?(f.warn("argmap.useCookies is deprecated. Use argmap.stateStorageStrategy instead."),aA.useCookies):true,aO=aA.hasOwnProperty("stateStorageStrategy")?aA.stateStorageStrategy:(!aD&&!ak?"none":(aD&&ak?"cookieAndLocalStorage":(aD?"cookie":"localStorage"))),H=S.userLanguage||S.language,a7=n.detectBrowserFeatures(aO=="cookie"||aO=="cookieAndLocalStorage",N("testcookie")),w=(aA.userFingerprint===false)?"":n.detectSignature(T),L=bk+"_"+aT,aP=false,aM,bf=new Date().getTime(),aH,ax,ar,aa,ad=m,aR,am,W,V=1,bp,B=a0(),aK=o.errorManager(x),bc=new k.OutQueueManager(bk,aT,z,aO=="localStorage"||aO=="cookieAndLocalStorage",aA.post,aA.bufferSize,aA.maxPostBytes||40000),aY=false,bl=aA.contexts||{},bn=[],s=[],aC=false,G=false;
if(aA.hasOwnProperty("discoverRootDomain")&&aA.discoverRootDomain){F=f.findRootDomain()}if(bl.gaCookies){bn.push(E())}if(bl.geolocation){bi()}x.setBase64Encoding(aA.hasOwnProperty("encodeBase64")?aA.encodeBase64:true);x.setTrackerVersion(Q);x.setTrackerNamespace(aT);x.setAppId(a6);x.setPlatform(I);x.setTimezone(n.detectTimezone());x.addPayloadPair("lang",H);x.addPayloadPair("cs",a8);for(var ac in a7){if(Object.prototype.hasOwnProperty.call(a7,ac)){if(ac==="res"||ac==="cd"||ac==="cookie"){x.addPayloadPair(ac,a7[ac])}else{x.addPayloadPair("f_"+ac,a7[ac])}}}function bo(br){t=i.fixupUrl(aq.domain,ae.location.href,f.getReferrer());if(t[1]!==bj){aN=f.getReferrer(bj)}a3=f.fixupDomain(t[0]);bj=t[1];if(br){aw=t[1]}}{var bt=az();var bv=n.detectDocumentSize();var bs=bv.split("x")[0];var bu=bv.split("x")[1];var br=bt[0];aH=br;ax=bs;var bw=bt[1];ar=bw;aa=bu}function au(){var bt=az();var bv=n.detectDocumentSize();var bs=bv.split("x")[0];var bu=bv.split("x")[1];var br=bt[0];if(br<aH){aH=br}else{if(br>ax){ax=bs}}var bw=bt[1];ar=bw;aa=bu}d(br){var bt=bn.concat(br||[]);if(bl.webPage){bt.push(a5())}if(bl.performanceTiming){var bs=P();if(bs){bt.push(bs)}}return bt}nction aS(){if(!z.searchId&&!sessionStorage.getItem("dap-searcId")){return null}return sessionStorage.getItem("dap-searcId")}function ai(){z.searchId=d.v4();sessionStorage.setItem("dap-searcId",z.searchId)}function aB(bw,br,bB,bz,bv){if(bv){at();a4();q=undefined;aE();aW();bo();aQ=aq.title;A=bw;return}clearInterval(bq);if(G){at()}G=true;bo(true);aQ=aq.title;A=bw;var by=f.fixupTitle(A||aQ);x.trackPageView(bb(bj||aw),by,bb(ah||aN),bd(aI(br,bB)),bz);var bs=new Date();if(M){aE();aW();f.addEventListener(aq,"click",a4);f.addEventListener(aq,"mouseup",a4);f.addEventListener(aq,"mousedown",a4);f.addEventListener(aq,"mousemove",a4);f.addEventListener(aq,"mousewheel",a4);f.addEventListener(ae,"DOMMouseScroll",a4);f.addEventListener(ae,"scroll",a4);f.addEventListener(aq,"keypress",a4);f.addEventListener(aq,"keydown",a4);f.addEventListener(aq,"keyup",a4);f.addEventListener(ae,"resize",a4);f.addEventListener(ae,"focus",a4);
f.addEventListener(ae,"blur",a4);var bt;if(bw&&br&&br[0]&&br[0].data&&br[0].data.storyId&&!br[0].data.pseudoPageView){var bu=br[0].data.storyId;var bA=document.getElementsByClassName("open");for(var bx=0;bx<bA.length;bx++){if(bA[bx].getAttribute("data-vars-storyid")==bu){q=bA[bx].clientHeight;bt=window.pageYOffset}}}var bC=0;bq=setInterval(function(){bC=bC+1;var bE=new Date();if((aM+6*R)>bE.getTime()){if(q){var bD=window.pageYOffset-bt;r(aI(null,bB),true,q,bD)}else{if(C<bE.getTime()){r(aI(null,bB))}}}},R)}}function r(bt,bu,bs,br){au();bo();newDocumentTitle=aq.title;if(newDocumentTitle!==aQ){aQ=newDocumentTitle;A=null}if(bu){x.trackPagePing(bb(aw||bj),f.fixupTitle(A||aQ),bb(ah||aN),U(aH),U(ax),U(br),U(bs),bd(bt))}else{x.trackPagePing(bb(aw||bj),f.fixupTitle(A||aQ),bb(ah||aN),U(aH),U(ax),U(ar),U(aa),bd(bt))}aE()};y();if(aA.crossDomainLinker){u(aA.crossDomainLinker)}return{getDomainSessionIndex:function(){return V},getPageViewId:function(){return av()},newSession:Z,getCookieName:getUserId:function(){return bp},getDomainUserId:getDomainUserInfo:getUserFingerprint:setAppId:setReferrerUrl:function(br){ah=br},setCustomUrl:setDocumentTitle:discardHashTag:function(br){D=br},setCookieNamePrefix:function(br){f.warn('setCookieNamePrefix is deprecated. Instead add a "cookieName" field to the argmap argument of newTracker.');bg=br},setCookieDomain:setCookiePath:setVisitorCookieTimeout:setSessionCookieTimeout:setUserFingerprintSeed:enableUserFingerprint:respectDoNotTrack:crossDomainLinker:addListener:enableActivityTracking:updatePageActivity:killFrame:redirectFile:resetPageView:resetPagePing:setOptOutCookie:function(br){ao=br},setCountPreRendered:function(br){al=br},setUserId:function(br){bp=br},identifyUser:function(br){setUserId(br)
},setUserIdFromLocation:function(br){bo();bp=f.fromQuerystring(br,bj)},setUserIdFromReferrer:setUserIdFromCookie:setCollectorCf:function(br){v=af(br)},setCollectorUrl:setPlatform:function(br){f.warn('setPlatform is deprecated. Instead add a "platform" field to the argmap argument of newTracker.');x.setPlatform(br)},encodeBase64:function(br){f.warn('This usage of encodeBase64 is deprecated. Instead add an "encodeBase64" field to the argmap argument of newTracker.');x.setBase64Encoding(br)},flushBuffer:enableGeolocationContext:bi,trackPageView:trackStructEvent:function(bu,bx,bs,bw,bv,bt,br){Y(function(){x.trackStructEvent(bu,bx,bs,bw,bv,bd(bt),br)})},trackSelfDescribingEvent:function(bs,bt,br){Y(function(){x.trackSelfDescribingEvent(bs,bd(bt),br)})},trackUnstructEvent:trackPayWall:function(bv,bx,bt,bs,bw,br){var bu={schema:"iglu:com.htdigital.streams/paywall_view/jsonschema/1-0-0",data:{url:bv,section:bx,vendorId:bt,loginStatus:bs}};Y(function(){x.trackUnstructEvent(bu,bd(bw),br)})},trackCampaign:function(bv,bs,bx,bu,bw,br){var bt={schema:"iglu:com.htdigital.streams/campaign_data/jsonschema/1-0-0",data:{url:bv,campaignName:bs,campaignSource:bx,campaignMedium:bu}};Y(function(){x.trackUnstructEvent(bt,bd(bw),br)})},trackSubscribeClick:function(bu,bt,br){var bs={schema:"iglu:com.htdigital.streams/subscribebtn_click/jsonschema/1-0-0",data:bu};Y(function(){x.trackUnstructEvent(bs,bd(bt),br)})},trackPlanView:function(bu,bt,br){var bs={schema:"iglu:com.htdigital.streams/plan_view/jsonschema/1-0-0",data:bu};Y(function(){x.trackUnstructEvent(bs,bd(bt),br)})},trackPaymentStatus:function(bB,bv,bx,bA,bC,bz,bt,br,bs,by){var bw={amount:bx,planName:bC,planType:bz,expiry:bt,method:br,planId:bB,status:bv,currency:bA};var bu={schema:"iglu:com.htdigital.streams/payment_status/jsonschema/1-0-0",data:bw};
Y(function(){x.trackUnstructEvent(bu,bd(bs),by)})},trackSubsclick:function(bA,bw,bz,bs,bv,br,by){var bu={planName:bA,amount:bw,withWSJ:bs,currency:bz};var bx=Object.assign(bv,bu);var bt={schema:"iglu:com.htdigital.streams/subscription_click/jsonschema/1-0-0",data:bx};Y(},addTrans:addItem:trackTrans:trackLinkClick:function(bx,bt,bu,bs,bw,bv,br){Y(function(){x.trackLinkClick(bx,bt,bu,bs,bw,bd(bv),br)})},trackAdImpression:trackAdClick:function(bt,by,br,bu,bB,bw,bv,bx,bA,bs,bz){Y(function(){x.trackAdClick(bt,by,br,bu,bB,bw,bv,bx,bA,bd(bs),bz)})},trackAdConversion:trackSocialInteraction:trackAddToCart:function(by,bt,bv,bw,bx,bs,bu,br){Y(function(){x.trackAddToCart(by,bt,bv,bw,bx,bs,bd(bu),br)})},trackRemoveFromCart:trackSiteSearch:trackTiming:trackConsentWithdrawn:function(bv,bx,bs,bt,bw,bu,br){Y(function(){x.trackConsentWithdrawn(bv,bx,bs,bt,bw,bd(bu),br)})},trackConsentGranted:trackEnhancedEcommerceAction:addEnhancedEcommerceActionContext:addEnhancedEcommerceImpressionContext:addEnhancedEcommerceProductContext:addEnhancedEcommercePromoContext:enableErrorTracking:trackError:preservePageViewId:}}())},{"./errors":14,"./lib/detectors":17,"./lib/helpers":18,"./lib/proxies":19,"./lib_managed/lodash":20,"./out_queue":21,"browser-cookie-lite":1,sha1:6,"snowplow-tracker-core":7,uuid:12}]},{},[16,13]);