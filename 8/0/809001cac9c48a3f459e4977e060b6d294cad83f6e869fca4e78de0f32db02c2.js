(self.webpackChunkweb=self.webpackChunkweb||[]).push([[79396],{16708:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});const n="https://toifeeds.indiatimes.com/treact/feeds/toi/web/list/video",a=({path:e="",perpage:t="",curpg:r=1,reqtype:a=""})=>{const o=t?`&perpage=${t}`:"",i=r?`&curpg=${r}`:"",c=a?`&reqtype=${a}`:"";return"object"==typeof window?`${n}?path=${e}${o}${i}${c}`:`${n}?path=${e}${o}${i}${c}`.replace("https","http")}},14421:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(67294),a=r(37974),o=r(45697),i=r.n(o),c=r(93096),d=r.n(c),s=r(94829),u=r(67142);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends n.Component{constructor(...e){super(...e),this.monitorDockScroll=()=>d()(this.handleDocking,500),this.handleDocking=()=>{const{dockCandidate:e,unDockCandidate:t}=this.props;let r;if(this.lastScrollY=void 0===this.lastScrollY?window.pageYOffset:this.lastScrollY,e&&t||e?r=e.ref:t&&(r=t.ref),r&&r.parentNode){const e={node:r.parentNode};(0,s.UH)(e.node)?(this.props.deleteUnDockCandidateAction(),this.props.loadedMiniTvComponent&&this.props.deleteDockCandidateAction()):(this.props.closeVideoTheatre(),this.props.addUnDockCandidateAction({},this.props.dockCandidate)))}}}componentDidMount(){this.props.isTablet()||window.addEventListener("scroll",this.monitorDockScroll())}componentWillUnmount(){this.props.isTablet()||(window.removeEventListener("scroll",this.monitorDockScroll()),this.props.deleteDockCandidateAction(),this.props.deleteUnDockCandidateAction())}f.defaultProps={unDockCandidate:{ref:i().node,isLeadVideo:i().bool},dockCandidate:{ref:i().node,isLeadVideo:i().bool},deleteUnDockCandidateAction:()=>{},deleteDockCandidateAction:()=>{},addUnDockCandidateAction:()=>{},closeVideoTheatre:;const y=(0,a.$j)((e=>{var t,r;return{dockCandidate:void 0!==e.articleshow_v2?e.articleshow_v2.dockCandidate:void 0,unDockCandidate:void 0!==e.articleshow_v2?e.articleshow_v2.unDockCandidate:void 0,loadedMiniTvComponent:"1"===(null===(t=e.miniTv)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.status)}}),(e=>({addUnDockCandidateAction:deleteUnDockCandidateAction:()=>{e((0,u.FI)())},deleteDockCandidateAction:()=>{e((0,u.RO)())},closeVideoTheatre:)))(f)},67142:(e,t,r)=>{"use strict";r.d(t,{C2:()=>Ee,CD:()=>ye,FI:()=>ee,Gx:()=>re,K0:()=>Oe,MO:()=>oe,RO:()=>Q,T8:()=>se,Us:()=>le,VI:()=>fe,VZ:()=>te,ZA:()=>pe,lK:()=>De,lc:()=>J,mc:()=>z,nO:()=>Te,p1:()=>ce,tY:()=>he,vk:()=>ue,vr:()=>Ae,wB:()=>ne,ym:()=>ie,zx:()=>de});var n=r(16708),a=r(38314),o=r(49669),i=r(29208),c=r.n(i),d=r(42947),s=r(94829),u=r(33487),p=r(74573);r(99408);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,s.D5)(u.Ruy);const E="articleshow_v2",D=A=D("RECEIVE_DATA"),h=D("HANDLE_DATA_ERROR"),O=D("DATA_LOADING"),T=D("DATA_LOADED"),_=D("ADD_DOCK_CANDIDATE"),b=D("ADD_UNDOCK_CANDIDATE"),v=D("DELETE_DOCK_CANDIDATE"),m=D("DELETE_UNDOCK_CANDIDATE"),C=D("OPEN_VIDEO_THEATRE"),g=D("CLOSE_VIDEO_THEATRE"),I=D("RECEIVE_DATA_VIDEO_THEATRE_SLIDER"),w=D("ADD_NEXT_VIDEO_MSID"),S=D("ELECTIONS_DATA_LOADED"),R=D("EXITPOLL_DATA_LOADED"),P=D("ASBREIFS_DATA_LOADED"),j=D("NIC_TEXT"),k=D("GEOLOCATION_VALUE"),L=D("ACTIVE_MSID"),$=D("LOAD_MINITV_COMPONENT"),N=D("ARTICLE_TO_SHOW_COUNT"),V=D("ARTICLE_TO_SHOW_RESET_DAYS"),M=(D("RECEIVE_CARDS_INSERT_DATA"),D("HANDLE_CARDS_INSERTS_DATA_ERROR"),D("RECIEVE_BUNDLE_HASHTAG_DATA")),H=D("RECEIVE_DATA_RELATED_ARTICLES"),x=D("RECEIVE_CARDS_INSERT_LITE_DATA"),U=D("HANDLE_CARDS_INSERTS_DATA_LITE_ERROR"),W=D("OPEN_MWEB_SEARCH"),Z=D("SET_IS_ORGANIC"),G=D("SET_IS_PAID_TRAFFIC"),F=D("SHOW_SEARCH_OVERLAY"),Y=D("RECEIVE_CARDS_DATA"),B=D("PERPETUAL_DATA"),K=D("HANDLE_UP_NEXT_ERROR");function X(){return{type:O,payload:{}}}function q(){return{type:T,payload:{}}}function J(e){return{type:_,payload:{data:e}}}function z(e){return{type:b,payload:{data:e}}}function Q(){return{type:v,payload:{}}}function ee(){return{type:m,payload:{}}}unction re(){return{type:g,payload:{}}}function ne(e){return{type:$,payload:e}}function ae(e){return{type:H,payload:{data:e.data}}}nction ce(e){return{type:N,payload:e}}function de(e){return{type:V,payload:e}}function se(e){return{type:W,payload:e}}function ue(e){return{type:F,payload:e}}function pe(e,t){return r=>new Promise((n=>{(function(e,t,r){r(X()),r((0,p.$$)());const n=t?"&frmapp=yes":"",o="yes"===e.frmprime?"&isprime=true":"",i=e.isClientConsumable?"&test=consumable":"",c=e.isTestOutstream?"&test=outstream":"",u=e.isClientConsumableV2?"&test=consumable_V2":"",l=`/articleshow/${(0,s.G6)(e.fullPath)}.cms`,f=!!e.isWapView,y=`${(0,a.E2)()}/toi/web/show/news?version=v2&path=${l}${n}${i}${c}${u}${o}`;return d.Z.get(y,{isMobile:f})})(e,t,r).then((t=>{r(q()),r((0,p.P3)()),r(function(e){return{type:A,payload:{data:e,msid:e.id}}}(t.data)),r((0,p.dy)(t.data,e)),n("1")})).catch((e=>{r(q()),r((0,p.P3)()),r(e)),n("0")}))}))}function le(e,t){const r=`/feeds/feed_relatedcontent_csr.cms?feedtype=json&tag=relatedcontentwdt&config.perpage=${t?4:8}&count=${t?4:8}&msid=${e}`;return e=>function(e){return d.Z.get(e,{},"skipfeedengine")}(r).then(().catch(()}function fe(e){return t=>(t(X()),t((0,p.$$)()),function({msid:e}){const t=`https://api-newscard.indiatimes.com/toi-plus/web/${e}.json`;return d.Z.get(t)}(e).then((r=>{r&&200===r.status&&(t(q()),t((0,p.P3)()),t(r.data)),t((0,p.recievePrimeshowCardsData)(r.data,e)))})).catch(t(q())))}function ye(e,t){return r=>function(e,t){let r=e;if(e&&e.startsWith("https://")){const t=e.replace("https://timesofindia.indiatimes.com/","").replace("https://toidev.indiatimes.com/","").replace(/\/videoshow\/\d+.cms/,"").split("/");t.pop(),r=(0,n.Z)({path:`/${t.join("/")}`,perpage:10})}return d.Z.get(r,{isMobile:t})}(e,t).then((e=>r(function(e){return{type:I,payload:{data:e.data}}}(e))))}function Ee(e,t){return r=>function(e,t){return d.Z.get(e,{isMobile:t})}(e,t).then((e=>r(function(e){return{type:S,payload:e.data}}(e))))}function De(e){return t=>function(e){return d.Z.get(`${u.hVV}${e}.json`,"skipfeedengine")}(e).then((e=>{var r;t((r=e.data,{type:M,payload:r})),t((0,p.Zg)(e.data))}))}function Ae(e,t){return r=>function(e,t){return d.Z.get(e,{isMobile:t})}(e,t).then((e=>r(function(e){return{type:R,payload:e.data}}(e))))}function he(e,t){return r=>e,t).then((e=>r(e))))}function Oe(e){return{type:Z,payload:e}}function Te(e){return{type:G,payload:e}}o.Z.register(E,(function(e={},t={}){switch(t.type){case A:{const r=e.data?f({},e.data):{};r[t.payload.msid]=t.payload.data;const n=r[t.payload.msid];return"cardhd"===c()(n,"metaInfo.CARDPAGETEMPLATE")&&n.ads&&(n.ads={}),r[t.payload.msid]=n,f(f({},e),{},{data:r})}case B:{const{cardsObj:r=null,msid:n,grxInfo:a}=t.payload,o=(null==r?void 0:r.cards)||[],i=Array.isArray(o)&&o.length>0&&o.filter((),c=Math.min(3,null==i?void 0:i.length),d=Array.isArray(i)&&i.length>0&&i.slice(0,c);return f(f({},e),{},{perpetualData:d||null,upNextGrxInfo:a})}case K:return f(f({},e),{},{upNextGrxInfo:t.payload});case O:return f(f({},e),{},{dataLoading:!0});case T:return f(f({},e),{},{dataLoading:!1});case x:return f(f({},e),{},{cardsInsertsLite:t.payload});case _:return f(f({},e),{},{dockCandidate:t.payload.data});case b:return f(f({},e),{},{unDockCandidate:t.payload.data});case v:return f(f({},e),{},{dockCandidate:void 0});case m:return f(f({},e),{},{unDockCandidate:void 0});case U:return f(f({},e),{},{cardsInsertsLite:{}});case C:return f(f({},e),{},{isVideoTheatreOpen:!0,videoTheatreSliderPath:t.payload.videoTheatreSliderPath,videoTheatreCurrMsid:t.payload.videoTheatreCurrMsid,videoTheatreCurrItem:t.payload.videoTheatreCurrItem});case g:return f(f({},e),{},{isVideoTheatreOpen:!1,videoTheatreSliderPath:void 0});case $:return f(f({},e),{},{loadedMiniTvComponent:t.payload});case I:return f(f({},e),{},{videoTheatreSliderData:t.payload.data.data.items});case w:return f(f({},e),{},{msidForNextVideo:t.payload.msidForNextVideo,slikeId:t.payload.slikeId});case S:return f(f({},e),{},{electionsData:t.payload||{}});case R:return f(f({},e),{},{exitPollData:t.payload||{}});case P:return f(f({},e),{},{asBriefsData:t.payload});case k:return f(f({},e),{},{geolocationValue:t.payload.geolocationValue||1});case L:return f(f({},e),{},{activemsid:t.payload.activemsid});case j:return f(f({},e),{},{nicLabel:t.payload.text});case N:return f(f({},e),{},{articleToShowCount:t.payload});case V:return f(f({},e),{},{articleToShowResetDays:t.payload});case H:return f(f({},e),{},{relatedArticles:t.payload});case W:return f(f({},e),{},{isSearchOpenedFrmMidArticle:t.payload});case Z:return f(f({},e),{},{isOrganic:t.payload});case G:return f(f({},e),{},{isPaidTraffic:t.payload});case F:return f(f({},e),{},{isShowSearchOverlay:t.payload});case Y:{var r;const n=[];return n.push(null===(r=t.payload.inserts)||void 0===r?void 0:r.persuasion.cards),f(f({},e),{},{cardsData:n})}case M:return f(f({},e),{},{decode:t.payload.decode});default:return e}}))},74573:(e,t,r)=>{"use strict";r.d(t,{$$:()=>_,P3:()=>b,Zg:()=>v,_9:()=>C,dy:()=>T,hc:);var n=r(29208),a=r.n(n),o=r(49669),i=r(42947),c=r(33487);st p="toiplusprimeshow",l=f=l("RECEIVE_PRIMESHOW_DATA"),y=(l("HANDLE_DATA_ERROR"),l("PERPETUAL_DATA")),E=l("ACTIVE_MSID"),D=l("PRIMESHOW_DATA_LOADING"),A=l("PRIMESHOW_DATA_LOADED"),h=l("RECIEVE_PRIMESHOW_BUNDLE_HASHTAG_DATA"),O=l("RECEIVE_RHS_STORIES_DATA");function T(e){return{type:f,payload:{data:e,msid:e.id}}}function _(){return{type:D,payload:{}}}nst m=({isWapView:e,ssoId:t,ticketId:r})=>{const n=e?"mweb":"web",a={ssoId:t,ticketId:r},o=`${c.WuJ}/subscriptions/google/${n}/linked`;return i.Z.get(o,{headers:a})},C=({isWapView:e,ssoId:t,ticketId:r})=>{const n={"Content-Type":"application/json",ssoId:t,ticketId:r},a=e?"mweb":"web",o=`${c.WuJ}/subscriptions/google/${a}/link`;return i.Z.post(o,{isMobile:e},{headers:n})};o.Z.register(p,(function(e={},t={}){switch(t.type){case D:return s(s({},e),{},{dataLoading:!0});case A:return s(s({},e),{},{dataLoading:!1});case y:return s(s({},e),{},{perpetualData:t.payload});case E:return s(s({},e),{},{activeMsid:t.payload.activemsid});case f:{const r=e.data?e.data:{};r[t.payload.msid]=t.payload.data;const n=r[t.payload.msid];return"cardhd"===a()(n,"metaInfo.CARDPAGETEMPLATE")&&n.ads&&(n.ads={}),r[t.payload.msid]=n,s(s({},e),{},{data:r})}case h:return s(s({},e),{},{decode:t.payload.decode});case O:return s(s({},e),{},{RHSStories:t.payload});default:return e}}))},93096:]);
//# sourceMappingURL=VideoActionControllerWeb_es6_module.b801d3f6.chunk.js.map