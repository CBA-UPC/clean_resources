"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7704],{37648:(e,t,s)=>{s.d(t,{E:()=>i});s(50959),s(11527);const i=e=>null},26969:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>me,SKELETON_SHELVES_COUNT:()=>ue,default:()=>xe});s(70054),s(86277);var i=s(50959),n=s(82187),a=s.n(n),r=s(29132),o=s(75802),c=s(18517),l=s(37902),d=s(85648),p=s(41038),u=s(88099),m=s(91643),g=s(67998),h=s(51450),x=s(46974),v=s(29673),f=s(80626),j=s(53724),y=s(24902),b=s(51901),w=s(50540),S=s(17676),D=s(74883),k=s(58206),_=s(43286),N=s(82557),C=s(65376),M=s(61058),E=s(76862);const H="AaXwi9LLckdsxNwrosnQ",F="yX31EzBkHzNooefkSvT3",I="EjJHF7tjFYigQK8pIVbV",A="Z5xLXZofWXGooKRjW6kd",W="kM546dTx5cxDNH530zm8",$="mnhJCpUiriAb7Ay3HOTz",L="rRldspwHsrgo8DsecR2Q";var P=s(11527);const T=e=>{let{isMWP:t}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${A} ${W}`,"aria-hidden":"true",children:[(0,P.jsx)("source",{src:(0,C.g)(`videos/Sw23-${t?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,P.jsx)("source",{src:(0,C.g)(`videos/Sw23-${t?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,P.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${A} ${$}`,"aria-hidden":"true",children:[(0,P.jsx)("source",{src:(0,C.g)(`videos/Sw23-${t?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,P.jsx)("source",{src:(0,C.g)(`videos/Sw23-${t?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]})},U=e=>{let{isMWP:t}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("picture",{children:[(0,P.jsx)("source",{srcSet:(0,C.g)(`images/Sw23-${t?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,P.jsx)("source",{srcSet:(0,C.g)(`images/Sw23-${t?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,P.jsx)("img",{className:`${A} ${W}`,src:"",alt:""})]}),(0,P.jsxs)("picture",{children:[(0,P.jsx)("source",{srcSet:(0,C.g)(`images/Sw23-${t?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,P.jsx)("source",{srcSet:(0,C.g)(`images/Sw23-${t?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,P.jsx)("img",{className:`${A} ${$}`,src:"",alt:""})]})]})},R=(0,i.forwardRef)(((e,t)=>{let{linkUri:s,loggedIn:i,isMWP:n,isStatic:r=!1,onClick:o}=e;const c=(0,M.jh)(),l=(0,E.T)();return(0,P.jsx)("div",{className:H,ref:t,children:(0,P.jsxs)("div",{className:(0,D.Mg)("invertedLight",a()(F,{[I]:n})),children:[r||l?(0,P.jsx)(U,{isMWP:n}):(0,P.jsx)(T,{isMWP:n}),(0,P.jsx)(k.D,{as:"h2",variant:"brio",semanticColor:"textBase",className:L,children:i?d.ag.get("shared.wrapped-banner.title"):d.ag.get("shared.wrapped-banner.title-loggedout")}),(0,P.jsx)(k.D,{as:"p",variant:c===M.Uo.SMALL||n?"mesto":"ballad",semanticColor:"textBase",children:i?d.ag.get("shared.wrapped-banner.body"):d.ag.get("shared.wrapped-banner.body-loggedout")}),(0,P.jsx)(_.D,{colorSet:"invertedDark",iconTrailing:N.T,href:s,target:"_blank",size:c===M.Uo.SMALL||n?"small":"medium",onClick:o,children:d.ag.get("shared.wrapped-banner.button")})]})})}));var O=s(86337);const J=()=>{const e=(0,w.g)(),t=(0,c.W6)(S.bQB),{openURLWithSessionTransfer:s}=(0,O.e)(),{spec:n,logger:a}=(0,f.fU)(b.e,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),r=(0,i.useMemo)((()=>n.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[n]),o=(0,f.Wi)(r),l="https://spotify.com/wrapped",d=(0,i.useCallback)((e=>{a.logInteraction(r.hitUiNavigate({destination:l})),s(l),e.preventDefault()}),[a,s,r]);return(0,P.jsx)(R,{linkUri:l,loggedIn:!e,onClick:d,ref:o,isStatic:t})};var Z=s(79977);const z=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var Q=s(62303),B=s(67625),K=s(70526),V=(s(46758),s(53321),s(39301),s(36255)),Y=s(81879);const q=e=>{var t;let{spec:s,section:n,index:a}=e;return(0,i.useMemo)((()=>n.sectionItems.items.some((e=>(0,Y.d)(e.content)))),[n.sectionItems])?(0,P.jsx)(f.Nh,{spec:s.shelvesFactory(),children:(0,P.jsx)(V.q,{total:n.sectionItems.totalCount,seeAllUri:n.uri,pageId:n.uri,title:(null===(t=n.data.title)||void 0===t?void 0:t.text)??"",index:a,id:n.uri,children:n.sectionItems.items.map(Y.x).filter((e=>!!e))})}):null};var X=s(17622);const G=e=>{var t;let{spec:s,section:i,index:n}=e;return(0,P.jsx)(f.Nh,{spec:s.shelvesFactory(),children:(0,P.jsx)(X.default,{title:(null===(t=i.data.title)||void 0===t?void 0:t.text)??void 0,showAll:!1,index:n})})};var ee=s(62648),te=s(37648),se=s(85998);const ie=e=>{var t;let{spec:s,greeting:i,section:n,index:a}=e;const r=(0,B._n)();switch(null===(t=n.data)||void 0===t?void 0:t.__typename){case"HomeGenericSectionData":return(0,P.jsx)(q,{spec:s,section:(0,se.f)(n,n.data),index:a});case"HomeShortsSectionData":return(0,P.jsx)(ee.s,{spec:s,greeting:i,section:(0,se.f)(n,n.data)});case"HomeRecentlyPlayedSectionData":return(0,P.jsx)(G,{spec:s,section:(0,se.f)(n,n.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{if(!r)return null;const e=(0,se.f)(n,n.data),{data:t,sectionItems:s}=e,i=s.items[0];if("PlaylistResponseWrapper"===i.content.__typename&&"Playlist"===i.content.data.__typename){var o;const{data:e}=i.content;return(0,P.jsx)(B.KE,{uri:B.rv,shelfTitle:(null===(o=t.title)||void 0===o?void 0:o.text)??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,P.jsx)(te.E,{sectionItems:n.sectionItems.items,uri:n.uri,localStorageKey:n.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,K._)(n.data),null}},ne=e=>{let{spec:t,greeting:s,container:n}=e;const{spec:a,logger:r}=(0,f.fU)(Z.createDesktopHomeFeatureActivationShelfEventFactory,{}),o=((e,t)=>t?[e.sections.items[0],z,...e.sections.items.slice(1)]:e.sections.items)(n,(0,c.W6)(S.iiT,{loadingValue:!1}));return(0,i.useEffect)((()=>{(0,Q.wW)()&&r.logImpression(a.impressionElementFactory().impression())}),[a,r]),(0,P.jsx)(P.Fragment,{children:o.map(((e,i)=>(0,P.jsx)(ie,{spec:t,greeting:s,section:e,index:i},`${i}-${e.uri}`)))})};var ae=s(75235),re=s(62116),oe=s(91530),ce=s(47725),le=s(8885);const de=()=>(0,c.W6)(S.Jw1)===S.pFI.ONHOME?(0,P.jsx)(le.w,{children:(0,P.jsx)(ce.W,{onSearch:!1})}):null;var pe=s(24322);const ue=6,me=6,ge=(0,i.memo)((e=>{let{shelfCount:t,cardCount:s}=e;return(0,P.jsx)("section",{"data-testid":"home-page",children:(0,P.jsx)("div",{className:pe.Z.home,children:(0,P.jsxs)("div",{className:a()(pe.Z.content,"contentSpacing"),children:[(0,P.jsx)(u.H,{withTitle:!1}),[...new Array(t).keys()].map(((e,t)=>(0,P.jsx)(ae.e,{withTitle:!0,cardCount:s},t)))]})})})})),he=e=>{var t;let{spec:s}=e;(0,g.z)("home");const i=(0,r.v9)(oe.rZ),{subfeedId:n=null}=(0,o.UO)(),{data:l,error:p,fetching:u}=(0,j.b3)({timeZone:(0,y.UE)(),sp_t:(0,h.vQ)("sp_t")??"",country:i,facet:n},{gcTime:y.us,staleTime:y.fS}),v=(0,c.W6)(S._dp),f=(0,c.W6)(S.bQB),b=v||f;if(u)return(0,P.jsx)(ge,{shelfCount:ue,cardCount:me});if(null!==p)return(0,P.jsx)(m.h,{hasError:!0,errorMessage:d.ag.get("error.generic")});const w=null==l?void 0:l.home;return"HomeResponsePayload"!==(null==w?void 0:w.__typename)?(0,P.jsx)(m.h,{hasError:!0,errorMessage:d.ag.get("error.generic")}):0===w.sectionContainer.sections.totalCount||0===w.sectionContainer.sections.items.length?((0,x.vK)(new Error("Empty response from pathfinder"),"Home"),(0,P.jsx)(m.h,{hasError:!0,errorMessage:d.ag.get("error.generic")})):(0,P.jsx)("section",{"data-testid":"home-page",children:(0,P.jsx)("div",{className:pe.Z.home,children:(0,P.jsxs)("div",{className:a()(pe.Z.content,"contentSpacing"),children:[b&&(0,P.jsx)(J,{}),(0,P.jsx)(ne,{spec:s,greeting:(null===(t=w.greeting)||void 0===t?void 0:t.text)??null,container:w.sectionContainer})]})})})},xe=()=>{const{spec:e}=(0,f.fU)(l.F,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,re.k)({type:"locale",uri:"home"});return(0,P.jsxs)(f.Nh,{spec:e,children:[(0,P.jsx)(p.$,{children:(0,v.nW)({i18n:d.ag,shouldLocalize:t})}),(0,P.jsx)(i.Suspense,{fallback:null,children:(0,P.jsx)(de,{})}),(0,P.jsx)(he,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.97fa8c31.js.map