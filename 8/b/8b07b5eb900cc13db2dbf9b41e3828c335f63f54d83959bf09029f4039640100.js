(window.webpackJsonp=window.webpackJsonp||[]).push([[150,141],{461:function(e,t,r){"use strict";r.r(t);var n={name:"Honeypot",data:watch:{pot:},o=r(7),i=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"pot"}},[t("label",{staticClass:"form__label",attrs:{for:"mail"}},[e._v("E-Mail")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.pot,expression:"pot"}],staticClass:"soForm__item_fullwidth",attrs:{id:"mail",name:"mail",type:"text"},domProps:{value:e.pot},on:{input:})])}),[],!1,null,null,null);t.default=i.exports},462:function(e,t,r){"use strict";r(27),r(10),r(110),r(34),r(48),r(32),r(19),r(21),r(44),r(52),r(24),r(30);var n=r(1),o=r(471);a.directive("observe-visibility",o.a),t.a={name:"formsDataLayerMixin",beforeMount:beforeDestroy:methods:{handleFormClick:function(e){this.$dataLayer.onFormStarted(this.formType,this.formName,e.target.name,this.campaignId),this._removeEventListener()},visibilityChanged:function(e,t){if(e){var r=Object.prototype.hasOwnProperty.call(this,"campaignId")||Object.prototype.hasOwnProperty.call(this._props,"campaignId")?this.campaignId:void 0;this.$dataLayer.onFormViewed(this.formType,this.formName,r)}},_addEventListener:function(){var e,t=i(document.getElementsByClassName("formulate-input-element"));try{for(t.s();!(e=t.n()).done;){e.value.addEventListener("click",this.handleFormClick)}}catch(e){t.e(e)}finally{t.f()}},_removeEventListener:function(){var e,t=i(document.getElementsByClassName("formulate-input-element"));try{for(t.s();!(e=t.n()).done;){e.value.removeEventListener("click",this.handleFormClick)}}catch(e){t.e(e)}finally{t.f()}}},mounted:function(){this._addEventListener();var e=this._vnode.data.directives;if(!e||!e.some((function(e){return"observe-visibility"===e.name})))throw new Error("Component ".concat(this._name," should implement the observe-visibility directive"));var t=e.find(();if(!Object.prototype.hasOwnProperty.call(t.value,"once")||!0!==t.value.once)throw new Error("Component ".concat(this._name," should fire observe-visibility only once!"))}}},471:function(e,t,r){"use strict";(function(e){t,"a",();var s=);r u={bind:l,update:unbind:c};var f={version:"1.0.0",install:,m=null;"undefined"!=typeof window?m=window.Vue:void 0!==e&&(m=e.Vue),m&&m.use(f)}).call(this,r(62))},517:function(e,t,r){"use strict";var n=r(6),o=(r(63),r(42),"/contact/error/");t.a={name:"newsletterFormMixin",mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$recaptcha.init();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("ReCaptcha init error: ",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},beforeDestroy:methods:{clickSubmitButton:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pot){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.$recaptcha.execute("lead");case 5:(r=t.sent)&&e.$refs.observer.validate().then((function(t){if(t){e.isSending=!0;var n=(new Date).toISOString().split("T")[0],i=Object.assign(e.model,{NewsletterOptIn__c:"Yes",ApiCampaign__c:e.campaignId,OptInDate__c:n,OptInSource__c:"Website",leadsource:"Web",TargetCountry__c:e.targetCountry__c,Country:e.country,CountryCode:e.countryCode,LeadType__c:"Customer",PrivacyPolicyAccepted__c:!0}),a=e.$browserStorage.getUtmParameter(),s=Object.assign(i,a);e.$repositories.leadApi.send({data:s},"6LeZ1koeAAAAAB9NK7mxyK5j4vqK-gBS262n3bWj",r).then((function(){e.$dataLayer.onFormSubmissionSucceed(e.formType,e.formName,s),e.$browserStorage.deleteUtmParameter()})).then(().then((function(){e.$router.push({path:e.$utils.withLangPrefix("/confirmation-newsletter/")})})).catch((function(t){console.log(t),e.$router.push({path:e.$utils.withLangPrefix(o)})}))}})),t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(2),console.log("ReCaptcha error:",t.t0),t.next=14,e.$router.push({path:e.$utils.withLangPrefix(o)});case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},onPotChanged:}},942:function(e,t,r){"use strict";r.r(t);var n=r(461),o=r(462),i=r(517),a={name:"NewsletterForm",components:{Honeypot:n.default},mixins:[o.a,i.a],data:function(){return{formType:"Newsletter Signup",formName:"Newsletter Signup DEU",model:{},pot:null,campaignId:"7011o000000OcAYAA0",isSending:!1,targetCountry__c:"DE",country:"Germany",countryCode:"DE"}}},s=r(7),l=Object(s.a)(a,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.visibilityChanged,once:!0},expression:"{\n    callback: visibilityChanged,\n    once: true,\n  }"}],staticClass:"newsletter__form"},[t("ValidationObserver",{ref:"observer",attrs:{tag:"form"}},[t("div",{staticClass:"soForm_columns margin-0"},[t("ValidationProvider",{attrs:{name:"firstname",vid:"firstname",rules:"required|max:40",mode:"lazy",slim:""},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors,o=r.classes;return[t("FormulateInput",{class:o,attrs:{label:"".concat(e.$t("form.label.firstname")," *"),errors:n,name:"firstname",type:"text"},model:{value:e.model.firstname,callback:function(t){e.$set(e.model,"firstname",t)},expression:"model.firstname"}})]}}])}),e._v(" "),t("ValidationProvider",{attrs:{name:"lastname",vid:"lastname",rules:"required",mode:"lazy",slim:""},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors,o=r.classes;return[t("FormulateInput",{class:o,attrs:{label:"".concat(e.$t("form.label.lastname")," *"),errors:n,name:"lastname",type:"text"},model:{value:e.model.lastname,callback:function(t){e.$set(e.model,"lastname",t)},expression:"model.lastname"}})]}}])}),e._v(" "),t("ValidationProvider",{attrs:{name:"email",vid:"email",rules:"required|email",mode:"lazy",slim:""},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors,o=r.classes;return[t("FormulateInput",{staticClass:"soForm__item_fullwidth",class:o,attrs:{label:"".concat(e.$t("form.label.email")," *"),errors:n,name:"email",type:"text"},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})]}}])}),e._v(" "),t("ValidationProvider",{attrs:{name:"NewsletterOptIn",vid:"NewsletterOptIn",rules:{required:{allowFalse:!1}},mode:"eager",slim:""},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors,o=r.classes;return[t("FormulateInput",{staticClass:"soForm__item_fullwidth smallcopy",class:o,attrs:{name:"NewsletterOptIn",label:e.$t("form.label.newsletterOptinPolarBear"),type:"checkbox",errors:n},model:{value:e.model.NewsletterOptIn__c,callback:expression:"model.NewsletterOptIn__c"}})]}}])}),e._v(" "),t("Honeypot",{on:{"change-pot":e.onPotChanged}}),e._v(" "),t("button",{staticClass:"button margin-0 margin-top__large",class:{"request-in-progress":e.isSending},attrs:{type:"button"},on:{click:e.clickSubmitButton}},[e._v("\n        "+e._s(e.$t("form.buttonNewsletter"))+"\n      ")])],1)])],1)}),[],!1,null,null,null);t.default=l.exports;installComponents(l,{Honeypot:r(461).default})}}]);