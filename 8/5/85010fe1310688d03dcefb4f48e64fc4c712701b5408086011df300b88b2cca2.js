!this,function(){"use strict";tion S(e){var a=0<arguments.length&&void 0!==e?e:{serializable:!0},s={};return{get:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},e=JSON.stringify(e);if(e in s)return Promise.resolve(a.serializable?JSON.parse(s[e]):s[e]);var n=t(),o=r&&r.miss||function(){return Promise.resolve()};return n.then(.then(},set:delete:clear:}unction o(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0;return e.replace(/%s/g,}function A(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach(,{data:0<Object.entries(n).length?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var x={Read:1,Write:2,Any:3},s=1;function y(e,t){t=1<arguments.length&&void 0!==t?t:s;return q(q({},e),{},{status:t,lastUpdate:Date.now()})}ar v="GET",a="POST";function C(u,e,i,c){function l(r,n){var o=r.pop();if(void 0===o)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:O(f)};function a(e){return e={request:t,response:e,host:o,triesLeft:r.length},f.push(e),e}var t={data:h,headers:d,method:m,url:function(e,t,r){r=b(r),t="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(t+="?".concat(r)),t}(o,i.path,p),connectTimeout:n(g,u.timeouts.connect),responseTimeout:n(g,c.timeout)},s={onSuccess:onRetry:onFail:;return u.requester.send(t).then(function(e){return r=s,o=(n=t=e).status,n.isTimedOut||(e=n.isTimedOut,n=n.status,!e&&0==~~n)||2!=~~(o/100)&&4!=~~(o/100)?r.onRetry(t):2==~~(t.status/100)?r.onSuccess(t):r.onFail(t);var t,r,n,o})}var t,r,n,o,a,f=[],h=function(e,t){if(e.method!==v&&(void 0!==e.data||void 0!==t.data)){t=Array.isArray(e.data)?e.data:q(q({},e.data),t.data);return JSON.stringify(t)}}(i,c),d=(t=c,r=q(q({},u.headers),t.headers),n={},Object.keys(r).forEach(,n),m=i.method,t=i.method!==v?{}:q(q({},i.data),c.data),p=q(q(q({"x-algolia-agent":u.userAgent.value},u.queryParameters),t),c.queryParameters),g=0;return o=u.hostsCache,a=e,Promise.all(a.map().then(function(e){var t=e.filter(function(e){return(e=e).status===s||12e4<Date.now()-e.lastUpdate}),r=e.filter(function(e){return 3===(e=e).status&&Date.now()-e.lastUpdate<=12e4}),t=[].concat(j(t),j(r));return{getTimeout:statelessHosts:0<t.length?t.map(N):a}}).then(}ction k(r){return function J(t){return function(e){return T({transporter:t.transporter,appId:t.appId,indexName:e},(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).methods)}}function E(r){return function(e,t){e=e.map(;return r.transporter.read({method:a,path:"1/indexes/*/queries",data:{requests:e},cacheable:!0},t)}}function I(a){return function(e,o){return Promise.all(e.map(function(e){var t=e.params,r=t.facetName,n=t.facetQuery,t=t,["facetName","facetQuery"]);return J(a)(e.indexName,{methods:{searchForFacetValues:D}}).searchForFacetValues(r,n,q(q({},o),t))}))}}function F(n){return function R(r){return var D=function e(e,t,r){var n,o,a,s,u,i,c,l,f,h,d,m,p,g,y,v,b={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(a){return new Promise(function(r){var n=new XMLHttpRequest;n.open(a.method,a.url,!0),Object.keys(a.headers).forEach(;function e(e,t){return setTimeout(1e3*e)}var t,o=e(a.connectTimeout,"Connection timeout");n.onreadystatechange=n.onerror=n.onload=n.send(a.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:error:,responsesCache:S(),requestsCache:S({serializable:!1}),hostsCache:function n(e){var o=j(e.caches),a=o.shift();return void 0===a?{get:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(.then(function(e){return w(e,1)[0]})},set:delete:clear:function(){return Promise.resolve()}}:{get:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return a.get(e,t,r).catch(},set:delete:clear:}({caches:[(o={key:"".concat("4.11.0","-").concat(e)},s="algoliasearch-client-js-".concat(o.key),{get:function(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:;return Promise.resolve().then(.then(.then(},set:delete:clear:),S()]}),userAgent:(n={value:"Algolia for JavaScript (".concat("4.11.0",")"),add:function(e){e="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===n.value.indexOf(e)&&(n.value="".concat(n.value).concat(e)),n}}).add({segment:"Browser",version:"lite"}),authMode:0};function O(){return a=void 0===a?o.localStorage||window.localStorage:a}function P(){return JSON.parse(O().getItem(s)||"{}")}return u=q(q(q({},b),r),{},{methods:{search:E,searchForFacetValues:I,multipleQueries:E,multipleSearchForFacetValues:I,customRequest:k,initIndex:}),g=u.appId,m=void 0!==u.authMode?u.authMode:1,p={"x-algolia-api-key":u.apiKey,"x-algolia-application-id":g},y={headers:function(){return 1===m?p:{}},queryParameters:function(){return 0===m?p:{}}},i=q(q({hosts:[{url:"".concat(g,"-dsn.algolia.net"),accept:x.Read},{url:"".concat(g,".algolia.net"),accept:x.Write}].concat([{url:"".concat(g,"-1.algolianet.com")},{url:"".concat(g,"-2.algolianet.com")},{url:"".concat(g,"-3.algolianet.com")}]))},u),{},{headers:q(q(q({},y.headers()),{"content-type":"application/x-www-form-urlencoded"}),u.headers),queryParameters:q(q({},y.queryParameters()),u.queryParameters)}),c=i.hostsCache,l=i.logger,f=i.requester,h=i.requestsCache,t=i.responsesCache,e=i.timeouts,b=i.userAgent,r=i.hosts,y=i.queryParameters,T({transporter:v=d={hostsCache:c,logger:l,requester:f,requestsCache:h,responsesCache:t,timeouts:e,userAgent:b,headers:i.headers,queryParameters:y,hosts:r.map(N),read:function(e,t){function r(){return C(d,d.hosts.filter(function(e){return 0!=(e.accept&x.Read)}),e,n)}var n=A(t,d.timeouts.read);if(!0!==(void 0!==n.cacheable?n:e).cacheable)return r();var o={request:e,mappedRequestOptions:n,transporter:{queryParameters:d.queryParameters,headers:d.headers}};return d.responsesCache.get(o,function(){return d.requestsCache.get(o,function(){return d.requestsCache.set(o,r()).then(.then(})},{miss:)},write:,appId:g,addAlgoliaAgent:clearCache:,u.methods)}return e.version="4.11.0",e});