/*! For license information please see usersync.min.js.LICENSE.txt */
(()=>{var e={34:310:(e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CMP_VERSION=n.CMP_ID=n.UUID_VERSION=n.POS_BTF=n.POS_ATF=n.ATF_AD_UNITS=n.TAG_ID=n.DO_NOT_TRACK=n.tokenKey=n.THIRTY_DAYS_IN_SECONDS=n.THIRTY_DAYS=n.NINETY_DAYS_IN_SECONDS=n.NINETY_DAYS=n.DEFAULT_SYNC_TTL=n.FOURTEEN_DAYS=void 0,n.FOURTEEN_DAYS=14,n.DEFAULT_SYNC_TTL=86400*n.FOURTEEN_DAYS,n.NINETY_DAYS=90,n.NINETY_DAYS_IN_SECONDS=86400*n.NINETY_DAYS,n.THIRTY_DAYS=30,n.THIRTY_DAYS_IN_SECONDS=86400*n.THIRTY_DAYS,n.tokenKey="am_tokens",n.DO_NOT_TRACK="$doNotTrack",n.TAG_ID="1363c924529b3998",n.ATF_AD_UNITS=["adhesion_mobile","adhesion_tablet","adhesion_desktop","sidebar_atf","leaderboard_atf","sidebar_btf","recipe_mobile","recipe_btf"],n.POS_ATF=1,n.POS_BTF=3,n.UUID_VERSION={us:"invalidate-verizon-pushes",eu:"eu-v1"},n.CMP_ID=46,n.CMP_VERSION=3},576:function(e,n,t){"use strict";var i=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function c(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((i=i.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.readAndResolve=n.readFromAll=n.writeToAll=n.readFromCache=n.writeToCache=void 0;const o=t(34),r=t(206),a=t(310);n.writeToCache=(e,n,t)=>i(void 0,void 0,void 0,(function*(){if(!window.caches||(null==n?void 0:n.mv_uuid)===a.DO_NOT_TRACK)return;const i=yield caches.open(t),o=new Headers;o.append("Content-Type","application/json"),o.append("Accept","application/json"),o.append("Cache-Control","max-age=31557600"),i.put(e,new Response(JSON.stringify(n),{headers:o}))})),n.readFromCache=e=>i(void 0,void 0,void 0,(function*(){if(!window.caches)return null;const n=yield window.caches.open("am");if(!n)return null;const t=yield n.match(e);if(!t)return null;if(!t.ok)return null;try{return yield t.json()}catch(e){console.warn(e)}})),n.writeToAll=(e,t,r)=>i(void 0,void 0,void 0,(function*(){try{yield(0,n.writeToCache)(e,t,r)}catch(e){}return o.set(e,t,{path:"/",expires:365,secure:!0,sameSite:"None"}),o.set(e,t,{path:"/",expires:365,secure:!0,sameSite:"None"}),!0})),n.readFromAll=e=>i(void 0,void 0,void 0,(function*(){const t={};try{t.cache=yield(0,n.readFromCache)(e)}catch(e){}return t.cookie=o.getJSON(e),t})),n.readAndResolve=e=>i(void 0,void 0,void 0,(function*(){let t={};try{t=yield(0,n.readFromAll)(e)}catch(e){}if(t.cookie&&!t.cache){try{(0,n.writeToCache)(`/${r.tokenKey}`,t.cookie,r.cacheKey)}catch(e){}return t.cookie}return t.cache&&!t.cookie?(o.set(r.tokenKey,t.cache),t.cache):t.cache&&t.cookie?t.cookie:null}))},326:function(e,n){"use strict";var t=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function c(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((i=i.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.getGPPString=n.getCCPAString=n.getTCFConsentString=n.hasValidCMP=n.isServingNonPersonalizedAds=void 0,n.isServingNonPersonalizedAds=n.hasValidCMP=e=>"0"===e||"1"===e&&(window.__cmp||window.__tcfapi||window.__gpp),n.getTCFConsentString=function(e){return t(this,void 0,void 0,(function*(){return new Promise((n=>{e("getTCData",2,(e=>{e.gdprApplies?n(e.tcString):n("")}))}))}))},n.getCCPAString=function(e){return t(this,void 0,void 0,(function*(){return new Promise((n=>{e("getUSPData",1,(e=>{(null==e?void 0:e.uspString)?n(e.uspString):n("")}))}))}))};const i=n.getGPPString=function(e){return t(this,void 0,void 0,(function*(){return new Promise((n=>{e("ping",(t=>{"1.0"===(null==t?void 0:t.gppVersion)?e("getGPPData",(e=>{i(e.gppString)?n(e.gppString):n("")})):i(null==t?void 0:t.gppString)?n(t.gppString):n("")}))}))}))}},206:425:e=>{"use strict";var n,t;e.exports=(n=null,(t=document.createElement("iframe")).id="3pc",t.src="https://scripts.pubnation.com/sync/check",t.style.display="none",t.style.position="fixed",function(){return null!==n?Promise.resolve(n):new Promise((function(e){window.addEventListener("message",(function i(o){"3pc.supported"!==o.data&&"3pc.unsupported"!==o.data||(n="3pc.supported"===o.data,e({supported:n,timedOut:!1}),document.body.removeChild(t),window.removeEventListener("message",i))}),!1),setTimeout((function(){null===n&&(e({supported:n=!1,timedOut:!0}),document.body.removeChild(t))}),1e3),document.body.appendChild(t)}))})},694:(e,n,t)=>{"use strict";n.Wt=n.O9=void 0;const i=t(310);n.O9=()=>{const e="eu-central-1".split("-")[0];return i.UUID_VERSION[e]||i.UUID_VERSION.us},n.Wt=function(e,n){return!(!(null==e?void 0:e.mv_uuid)||(null==e?void 0:e.version)!==n)}}},n={};.n=t.d=t.o=(()=>{"use strict";var e,n=t(576),i=t(326),o=t(206),r=t(694),a=t(425),c=t.n(a),s=u=d="//exchange.pubnation.com";!function(e){var n=this;e.init=function(e){e.slug;var t=e.gdpr,o=e.gdpr_compliance,r=e.alternateMvUuids,a=void 0===r?[]:r,d=e.s2sBidders;return s(n,void 0,void 0,(function(){var e=this;return u(this,(function(n){switch(n.label){case 0:return(0,i.isServingNonPersonalizedAds)(t,o)||!(0,i.hasValidCMP)(t)?[2]:(c()().then((),window.addEventListener("message",p,!1),f(),[4,v([],a,"https://exchange.mediavine.com")]);case 1:return g(n.sent(),(function(){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,v(d,a)];case 1:return g(e.sent()),[2]}}))}))})),[2]}}))}))},e.uuidVersion=(0,r.O9)()}(e||(e={}));var l,p=function(t){var i=[];if(t.data&&"syncUrls"===t.data.message){if((0,n.writeToAll)(o.tokenKey,t.data.tokens,o.cacheKey),(0,n.writeToAll)("".concat(o.tokenKey,"_").concat(e.uuidVersion),t.data.tokens,o.cacheKey),"https://exchange.mediavine.com"===t.origin)return;(t.data.syncUrls||[]).forEach((function(e){return i.push(function(e){var n=e.type,t=e.url;return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,new Promise((function(e){switch(n){case l.iframe:g(t,e);break;case l.pixel:!function(e,n){var t=function(e,n){return void 0===n&&(n=!0),e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+(n?encodeURI(e):e)+'" alt="" width="1" height="1"></div>':""}(e,!1),i=document.createElement("div");i.innerHTML=t;var o=i.firstChild;n&&(o.addEventListener("load",n),o.addEventListener("error",n)),h(o,document,"html",!0)}(t,e);break;case l.script:!function(e,n){var t=document.createElement("script");t.setAttribute("src",e),n&&(t.addEventListener("load",n),t.addEventListener("error",n)),h(t,document,"html",!0)}(t,e)}}))]}))}))}(e))}))}},f=function(){new Event("UsersyncWriteToAll"),window.addEventListener("UsersyncWriteToAll",(function(t){(0,n.writeToAll)("am_tokens",t.detail,"am"),(0,n.writeToAll)("am_tokens_".concat(e.uuidVersion),t.detail,"am")}),!1)};function v(t,a,c){return void 0===c&&(c=d),s(this,void 0,void 0,(function(){var s,d,l,p,f,v,h,g,m,w;return u(this,(function(u){switch(u.label){case 0:return s="".concat(c,"/usersync/sync?origin=").concat(document.location.origin,"&src=").concat(c,"&s2sVersion=").concat("s2s-ab-test2-t"),[4,(0,n.readAndResolve)("".concat(o.tokenKey,"_").concat(e.uuidVersion))];case 1:return d=u.sent(),[4,(0,n.writeToAll)(o.tokenKey,d,o.cacheKey)];case 2:if(u.sent(),(0,r.Wt)(d,e.uuidVersion))l=null==d?void 0:d.mv_uuid;else for(p=0,f=a;p<f.length;p++)v=f[p],h=v.get(),!l&&(0,r.Wt)(h,e.uuidVersion)&&(l=h.mv_uuid);return l&&(s="".concat(s,"&mv_uuid=").concat(l,"&version=").concat(e.uuidVersion),a.forEach(()),window.__tcfapi?[4,(0,i.getTCFConsentString)(window.__tcfapi)]:[3,4];case 3:return g=u.sent(),s+="&gdpr=".concat(g?"1":"0","&gdpr_consent=").concat(g),[3,5];case 4:s+="&gdpr=0",u.label=5;case 5:return window.__uspapi?[4,(0,i.getCCPAString)(window.__uspapi)]:[3,7];case 6:m=u.sent(),s+="&us_privacy=".concat(m),u.label=7;case 7:return window.__gpp?[4,(0,i.getGPPString)(window.__gpp)]:[3,9];case 8:w=u.sent(),s+="&gppString=".concat(w),u.label=9;case 9:return s+="&p=".concat(function(e){var n={};return e.forEach((function(e){var t,i,o;(null===(o=null===(i=null===(t=window.$adManagementConfig)||void 0===t?void 0:t.web)||void 0===i?void 0:i.model)||void 0===o?void 0:o[e])&&(n[e]=window.$adManagementConfig.web.model[e])})),encodeURIComponent(JSON.stringify(n))}(t)),[2,s]}}))}))}unction g(e,n){var t=function(e,n,t){return void 0===n&&(n=!0),void 0===t&&(t=""),e?(n&&(e=encodeURI(e)),t&&(t='sandbox="'.concat(t,'"')),"<iframe ".concat(t,'\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=t;var o=i.firstChild;n&&(o.addEventListener("load",n),o.addEventListener("error",n)),h(o,document,"html",!0)}!l||(l={})),window.$adManagementConfig=window.$adManagementConfig||{},window.$adManagementConfig.web=window.$adManagementConfig.web||{},window.$adManagementConfig.web.usersyncInit=e.init})()})();