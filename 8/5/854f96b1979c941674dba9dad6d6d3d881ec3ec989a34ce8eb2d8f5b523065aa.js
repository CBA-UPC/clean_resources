;/*FB_PKG_DELIM*/

__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(,66);
__d("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6107272026057140"}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation.graphql",["commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:"results",args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WorkplaceChatBotSubmitFeedbackResponsePayload",kind:"LinkedField",name:"workplace_chat_bot_submit_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c},params:{id:b("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"),metadata:{},name:"commitWorkplaceChatBotSubmitFeedbackMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatDeleteMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6152631041430037"}),null);
__d("CSChatDeleteMessageMutation.graphql",["CSChatDeleteMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerMessageLocalRemoveResponsePayload",kind:"LinkedField",name:"messenger_message_local_remove",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatDeleteMessageMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatDeleteMessageMutation",selections:c},params:{id:b("CSChatDeleteMessageMutation_facebookRelayOperation"),metadata:{},name:"CSChatDeleteMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatMarkThreadAsReadMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5057636987636571"}),null);
__d("CSChatMarkThreadAsReadMutation.graphql",["CSChatMarkThreadAsReadMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerThreadMarkReadStateResponsePayload",kind:"LinkedField",name:"messenger_thread_mark_read_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatMarkThreadAsReadMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatMarkThreadAsReadMutation",selections:c},params:{id:b("CSChatMarkThreadAsReadMutation_facebookRelayOperation"),metadata:{},name:"CSChatMarkThreadAsReadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSendMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5697471357025705"}),null);
__d("CSChatSendMessageMutation.graphql",["CSChatSendMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSendMessageMutation",selections:[{alias:null,args:c,concreteType:"MiBSendMessageResponsePayload",kind:"LinkedField",name:"messaging_in_blue_send_message",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[d,e],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSendMessageMutation",selections:[{alias:null,args:c,concreteType:"MiBSendMessageResponsePayload",kind:"LinkedField",name:"messaging_in_blue_send_message",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CSChatSendMessageMutation_facebookRelayOperation"),metadata:{},name:"CSChatSendMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSupportUserDeleteMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5702835273086229"}),null);
__d("CSChatSupportUserDeleteMessageMutation.graphql",["CSChatSupportUserDeleteMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XFBSupportUserDeleteMessageResponsePayload",kind:"LinkedField",name:"xfb_support_user_delete_message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSupportUserDeleteMessageMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSupportUserDeleteMessageMutation",selections:c},params:{id:b("CSChatSupportUserDeleteMessageMutation_facebookRelayOperation"),metadata:{},name:"CSChatSupportUserDeleteMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSupportUserMarkThreadAsReadMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6245335412262555"}),null);
__d("CSChatSupportUserMarkThreadAsReadMutation.graphql",["CSChatSupportUserMarkThreadAsReadMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SupportUserMarkThreadAsReadResponsePayload",kind:"LinkedField",name:"support_user_mark_thread_as_read",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSupportUserMarkThreadAsReadMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSupportUserMarkThreadAsReadMutation",selections:c},params:{id:b("CSChatSupportUserMarkThreadAsReadMutation_facebookRelayOperation"),metadata:{},name:"CSChatSupportUserMarkThreadAsReadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSupportUserSendMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6418579514896983"}),null);
__d("CSChatSupportUserSendMessageMutation.graphql",["CSChatSupportUserSendMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSupportUserSendMessageMutation",selections:[{alias:null,args:c,concreteType:"CustomerChatSupportSendMessageResponsePayload",kind:"LinkedField",name:"customer_chat_support_send_message",plural:!1,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[e,f],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSupportUserSendMessageMutation",selections:[{alias:null,args:c,concreteType:"CustomerChatSupportSendMessageResponsePayload",kind:"LinkedField",name:"customer_chat_support_send_message",plural:!1,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e,f,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CSChatSupportUserSendMessageMutation_facebookRelayOperation"),metadata:{},name:"CSChatSupportUserSendMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CSChatSupportUserThreadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6482297935213037"}),null);
__d("CSChatSupportUserThreadQuery.graphql",["CSChatSupportUserThreadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data"},{defaultValue:null,kind:"LocalArgument",name:"enable_attachments_gk"}],c=[{kind:"Variable",name:"data",variableName:"data"}],d={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},i={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[f,e,g,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},k=[e],l={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},m=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:k,storageKey:null},l],n={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},p={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:k,storageKey:null},q={alias:null,args:null,concreteType:"XFBCustomerSupportMessageTranslation",kind:"LinkedField",name:"support_translations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null}],storageKey:null},r=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],s={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:r,storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},x={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:[e,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:k,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},t,u,v,w,{alias:null,args:null,kind:"ScalarField",name:"playable_mime_type",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"mime_type",storageKey:null}],storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},z={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[h,u,v],storageKey:null},A={kind:"InlineFragment",selections:[y,w,z,t],type:"MessageImage",abstractKey:null};w={kind:"InlineFragment",selections:[y,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},w,t,z],type:"MessageVideo",abstractKey:null};t={kind:"InlineFragment",selections:[y,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[h,v,u,{alias:null,args:null,kind:"ScalarField",name:"downloadable_uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null}],type:"MessageAnimatedImage",abstractKey:null};z={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};h={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null};v=[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},h];u={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:v,storageKey:null}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null};r={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:r,storageKey:null};var B={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[u,v,r],storageKey:null};h={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_title",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},h],storageKey:null};var C={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},D={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},E=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,e],storageKey:null},l];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CSChatSupportUserThreadQuery",selections:[{alias:"message_thread",args:c,concreteType:"MessageThread",kind:"LinkedField",name:"xfb_support_user_message_thread",plural:!1,selections:[d,i,j,{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:m,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:m,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,o,l,p,f,{kind:"InlineFragment",selections:[q,s,x,{condition:"enable_attachments_gk",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[f,A,w,t],storageKey:null}]},z,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[y,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[u,v,r,B,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[f,{kind:"InlineFragment",selections:[h,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[g,C,h],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserMessage",abstractKey:null},D],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CSChatSupportUserThreadQuery",selections:[{alias:"message_thread",args:c,concreteType:"MessageThread",kind:"LinkedField",name:"xfb_support_user_message_thread",plural:!1,selections:[d,i,j,{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:E,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:E,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,o,l,p,f,{kind:"InlineFragment",selections:[q,s,x,{condition:"enable_attachments_gk",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[f,A,w,t,{kind:"InlineFragment",selections:k,type:"Node",abstractKey:"__isNode"}],storageKey:null}]},z,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[y,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[u,v,r,B,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[f,{kind:"InlineFragment",selections:[h,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[g,C,h,e],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},e],storageKey:null}],storageKey:null},e],storageKey:null}],type:"UserMessage",abstractKey:null},D,e],storageKey:null}],storageKey:null},e],storageKey:null}]},params:{id:b("CSChatSupportUserThreadQuery_facebookRelayOperation"),metadata:{live:{polling_interval:5e3}},name:"CSChatSupportUserThreadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CSChatThreadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7060770887286639"}),null);
__d("CSChatThreadQuery.graphql",["CSChatThreadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"end_time_ms"},c={defaultValue:null,kind:"LocalArgument",name:"start_time_ms"},d={defaultValue:null,kind:"LocalArgument",name:"thread_id"},e=[{kind:"Variable",name:"id",variableName:"thread_id"}],f={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},k={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[h,g,i,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[j],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},m=[g],n={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},o=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:m,storageKey:null},n],p=[{kind:"Variable",name:"after_time_precise",variableName:"start_time_ms"},{kind:"Variable",name:"before_time_precise",variableName:"end_time_ms"}],q={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},s={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:m,storageKey:null},t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],u={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:t,storageKey:null},v={alias:null,args:null,concreteType:"XFBCustomerSupportMessageTranslation",kind:"LinkedField",name:"support_translations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null}],storageKey:null};m={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:[g,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_mime_type",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"mime_type",storageKey:null}],storageKey:null}],storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};var w={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},y=[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},x];y={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:y,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:y,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:y,storageKey:null}],storageKey:null};var z={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null};t={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:t,storageKey:null};var A={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[y,z,t],storageKey:null};x={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_title",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},x],storageKey:null};var B={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},C={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},D=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[h,g],storageKey:null},n];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CSChatThreadQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[f,k,l,{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},{alias:null,args:p,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[q,r,n,s,h,{kind:"InlineFragment",selections:[u,v,m,j,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[w,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[y,z,t,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[h,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,B,x],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserMessage",abstractKey:null},C],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,c,a],kind:"Operation",name:"CSChatThreadQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[f,k,l,{alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:D,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:D,storageKey:null}],storageKey:null},{alias:null,args:p,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[q,r,n,s,h,{kind:"InlineFragment",selections:[u,v,m,j,{alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[w,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[y,z,t,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[h,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,B,x,g],storageKey:null}],storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},g],storageKey:null}],storageKey:null},g],storageKey:null}],type:"UserMessage",abstractKey:null},C,g],storageKey:null}],storageKey:null},g],storageKey:null}]},params:{id:b("CSChatThreadQuery_facebookRelayOperation"),metadata:{live:{polling_interval:5e3}},name:"CSChatThreadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCSChatTypingIndicatorQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6320089934777152"}),null);
__d("useCSChatTypingIndicatorQuery.graphql",["useCSChatTypingIndicatorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"use_support_user"}],c=[{alias:null,args:[{kind:"Variable",name:"thread_id",variableName:"thread_id"},{kind:"Variable",name:"use_support_user",variableName:"use_support_user"}],concreteType:"XFBCSChatTypingIndicator",kind:"LinkedField",name:"xfb_cs_chat_typing_indicator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_agent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_action",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCSChatTypingIndicatorQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCSChatTypingIndicatorQuery",selections:c},params:{id:b("useCSChatTypingIndicatorQuery_facebookRelayOperation"),metadata:{live:{polling_interval:5e3}},name:"useCSChatTypingIndicatorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(,null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7002240546511080"}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters",["CometUFIIsRTAEnabled.relayprovider","CometUFIReactionsEnableShortName.relayprovider","GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","StoriesRing.relayprovider"],(,null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7384901301554475"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider"],(,null);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6865480280197768"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5336064999757079"}),null);
__d("MarketplaceCometReviewOffersDialogQuery$Parameters",["MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"),metadata:{},name:"MarketplaceCometReviewOffersDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5428046370622309"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7286910081353715"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5342426462467736"}),null);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6286286258107098"}),null);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],(,null);
__d("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5004730099638134"}),null);
__d("P2MOffsiteBankTransferDialogQuery$Parameters",["P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MOffsiteBankTransferDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5832261760118587"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4589106431193063"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatForwardDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6112170612169266"}),null);
__d("MWChatForwardDialogQuery$Parameters",["MWChatForwardDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048028465289521"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5021823607854583"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4923666631045015"}),null);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4679476245513562"}),null);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5146654855396537"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5063442323698780"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7039613476103704"}),null);
__d("MWChatUserProfileLocationQuery.graphql",["MWChatUserProfileLocationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserProfileLocationQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7735392359808092"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23868899752758299"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useRollcallContributionsXMAActionHandlerQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("fetchMWChatVideoAutoplaySettingQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoSettings",kind:"LinkedField",name:"video_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_setting_www",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"fetchMWChatVideoAutoplaySettingQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"fetchMWChatVideoAutoplaySettingQuery",selections:a},params:{id:"7060747827324374",metadata:{},name:"fetchMWChatVideoAutoplaySettingQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWBuyerShippingAddressRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24917306604535550"}),null);
__d("MWBuyerShippingAddressRootQuery.graphql",["MWBuyerShippingAddressRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"state_name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"district",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"sub_district",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"country_name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"care_of",storageKey:null},n={alias:null,args:null,concreteType:"XFBPAYAddressAssociatedPhoneNumberResponse",kind:"LinkedField",name:"address_linked_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"normalized_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null}],storageKey:null},o=[{kind:"Variable",name:"id",variableName:"id"}],p={alias:null,args:null,kind:"ScalarField",name:"country_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MWBuyerShippingAddressSelectionAddressListItem",selections:[c,d,e,f,g,h,i,j,k,l,m,n],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWBuyerShippingAddressSelectionPrivacyText"},p],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isPAYMailingAddress"},c,d,e,f,g,h,i,j,k,l,m,n],storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_privacy_policy_url",storageKey:null},p,c],storageKey:null}]},params:{id:b("MWBuyerShippingAddressRootQuery_facebookRelayOperation"),metadata:{},name:"MWBuyerShippingAddressRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWV2CreatePromptMenuItemQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23937200145924592"}),null);
__d("MWV2CreatePromptMenuItemQuery.graphql",["MWV2CreatePromptMenuItemQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWV2CreatePromptMenuItemQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWV2CreatePromptMenuItemQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWV2CreatePromptMenuItemQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("MWV2CreatePromptMenuItemQuery_facebookRelayOperation"),metadata:{},name:"MWV2CreatePromptMenuItemQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometFRXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7860695057279233"}),null);
__d("CometFRXQuery$Parameters",["CometFRXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometFRXQuery_facebookRelayOperation"),metadata:{},name:"CometFRXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ServicesApproveAppointmentMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5262522413766771"}),null);
__d("ServicesApproveAppointmentMutation.graphql",["ServicesApproveAppointmentMutation_facebookRelayOperation"],(,null);
__d("CometWebLinkEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometWebLinkEntityRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometWebLinkEntityRenderer_entity",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometWebLinkEntityRenderer_entity",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"}],type:"Page",abstractKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometProfileLink_actor"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4973572169363354"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(,null);
__d("FBPayHubTransactionDetailDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23892077650440585"}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters.instagram",["FBPayHubTransactionDetailDialogQuery_instagramRelayOperation"],(,null);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","useShouldRenderFullTopNav"],(,98);
__d("useShouldShowMessagingEntrypointInCometRoot",["ShouldShowMessagingEntrypoint","useCometRouterState","useShouldRenderFullTopNav"],(,98);
__d("commitWorkplaceChatBotSubmitFeedbackMutation",["CometRelay","Promise","commitWorkplaceChatBotSubmitFeedbackMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("commitWorkplaceChatBotSubmitFeedbackMutation.graphql");function a(a){var c=a.action_content_blob,e=a.config;return new(i||(i=b("Promise")))(function(a,b){d("CometRelay").commitMutation(e.environment,{mutation:j,onCompleted:function(b){a((b=b.results)==null?void 0:b.success)},onError:function(a){b(a)},variables:{input:{action_content_blob:c}}})})}g["default"]=a}),98);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometDialogLoadingState.react","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useRef;function n(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,h=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var k=a[0],n=a[1],o=a[2],p=(e=k)!=null?e:h,q=m(null);l([o,p.isDisposed,h,j,n,k]);b=babelHelpers["extends"]({},g,{onClose:f});return i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:h,props:b})}n.displayName=n.name+" [from "+f.id+"]";var o=function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=k(c("CometDialogContext"));return j(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),m=n,p=g(c("CometSuspendedDialogImpl.react"),{dialog:m,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:(m=e)!=null?m:o},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(i=k)!=null?i:c("tracePolicyFromResource")("comet.dialog",a.root)},p)},[f,a,g,e,b])}g["default"]=a}),98);
__d("CometToastDeferred",["deferredLoadComponent","requireDeferred"],(,98);
__d("InfoCircleFilled20.svg.react",["react"],(,98);
__d("MessagesFilled20.svg.react",["react"],(,98);
__d("CSChatErrorUtil",["errorCode"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return(a==null?void 0:(a=a.source)==null?void 0:a.code)===2172036}g.isNonceInvalidError=a}),98);
__d("CSChatLSTableDefaultData",["I64","LSBitOffset","LSIntEnum","LSMailboxType","LSReadReceiptSettingState","LSSampleData"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a={additionalThreadContext:void 0,authorityLevel:(h||(h=d("I64"))).zero,avatarStickerId:void 0,avatarStickerInstructionKeyId:void 0,avatarStickerOriginalImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerThumbnailImageUrl:void 0,cannotReplyReason:void 0,cannotUnsendReason:void 0,capabilities:d("LSBitOffset").set(h.sub((i||(i=d("LSIntEnum"))).ofNumber(2),h.of_string("64")),d("LSBitOffset").empty),capabilities2:d("LSBitOffset").set(h.sub(i.ofNumber(102),h.of_string("64")),d("LSBitOffset").set(h.sub(i.ofNumber(109),h.of_string("64")),d("LSBitOffset").empty)),capabilities3:h.zero,capabilities4:h.zero,clientThreadKey:void 0,customEmoji:void 0,customEmojiImageUrl:void 0,disableComposerInput:!1,disappearingModeInitiator:void 0,disappearingThreadKey:void 0,eventEndTimestampMs:void 0,eventStartTimestampMs:void 0,folderName:"",hasPendingInvitation:void 0,hasPersistentMenu:!1,igFolder:void 0,inviterId:void 0,isAdminSnippet:!1,isAllUnreadMessageMissedCallXma:void 0,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:h.zero,lastMessageCtaId:void 0,lastMessageCtaTimestampMs:void 0,lastMessageCtaType:void 0,lastNonMissedCallXmaMessageTimestampMs:void 0,lastReadWatermarkTimestampMs:h.zero,mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),memberCount:void 0,muteCallsExpireTimeMs:h.zero,muteExpireTimeMs:h.zero,muteMentionExpireTimeMs:h.zero,needsAdminApprovalForNewParticipant:void 0,normalizedSearchTerms:void 0,nullstateDescriptionText1:void 0,nullstateDescriptionText2:void 0,nullstateDescriptionText3:void 0,nullstateDescriptionType1:void 0,nullstateDescriptionType2:void 0,nullstateDescriptionType3:void 0,ongoingCallState:h.zero,otidOfFirstMessage:void 0,outgoingBubbleColor:void 0,parentThreadKey:h.zero,proactiveWarningDismissTime:void 0,readReceiptsDisabledV2:i.ofNumber(c("LSReadReceiptSettingState").DEFAULT),removeWatermarkTimestampMs:h.zero,shouldRoundThreadPicture:void 0,snippet:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,snippetHasEmoji:!1,snippetSenderContactId:void 0,snippetStringArgument1:void 0,snippetStringHash:void 0,syncGroup:void 0,takedownState:void 0,themeFbid:void 0,threadDescription:void 0,threadInviteLink:void 0,threadInvitesEnabled:h.zero,threadInvitesEnabledV2:h.zero,threadKey:h.zero,threadName:void 0,threadPictureUrl:void 0,threadPictureUrlExpirationTimestampMs:void 0,threadPictureUrlFallback:void 0,threadTags:void 0,threadType:h.zero,unreadDisappearingMessageCount:h.zero,unsendLimitMs:h.zero,viewedPluginContext:void 0,viewedPluginKey:void 0};b={adminMsgCtaId:void 0,adminMsgCtaTitle:void 0,adminMsgCtaType:void 0,authorityLevel:h.zero,cannotUnsendReason:void 0,displayedContentTypes:h.zero,ephemeralDurationInSec:void 0,ephemeralExpirationTs:void 0,forwardScore:void 0,hasQuickReplies:!1,hotEmojiSize:void 0,isAdminMessage:!1,isCollapsed:!1,isForwarded:void 0,isUnsent:!1,localDataId:void 0,mentionIds:void 0,mentionLengths:void 0,mentionOffsets:void 0,mentionTypes:void 0,messageId:"",messageRenderingType:h.zero,msUntilExpirationTs:void 0,offlineThreadingId:"",primarySortKey:h.zero,quickReplyType:h.zero,replyAttachmentExtra:void 0,replyAttachmentId:void 0,replyAttachmentType:void 0,replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:void 0,replyMediaPreviewHeight:void 0,replyMediaPreviewWidth:void 0,replyMediaUrl:void 0,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:void 0,replyMessageText:void 0,replySnippet:void 0,replySourceId:void 0,replySourceTimestampMs:void 0,replySourceType:void 0,replySourceTypeV2:void 0,replyStatus:void 0,replyToUserId:void 0,replyType:void 0,secondarySortKey:void 0,senderId:h.zero,sendStatus:h.zero,sendStatusV2:h.zero,stickerId:void 0,subscriptErrorMessage:void 0,takedownState:void 0,text:void 0,textHasLinks:!1,threadKey:h.zero,timestampMs:h.zero,unsentTimestampMs:void 0,viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:h.zero};e={ctaId:h.zero,messageId:"",messageTimestampMs:h.zero,platformToken:"",threadKey:h.zero,title:"",type_:"fallback"};f={attachmentCta1Id:h.zero,attachmentCta2Id:h.zero,attachmentCta3Id:h.zero,attachmentFbid:"",attachmentIndex:h.zero,attachmentType:h.zero,authorityLevel:h.zero,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,dashManifest:void 0,defaultCtaId:h.zero,defaultCtaTitle:void 0,defaultCtaType:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:h.zero,faviconUrlFallback:void 0,hasMedia:!1,hasXma:!1,imageUrl:void 0,isSharable:!1,messageId:"",originalPageSenderId:h.zero,playableUrl:void 0,playableUrlExpirationTimestampMs:h.zero,playableUrlFallback:void 0,playableUrlMimeType:void 0,previewHeight:h.zero,previewUrl:void 0,previewUrlExpirationTimestampMs:h.zero,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:h.zero,subtitleText:void 0,threadKey:h.zero,timestampMs:h.zero,titleText:void 0,xmaLayoutType:void 0,xmasTemplateType:void 0};c={actionContentBlob:void 0,actionUrl:void 0,attachmentFbid:"",attachmentIndex:h.zero,ctaId:h.zero,enableExtensions:!1,extensionHeightType:void 0,messageId:"",nativeUrl:void 0,platformToken:void 0,targetId:h.zero,threadKey:h.zero,title:"",type_:"fallback",urlWebviewType:void 0};var j={authorityLevel:h.zero,blockedByViewerStatus:h.zero,blockedSinceTimestampMs:void 0,canViewerMessage:void 0,capabilities:void 0,capabilities2:void 0,contactReachabilityStatusType:void 0,contactType:h.zero,contactTypeExact:h.zero,contactViewerRelationship:h.zero,deviceContactId:void 0,emailAddress:void 0,fbUnblockedSinceTimestampMs:void 0,firstName:void 0,gender:h.zero,id:h.zero,isEmployee:!1,isManagedByViewer:void 0,isMemorialized:!1,isMessengerUser:!1,messengerCallLogThirdPartyId:void 0,name:"",normalizedNameForSearch:void 0,normalizedSearchTerms:void 0,optimisticBlockedByViewerStatus:void 0,optimisticBlockedByViewerStatusTimestampMs:void 0,pendingFbUserBlockAction:void 0,pendingFbUserBlockActionTimestampMs:void 0,pendingMessengerRestrictAction:void 0,pendingMnUserBlockAction:void 0,pendingMnUserBlockActionTimestampMs:void 0,phoneNumber:void 0,profilePictureFallbackUrl:void 0,profilePictureLargeFallbackUrl:void 0,profilePictureLargeUrl:void 0,profilePictureLargeUrlExpirationTimestampMs:void 0,profilePictureUrl:"",profilePictureUrlExpirationTimestampMs:void 0,profileRingColor:void 0,profileRingColorExpirationTimestampMs:void 0,profileRingState:void 0,rank:0,requiresMultiway:void 0,restrictionType:h.zero,secondaryName:void 0,waConnectStatus:h.zero,workCompanyId:void 0,workCompanyName:void 0,workForeignEntityType:h.zero,workJobTitle:void 0},k={authorityLevel:h.zero,contactId:h.zero,deliveredWatermarkTimestampMs:h.zero,groupParticipantJoinState:h.zero,isAdmin:void 0,isModerator:!1,isSuperAdmin:void 0,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:h.zero,readWatermarkTimestampMs:h.zero,subscribeSource:void 0,threadKey:h.zero,threadRoles:h.zero};g.thread=a;g.message=b;g.quickReplyCta=e;g.attachment=f;g.attachmentItem=d("LSSampleData").attachmentItem;g.attachmentCta=c;g.contact=j;g.participant=k}),98);
__d("LSCTAType",[],(,66);
__d("MNLSXMATemplateType",[],(function(a,b,c,d,e,f){a=Object.freeze({GENERIC_SHARE:0,DEFAULT:-1});f["default"]=a}),66);
__d("CSChatLSGraphQLAttachmentMapper",["CSChatLSTableDefaultData","FBLogger","I64","LSAuthorityLevel","LSCTAType","LSIntEnum","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b;b=((b=(b=a.blob_attachments)==null?void 0:b.length)!=null?b:0)>0;var c=b?d("CSChatLSTableDefaultData").message.displayedContentTypes:(h||(h=d("LSIntEnum"))).ofNumber(1);b===!1&&(b=a.extensible_attachment!=null,c=b?(h||(h=d("LSIntEnum"))).ofNumber(1+1024+8):(h||(h=d("LSIntEnum"))).ofNumber(1));if(b===!1){b=(a==null?void 0:(a=a.sticker)==null?void 0:a.id)!=null;c=b?(h||(h=d("LSIntEnum"))).ofNumber(4096):(h||(h=d("LSIntEnum"))).ofNumber(1)}return[b,c]}unction k(a){if(a==null)return null;var b=Object.keys(c("LSCTAType")).find(function(b){return c("LSCTAType")[b]===a});return b!=null?c("LSCTAType")[b]:null}function l(a,b,e,f){var g=f.__typename==="MessageImage"||f.__typename==="XFBMessageImage",j=f.__typename==="MessageVideo"||f.__typename==="XFBMessageVideo",k=f.__typename==="MessageAnimatedImage"||f.__typename==="XFBMessageAnimatedImage",l,m,n,o,p,q,r,s,t,u,v;if(g){var w,x=f.image;s=f.legacy_attachment_id;m=f.url;t=(w=f.playable_url)!=null?w:x==null?void 0:x.uri;n=x==null?void 0:x.uri;o=(x==null?void 0:x.width)!=null?(i||(i=d("I64"))).of_int32(x.width):null;p=(x==null?void 0:x.height)!=null?(i||(i=d("I64"))).of_int32(x.height):null;q=f.url;u=(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)}else if(j){w=f.image;s=f.legacy_attachment_id;t=f.playable_url;m=f.url;n=w==null?void 0:w.uri;r=w==null?void 0:w.mime_type;o=(w==null?void 0:w.width)!=null?(i||(i=d("I64"))).of_int32(w.width):null;p=(w==null?void 0:w.height)!=null?(i||(i=d("I64"))).of_int32(w.height):null;q=f.url;u=(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);v=f.mimetype}else if(k){x=f.image;s=f.legacy_attachment_id;l=f.animated_image_caption;m=x==null?void 0:x.uri;n=x==null?void 0:x.uri;o=(x==null?void 0:x.width)!=null?(i||(i=d("I64"))).of_int32(x.width):null;p=(x==null?void 0:x.height)!=null?(i||(i=d("I64"))).of_int32(x.height):null;q=x==null?void 0:x.uri;u=(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)}if(g||j||k){w=d("CSChatLSTableDefaultData").attachment;b=babelHelpers["extends"]({},w,{attachmentFbid:(f=s)!=null?f:w.attachmentFbid,attachmentType:(x=u)!=null?x:w.attachmentType,captionBodyText:(g=l)!=null?g:w.captionBodyText,hasXma:!0,imageUrl:(j=m)!=null?j:w.imageUrl,messageId:(k=b)!=null?k:w.messageId,offlineAttachmentId:(f=s)!=null?f:w.offlineAttachmentId,playableUrl:(x=t)!=null?x:w.playableUrl,playableUrlMimeType:(g=v)!=null?g:void 0,previewHeight:(j=p)!=null?j:w.previewHeight,previewUrl:(b=n)!=null?b:w.previewUrl,previewUrlLarge:(k=q)!=null?k:w.previewUrlLarge,previewUrlMimeType:(f=r)!=null?f:w.previewUrlMimeType,previewWidth:(x=o)!=null?x:w.previewWidth,threadKey:(g=a)!=null?g:w.threadKey,timestampMs:(j=e)!=null?j:w.timestampMs});return b}}function b(a,b){var e;b=b.message_thread;if(b==null)return[];e=c("nullthrows")((e=b.messages)==null?void 0:e.nodes).filter(.map(function(b){var e=b.message_id,f=(i||(i=d("I64"))).of_string(c("nullthrows")(b.timestamp_precise));return c("nullthrows")(b.blob_attachments).map(}).flat().filter(Boolean);b=c("nullthrows")((b=b.messages)==null?void 0:b.nodes).filter(function(a){return a.sticker!=null&&(a==null?void 0:(a=a.sticker)==null?void 0:a.id)!=null}).map(function(b){var e=b.message_id,f=(i||(i=d("I64"))).of_string(c("nullthrows")(b.timestamp_precise));return u(a,e,f,c("nullthrows")(b.sticker))}).flat().filter(Boolean);return e.concat(b)}function m(a,b,e){var f,g,j,k,l=e.message_id;f=(i||(i=d("I64"))).of_string((f=e.timestamp_precise)!=null?f:"");var m=(g=(g=e.extensible_attachment)==null?void 0:g.legacy_attachment_id)!=null?g:null;g=(g=e.extensible_attachment)==null?void 0:g.story_attachment;j=(j=g==null?void 0:g.messenger_generic_xma_template_extra_info)!=null?j:null;var n=g==null?void 0:g.subattachments;k=(k=n==null?void 0:n.length)!=null?k:0;if(j!=null){var u;u=r(a,l,f,m,j,b,g==null?void 0:(u=g.title_with_entities)==null?void 0:u.text,g==null?void 0:g.subtitle);g=[];k===0&&(g=s(a,l,m,j,b));j=[];if(k>0){j=t(a,l,m,c("nullthrows")(n),b);u.xmaLayoutType=(h||(h=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL);var v=b;g=c("nullthrows")(n).map(function(b){b=s(a,l,m,b==null?void 0:b.messenger_generic_xma_template_extra_info,v);v+=b.length;return b}).flat()}return[u,g,j]}g=(u=(k=e.extensible_attachment)==null?void 0:(n=k.story_attachment)==null?void 0:n.target)!=null?u:null;if(g!=null){j=o(a,l,f,m,g,b);e=p(a,l,m,g,b);k=q(a,l,m,g,b);return[j,e,k]}throw c("FBLogger")("cs_chat").mustfixThrow("attachment data cannot be null")}function e(a,b){b=b.message_thread;if(b==null)return[];b=c("nullthrows")((b=b.messages)==null?void 0:b.nodes).filter(function(a){var b;return"extensible_attachment"in a&&a.extensible_attachment!=null&&(((b=(b=a.extensible_attachment)==null?void 0:(b=b.story_attachment)==null?void 0:(b=b.messenger_generic_xma_template_extra_info)==null?void 0:b.cta1)!=null?b:null)!=null||((b=a.extensible_attachment)==null?void 0:(b=b.story_attachment)==null?void 0:(b=b.target)==null?void 0:(b=b.call_to_actions)==null?void 0:b[0])!=null||((b=(b=a.extensible_attachment)==null?void 0:(b=b.story_attachment)==null?void 0:(b=b.target)==null?void 0:(b=b.business_items)==null?void 0:(b=b.nodes)==null?void 0:b.length)!=null?b:0)!==0||((a=(b=a.extensible_attachment)==null?void 0:(a=b.story_attachment)==null?void 0:(b=a.subattachments)==null?void 0:b.length)!=null?a:0)>0)});var d=2,e=[],f=[],g=[];for(var h=0;h<b.length;h++){var i=b[h];i=m(a,d,i);var j=i[0],k=i[1];i=i[2];e.push(j);k.map(function(a){return f.push(a)});i.map(function(a){return g.push(a)});d+=k.length}return[e,f,g]}function n(a,b,c,e,f,g,h,j){c=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachmentCta,{attachmentFbid:(b=b)!=null?b:"",ctaId:(b=a)!=null?b:(i||(i=d("I64"))).zero,messageId:(a=e)!=null?a:"",threadKey:(b=c)!=null?b:(i||(i=d("I64"))).zero,title:(a=f)!=null?a:""},j==null?{}:{actionUrl:j});if(h!=null){b={cta_id:h,force_handle:!0,prev_message_id:e};f={postback:b};c.platformToken=JSON.stringify(f)}c.type_=(a=k(g))!=null?a:"xma_postback";return c}function o(a,b,e,f,g,k){a=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachment,{attachmentCta1Id:(i||(i=d("I64"))).of_int32(k),attachmentFbid:(f=f)!=null?f:"",attachmentType:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),hasXma:!0,messageId:(f=b)!=null?f:"",threadKey:(b=a)!=null?b:(i||(i=d("I64"))).zero,timestampMs:(f=e)!=null?f:(i||(i=d("I64"))).zero,xmaLayoutType:h.ofNumber(c("MNLSXMALayoutType").SINGLE),xmasTemplateType:h.ofNumber(c("MNLSXMATemplateType").GENERIC_SHARE)});b=g==null?void 0:g.call_to_actions;e=g==null?void 0:(e=g.business_items)==null?void 0:(f=e.nodes)==null?void 0:f[0];if(e!=null){if(((f=g==null?void 0:(f=g.business_items)==null?void 0:(f=f.nodes)==null?void 0:f.length)!=null?f:0)===1){b=e.call_to_actions;a.titleText=(f=e.name)!=null?f:"";a.subtitleText=(f=e.description)!=null?f:""}else a.xmaLayoutType=(h||(h=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)}if(b==null||b[0]==null){c("FBLogger")("cs_chat","ctas_array_null").mustfix("ctas cannot be null as it should have been checked outside");return a}if((g==null?void 0:g.__typename)!=="MessengerBusinessMessage"&&(g==null?void 0:g.__typename)!=="XFBMessengerBusinessMessage")throw c("FBLogger")("cs_chat").mustfixThrow("Target must be of type MessengerBusinessMessage");a.cta1Title=(e=b[0].action_title)!=null?e:"";a.cta1Type=j(b[0].action_open_type);if(b[1]!=null){a.attachmentCta2Id=(i||(i=d("I64"))).of_int32(k+1);a.cta2Title=(f=b[1].action_title)!=null?f:"";a.cta2Type=j(b[1].action_open_type)}if(b[2]!=null){a.attachmentCta3Id=(i||(i=d("I64"))).of_int32(k+2);a.cta3Title=(g=b[2].action_title)!=null?g:"";a.cta3Type=j(b[2].action_open_type)}return a}function p(a,b,e,f,g){var h,k=[],l=f==null?void 0:f.call_to_actions;h=f==null?void 0:(h=f.business_items)==null?void 0:h.nodes;var m=h==null?void 0:h[0];if(m!=null){var o;o=(o=f==null?void 0:(o=f.business_items)==null?void 0:(o=o.nodes)==null?void 0:o.length)!=null?o:0;if(o>=1){l=m==null?void 0:m.call_to_actions;for(m=1;m<o;m++){var p;p=h==null?void 0:(p=h[m])==null?void 0:p.call_to_actions;l!=null&&p!=null&&(l=[].concat(l,p))}}}if(l==null){c("FBLogger")("cs_chat","ctas_array_null").mustfix("ctas cannot be null as it should have been checked outside");return k}if((f==null?void 0:f.__typename)!=="MessengerBusinessMessage"&&(f==null?void 0:f.__typename)!=="XFBMessengerBusinessMessage")throw c("FBLogger")("cs_chat").mustfixThrow("Target must be of type MessengerBusinessMessage");for(p=0;p<l.length;p++){if(l[p]==null)break;k.push(n((i||(i=d("I64"))).of_int32(g+p),e,a,b,l[p].action_title,j(l[p].action_open_type),l[p].id,l[p].action_url))}return k}function q(a,b,e,f,g){var h;e=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachmentItem,{attachmentFbid:(e=e)!=null?e:"",messageId:(e=b)!=null?e:"",threadKey:(b=a)!=null?b:(i||(i=d("I64"))).zero});a=f==null?void 0:f.call_to_actions;b=f==null?void 0:(b=f.business_items)==null?void 0:b.nodes;h=(h=b==null?void 0:b.length)!=null?h:0;var k=b==null?void 0:b[1];if(k==null)return[];k=[];g=g;for(var l=0;l<h;++l){var m=b==null?void 0:b[l];if(m!=null){var n,o=babelHelpers["extends"]({},e,{attachmentIndex:(i||(i=d("I64"))).of_int32(l)});a=m==null?void 0:m.call_to_actions;o.titleText=(n=m.name)!=null?n:"";o.subtitleText=(n=m.description)!=null?n:"";if(a==null||a[0]==null){k.push(o);continue}if((f==null?void 0:f.__typename)!=="MessengerBusinessMessage"&&(f==null?void 0:f.__typename)!=="XFBMessengerBusinessMessage")throw c("FBLogger")("cs_chat").mustfixThrow("Target must be of type MessengerBusinessMessage");o.attachmentCta1Id=i.of_int32(g);o.cta1Title=(m=a[0].action_title)!=null?m:"";o.cta1Type=j(a[0].action_open_type);if(a[1]!=null){o.attachmentCta2Id=(i||(i=d("I64"))).of_int32(g+1);o.cta2Title=(n=a[1].action_title)!=null?n:"";o.cta2Type=j(a[1].action_open_type)}if(a[2]!=null){o.attachmentCta3Id=(i||(i=d("I64"))).of_int32(g+2);o.cta3Title=(m=a[2].action_title)!=null?m:"";o.cta3Type=j(a[2].action_open_type)}g+=a.length;k.push(o)}}return k}function r(a,b,e,f,g,j,l,m){b=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachment,{attachmentFbid:(f=f)!=null?f:"",attachmentType:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),hasXma:!0,messageId:(f=b)!=null?f:"",threadKey:(b=a)!=null?b:(i||(i=d("I64"))).zero,timestampMs:(f=e)!=null?f:(i||(i=d("I64"))).zero,xmaLayoutType:h.ofNumber(c("MNLSXMALayoutType").SINGLE),xmasTemplateType:h.ofNumber(c("MNLSXMATemplateType").GENERIC_SHARE)},l==null?{}:{subtitleText:(a=m)!=null?a:"",titleText:l});if((g==null?void 0:g.cta1)!=null){b.attachmentCta1Id=(i||(i=d("I64"))).of_int32(j);b.cta1Title=(f=g==null?void 0:(e=g.cta1)==null?void 0:e.title)!=null?f:"";b.cta1Type=(a=k(g==null?void 0:(m=g.cta1)==null?void 0:m.type))!=null?a:"xma_postback"}if((g==null?void 0:g.cta2)!=null){b.attachmentCta2Id=(i||(i=d("I64"))).of_int32(j+1);b.cta2Title=(e=g==null?void 0:(l=g.cta2)==null?void 0:l.title)!=null?e:"";b.cta2Type=(m=k(g==null?void 0:(f=g.cta2)==null?void 0:f.type))!=null?m:"xma_postback"}if((g==null?void 0:g.cta3)!=null){b.attachmentCta3Id=(i||(i=d("I64"))).of_int32(j+2);b.cta3Title=(l=g==null?void 0:(a=g.cta3)==null?void 0:a.title)!=null?l:"";b.cta3Type=(f=k(g==null?void 0:(e=g.cta3)==null?void 0:e.type))!=null?f:"xma_postback"}return b}function s(a,b,c,e,f){var g=[];if((e==null?void 0:e.cta1)!=null){var h;g.push(n((i||(i=d("I64"))).of_int32(f),c,a,b,e==null?void 0:(h=e.cta1)==null?void 0:h.title,e==null?void 0:(h=e.cta1)==null?void 0:h.type,e==null?void 0:(h=e.cta1)==null?void 0:h.target_id,e==null?void 0:(h=e.cta1)==null?void 0:h.action_url))}if((e==null?void 0:e.cta2)!=null){g.push(n((i||(i=d("I64"))).of_int32(f+1),c,a,b,e==null?void 0:(h=e.cta2)==null?void 0:h.title,e==null?void 0:(h=e.cta2)==null?void 0:h.type,e==null?void 0:(h=e.cta2)==null?void 0:h.target_id,e==null?void 0:(h=e.cta2)==null?void 0:h.action_url))}if((e==null?void 0:e.cta3)!=null){g.push(n((i||(i=d("I64"))).of_int32(f+2),c,a,b,e==null?void 0:(h=e.cta3)==null?void 0:h.title,e==null?void 0:(f=e.cta3)==null?void 0:f.type,e==null?void 0:(c=e.cta3)==null?void 0:c.target_id,e==null?void 0:(a=e.cta3)==null?void 0:a.action_url))}return g}function t(a,b,c,e,f){c=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").attachmentItem,{attachmentFbid:(c=c)!=null?c:"",messageId:(c=b)!=null?c:"",threadKey:(b=a)!=null?b:(i||(i=d("I64"))).zero});a=[];b=f;for(f=0;f<e.length;f++){var g,h;g=(g=e[f])==null?void 0:g.messenger_generic_xma_template_extra_info;h=babelHelpers["extends"]({},c,{attachmentIndex:(i||(i=d("I64"))).of_int32(f),subtitleText:(h=(h=e[f])==null?void 0:h.subtitle)!=null?h:"",titleText:(h=(h=e[f])==null?void 0:(h=h.title_with_entities)==null?void 0:h.text)!=null?h:""});if((g==null?void 0:g.cta1)!=null){var j;h.attachmentCta1Id=(i||(i=d("I64"))).of_int32(b);h.cta1Title=(j=g==null?void 0:(j=g.cta1)==null?void 0:j.title)!=null?j:"";h.cta1Type=(j=k(g==null?void 0:(j=g.cta1)==null?void 0:j.type))!=null?j:"xma_postback";b++}if((g==null?void 0:g.cta2)!=null){h.attachmentCta2Id=(i||(i=d("I64"))).of_int32(b);h.cta2Title=(j=g==null?void 0:(j=g.cta2)==null?void 0:j.title)!=null?j:"";h.cta2Type=(j=k(g==null?void 0:(j=g.cta2)==null?void 0:j.type))!=null?j:"xma_postback";b++}if((g==null?void 0:g.cta3)!=null){h.attachmentCta3Id=(i||(i=d("I64"))).of_int32(b);h.cta3Title=(j=g==null?void 0:(j=g.cta3)==null?void 0:j.title)!=null?j:"";h.cta3Type=(g=k(g==null?void 0:(j=g.cta3)==null?void 0:j.type))!=null?g:"xma_postback";b++}a.push(h)}return a}function u(a,b,e,f){var g,j=d("CSChatLSTableDefaultData").attachment;b=babelHelpers["extends"]({},j,{attachmentFbid:(g=f==null?void 0:f.id)!=null?g:j.attachmentFbid,attachmentType:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER),hasMedia:!0,hasXma:!1,messageId:(g=b)!=null?g:j.messageId,playableUrl:(b=f==null?void 0:f.playable_url)!=null?b:j.playableUrl,playableUrlMimeType:(g=f==null?void 0:f.playable_mime_type)!=null?g:void 0,previewHeight:(f==null?void 0:f.height)!=null?(i||(i=d("I64"))).of_int32(f==null?void 0:f.height):j.previewHeight,previewUrl:(b=f==null?void 0:f.url)!=null?b:j.previewUrl,previewUrlMimeType:(b=f==null?void 0:(g=f.image)==null?void 0:g.mime_type)!=null?b:j.previewUrlMimeType,previewWidth:(f==null?void 0:f.width)!=null?(i||(i=d("I64"))).of_int32(f==null?void 0:f.width):j.previewWidth,targetId:(f==null?void 0:(g=f.pack)==null?void 0:g.id)!=null?(i||(i=d("I64"))).of_string(f==null?void 0:(b=f.pack)==null?void 0:b.id):j.targetId,threadKey:(g=a)!=null?g:j.threadKey,timestampMs:(f=e)!=null?f:j.timestampMs});return b}g.messageHasAttachmentAndDisplayContentTypes=a;g.mapToLSAttachments=b;g.mapToLSExtensibleAttachments=e;g.mapToLSStickerAttachment=u}),34);
__d("CSChatLSGraphQLDataMapper",["CSChatLSGraphQLAttachmentMapper","CSChatLSTableDefaultData","FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessageThreadUnsendabilityStatus","compactArray","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){try{return JSON.parse(a)}catch(b){c("FBLogger")("cs_chat","decode_platform_xmd_error").mustfix("decoding platform xmd failed, please check payload:"+a+b);return null}}function k(a){return a==null||a.length===0?{}:a.reduce(function(a,b){var d;d=c("nullthrows")(b==null?void 0:(d=b.actor)==null?void 0:d.id);b=c("nullthrows")(b.timestamp_precise);a[d]=b;return a},{})}function l(a,b){var e=b.message_thread,f;if(e==null)f=(h||(h=d("I64"))).zero;else{e=e.updated_time_precise;f=e==null?(h||(h=d("I64"))).zero:(h||(h=d("I64"))).of_string(e)}e=b.message_thread;if(e==null)b=(h||(h=d("I64"))).zero;else{e=e.read_receipts;if(e==null)b=(h||(h=d("I64"))).zero;else{e=Object.entries(k(e.nodes)).filter(function(b){return!(h||(h=d("I64"))).equal(h.of_string(b[0]),(b=a)!=null?b:d("CSChatLSTableDefaultData").thread.threadKey)})[0];b=e==null?(h||(h=d("I64"))).zero:(h||(h=d("I64"))).of_string(e[1])}}f=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").thread,{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:i.ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_FOR_SPECIFIC_IDS),folderName:"inbox",lastActivityTimestampMs:f,lastReadWatermarkTimestampMs:b,threadKey:(e=a)!=null?e:d("CSChatLSTableDefaultData").thread.threadKey,threadType:i.ofNumber(1)});return f}function m(a,b){var e,f=b.__typename==="GenericAdminTextMessage"||b.__typename==="XFBGenericAdminTextMessage",g=b.__typename,k;switch(g){case"GenericAdminTextMessage":case"XFBGenericAdminTextMessage":b.snippet==null&&c("FBLogger")("cs_chat","user_message_is_null").mustfix("Text is null for admin message: "+(h||(h=d("I64"))).to_string(a));k=(e=b.snippet)!=null?e:"";break;case"UserMessage":case"XFBUserMessage":if(((e=b.message)==null?void 0:e.text)==null)throw c("FBLogger")("cs_chat","user_message_is_null").mustfixThrow("Text is null for user message: "+(h||(h=d("I64"))).to_string(a));k=b.message.text;break;default:throw c("FBLogger")("cs_chat").mustfixThrow("Unsupported message type %s",g)}e=b.platform_xmd_encoded;if(e==null)g=void 0;else{e=j(e);g=e==null?void 0:e.persona}g=g!=null?(h||(h=d("I64"))).of_int32(g.id):(h||(h=d("I64"))).of_string(c("nullthrows")((e=b.message_sender)==null?void 0:e.id));e=c("nullthrows")(b.message_id);var l=c("nullthrows")(b.offline_threading_id),m=(h||(h=d("I64"))).of_string(c("nullthrows")(b.timestamp_precise)),n=b.platform_xmd_encoded,o;if(n==null)o=!1;else{n=j(n);o=(n==null?void 0:n.quickReplies)!==null}n=d("CSChatLSGraphQLAttachmentMapper").messageHasAttachmentAndDisplayContentTypes(b);n=n[1];var p=d("CSChatLSTableDefaultData").message;g=babelHelpers["extends"]({},p,{displayedContentTypes:n,hasQuickReplies:o,isAdminMessage:f,messageId:(n=e)!=null?n:p.messageId,offlineThreadingId:(o=l)!=null?o:p.offlineThreadingId,primarySortKey:(f=m)!=null?f:p.timestampMs,senderId:(e=g)!=null?e:p.senderId,sendStatusV2:(i||(i=d("LSIntEnum"))).ofNumber(2),stickerId:(b==null?void 0:(n=b.sticker)==null?void 0:n.id)!=null?(h||(h=d("I64"))).of_string(b==null?void 0:(l=b.sticker)==null?void 0:l.id):void 0,text:k,threadKey:(o=a)!=null?o:p.threadKey,timestampMs:(f=m)!=null?f:p.timestampMs});return g}function n(a,b){b=b.message_thread;if(b==null)return[];var d=["ThreadNameMessage","XFBThreadNameMessage","ThreadImageMessage","XFBThreadImageMessage"];return c("nullthrows")((b=b.messages)==null?void 0:b.nodes).filter(.map(function(b){return m(a,b)})}function o(a,b,e,f){var g;if(b.id==null)throw c("FBLogger")("cs_chat","actor_is_null").mustfixThrow("Actor is null, cannot map to contact and participant: "+(h||(h=d("I64"))).to_string(a));var i=(h||(h=d("I64"))).of_string(b.id);g=(g=b.name)!=null?g:"";b=(b=(b=b.profile_picture)==null?void 0:b.uri)!=null?b:"";g=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").contact,{id:i,name:g,profilePictureUrl:b});b=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").participant,{contactId:i,deliveredWatermarkTimestampMs:f!=null?(h||(h=d("I64"))).of_string(f):(h||(h=d("I64"))).zero,readWatermarkTimestampMs:e!=null?(h||(h=d("I64"))).of_string(e):(h||(h=d("I64"))).zero,threadKey:a});return[g,b]}function p(a,b){var d;b=b.message_thread;if(b==null)return[];var e=k((d=b.read_receipts)==null?void 0:d.nodes),f=k((d=b.delivery_receipts)==null?void 0:d.nodes);if(((d=b.all_participants)==null?void 0:d.nodes)==null){throw c("FBLogger")("cs_chat","missing_participants").mustfixThrow("missing participants in message thread with threadkey:"+((d=b==null?void 0:(d=b.thread_key)==null?void 0:d.other_user_id)!=null?d:""))}return b.all_participants.nodes.map(function(b){b=c("nullthrows")(b.messaging_actor);var d=c("nullthrows")(b.id);return o(a,b,e[d],f[d])})}function q(a,b){if(b.__typename!=="UserMessage"&&b.__typename!=="XFBUserMessage")return[];if(b.platform_xmd_encoded==null)return[];var e=j(b.platform_xmd_encoded),f=c("nullthrows")(b.message_id),g=(h||(h=d("I64"))).of_string(c("nullthrows")(b.timestamp_precise));b=e==null?void 0:e.quick_replies;if(b!=null&&Array.isArray(b))return b.map(function(b,c){var e=b.content_type;e=e==="text"?"quick_reply_text":"";return babelHelpers["extends"]({},d("CSChatLSTableDefaultData").quickReplyCta,{ctaId:(h||(h=d("I64"))).of_int32(c),imageUrl:(c=b.image_url)!=null?c:void 0,messageId:f,messageTimestampMs:g,platformToken:JSON.stringify({quick_reply:{payload:b.payload}}),threadKey:a,title:b.title,type_:e})})}function r(a,b){b=b.message_thread;if(b==null)return[];b=c("nullthrows")((b=b.messages)==null?void 0:b.nodes).map(function(b){return q(a,b)}).filter(function(a){return a!=null&&a.length>0});return b.flat()}function s(a,b){if(b.__typename!=="UserMessage"&&b.__typename!=="XFBUserMessage")return;if(b.platform_xmd_encoded==null)return;b=j(b.platform_xmd_encoded);b=b==null?void 0:b.persona;if(b==null)return;var c=(h||(h=d("I64"))).of_int32(b.id);b=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").contact,{id:c,name:b.name,profilePictureUrl:b.profile_picture_url});c=babelHelpers["extends"]({},d("CSChatLSTableDefaultData").participant,{contactId:c,threadKey:a});return[b,c]}function t(a,b){b=b.message_thread;if(b==null)return[];else{return c("nullthrows")((b=b.messages)==null?void 0:b.nodes).map(.filter(Boolean)}}function u(a){if(a.__typename!=="UserMessage"&&a.__typename!=="XFBUserMessage")return[];var b=c("nullthrows")(a.message_id);a=a.support_translations;return a==null||!Array.isArray(a)?[]:c("compactArray")(a.map(function(a){var c=a.confidence,d=a.source_locale,e=a.target_locale;a=a.translated_text;return c!=null&&e!=null&&a!=null?{confidence:c,messageId:b,sourceLocale:(c=d)!=null?c:void 0,targetLocale:e.toUpperCase(),translatedText:a}:null}))}function v(a){a=a.message_thread;if(a==null)return[];a=c("nullthrows")((a=a.messages)==null?void 0:a.nodes).map(function(a){return u(a)}).filter(;return a.flat()}function a(a,b){try{var e;e=(e=b.message_thread)==null?void 0:(e=e.thread_key)==null?void 0:e.other_user_id;if(e==null){var f;e=(f=b.message_thread)==null?void 0:(f=f.thread_key)==null?void 0:f.thread_fbid}e=(h||(h=d("I64"))).of_string(c("nullthrows")(e))}catch(b){c("FBLogger")("cs_chat","thread_key_fetch_from_thread_failed").mustfix("Fetching thread key from graphql failed, defaulted to:"+a+" with exception:"+b),e=(h||(h=d("I64"))).of_string(a)}f=d("CSChatLSGraphQLAttachmentMapper").mapToLSExtensibleAttachments(e,b);a=f[0];var g=f[1];f=f[2];return{blob_attachments:d("CSChatLSGraphQLAttachmentMapper").mapToLSAttachments(e,b),contacts_and_participants:p(e,b),contacts_and_participants_from_personas:t(e,b),extensible_attachment_ctas:g,extensible_attachment_items:f,extensible_attachments:a,messages:n(e,b),quick_reply_ctas:r(e,b),support_translations:v(b),thread:l(e,b)}}g.decodePlatformXMD=j;g.mapReceipts=k;g.mapToLSThread=l;g.mapToLSMessage=m;g.mapToLSThread=l;g.mapToLSMessage=m;g.mapToLSMessages=n;g.mapToLSContactAndParticipant=o;g.mapToLSContactsAndParticipants=p;g.mapToLSQuickReply=q;g.mapToLSQuickReplies=r;g.mapPersonaToLSContactAndParticipant=s;g.mapPersonasToLSContactsAndParticipants=t;g.mapData=a}),34);
__d("CSChatLSGraphQLTaskSystem",["FBLogger","I64","LSFactory","LSHandleTaskSendSuccessForQueueStoredProcedure","LSIntEnum","LSPlatformTaskSystemTransport","LSVersion","MWPlatformTaskSystem","Promise","ReQL","cr:6722","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,f){var g=function(e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("pending_tasks")).filter(function(a){return a.queueName===e})).then(function(d){if(d!=null)return a.table("pending_tasks")["delete"](d.taskId).then(function(){return c("LSHandleTaskSendSuccessForQueueStoredProcedure")(c("LSFactory")(a),{queueName:e})});else return(j||(j=b("Promise"))).resolve()})},"readwrite")},k=function(c,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("messages")).filter(function(a){return a.offlineThreadingId===c})).then(function(c){if(c==null)return(j||(j=b("Promise"))).resolve();var d=babelHelpers["extends"]({},c,{sendStatusV2:e});return a.table("messages").upsert([c.threadKey,c.timestampMs,""],d).then(function(){return(j||(j=b("Promise"))).resolve()})})},"readwrite")},l=function(e,f){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("messages")).filter().then(function(d){if(d!=null)return a.table("messages")["delete"](d.threadKey,d.timestampMs,d.messageId).then(c("emptyFunction"));else return(j||(j=b("Promise"))).resolve()})},"readwrite")},m=function(a){var d=function(a){var d=a.label,e;try{e=b("cr:6722")!=null?b("cr:6722").parse(a.payload):JSON.parse(a.payload)}catch(b){a=b instanceof Error?c("FBLogger")("cs_experience_ui").catching(b):c("FBLogger")("cs_experience_ui");throw a.mustfixThrow("Error parsing payload JSON")}return[d,e]};return a.tasks.map(d)},n=function(a,d){try{return b("cr:6722")!=null?b("cr:6722").parse(d):JSON.parse(d)}catch(b){a=b instanceof Error?c("FBLogger")("cs_experience_ui").catching(b):c("FBLogger")("cs_experience_ui");throw a.mustfixThrow("Error parsing payload JSON")}},o=function(a,g){g=n(a,g);if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))){g=m(g);g.forEach(function(a){var b=a[1];a=(h||(h=d("I64"))).of_string(a[0]);if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(46))){var g=b.otid,j=b.otid;e.sendMessage(b.thread_id,b.otid,b.text,b==null?void 0:b.platform_token,b.attachment_fbids,b==null?void 0:b.sticker_id).then(function(){return k(g,(i||(i=d("LSIntEnum"))).ofNumber(2))})["catch"](function(){return k(j,(i||(i=d("LSIntEnum"))).ofNumber(5))});return}if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(207)))return;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(21)))return e.markThreadAsRead(b.thread_id,b.last_read_watermark_ts);if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))){var m=b.message_id,n=b.thread_key;c("promiseDone")(e.deleteMessage(b.thread_key,b.message_id).then(function(){return l(n,m).then(.then(c("emptyFunction"))}));return}c("FBLogger")("cs_experience_ui").mustfix("Operation not supported: "+h.to_string(a))})}else c("FBLogger")("cs_experience_ui").mustfix("Request type not supported: "+(h||(h=d("I64"))).to_string(a));return(j||(j=b("Promise"))).resolve()},p=function(){return c("emptyFunction")},q=r=function(){return c("emptyFunction")},s=function(a){var c=a.payload,d=a.queueName,e=a.requestId;a.syncChannel;a=a.type_;return o(a,c).then(function(){return(d!=null?g(d):(j||(j=b("Promise"))).resolve()).then(function(){return{downloadTask:(j||(j=b("Promise"))).resolve(),payload:{ex:void 0,nop:void 0,ntop:void 0,payload:"",request_id:e,sp:void 0,target:void 0},type:"taskresponse"}})})},t=c("emptyFunction");t={cleanup:t,onConnectionStatusChange:r,onReconnect:q,publish:s,subscribeToNonTaskResponses:p};new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,t,c("LSVersion")))}g["default"]=a}),98);
__d("CSChatLSGraphQLAdapter",["CSChatLSGraphQLDataMapper","CSChatLSGraphQLTaskSystem","CSChatTypingIndicatorSitevarConfig","I64","Promise","emptyFunction","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k={};unction m(a){return Boolean((a=k[a])!=null?a:!1)}function n(a,b){return a.table("messages_ranges_v2__generated").put({hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"mid.end",maxTimestampMs:(j||(j=d("I64"))).of_string("9999999999999"),minMessageId:"mid.start",minTimestampMs:j.zero,threadKey:b.threadKey})}function o(a,c){return(i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.table("messages").add(c)}))}function p(a,c){return(i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.table("support_translations").add(c)}))}function q(a,c){return(i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.table("attachments").add(c)}))}function r(a,c){return(i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.table("attachment_ctas").add(c)}))}function s(a,c){return(i||(i=b("Promise"))).all(c.map(function(c){return m(c.messageId)?(i||(i=b("Promise"))).resolve():a.table("attachment_items").add(c)}))}function t(a,d){return(i||(i=b("Promise"))).all(d.map(function(b){var d=b[1];return a.table("contacts").put(b[0]).then(.then(c("emptyFunction"))}))}function u(a,c){return(i||(i=b("Promise"))).all(c.map()}function v(a,e){if(e===null||(e==null?void 0:e.xfb_cs_chat_typing_indicator)===null)return(i||(i=b("Promise"))).resolve();e=e==null?void 0:e.xfb_cs_chat_typing_indicator;if(e===null||(e==null?void 0:e.sender_action)!=="TYPING_ON")return(i||(i=b("Promise"))).resolve();e=e==null?void 0:e.thread_id;if(e==null)return(i||(i=b("Promise"))).resolve();e=(j||(j=d("I64"))).of_string(e);var f=j.of_float(c("CSChatTypingIndicatorSitevarConfig").indicator_expiration+Date.now());return a.table("typing_indicator").upsert([e,e],{expirationTimestampMs:f,senderId:e,threadKey:e}).then(function(){})}function w(a,b,c){var d=b.quick_reply_ctas,e=b.contacts_and_participants_from_personas,f=b.contacts_and_participants,g=b.extensible_attachment_ctas,h=b.extensible_attachments,i=b.extensible_attachment_items,j=b.blob_attachments,k=b.messages,l=b.thread;return a.runInTransaction(function(a){return a.table("threads").put(l).then(function(){return n(a,l)}).then(function(){return o(a,k)}).then(function(){return q(a,j)}).then(function(){return q(a,h)}).then(function(){return r(a,g)}).then(function(){return s(a,i)}).then(function(){return t(a,f)}).then(function(){return t(a,e)}).then(function(){return u(a,d)}).then(function(){return v(a,c)}).then(.then(function(){})},"readwrite")}function a(a){var b=a.callbacks,e=a.clientThreadKey,f=a.data,g=a.onWriteToLSProcessed;a=a.typingIndicatorData;var i=(h||(h=c("useReStore")))();e=d("CSChatLSGraphQLDataMapper").mapData(e,f);w(i,e,a).then(function(){return(g||function(){})()})["catch"](function(){});f={deleteMessage:l};c("CSChatLSGraphQLTaskSystem")(i,b,f);return null}g["default"]=a}),98);
__d("CSChat.react",["fbt","CSChatDeleteMessageMutation.graphql","CSChatErrorUtil","CSChatLSGraphQLAdapter","CSChatMarkThreadAsReadMutation.graphql","CSChatSendMessageMutation.graphql","CSChatSupportUserDeleteMessageMutation.graphql","CSChatSupportUserMarkThreadAsReadMutation.graphql","CSChatSupportUserSendMessageMutation.graphql","CSChatSupportUserThreadQuery.graphql","CSChatThreadQuery.graphql","CometDebounce","CometErrorBoundary.react","CometRelay","CustomerSupportEntryPointID","FBLogger","Promise","QPLUserFlow","cr:6238","gkx","qpl","react","useCometAlertDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r,s=r||d("react"),t=c("qpl")._(146881675,"2073");function u(){var a=d("CometRelay").useMutation(i!==void 0?i:i=b("CSChatSendMessageMutation.graphql")),e=a[0];function f(a){var d=a.offlineMessageId,f=a.platformToken,g=a.text,h=a.threadId,i=null;if(f!=null){a=JSON.parse(f);a.postback!=null&&(i=JSON.stringify({postback_data:JSON.stringify(a.postback)}));a.quick_reply!=null&&(i=JSON.stringify({quick_replies:a.quick_reply}))}return new(q||(q=b("Promise")))(function(a,b){return e({onCompleted:function(){c("QPLUserFlow").endSuccess(t),a()},onError:function(a){c("QPLUserFlow").endFailure(t,"Error: "+a.message),b()},variables:{input:{client_mutation_id:d,logging_info:{messaging_source:"customer_support"},message_content_info:{message_type:"TEXT",text:g},messaging_thread_id:h,messenger_platform:i,offline_message_id:d}}})})}return[f]}function v(a,e,f){var g=d("CometRelay").useMutation(j!==void 0?j:j=b("CSChatSupportUserSendMessageMutation.graphql")),h=g[0];function i(g){var i=g.attachmentIds,j=g.offlineMessageId,k=g.platformToken,l=g.stickerId,m=g.text,n=g.threadId;return new(q||(q=b("Promise")))(function(b,g){return h({onCompleted:onError:function(a){d("CSChatErrorUtil").isNonceInvalidError(a)&&(f&&f()),c("QPLUserFlow").endFailure(t,"Error: "+a.message),g()},variables:{input:{attachment_ids:i,chat_support_user_id:a,client_mutation_id:j,message_text:m,nonce:e!=null?{sensitive_string_value:e}:null,page_id:n,platform_token:k,sticker_id:l,thread_id:n}}})})}return[i]}function w(){var a=c("useCometAlertDialog")(),e=d("CometRelay").useMutation(k!==void 0?k:k=b("CSChatDeleteMessageMutation.graphql")),f=e[0];function g(c){var d=c.messageId;return new(q||(q=b("Promise")))(function(b){return f({onCompleted:function(){return b()},onError:variables:{input:{message_id:d}}})})}return[g]}function x(a,e,f){var g=c("useCometAlertDialog")(),i=d("CometRelay").useMutation(l!==void 0?l:l=b("CSChatSupportUserDeleteMessageMutation.graphql")),j=i[0];function k(c){var i=c.messageId;return new(q||(q=b("Promise")))(function(b){return j({onCompleted:function(){return b()},onError:function(a){d("CSChatErrorUtil").isNonceInvalidError(a)&&(f&&f()),g({body:h._("No se puede eliminar el mensaje. Vuelve a intentarlo m\u00e1s tarde."),title:h._("Error")})},variables:{input:{chat_support_user_id:a,message_id:i,nonce:e!=null?{sensitive_string_value:e}:null}}})})}return[k]}function y(){var a=d("CometRelay").useMutation(m!==void 0?m:m=b("CSChatMarkThreadAsReadMutation.graphql")),e=a[0];function f(a){var b=a.lastReadWatermarkTimestampMs;a=a.threadId;e({variables:{input:{message_watermark_timestamp:b,read_state:"MARK_READ",thread_id_or_other_user_fbid:a}}})}return[c("CometDebounce")(f,{wait:3e3})]}function z(a,e,f){var g=d("CometRelay").useMutation(n!==void 0?n:n=b("CSChatSupportUserMarkThreadAsReadMutation.graphql")),h=g[0];function i(b){var c=b.lastReadWatermarkTimestampMs;b=b.threadId;h({onError:function(a){d("CSChatErrorUtil").isNonceInvalidError(a)&&(f&&f())},variables:{input:{chat_support_user_id:a,message_watermark_timestamp:c,nonce:e!=null?{sensitive_string_value:e}:null,thread_id_or_other_user_fbid:b}}})}return[c("CometDebounce")(i,{wait:3e3})]}function A(a,c){return d("CometRelay").useLazyLoadQuery(o!==void 0?o:o=b("CSChatThreadQuery.graphql"),{end_time_ms:c.endTimeMs!=null?Number(c.endTimeMs):null,start_time_ms:c.startTimeMs!=null?Number(c.startTimeMs):null,thread_id:a})}function B(a,c,e,f){f=f;return d("CometRelay").useLazyLoadQuery(p!==void 0?p:p=b("CSChatSupportUserThreadQuery.graphql"),{data:{chat_support_user_id:a,nonce:c!=null?{sensitive_string_value:c}:null,thread_id:e},enable_attachments_gk:f})}function C(a){var d=a.clientThreadKey;a=a.threadQueryVariables;a=A(d,a);var e=b("cr:6238")(d),f=u(),g=f[0];f=w();var h=f[0];f=y();var i=f[0];f={deleteMessage:function(a,b){return h({messageId:b,threadId:a})},markThreadAsRead:function(a,b){return i({lastReadWatermarkTimestampMs:b,threadId:a})},sendMessage:function(a,b,c,d,e,f){return g({offlineMessageId:b,platformToken:d,text:c,threadId:a})}};return s.jsx(c("CSChatLSGraphQLAdapter"),{callbacks:f,clientThreadKey:d,data:a,typingIndicatorData:e})}C.displayName=C.name+" [from "+f.id+"]";function D(a){var b=a.chatSupportUserID,e=a.chatSupportUserNonce,f=a.clientThreadKey,g=a.isAttachmentSendingEnabled,h=a.nonceInvalid,i=a.onNonceInvalidError,j=a.onWriteToLSProcessed;a=a.setChatSupportUserID;g=B(b,e,f,g);var k="";if(b==="0"){var l;k=(l=(l=g.message_thread)==null?void 0:(l=l.all_participants)==null?void 0:(l=l.nodes.find()==null?void 0:l.id)!=null?l:""}else k=b;if(k==="0"||k==="")throw c("FBLogger")("cs_chat").mustfixThrow("Invalid chat support user ID");a&&a(k);l=v(k,e,i);var m=l[0];b=x(k,e,i);var n=b[0];a=z(k,e,i);var o=a[0];l={deleteMessage:function(a,b){return n({messageId:b,threadId:a})},markThreadAsRead:sendMessage:;if(!h&&g.message_thread===null){i&&i();return null}return s.jsx(c("CometErrorBoundary.react"),{onError:function(a){if(i&&d("CSChatErrorUtil").isNonceInvalidError(a)){i();return}throw c("FBLogger")("cs_chat","support_user_adapter_failure").mustfixThrow("Support User Adapter Error",a.toString())},children:s.jsx(c("CSChatLSGraphQLAdapter"),{callbacks:l,clientThreadKey:f,data:g,onWriteToLSProcessed:j||function(){}})})}D.displayName=D.name+" [from "+f.id+"]";function a(a){var b=a.chatSupportUserID,d=a.chatSupportUserNonce,e=a.clientThreadKey,f=a.entryPointID,g=a.nonceInvalid,h=a.onNonceInvalidError,i=a.onWriteToLSProcessed,j=a.setChatSupportUserID,k=a.threadQueryVariables,l=a.threadShouldPoll;a=a.useSupportUser;if(a){if(b==null)return null;if(c("CustomerSupportEntryPointID")[f]===10&&d==null)return null;a=c("CustomerSupportEntryPointID")[f]===10||c("gkx")("7622");return s.jsx(D,{chatSupportUserID:b,chatSupportUserNonce:d,clientThreadKey:e,isAttachmentSendingEnabled:a,nonceInvalid:g,onNonceInvalidError:h,onWriteToLSProcessed:i,setChatSupportUserID:j})}return!l?null:s.jsx(C,{clientThreadKey:e,threadQueryVariables:k})}a.displayName=a.name+" [from "+f.id+"]";g.CSChatLSMixedAdapter=a}),98);
__d("CSChatActor.react",["I64","MWPActor.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.actorId;a=a.children;return j.jsx(d("MWPActor.react").MWPActorProvider,{actorId:(i||(i=d("I64"))).of_string(b),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSChatLSDatabase.react",["LSJSInMemoryStorage","LSMetadata","ReStoreProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("LSJSInMemoryStorage")(d("LSMetadata").metadata);function a(a){a=a.children;return j.jsx((i||(i=d("ReStoreProvider.react"))).ReStoreProvider,{db:k,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSExperienceStateQuery_facebookRelayOperation",[],(,null);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","gkx","react","stylex","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useRef,m={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function n(){try{var a;return((a=document.activeElement)==null?void 0:a.getAttribute("data-release-focus-from"))==="CLICK"}catch(a){return!1}}function a(a){var b=a.children,e=a.disableAutoFocus,f=a.onBlur,g=a.onEscape,i=a.onFocus;a=a.xstyle;var o=l(null),p=c("useMWInboxPassiveContext")(),q=p.setIsPassive;p=d("MWChatFocusComposerContext").useMWChatFocusComposer();var r=p.focusComposer;e===!0&&(r=void 0);p=k(function(){if(o.current!=null&&r!=null&&window.getSelection().toString()===""&&(o.current===document.activeElement||n()))return r()},[o,r]);return j.jsx(c("FocusWithinHandler.react"),{onBlurWithin:function(){return f==null?void 0:f()},onFocusWithin:function(a){a.target instanceof HTMLElement&&a.target.getAttribute("data-prevent_chattab_focus")==null&&(i==null?void 0:i());o.current!=null&&r!=null&&o.current===a.target&&r();if(c("gkx")("6531"))return q(!1)},children:j.jsx(c("CometHideLayerOnEscape.react"),{onHide:children:j.jsx("div",{className:(h||(h=c("stylex")))(m.root,a),onClick:p,ref:o,role:"none",tabIndex:-1,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatAppendMentionsNodeToReply",["I64","LSContactTypeExact","LSIntEnum","Lexical","LexicalText","MWChatComposerTypeaheadUtil","MWPReplyContext.react","MessengerLexicalActorNode","ReQL","ReQLSuspense","cometMentionsDataEntryText","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useContext,m=b.useEffect;function n(a,b){a.update(function(){var e=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(e)||!e.isCollapsed())return;var f=e.anchor;f=f.getNode();var g=c("cometMentionsDataEntryText")(b),h=d("Lexical").$getRoot().getAllTextNodes().some(function(a){return d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)&&a.getTextContent().includes(g)});if(h===!0)return;h=d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:b.key,text:g});var i=d("LexicalText").$isRootTextContentEmpty(a.isComposing());i?e.insertNodes([h]):f.insertBefore(h);h.selectNext(0,0)})}function a(a,b,e){var g=l(d("MWPReplyContext.react").MWPReplyContext),k=g.reply,o=c("usePrevious")(k),p=(h||(h=c("useReStore")))(),q=d("ReQLSuspense").useFirst(function(){return k!=null?d("ReQL").fromTableAscending(p.table("messages")).getKeyRange(b,k.timestampMs,k.messageId):d("ReQL").empty()},[k,b,p],f.id+":91");g=d("ReQLSuspense").useFirst(function(){return q!=null?d("ReQL").fromTableAscending(p.table("contacts")).getKeyRange(q.senderId):d("ReQL").empty()},[p,q],f.id+":102");g=g!=null?(i||(i=d("I64"))).equal(g.contactTypeExact,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)):!1;var r=g&&(q==null?void 0:q.botResponseId)!=null;m(function(){var b=o==null&&k!=null;b&&r&&e===!0&&n(a,d("MWChatComposerTypeaheadUtil").aiBotMentionsEntry)},[a,k,o,r,e])}g.insertMentionNodeToFront=n;g.useMWChatAppendMentionsNodeToReply=a}),98);
__d("MWChatComposerMentionsViewItem.react",["CometIcon.react","CometImageFromIXValue.react","CometProfilePhoto.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={image:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.icon,h=f.image,k=f.photoURI;f=f.subtitle;var l;k!=null?l=i.jsx(c("CometProfilePhoto.react"),{size:28,source:{uri:k}}):g!=null?l=i.jsx(c("CometIcon.react"),{color:"primary",disabled:!1,icon:g}):h!=null&&(l=i.jsx(c("CometImageFromIXValue.react"),{source:h,xstyle:j.image}));return i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,itemStartContent:l,testid:void 0,children:i.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:a.key,text:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=6;a=function(){function a(a,b,d,e,f){this.$1=[];this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()});this.$2=b;this.$3=(a=d)!=null?a:null;this.$4=e;this.$5=f}var e=a.prototype;e.bootstrap=e.fetchCache=function(a){return d("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(a,this.$1,this.$2,this.$3,this.$4,this.$5,i)};e.fetchNetwork=function(a){return(h||(h=b("Promise"))).resolve(this.fetchCache(a))};return a}();g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){var b=a.disallowedTerms;a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,disallowedTerms:b,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatComposerMentionsTypeaheadDataSource","MWLSThread","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useMemo;function a(a){var b=a.isAiBotMentionsEnabled,e=a.participants,f=a.threadFBID,g=a.triggerParticipantsSearch;a=d("MWLSThread").useThreadExn((i||(i=d("I64"))).of_string(f));var h=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSThreadBitOffset").has(43,a);a=j(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(e,f,g,b,h),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[h,b,e,f,g]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MWLSThread","cr:2600","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadSectionedViewListStrategy","useCommunityFolder","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useMemo,l=(e=b("cr:4183"))!=null?e:m={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var e=a.editor,f=a.isAiBotMentionsEnabled,g=a.participants,h=a.threadFBID,n=l((i||(i=d("I64"))).of_string(h));a=k([f,g,h,n]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var o=c("useCometTypeaheadSectionedViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:m.view}),p=d("MWLSThread").useThreadExn(i.of_string(h)),q=c("useCommunityFolder")(p);d("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(e,p.threadKey,f);if(b("cr:2600")!=null&&(d("MWCMThreadTypes.react").isJoinedCMThread(p.threadType)&&q||d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(p.threadType))){var r;return j.jsx(b("cr:2600"),{editor:e,fbGroupId:(r=q==null?void 0:q.fbGroupId)!=null?r:p.threadKey,folderId:(r=q==null?void 0:q.folderId)!=null?r:p.threadKey,threadFBID:h})}else return j.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:e,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReQLComposerInner.react",["CometMessengerComposerInner.react","I64","MWLSThread","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.ariaDescribedBy,e=a.contentEditableRef,f=a.editor,g=a.endContent,h=a.handlePastedFiles,k=a.isAiBotMentionsEnabled,l=a.isSecureThread,m=a.participants,n=a.placeholderText;n=n===void 0?"Aa":n;var o=a.policyProduct,p=a.startContent,q=a.style,r=a.surface,s=a.testId,t=a.threadID,u=a.topContent;a=a.useMentionsPlugin;var v=d("MWLSThread").useThread((i||(i=d("I64"))).of_string(t),function(a){return a.threadSubtype});a=a&&j.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:f,isAiBotMentionsEnabled:k,participants:m,threadFBID:t});return j.jsx(c("CometMessengerComposerInner.react"),{ariaDescribedBy:b,contentEditableRef:e,editor:f,endContent:g,handlePastedFiles:h,isSecureThread:l,mentionsPlugin:a,placeholderText:n,policyProduct:o,startContent:p,style:q,threadSubtype:v,topContent:u,surface:r,testId:s})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2ComposerOnFilesSelected",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){return i(function(b){b=Array.from(b);if(b.length>0)return a(b)},[a])}g["default"]=a}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;return a.progress===1?null:i.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x10l6tqk x17qophe xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[i.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),i.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXCircleButton.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:6680","cr:6681","react"],(,98);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:5977","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:5977")),c("gkx")("571"));g["default"]=a}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react"],(,98);
__d("MWChatChatButtonColorConstants",[],(function(a,b,c,d,e,f,g){"use strict";a={fillGrey:{fill:"xsrhx6k",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};g.styles=a}),98);
__d("StylexHelpers.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};g.styles=a}),98);
__d("useMWComposerAriaDescribedBy",["fbt","I64","Int64Hooks","MWPActor.react","ReQL","ReQLSuspense","intlList","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){var b=a.threadKey,e=a.threadName,g=(j||(j=c("useReStore")))(),k=d("MWPActor.react").useActor(),l=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("participants"),["contactId"]).getKeyRange(b).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(a.contactId),f.id+":33")})},[g,b],f.id+":28");return d("Int64Hooks").useMemoInt64(function(){if(e!=null)return h._("Escribe en {name of conversation}",[h._param("name of conversation",e)]);var a=c("intlList")(l.map(function(a){if(a!=null&&!(i||(i=d("I64"))).equal(a.id,k))return a.name}).filter(Boolean),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("Escribe a {participant list}",[h._param("participant list",a)])},[l,e,k])}g["default"]=a}),98);
__d("LSMessageReplySourceType",[],(,66);
__d("useLSMessagingInitiatingSource",["LSIntEnum","LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a==null)return;else if(a==="Inbox")return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX);else if(a==="FullscreenChat")return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN);else if(a==="ChatTab")return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT);else return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT)}g["default"]=a}),98);
__d("LSThreadAttributionTypeUtil",["I64","LSIntEnum","LSMessagingThreadAttributionType","LSThreadAttributionStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){b=d("LSThreadAttributionStore").getSource({type:"MWLSEntrypoint",value:b},(h||(h=d("I64"))).to_string(a));if(b.type==="LSThreadAttribution")return b.value;a=b.value;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="inboxPendingRequests")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_PENDING_REQUESTS);else if(a==="fullscreenChat")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT);else if(a==="sidebarGroupsList")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_GROUPS);else if(a==="jewel")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").JEWEL_THREAD_LIST);else if(a==="shop")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MINI_SHOP_VIEW_MENU_BUTTON);else if(a==="chatheadsOverflow")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_OVERFLOW);else if(a==="hovercard"||a==="feedDynamicHoverCard")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_DYNAMIC_HOVER_CARD);else if(a==="search"||a==="messengerUniversalSearch")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_UNIVERSAL_SEARCH);else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_STORY);else if(a==="timeline"||a==="feedOrganicPost")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="pageAboutCard")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_ABOUT_CARD);else if(a==="inboxInThread")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_IN_THREAD);else if(a==="notificationInThreadReply")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_NOTIFICATION_IN_THREAD_REPLY);else if(a==="archieve")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_ARCHIVED_THREADS);else if(a==="storyViewerSheetRow")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_STORY_VIEWER_SHEET_ROW);else if(a==="chatheadsNewMessage")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_NEW_MESSAGE);else if(a==="event")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_EVENT);else if(a==="jewelSearch")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").JEWEL_SEARCH);else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX);else if(a==="jewelNewMessage")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NEW_MESSAGE);else if(a==="pendingRequests")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST);else if(a==="sidebarSearch")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_SEARCH);else if(a==="inboxRemainingThreads")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_REMAINING_THREADS);else if(a==="pagesHeader")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON);else if(a==="inboxRecentThreads")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_RECENT_THREADS);else if(a==="chatheads")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS);else if(a==="pageResponsivenessCard")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_RESPONSIVENESS_CONTEXT_CARD);else if(a==="inboxSearch")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_MESSAGE_SEARCH);else if(a==="jewelNestedFolder")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NESTED_FOLDER);else if(a==="marketplace")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MARKETPLACE_SEND_MESSAGE);else if(a==="feedOrganicPostViewAndMessage")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE);else if(a==="adsCta")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA);else if(a==="chatInThread")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_IN_THREAD);else if(a==="payments")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").PAYMENTS);else if(a==="inboxFolder")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_NESTED_FOLDER);else if(a==="inboxArchived")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ARCHIVED_THREADS);else if(a==="inboxActiveContacts")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ACTIVE_CONTACTS);else if(a==="sidebarContactsList")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_LIST);else if(a==="sidebarCommunityChatsList")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_COMMUNITY_CHATS);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN)}g.getSource=a}),98);
__d("useLSMessagingSource",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();switch(a){case"Inbox":return"inboxInThread";case"FullscreenChat":return"fullscreenChat";case"ChatTab":return"chatInThread";default:return"unknown"}}g["default"]=a}),98);
__d("useMWLSDefaultThreadSource",["LSThreadAttributionTypeUtil","react","useLSMessagingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useLSMessagingSource")();return i([a])}g["default"]=a}),98);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","DOMQuery","DataStore","Event","FBLogger","Form","Parent","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(;return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._allowCrossOrigin=!1;g._allowCrossPageTransition=!1;g._uploadInParallel=!1;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){g._clickTarget=a;c("setTimeout")(g._unclick,0);break}a=a.parentNode}};g._unclick=g.initial=if(b.getAttribute("rel")==="async")throw c("FBLogger")("FileForm","primer-only").mustfixThrow("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw c("FBLogger")("FileForm","post-only").mustfixThrow("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click)];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.submit=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,c){b.progress(c,c.getProgressEvent())}),e.subscribe("initial",,e.subscribe("success",,e.subscribe("start",,e.subscribe("failure",function(a,c){b.failure(c,c.getResponse());return!1}),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else(function(){var a,f=b._files;if(f){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));var g=c("AsyncUploadRequest").parseFiles(f);f=function(b){var c=g[b];c.length===1?a.append(b,c[0]):(b+="[]",c.forEach();b};for(var h in g)f(h)}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(function(a){return b.success(null,a)}).setErrorHandler(function(a){return b.failure(null,a)}).setUploadProgressHandler(.setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})();e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e._cleanup=e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=return b}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=d.setConcurrentLimit=d.abort=d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=d._destroyFileForm=return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;.getNewID=a}),66);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=h(a).length;a=i(a).length;return b>a}function b(a){return h(a).length>0}unction h(a){return k(a,c("VideoUploadConfig").videoExtensions)}function i(a){var b={gif:!0};return k(a,b)}function j(a){return k(a,c("ComposerXNativeAudioUploadsConfig").audioExtensions)}function k(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=h;g.filterNonEditableVideos=i;g.filterAudioFiles=j;g.filterFileOfSupportedType=k}),98);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=this.getLength=a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:;e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","Promise","StringEncoding","emptyFunction","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;e=function(){function e(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var f=e.prototype;f.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=i[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};f.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,j)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+j.length,b-2-j.length)):this.$11(a+4,k)?(this.$1=a,this.$2=b,this.$13(a+4+k.length,b-2-k.length)):this.$11(a+4,l)&&this.$14(a+4+l.length,b-2-l.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};f.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};f.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");var e=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}b={};for(a in e){var f=e[a];typeof f==="string"&&(f=f.trim());b[a.trim()]=f}this.$3=b};f.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};f.$14=f.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};f.$9=function(a){for(a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};f.hasAPP1=function(){return Boolean(this.$1)};f.hasExif=function(){return Boolean(this.$3)};f.hasXMP=function(){return Boolean(this.$4)};f.hasSize=f.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};f.getAPP1Length=f.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};f.getXMPString=function(){return this.$4};f.getSize=f.getBufferLength=e.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=e;c.next=3;return b("regeneratorRuntime").awrap(e.$16(a));case 3:c.t1=c.sent;return c.abrupt("return",new c.t0(c.t1));case 5:case"end":return c.stop()}},null,this)};e.$16=function(c){return new(h||(h=b("Promise")))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return e}();var i=[];i[216]={name:"SOI",length:0};i[192]={name:"SOF0"};i[193]={name:"SOF1"};i[194]={name:"SOF2"};i[195]={name:"SOF3"};i[197]={name:"SOF5"};i[198]={name:"SOF6"};i[199]={name:"SOF7"};i[200]={name:"JPG"};i[201]={name:"SOF9"};i[202]={name:"SOF10"};i[203]={name:"SOF11"};i[205]={name:"SOF13"};i[206]={name:"SOF14"};i[207]={name:"SOF15"};i[196]={name:"DHT"};i[219]={name:"DQT"};i[221]={name:"DRI",length:2};i[218]={name:"SOS"};i[208]={name:"RST0",length:0};i[209]={name:"RST1",length:0};i[210]={name:"RST2",length:0};i[211]={name:"RST3",length:0};i[212]={name:"RST4",length:0};i[213]={name:"RST5",length:0};i[214]={name:"RST6",length:0};i[215]={name:"RST7",length:0};i[224]={name:"APP0"};i[225]={name:"APP1"};i[226]={name:"APP2"};i[227]={name:"APP3"};i[228]={name:"APP4"};i[229]={name:"APP5"};i[230]={name:"APP6"};i[231]={name:"APP7"};i[232]={name:"APP8"};i[233]={name:"APP9"};i[234]={name:"APP10"};i[235]={name:"APP11"};i[236]={name:"APP12"};i[237]={name:"APP13"};i[238]={name:"APP14"};i[239]={name:"APP15"};i[254]={name:"COM"};i[217]={name:"EOI",length:0};var j="Exif\0\0",k="http://ns.adobe.com/xap/1.0/\0",l="http://ns.adobe.com/xmp/extension/\0";g["default"]=e}),98);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(,null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=2048;d=function(){.genArrayBufferFromBlob=function(c){return new(h||(h=b("Promise")))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})};d.shouldCheckInServer=function(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<i||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0};d.genPhotosphereMetadata=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){c("promiseDone")(d.genArrayBufferFromBlob(a),function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?c("promiseDone")(d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}),function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})};d.genPhotosphereMetadataFromServer=function(a,d,e){var f=this;return new(h||(h=b("Promise")))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})};d.getExifString=function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})};d.getMayContainSphericalMetadata=function(a){return a!==""&&a.indexOf("GPano:")>-1};return d}();g["default"]=d}),98);
__d("SphericalImage",["SphericalImageUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){.createFromBlob=function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(c("SphericalImageUtils").genPhotosphereMetadata(a));case 2:d=e.sent;return e.abrupt("return",new this(d));case 4:case"end":return e.stop()}},null,this)};var d=a.prototype;d.isSpherical=d.getImageMetadata=function(){return this.props.imageMetadata};d.getPhotoSphereMetadata=d.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};d.getBufferLength=d.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g["default"]=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("loadImageFromBlob",["Promise"],(function(a,b,c,d,e,f){var g;function a(a){return new(g||(g=b("Promise")))(function(b,c){var d=new Image();d.onload=d.onerror=d.src=URL.createObjectURL(a)})}f["default"]=a}),66);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","Promise","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","asyncToGeneratorRuntime","curry","emptyFunction","loadImageFromBlob","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=a.URL||a.webkitURL||{};e=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||c("emptyFunction"),this.$7=a.onUploadsEnqueued||c("emptyFunction"),this.$8=a.onResizeStart||c("emptyFunction"),this.$11=a.onResizeProgress||c("emptyFunction"),this.$9=a.onResizeSuccess||c("emptyFunction"),this.$10=a.onResizeFailure||c("emptyFunction"),this.$12=a.onSphericalCheckFailure||c("emptyFunction"),this.$13=a.onSphericalCheckSuccess||c("emptyFunction"),this.$14=a.onUploadIsSpherical||c("emptyFunction"),this.$15=a.onUploadSent||c("emptyFunction"),this.$16=a.onUploadStart||c("emptyFunction"),this.$17=a.onUploadProgress||c("emptyFunction"),this.$18=a.onUploadSuccess||c("emptyFunction"),this.$19=a.onUploadFailure||c("emptyFunction")}var e=a.prototype;e.setUploadEndpoint=function(a){this.$1=a};e.setOption=e.getUploadData=e.setUploadData=e.upload=function(a,b){var e=this;b||0;b=babelHelpers["extends"]({},this.$2);var f=null;if(!this.$21(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$6({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:j.createObjectURL?j.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:j.createObjectURL?j.createObjectURL(a):null})})}this.$7();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$22.bind(this)):g.setPreprocessHandler(this.$23.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$17(e.$24(c,a),c)});g.subscribe("failure",function(b,c){return e.$19(e.$24(c,a),c,f)});g.subscribe("start",function(b,c){return e.$16(e.$24(c,a),c)});g.subscribe("success",;try{g.send(),this.$15(a)}catch(a){throw a}};e.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$6({fileName:a.name,fileURL:j.createObjectURL?j.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c);a.send()};e.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};e.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};e.$25=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers["extends"]({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5?a.setPreprocessHandler(this.$22.bind(this)):a.setPreprocessHandler(this.$23.bind(this));for(b in this.$20)a.setOption(b,this.$20[b]);return a};e.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};e.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};e.$23=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$27(a,d)})())};e.$27=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.getFile();c=(yield this.$28(c));var d=a.getFile().uploadID;c&&c.isSpherical()?this.$14(c.isSpherical(),c,d):this.$14(!1,null,"");b(a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$22=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(())};e.$28=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(i||(i=c("performanceNow")))();try{var d=(yield c("SphericalImage").createFromBlob(a));this.$13(a,(i||(i=c("performanceNow")))()-b,d);return d}catch(d){this.$12(a,(i||(i=c("performanceNow")))()-b);return null}});function d(b){return a.apply(this,arguments)}return d}();e.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};e.$32=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,b)};e.$33=function(a){return c("loadImageFromBlob")(a).then(};e.$31=function(a,d,e){var f=this,g=c("curry")(this.$11,d.uploadID),i=c("curry")(this.$8,d),j=return new(h||(h=b("Promise")))(function(b,c){j(),a(d,function(a,d,e,f,g,h,i){a?c(a):e?b({originalWidth:f,originalHeight:g}):b({blob:d,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},g,e)})};e.$29=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.getFile(),f=this.$5.isEligible(e==null?void 0:e.size,e==null?void 0:e.type);if(!e||!d("PhotosMimeType").isJpeg(e.type)||!f){this.$14(!1,null,"");e&&c("promiseDone")(this.$33(e).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",e.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));b(a);return}f=(i||(i=c("performanceNow")))();var g,h;try{var j=null;j=(yield this.$28(e));if(j&&j.isSpherical()){this.$14(!0,j,e.uploadID);var k=j.getSize(),l=c("SphericalPhotoTypedConfig").upload_size_limit,m=j.getProjectionType(),n=!1;n=d("SphericalPhotoUploadHelper").shouldRecompress360(m,j.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);j=d("SphericalPhotoUploadHelper").shouldResize360(m,k,l);k&&(j||n)&&(!j?g=(yield this.$32(e,Math.max(k.x,k.y)-1)):g=(yield this.$32(e)))}else this.$14(!1,null,""),g=(yield this.$30(e));g&&(g.blob!=null&&(h=g.blob,h.uploadID=e.uploadID,h.name=e.name,a.setFile(h)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",e.size).set("original_width",g.originalWidth).set("original_height",g.originalHeight).set("upload_width",g.outputWidth).set("upload_height",g.outputHeight));m=h===null;a.getFile().filename=e.name;this.$9(e,h||e,m,(i||(i=c("performanceNow")))()-f,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"))}catch(a){l=(i||(i=c("performanceNow")))()-f;this.$10(e,h||e,a,l)}b(a)});eturn e}();e.$21=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g["default"]=e}),98);
__d("MWPComposerMediaUploadUtil",["FBLogger","I64","LSIntEnum","MessagingAttachmentType","ResumableUploadServiceState.enum","URI","XComposerPhotoUploader","cometIsMimeTypeForMedia","cr:7187","emptyFunction","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="messenger_file",l="messenger_audio",m="messenger_image",n="messenger_video",o="file_type",p="image_type",q="video_type",r="audio_type",s="FILE_ATTACHMENT",t="VOICE_MESSAGE",u="target_id";function v(a,b,d,e,f,g,h,i,j,k,l){b===void 0&&(b=c("emptyFunction"));e===void 0&&(e=c("emptyFunction"));f===void 0&&(f=!1);var m="/ajax/mercury/upload.php";i===!0&&(m="/ajax/mercury/chatsupportuser/upload.php");e=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:e,onUploadProgress:b,onUploadStart:function(b,c){a&&a(b,c.upload._file.size,c.upload._file.type)},onUploadSuccess:function(a,b){b=b.response.payload.metadata;var e;if(b==null)c("FBLogger")("messenger_browser_clients").warn("Empty payload"),e={};else{b=b[0];b!=null?e=b:(c("FBLogger")("messenger_browser_clients").warn("Empty metadata isChatSupportUser: %s",i),e={})}b=e.fbid;var f=e.video_id,g=e.audio_id,h=e.gif_id;e=e.file_id;g=(b=(f=(b=(b=b)!=null?b:f)!=null?b:g)!=null?f:h)!=null?b:e;d(a,g);if(g==null)throw c("unrecoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:m});b={};b.data={chat_support_user_id:i===!0&&j!=null?j:void 0,nonce:i===!0&&l!=null?l:void 0,voice_clip:f?!0:void 0,voice_clip_waveform_data:f?JSON.stringify(k):void 0};e.getAsyncFileUploadRequest(g,h,b).send()}function w(a,e,f,g,i,v){f===void 0&&(f=c("emptyFunction"));if(!b("cr:7187"))return;var w=(j||(j=c("URI"))).getRequestURI().getDomain(),y=/workplace.com/i.test(w)?"workplace.com":/messenger.com/i.test(w)?"messenger.com":"facebook.com";g.forEach(function(g,j){var w=x(g),z=k,A=o,B=s;switch(w){case(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE):z=m;A=p;break;case(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO):z=l;A=r;B=t;break;case(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO):z=n;A=q;break;default:break}w=b("cr:7187").create({consumer:z,customHttpHeaders:new Map([[u,v],[A,B]]),serviceDomain:y});w.addListener((z=c("ResumableUploadServiceState.enum")).START,;w.addListener(z.SUCCESS,;w.addListener(z.FAIL,function(a){f(i[j],{response:a})});w.addListener(z.TRANSPORT_FAILURE,;void w.resume(g)})}function a(a,e,f,g,j,k,l,m,n,o,p,q){e===void 0&&(e=c("emptyFunction"));g===void 0&&(g=c("emptyFunction"));j===void 0&&(j=!1);if(b("cr:7187")&&q!=null&&m!==!0){var r=[],s=[],t=[],u=[];k.forEach(function(a,b){var e=x(a);(i||(i=d("I64"))).equal(e,(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?(r.push(a),s.push(l[b])):(t.push(a),u.push(l[b]))});r.length>0&&w(a,f,g,r,s,q);t.length>0&&v(a,e,f,g,j,t,u,m,n,o,p)}else v(a,e,f,g,j,k,l,m,n,o,p)}function x(a){a=a.type;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a==="audio/wav")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a==="image/gif")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)}function e(a,b,e,f){return{action_url:void 0,attachment_fbid:a,attachment_index:(i||(i=d("I64"))).zero,attachment_type:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a,original_file_hash:void 0,playable_duration_ms:i.of_float(e*1e3),playable_url:URL.createObjectURL(b),playable_url_mime_type:b.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,sampling_frequency_hz:f==null?void 0:f.sampling_freq,source_text:void 0,subtitle_text:void 0,title_text:void 0,waveform_data:f==null?void 0:(a=f.amplitudes)==null?void 0:a.join(","),xma_layout_type:void 0,xmas_template_type:void 0}}function f(a,b){a=a.map(function(a){return{action_url:void 0,attachment_fbid:a.offlineAttachmentId,attachment_index:(i||(i=d("I64"))).zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a.offlineAttachmentId,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:a.previewUrl,playable_url_mime_type:a.mimeType,preview_height:a.previewHeight,preview_url:a.previewUrl,preview_url_mime_type:void 0,preview_width:a.previewWidth,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}});var e=[],f=[];a.forEach(function(a){(i||(i=d("I64"))).equal(a.attachment_type,(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!b?f.push(a):e.push([a])});f.length>0&&e.unshift(f);return e.map(function(a){return a.map(function(a,b){return babelHelpers["extends"]({},a,{attachment_index:(i||(i=d("I64"))).of_int32(b)})})})}g.startUpload=a;g.getAttachmentType=x;g.getAudioAttachment=e;g.createPartitionedAttachments=f}),98);
__d("useMWXAlertDialog",["emptyFunction","react","useCometAlertDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=c("useCometAlertDialog")();return i(function(d){var e=a.onClose==null?c("emptyFunction"):a.onClose;b(babelHelpers["extends"]({body:d.body},d),e)},[b,a.onClose])}g["default"]=a}),98);
__d("MWXToast.react",["cr:1339","cr:3542","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c,d=a.actions,e=a.body,f=a.icon,g=a.impressionLoggingRef,h=a.onDismiss,j=a.startAddOn;j=j===void 0?null:j;var k=a.supressCloseButton;k=k===void 0?!1:k;var l=a.testid;l=l===void 0?"mw-toast":l;a=a.title;var m=(f==null?void 0:f.mds)!=null?{source:f==null?void 0:f.mds,type:"icon"}:void 0;f=(f=f==null?void 0:f.comet)!=null?f:void 0;c=a!=null&&e!=null?i.jsxs(i.Fragment,{children:[a,i.jsx("br",{}),e]}):(c=(c=a)!=null?c:e)!=null?c:"";f={icon:f,impressionLoggingRef:g,message:c,onDismiss:h,supressCloseButton:k,testid:l};return b("cr:3542")!=null?i.jsx(b("cr:3542"),{actions:d,body:e,impressionLoggingRef:g,onDismiss:h,startAddOn:j!==null?j:m,testid:void 0,title:a,withCloseButton:!k}):b("cr:1339")!=null?d!=null?i.jsx(b("cr:1339"),babelHelpers["extends"]({},f,{action:babelHelpers["extends"]({},d.primaryCallToAction)})):i.jsx(b("cr:1339"),babelHelpers["extends"]({},f)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mwPushToast",["ix","BaseToasterStateManager","MWXToast.react","cr:2344","cr:4379","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("BaseToasterStateManager").getInstance();function l(a,b){var d=a.body,e=a.icon,f=a.impressionLoggingRef,g=a.onDismiss,h=a.startAddOn;h=h===void 0?null:h;var i=a.supressCloseButton;i=i===void 0?!1:i;var l=a.testid;l=a.title;b===void 0&&(b=2750);var m=k.push(j.jsx(c("MWXToast.react"),{body:d,icon:e,impressionLoggingRef:f,onDismiss:function(){k.expire(m),g==null?void 0:g()},startAddOn:h,supressCloseButton:i,testid:void 0,title:l}),b);return m}function a(a,c){var e,f=a.body,g=a.onDismiss;a=a.title;c===void 0&&(c=2750);var i=b("cr:2344")!==null?j.jsx(b("cr:2344"),{color:"warning",icon:d("fbicon")._(h("502062"),20)}):void 0;e=(e=b("cr:4379"))!=null?e:void 0;return l({body:f,icon:{comet:i,mds:e},onDismiss:g,title:a},c)}g.mwPushToast=l;g.mwPushErrorToast=a}),98);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact"],(,98);
__d("sendToSentQPLLogger",["QPLUserFlow","Random","WebStorageEstimator","cr:4145","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25313175,"1551");function i(a,b){c("QPLUserFlow").addAnnotations(h,b,{instanceKey:a})}function a(a,b){c("QPLUserFlow").endFailure(h,b.name,{error:b,instanceKey:a})}function e(a,b,d){c("QPLUserFlow").addPoint(h,b,{debugInfo:d,instanceKey:a})}function f(){var a=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(h,{annotations:{string:{hostname:window.location.hostname}},instanceKey:a});b("cr:4145")!=null&&i(a,{bool:{sync_in_tab:b("cr:4145").use().hasLock()}});c("promiseDone")(d("WebStorageEstimator").estimateStorage().then(function(b){var c=b.quota;b=b.usage;i(a,{"int":{storageQuota:c,storageUsage:b}})}));return a}function j(a){c("QPLUserFlow").endSuccess(h,{instanceKey:a})}g.addSendToSentAnnotations=i;g.markSendToSentFail=a;g.markSendToSentPoint=e;g.markSendToSentStart=f;g.markSendToSentSuccess=j}),98);
__d("MWGetOriginalEntrypoint",["I64","InteractionTracingMetrics","LSMessagingInitiatingSource","MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("MWChatInteraction").get((h||(h=d("I64"))).to_string(a));e=e!=null?c("InteractionTracingMetrics").get(e):null;return b!=null&&(h||(h=d("I64"))).to_int32(b)===c("LSMessagingInitiatingSource").FACEBOOK_INBOX?i(e,a):j(e,a)}function i(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.inboxEntrypoint;if(a!=null)return a;a=d("MWChatInteraction").get("inbox_init");return a!=null&&(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).of_string(a))?"initInbox":"unknownInbox"}function j(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.entrypoint;if(a!=null)return a;a=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);a=a!=null?c("InteractionTracingMetrics").get(a):null;a=(a==null?void 0:(a=a.annotations.string)==null?void 0:a.thread_id)===(h||(h=d("I64"))).to_string(b);return a?"auto_open":"unknown"}g["default"]=a}),98);
__d("MWLinkRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="(?:(?:[a-z]+:)?//)?",b="(?:\\S+(?::\\S*)?@)?",c="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",e="(?:\\.(?:((?:[a-z\\u00a1-\\uffff]{2,}))))\\.?",f="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?';a="(?:"+a+"|www\\.)"+b+"(?:localhost|"+c+d+e+")"+f+g;return new RegExp(a,"ig")}function b(){var a="(^|)[^@\\s]+@[^@]+[.][^@\\s]+(?!\\S)";return new RegExp(a,"ig")}f.getLinkRegex=a;f.getEmailRegex=b}),66);
__d("MWMsgMediaTypeLogUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({Application:"application",Audio:"audio",Avatar:"avatar",HotEmoji:"hot_emoji",File:"file",Gif:"gif",Image:"image",Link:"link",None:"none",Poll:"poll",Reaction:"reaction",Sticker:"sticker",Video:"video"});function a(a){var b=a.hasFile;b=b===void 0?!1:b;var c=a.hasGif;c=c===void 0?!1:c;var d=a.hasHotEmoji;d=d===void 0?!1:d;var e=a.hasImage;e=e===void 0?!1:e;var f=a.hasLinks;f=f===void 0?!1:f;var h=a.hasSticker;h=h===void 0?!1:h;var i=a.hasVideo;i=i===void 0?!1:i;a=a.hasVoiceClip;a=a===void 0?!1:a;var j=g.None;e?j=g.Image:i?j=g.Video:h?j=g.Sticker:c?j=g.Gif:a?j=g.Audio:d?j=g.HotEmoji:f?j=g.Link:b&&(j=g.File);return j}f.AttachmentType=g;f.getAttachmentType=a}),66);
__d("MWSharedMsgLogUtilsShared",["$InternalEnum","CometMessengerState","I64","LSIntEnum","LSMessagingInitiatingSource","LSMessagingThreadTypeUtil","MAWEBSwitch","MWGetOriginalEntrypoint","MWLinkRegex","MWMsgMediaTypeLogUtils","MWVersion","MultipleTabsLogger","URLMatcher","asyncToGeneratorRuntime","gkx","isArmadillo","isStringNullOrEmpty","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("$InternalEnum")({Send:"send",Reply:"reply",Forward:"forward",Share:"share",StoryReply:"story-reply"}),k=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){b.hasAttachment;var g=b.hasReply,l=b.hasStoryReply,m=b.hasText;b=babelHelpers.objectWithoutPropertiesLoose(b,["hasAttachment","hasReply","hasStoryReply","hasText"]);var n=j.Send;g?n=j.Reply:l&&(n=j.StoryReply);g=d("MWMsgMediaTypeLogUtils").getAttachmentType(b);l=m&&(!g||g===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?k.Text:k.NonText;b="unknown";if(e!=null){m=(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT));var o=h.equal(e,i.ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX));m?b="chat":o&&(b="inbox")}return{bool:{is_community_event:a.eventStartTimestampMs!=null,is_cutover:c("isArmadillo")()&&f,is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_message_request:d("LSMessagingThreadTypeUtil").isMessageRequest(a),is_pdb_enabled:Boolean(c("gkx")("3319")),is_secure:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),is_tlc_public_user:c("gkx")("955"),use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{action_type:n,attachment_type:g,entrypoint:b,hasMultipleTabs:yield d("MultipleTabsLogger").getMultipleTabsAnnotation(),lockError:yield d("CometMessengerState").lockError(),message_type:l,mw_version:(h||(h=d("I64"))).to_string(d("MWVersion").v2),original_entrypoint:c("MWGetOriginalEntrypoint")(a.threadKey,e),thread_id:h.to_string(a.threadKey),thread_subtype:a.threadSubtype!=null?(h||(h=d("I64"))).to_string(a.threadSubtype):null,thread_type:h.to_string(a.threadType)}}});return l.apply(this,arguments)}function e(a,b,e,f,g){var i=b.hasFile;i=i===void 0?!1:i;var l=b.hasGif;l=l===void 0?!1:l;var m=b.hasHotEmoji;m=m===void 0?!1:m;var n=b.hasImage;n=n===void 0?!1:n;var o=b.hasLinks;o=o===void 0?!1:o;var p=b.hasReply;p=p===void 0?!1:p;var q=b.hasSticker;q=q===void 0?!1:q;var r=b.hasStoryReply;r=r===void 0?!1:r;var s=b.hasText;s=s===void 0?!1:s;var t=b.hasVideo;t=t===void 0?!1:t;b=b.hasVoiceClip;b=b===void 0?!1:b;var u=j.Send;p?u=j.Reply:r&&(u=j.StoryReply);p=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:i,hasGif:l,hasHotEmoji:m,hasImage:n,hasLinks:o,hasSticker:q,hasVideo:t,hasVoiceClip:b});r=s&&(!p||p===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?k.Text:k.NonText;d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotation("attachment_type",p);a.addAnnotation("action_type",u);a.addAnnotation("message_type",r);a.addAnnotation("original_entrypoint",c("MWGetOriginalEntrypoint")(e.threadKey,f));a.addAnnotation("thread_id",(h||(h=d("I64"))).to_string(e.threadKey));a.addAnnotation("thread_type",h.to_string(e.threadType));e.threadSubtype!=null&&a.addAnnotation("thread_subtype",(h||(h=d("I64"))).to_string(e.threadSubtype));g();a.addAnnotationBoolean("is_secure",d("LSMessagingThreadTypeUtil").isSecure(e.threadType));a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addAnnotationBoolean("use_maw_shared_worker",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker());a.addAnnotationBoolean("is_pdb_enabled",Boolean(c("gkx")("3319")))}function f(a,b,e,f,g,h,i){var j=!c("isStringNullOrEmpty")(a),k=!1;a!=null&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getLinkRegex()).length>0&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getEmailRegex()).length===0&&(k=!0);a=!1;h=h!=null;h?a=!0:g!=null&&(a=!0);var l=!1,m=!1,n=!1;if(i!=null&&i.length>0){a=!0;for(i of i){var o=i.mimeType;o.indexOf("image")!==-1&&(l=!0);o.indexOf("video")!==-1&&(m=!0);o.indexOf("application")!==-1&&(n=!0)}}o=b!=null;i=e!=null;b=e!=null;e=f!=null;f=!e&&g!=null;return{hasAttachment:a,hasFile:n,hasGif:f,hasHotEmoji:o,hasImage:l,hasLinks:k,hasReply:i,hasSticker:e,hasStoryReply:b,hasText:j,hasVideo:m,hasVoiceClip:h}}g.ActionType=j;g.MsgType=k;g.getSendToSentAnnotations=a;g.addSendMessageMetadataForInteractionTrace=e;g.getMessageTypeParams=f}),98);
__d("MWSharedMsgLogUtils",["MWSharedMsgLogUtilsShared","asyncToGeneratorRuntime","cr:6985","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=!1;b("cr:6985")!=null&&(f=(yield b("cr:6985").isCutoverThreadKey(a.threadKey)));return d("MWSharedMsgLogUtilsShared").getSendToSentAnnotations(a,c,e,f)});return h.apply(this,arguments)}function e(a,e,f,g){var h=function(){b("cr:6985")!=null&&c("promiseDone")(b("cr:6985").isCutoverThreadKey(f.threadKey),};return d("MWSharedMsgLogUtilsShared").addSendMessageMetadataForInteractionTrace(a,e,f,g,h)}g.getMessageTypeParams=d("MWSharedMsgLogUtilsShared").getMessageTypeParams;g.ActionType=d("MWSharedMsgLogUtilsShared").ActionType;g.MsgType=d("MWSharedMsgLogUtilsShared").MsgType;g.getSendToSentAnnotations=a;g.addSendMessageMetadataForInteractionTrace=e}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a,"received_successful_server_ack"),d("sendToSentQPLLogger").markSendToSentSuccess(a),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function k(a,b){d("sendToSentQPLLogger").markSendToSentFail(a,c("err")("fail_to_send_message")),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function l(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"sending_message")}function a(a){var c=a.db,e=a.initiatingSource,f=a.isCommunityEvent,g=a.isMessageRequest,m=a.s2sInstanceKey,n=a.threadType,o=a.traceSendMessageAPI,p={initiatingSource:e,isCommunityEvent:f,isMessageRequest:g,mwVersion:d("MWVersion").v2,threadType:n};return function(a){d("MWLSLogSend").logSentHeroInteraction(o,a,p);d("MWChatInteraction").set(d("MWChatInteraction").s2sKey(a),String(m));d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:babelHelpers["extends"]({},d("MWLSLogSend").getMessageSendAnnotations(p))});d("sendToSentQPLLogger").addSendToSentAnnotations(m,{bool:{subscription_points_gk:!0}});var e=!1,f=d("ReQL").fromTableAscending(c.table("messages").index("optimistic")).getKeyRange(a),g=d("ReQLSubscribe").subscribeToFirst(f,function(b){b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))?(e=!0,j(m,a),g()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4))?(e=!0,k(m,a),g()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(1))&&l(m)});window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!e){var a=(yield d("ReQL").firstAsync(f));e||d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{status_after_10s:a?""+(i||(i=d("LSIntEnum"))).toNumber(a.sendStatusV2):"none"}})}}),1e4);window.setTimeout(6e4)}}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","MWPActor.react","MWPReplyContext.react","MessagePowerUp","MultipleTabsLogger","asyncToGeneratorRuntime","gkx","react","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return m.apply(this,arguments)}function a(a){var e=a.authorityLevel,f=a.onOptimisticMessageCreation,g=a.skipUrlPreviewGen,h=a.threadKey,m=a.threadType,n=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var o=a.reply,p=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(a){var k=a.afterSend,q=a.attributionAppId,r=a.dataTraceId,s=a.externalAttachmentUrl,t=a.hotEmojiSize,u=a.logSendPoint,v=a.mentionData,w=a.messageText,x=a.messageTypeParams,y=a.optimisticAttachmentPreview,z=a.platformToken,A=a.profileRanges,B=a.s2sInstanceKey,C=a.sendFirstMessageSeparately,D=C===void 0?!1:C,E=a.setupS2SLogging,F=a.source,G=a.stickerID;C=a.transaction;return H(C);function H(a){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("LSFactory")(a),C=c("gkx")("7566");yield l(a,(i||(i=d("I64"))).to_string(h),r);a=(yield d("MultipleTabsLogger").hasMultipleTabs());var H=x.hasAttachment,I=x.hasGif,J=x.hasLinks,K=x.hasSticker,L=x.hasText;b=(yield c("LSOptimisticSendMessageV2StoredProcedure")(b,{extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:q,calculate_denormalizations:!1,data_trace_id:(b=r)!=null?b:void 0,external_attachment_url:s,hot_emoji_size:t,initiating_source:p,mark_read:i.ge(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:v,multitab_env:a,optimistic_attachment_preview:y,platform_token:z,power_up_style:j.ofNumber(c("MessagePowerUp").NONE),qpl_instance_key:B==null?void 0:B.toString(),reply_source_id:o==null?void 0:o.messageId,reply_source_type:o!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:o!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,skip_url_preview_gen:g,source:F,sticker_id:G,text_has_links:J&&C}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:n,text:w,threadKey:h,threadType:m}));u("create_optimistic_message_success");if(!H){a=b[0];E(a)}f!=null&&f({TAG:0,hasLink:J,hasMention:A!=null&&A.length>0,isGIF:I,isReply:!!(o&&o.messageId!==""),isSticker:K,isText:L,offlineThreadingId:b[0]});C=b[0];k!=null&&k(C);return D===!0?null:b});return I.apply(this,arguments)}},[h,p,e,o,g,n,m,f])}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onOptimisticMessageCreation,d=a.skipUrlPreviewGen;a=a.thread;return c("useMWV2SendOpenMessageImplShared")({authorityLevel:a.authorityLevel,onOptimisticMessageCreation:b,skipUrlPreviewGen:d,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?b.i64.cast([0,1]):b.i64.cast([0,3])})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertNewMediaSendStoredProcedure",["LSInsertNewMediaSend"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.offlineAttachmentId;d[1]=b.offlineThreadingId;d[2]=b.inMessageIndex;d[3]=b.attachmentType;d[4]=b.shouldTranscode;d[5]=b.useDoublePhase;d[6]=b.sendByServer;d[7]=b.isSecure;return c("LSInsertNewMediaSend").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),void 0!==void 0?c.resolve(d[1]=void 0):c.sequence([function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.sequence([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(},function(e){return d[11]=c.i64.add(d[9],c.i64.cast([0,1])),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[17]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[16],d[17],void 0,void 0)}]):c.resolve()}]):(e.item,c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetText:void 0,snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,additionalThreadContext:void 0})}))})}])},function(e){return c.sequence([function(b){return c.islc(c.filter(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,40])))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==void 0&&(c.i64.eq(a[9],c.i64.cast([0,1]))||c.i64.eq(a[10],c.i64.cast([0,1])))?c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[a[8],void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=g[0],d[34]=g[1],d[35]=g[2],d[36]=g[3],d[37]=g[4],d[38]=g[5],d[39]=g[6],d[40]=g[7],d[41]=g[8],d[42]=g[9],d[43]=g[10],d[44]=g[11],d[45]=g[12],d[46]=g[13],d[47]=g[14],d[48]=g[15],g):(f=e.item,c.sequence([function(e){return d[54]=f.senderId,d[53]=f.stickerId,c.i64.neq(d[53],void 0)?(e=[d[53],c.i64.cast([0,4])],d[56]=e[0],d[57]=e[1],e):(e=[void 0,void 0],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=f.replyType==null?c.i64.cast([0,0]):f.replyType,c.sequence([function(b){return d[52]=c.i64.eq(a[10],c.i64.cast([0,1]))?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],c.i64.cast([0,1]),d[52],d[54],f.text,d[50],d[51],void 0,void 0,void 0,void 0,void 0,void 0,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===void 0||c.i64.eq(a[9],c.i64.cast([0,0]))||c.i64.eq(a[10],c.i64.cast([0,0]))?(e=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[void 0,void 0,void 0,void 0],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=c.i64.cast([0,3]):d[32]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.sequence([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],void 0],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.forEach(c.filter(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.sequence([function(e){return c.storedProcedure(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],void 0))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],void 0,a[7],a[8],a[9],a[10],void 0,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[3]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.filter(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:c.i64.cast([0,20])}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],void 0)):c.resolve()},)},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure",["LSLocalApplyOptimisticMessageWithAttachments"],(,98);
__d("LSMarkSubJobCompletedV2",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return d[0]=c.createArray(),c.db.table(51).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[3]=new c.Map(),d[3].set("offline_attachment_id",b.offlineAttachmentId),d[3].set("offline_threading_id",b.offlineThreadingId),d[3].set("in_message_index",b.inMessageIndex),d[3].set("attachment_type",b.attachmentType),d[3].set("should_transcode",b.shouldTranscode),d[3].set("use_double_phase",b.useDoublePhase),d[3].set("send_by_server",b.sendByServer),d[3].set("is_secure",b.isSecure),d[3].set("state",b.state),d[3].set("fbid",b.fbid),d[3].set("metadata",b.metadata),d[3].set("error",b.error),d[3].set("message_id",b.messageId),d[4]=(d[0].push(d[3]),d[0]))})},function(e){return d[2]=c.i64.of_int32(d[0].length),c.i64.neq(d[2],c.i64.cast([0,0]))?c.sequence([function(b){return d[5]=d[3].get("state"),d[3],c.i64.neq(a[1],void 0)?a[2]!==void 0?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.forEach(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],messageId:a[2],metadata:a[3]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.forEach(c.db.table(51).fetch([[[a[0]]]]),):c.i64.neq(a[4],void 0)?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.forEach(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],error:a[4]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.forEach(c.db.table(51).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({state:d[6]})}))}]):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMarkSubJobCompletedV2StoredProcedure",["LSMarkSubJobCompletedV2"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.offlineAttachmentId;d[1]=b.fbid;d[2]=b.messageId;d[3]=b.metadata;d[4]=b.error;return c("LSMarkSubJobCompletedV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return j(a,b).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:b,syncChannel:(h||(h=d("I64"))).neg_one,tags:h.to_string(e)+","+h.to_string(f)})})}g.logMediaSendStart=a}),98);
__d("LSRemoveMediaSendJobs",[],(,null);
__d("LSRemoveMediaSendJobsStoredProcedure",["LSRemoveMediaSendJobs"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.offlineThreadingId;return c("LSRemoveMediaSendJobs").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSInsertPhase2PendingTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.i64.neq(c[0],void 0)?b.sequence([function(d){return c[3]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,taskValue:a[0],queueName:[b.i64.to_string(c[0]),"_multi_media"].join(""),context:"4",enqueueTimestampMs:c[3],pluginType:a[1]})},function(a){return c[2]=void 0}]):b.resolve(c[2]=b.i64.cast([0,1002]))},function(a){return d[0]=c[2]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSGetMessageAttributionParams",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.filter(b.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.threadAttributionSource,b.platformRef,b.platformToken],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},)},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSIssueSendAttachmentMessageTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSPredefineTraceForTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_int32(a[5].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.loopAsync(d[0],function(e){return d[5]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[5],d[5]).then(function(a){return a=a,d[6]=a[0],d[7]=a[1],a})},function(b){return c.forEach(c.filter(c.db.table(16).fetch([[[a[1],a[3]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[3]&&c.i64.eq(b.attachmentIndex,d[5])&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({attachmentFbid:c.i64.to_string(d[6])})})}])}):c.resolve()},function(b){return c.i64.eq(void 0,c.i64.cast([0,12]))?d[1]=c.i64.cast([0,10]):(a[9]?d[5]=c.i64.cast([0,9]):d[5]=c.i64.cast([0,3]),d[1]=d[5]),c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[2]=d[5])})},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),d[2],void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(e){return a[12]!==void 0?c.sequence([function(e){return c.storedProcedure(b("LSPredefineTraceForTask"),a[12],d[4],c.i64.to_string(c.i64.cast([0,46])),a[3])},function(d){return c.storedProcedure(b("LSAppendDataTraceAddon"),a[12],c.i64.cast([0,20]),c.i64.cast([0,1]),void 0,void 0)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[4],threadKey:a[1],offlineThreadingId:a[3],threadAttributionSource:a[6],platformRef:a[10],platformToken:a[11],replySourceId:a[7],replySourceType:a[8],sendType:d[1],markThreadRead:!1})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSendPhase1MultiPhotoMessageV2",["LSArrayGetObjectAt","LSGetMessageAttributionParams","LSIssueSendAttachmentMessageTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.createArray(),d[1]=new c.Map(),d[2]=new c.Map(),d[3]=!1,d[4]=c.i64.cast([0,0]),c.forEach(c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[7]=a.fbid,d[4]=c.i64.add(d[4],c.i64.cast([0,1])),c.i64.neq(d[7],void 0)?d[8]=(d[0].push(d[7]),d[0]):0})},function(e){return d[5]=c.i64.of_int32(d[0].length),c.i64.neq(d[5],d[4])||c.i64.eq(d[4],c.i64.cast([0,0]))?c.resolve(d[6]=c.i64.cast([0,10002])):c.sequence([function(b){return c.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0,void 0,void 0,void 0],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c):(b=a.item,c=[b.threadKey,b.senderId,b.text,b.replySourceId,b.replySourceTypeV2],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c)})},function(e){return c.i64.eq(d[7],void 0)||c.i64.eq(d[8],void 0)?c.resolve((c.i64.eq(d[7],void 0)?d[14]=c.i64.cast([0,10003]):d[14]=c.i64.cast([0,10004]),d[13]=d[14])):c.sequence([function(a){return c.db.table(9).fetch([[[d[7]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=void 0:(b=a.item,d[14]=b.threadType)})},function(b){return c.filter(c.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0,void 0,void 0,void 0,void 0],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],d[21]=c[5],c):(b=a.item,c=[b.platformRef,b.platformToken,b.initiatingSource,void 0,void 0,void 0],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],d[21]=c[5],c)})},function(e){return c.i64.neq(d[14],void 0)?c.sequence([function(e){return d[24]=d[1].keys(),d[25]=c.i64.of_int32(d[24].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(e){return d[31]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(e){return d[34]=d[2].get(d[32]),d[2],d[35]=c.i64.to_string(d[34]),d[35]!==void 0?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[31]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(b){return d[38]=d[1].get(d[32]),d[1],c.forEach(c.filter(c.db.table(16).fetch([[[d[7],a[0],d[36]]]]),function(b){return c.i64.eq(b.threadKey,d[7])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[0]&&b.attachmentFbid===d[36]}),}]):c.resolve()}])}):c.resolve()},function(e){return c.storedProcedure(b("LSGetMessageAttributionParams"),a[0]).then(},function(e){return c.i64.neq(d[26],void 0)?d[29]=d[26]:d[29]=c.i64.cast([0,0]),c.storedProcedure(b("LSIssueSendAttachmentMessageTask"),d[8],d[7],d[14],a[0],d[9],d[0],d[29],d[10],d[11],d[3],d[16],d[17],a[1])},function(a){return c.i64.ge(c.i64.cast([0,0]),c.i64.cast([0,0]))?d[30]=void 0:d[30]=c.i64.cast([0,10006]),d[23]=d[30]}]):c.resolve(d[23]=c.i64.cast([0,10005]))},function(a){return d[13]=d[23]}])},function(a){return d[6]=d[13]}])},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSResumeMediaSendJob",["LSInsertPhase2PendingTask","LSSendPhase1MultiPhotoMessageV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=new c.Map(),d[1]=new c.Map(),d[1].set("main_job_succeeded",!1),d[1].set("resume_failed",!1),d[1].set("error",void 0),d[1].set("running_sub_job_states",d[0]),d[2]=new c.Map(),d[2].set("should_transcode",!1),d[2].set("use_double_phase",!1),d[2].set("send_by_server",!1),d[2].set("is_secure",!1),d[2].set("should_dedupe",!1),c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[2].set("should_transcode",b.shouldTranscode),d[2].set("use_double_phase",b.useDoublePhase),d[2].set("send_by_server",b.sendByServer),d[2].set("is_secure",b.isSecure))})},function(b){return d[4]=new c.Map(),c.forEach(c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[13]=a.offlineAttachmentId,d[11]=a.state,d[12]=a.error,c.i64.eq(d[11],c.i64.cast([-1,4294967293]))?d[10]=!0:(c.i64.eq(d[11],c.i64.cast([0,1]))?d[14]=!0:(c.i64.eq(d[11],c.i64.cast([0,3]))?d[15]=!0:(c.i64.eq(d[11],c.i64.cast([0,5]))?d[16]=!0:(c.i64.eq(d[11],c.i64.cast([0,13]))?d[17]=!0:(c.i64.eq(d[11],c.i64.cast([0,7]))?d[18]=!0:(c.i64.eq(d[11],c.i64.cast([0,9]))?d[19]=!0:(c.i64.eq(d[11],c.i64.cast([0,11]))?d[20]=!0:d[20]=!1,d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),d[10]=d[14]),d[10]?c.resolve(c.i64.eq(d[11],c.i64.cast([0,5]))||c.i64.eq(d[11],c.i64.cast([0,11]))?0:d[4].set(d[13],d[11])):c.i64.neq(d[12],void 0)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[12]))):(c.i64.eq(d[11],c.i64.cast([-1,4294967295]))?d[14]=c.i64.cast([0,5]):(c.i64.eq(d[11],c.i64.cast([-1,4294967294]))?(d[16]=d[2].get("should_transcode"),d[2],d[15]=d[16]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(d[11],c.i64.cast([0,2]))?d[16]=c.i64.cast([0,3]):(c.i64.eq(d[11],c.i64.cast([0,4]))?(d[18]=d[2].get("send_by_server"),d[2],d[19]=d[2].get("use_double_phase"),d[2],d[17]=d[18]?d[19]?c.i64.cast([0,13]):void 0:c.i64.cast([0,5])):(c.i64.eq(d[11],c.i64.cast([0,6]))?(d[19]=d[2].get("use_double_phase"),d[2],d[18]=d[19]?c.i64.cast([0,13]):void 0):(c.i64.eq(d[11],c.i64.cast([0,14]))?(d[20]=d[2].get("use_double_phase"),d[2],d[21]=d[2].get("should_transcode"),d[2],d[19]=d[20]?d[21]?c.i64.cast([0,7]):c.i64.cast([0,9]):void 0):(c.i64.eq(d[11],c.i64.cast([0,8]))?d[20]=c.i64.cast([0,9]):(c.i64.eq(d[11],c.i64.cast([0,10]))?(d[22]=d[2].get("send_by_server"),d[2],d[21]=d[22]?void 0:c.i64.cast([0,11])):(c.i64.eq(d[11],c.i64.cast([0,12]))?d[22]=void 0:d[22]=void 0,d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),c.i64.neq(d[14],void 0)?c.sequence([function(a){return c.forEach(c.db.table(51).fetch([[[d[13]]]]),function(a){var b=a.update;a.item;return b({state:d[14]})})},function(a){return c.i64.eq(d[14],c.i64.cast([0,5]))||c.i64.eq(d[14],c.i64.cast([0,11]))?0:d[4].set(d[13],d[14])}]):c.resolve())})},function(b){return c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[5]=void 0:(b=a.item,d[5]=b.state)})},function(e){return c.i64.neq(d[5],void 0)?(d[10]=d[2].get("send_by_server"),d[2],d[11]=d[2].get("use_double_phase"),d[2],d[12]=d[2].get("use_double_phase"),d[2],(d[10]?d[11]?c.i64.eq(d[5],c.i64.cast([0,10])):c.i64.eq(d[5],c.i64.cast([0,4])):d[12]?c.i64.eq(d[5],c.i64.cast([0,12])):c.i64.eq(d[5],c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):c.i64.eq(d[5],c.i64.cast([0,5]))?c.sequence([function(b){return d[13]=void 0,c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[15]=a.error,c.i64.eq(d[15],void 0)?(c.i64.neq(a.fbid,void 0)?d[16]=void 0:d[16]=c.i64.cast([0,9]),d[14]=d[16]):d[14]=d[15],c.i64.neq(d[14],void 0)?d[13]=d[14]:0})},function(e){return c.i64.neq(d[13],void 0)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.sequence([function(e){return d[14]=d[2].get("is_secure"),d[2],d[14]?c.sequence([function(b){return d[16]=c.createArray(),d[17]=new c.Map(),d[18]=new c.Map(),d[19]=!1,d[20]=c.i64.cast([0,0]),c.forEach(c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.fbid,d[20]=c.i64.add(d[20],c.i64.cast([0,1])),c.i64.neq(d[25],void 0)?d[26]=(d[16].push(d[25]),d[16]):0})},function(b){return d[21]=c.createArray(),c.forEach(c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.metadata,d[25]!==void 0?d[26]=(d[21].push(d[25]),d[21]):0})},function(a){return d[22]=c.i64.of_int32(d[16].length),d[23]=c.i64.of_int32(d[21].length),c.i64.neq(d[22],d[20])||c.i64.neq(d[23],d[20])?d[24]=c.i64.cast([0,11]):(function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started"),function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed"),d[24]=void 0),d[15]=d[24]}]):c.sequence([function(e){return c.storedProcedure(b("LSSendPhase1MultiPhotoMessageV2"),a[0],a[2]).then(function(a){return a=a,d[16]=a[0],a})},function(b){return c.i64.eq(d[16],void 0)?c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:c.i64.cast([0,6])})}):c.resolve()},function(a){return d[15]=d[16]}])},function(b){return c.i64.eq(d[15],void 0)?(d[16]=d[2].get("send_by_server"),d[2],d[17]=d[2].get("use_double_phase"),d[2],d[18]=d[2].get("use_double_phase"),d[2],(d[16]?d[17]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4])):d[18]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967295]))?d[19]=c.i64.cast([0,5]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967294]))?(d[21]=d[2].get("should_transcode"),d[2],d[20]=d[21]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,2]))?d[21]=c.i64.cast([0,3]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4]))?(d[23]=d[2].get("send_by_server"),d[2],d[24]=d[2].get("use_double_phase"),d[2],d[22]=d[23]?d[24]?c.i64.cast([0,13]):void 0:c.i64.cast([0,5])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6]))?(d[24]=d[2].get("use_double_phase"),d[2],d[23]=d[24]?c.i64.cast([0,13]):void 0):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,14]))?(d[25]=d[2].get("use_double_phase"),d[2],d[26]=d[2].get("should_transcode"),d[2],d[24]=d[25]?d[26]?c.i64.cast([0,7]):c.i64.cast([0,9]):void 0):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,8]))?d[25]=c.i64.cast([0,9]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10]))?(d[27]=d[2].get("send_by_server"),d[2],d[26]=d[27]?void 0:c.i64.cast([0,11])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12]))?d[27]=void 0:d[27]=void 0,d[26]=d[27]),d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),c.i64.neq(d[19],void 0)?c.sequence([function(b){return c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[19]})})},function(b){return c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[15])))}])}]):c.i64.eq(d[5],c.i64.cast([0,11]))?c.sequence([function(b){return d[13]=void 0,c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[14]=a.error,c.i64.neq(d[14],void 0)?d[13]=d[14]:0})},function(a){return c.i64.neq(d[13],void 0)?(d[1].set("resume_failed",!0),d[1].set("error",d[13])):d[1].set("main_job_succeeded",!0)}]):c.i64.eq(d[5],c.i64.cast([0,13]))?c.sequence([function(b){return c.i64.neq(d[13],void 0)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.sequence([function(b){return c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),},function(b){return d[1].set("main_job_succeeded",!0),c.forEach(c.filter(c.db.table(51).fetch(),,function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}])}]):c.resolve(0)):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",c.i64.cast([0,11]))))},function(a){return d[7]=d[1].get("main_job_succeeded"),d[1],d[8]=d[1].get("resume_failed"),d[1],d[9]=d[1].get("error"),d[1],a=[d[7],d[8],d[9],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSResumeMediaSendJobStoredProcedure",["LSResumeMediaSendJob"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.jobId;d[1]=b.pluginType;d[2]=b.dataTraceId;return c("LSResumeMediaSendJob").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWPOpenComposerUtils",["I64","LSRemoveMediaSendJobsStoredProcedure","LSResumeMediaSendJobStoredProcedure","MWConsole","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return a.table("media_staging").get(c).then(function(d){if(d!=null)return a.table("media_staging")["delete"](c);else return(i||(i=b("Promise"))).resolve()})}function e(a,c,d){return a.table("media_staging").get(c).then(function(c){if(c!=null)return a.table("media_staging").put(d(c));else return(i||(i=b("Promise"))).resolve()})}function f(a,c,d,e,f){return a.table("attachments").get(c,d,e).then(function(g){if(g!=null)return a.table("attachments").upsert([c,d,e],f(g));else return(i||(i=b("Promise"))).resolve()})}function j(a,e,f){return c("LSResumeMediaSendJobStoredProcedure")(a,{dataTraceId:(f=f)!=null?f:void 0,jobId:e,pluginType:(h||(h=d("I64"))).zero}).then(function(d){d=d[0];if(d)return c("LSRemoveMediaSendJobsStoredProcedure")(a,{offlineThreadingId:e});else return(i||(i=b("Promise"))).resolve()})}g.deleteMediaStaging=a;g.updateMediaStaging=e;g.updateAttachment=f;g.resumeSendJob=j}),98);
__d("MWPSendMessageLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function a(a,b,c,d,e,f,g,i){h.onReady(function(h){return h.log({actor:c,attachmentFbids:e,attachmentType:g,backend:0,hasReply:i,offlineThreadingId:d,sendType:0,source:f,threadKey:a,threadType:b})})}g.log=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("useMWV2SendOpenStagedMedia",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MWPSendMessageLogger","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","asyncToGeneratorRuntime","gkx","react","updateAndFlushLSDataTrace","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(i||(i=d("I64"))).of_int32(e)))});return m.apply(this,arguments)}unction o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return o.apply(this,arguments)}function a(a){var e=a.onOptimisticMessageCreation,f=a.thread,g=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var h=a.reply,m=c("useLSMessagingInitiatingSource")(),o=d("LSThreadBitOffset").has(40,f);return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.firstAttachmentTypeContents,k=a.isFirstMessage;k=k===void 0?!1:k;var p=a.isFirstMessageText,q=a.mediaStagings,r=a.sendFirstMessageSeparately;r=r===void 0?!1:r;var s=a.setupS2SLogging,t=a.source,u=a.transaction,v=c("LSFactory")(u);a={contents:b};b=q[0];if(q.length===0){d("MWPSendMessageLogger").log(f.threadKey,f.threadType,g,void 0,[],t,a.contents,h!=null);return}var w={contents:!0};a.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(b.attachmentType);b=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(q,o);for(var x=0;x<b.length;x++)if(r===!1||x===0&&k===!0&&p===!1||k===!1){var y=b[x],z=c("LSGenerateTraceId")(),A=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(v,{attachments:c("LSVec").ofArray(y.map(d("LSShape").ofRecord)),replySourceId:h==null?void 0:h.messageId,replySourceType:h!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:h!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:g,threadKey:f.threadKey,threadType:f.threadType})),B=A[0];x===0&&s(B);yield u.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:m,markThreadRead:!1,messageId:void 0,offlineThreadingId:B,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(i||(i=d("I64"))).of_string(B),threadAttributionSource:t,threadKey:f.threadKey});e!==void 0&&e({TAG:2,numberOfAttachments:y.length,offlineThreadingId:B});yield l(u,z,i.of_int32(y.length),a.contents);A=function*(a){var b=y[a];yield c("LSInsertNewMediaSendStoredProcedure")(v,{attachmentType:b.attachment_type,inMessageIndex:(i||(i=d("I64"))).of_int32(a),isSecure:!1,offlineAttachmentId:b.attachment_fbid,offlineThreadingId:B,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});a=q.find(;if(a!=null){var e=a.fbid;e!=null&&(yield c("LSMarkSubJobCompletedV2StoredProcedure")(v,{fbid:e,offlineAttachmentId:b.attachment_fbid}),yield d("MWPOpenComposerUtils").deleteMediaStaging(u,b.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(u,f.threadKey,B,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:(i||(i=d("I64"))).to_string(e)})}))}w.contents=!1;yield d("MWPOpenComposerUtils").updateMediaStaging(u,b.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}});c("gkx")("184")&&(yield d("MWPOpenComposerUtils").updateAttachment(u,f.threadKey,B,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))};for(var C=0;C<y.length;C++)yield* A(C);d("MWPSendMessageLogger").log(f.threadKey,f.threadType,g,B,y.map(function(a){return a.attachment_fbid}),t,a.contents,h!=null);yield d("MWPOpenComposerUtils").resumeSendJob(v,B,(A=z)!=null?A:void 0);yield n(u,i.to_string(f.threadKey),z);yield c("updateAndFlushLSDataTrace")(u,z)}C=(i||(i=d("I64"))).to_string(f.threadKey);A=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?[C,null]:[null,C];var D=A[0],E=A[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:w.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:E,thread_fbid:D}})});return function(b){return a.apply(this,arguments)}}(),[o,f.threadKey,f.threadType,g,h,m,e])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","Int64Hooks","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MessagingLoggingUtils","OfflineThreadingId","ReQL","asyncToGeneratorRuntime","promiseDone","react","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;unction n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function o(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.table("attachments")).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a){var e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,i=a.onUploadSuccess,n=a.sendMessageLogger,p=a.skipUrlPreviewGen,q=a.threadKey,r=a.threadType,s=(h||(h=c("useReStore")))(),t=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var u=a.reply,v=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var h=a.dataTraceId,l=a.setupS2SLogging,w=a.source,x=a.transaction;a=a.voiceClip;var y=c("LSFactory")(x),z=d("OfflineThreadingId").createOfflineThreadingID(),A=d("MWPComposerMediaUploadUtil").getAudioAttachment(z,a.file,a.duration,a.waveformData);yield m(x,h,(k||(k=d("I64"))).one,2);var B=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(y,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(A)]),replySourceId:u==null?void 0:u.messageId,replySourceType:u!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:u!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:t,threadKey:q,threadType:r})),C=B[0];l(C);yield x.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:v,markThreadRead:!1,messageId:void 0,offlineThreadingId:C,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:p,taskId:k.of_string(C),threadAttributionSource:w,threadKey:q});e!=null&&e({TAG:1,offlineThreadingId:C});yield c("LSInsertNewMediaSendStoredProcedure")(y,{attachmentType:A.attachment_type,inMessageIndex:k.zero,isSecure:!1,offlineAttachmentId:z,offlineThreadingId:C,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});B=function(a,e){if(e==null)return;c("promiseDone")(s.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSFactory")(a);yield c("LSMarkSubJobCompletedV2StoredProcedure")(a,{fbid:(k||(k=d("I64"))).of_float(e),offlineAttachmentId:z});yield d("MWPOpenComposerUtils").resumeSendJob(a,C,h);o(A.playable_url,e,s,q)});return function(b){return a.apply(this,arguments)}}(),"readwrite"));n({actor:t,attachmentFbids:[(k||(k=d("I64"))).to_string(k.of_float(e))],attachmentType:d("MessagingLoggingUtils").convertI64ToAttachmentType(A.attachment_type),hasReply:u!=null,key:q,offlineThreadingId:C,source:w,type:r});i&&i(a)};l=function(a,b){if(f){f((b=b.response.getErrorDescriptionString())!=null?b:"unknown_upload_failure",a)}};d("MWPComposerMediaUploadUtil").startUpload(g,void 0,B,l,!0,[a.file],[z],void 0,void 0,a.waveformData,void 0,k.to_string(t))});return function(b){return a.apply(this,arguments)}}(),[s,t,q,r,u,v,p,e,g,n,i,f])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onOptimisticMessageCreation,e=a.onUploadFailure,f=a.onUploadStart,g=a.onUploadSuccess,h=a.skipUrlPreviewGen;a=a.thread;var i=d("Int64Hooks").useCallbackInt64(function(a){var b=a.actor,c=a.attachmentFbids,e=a.attachmentType,f=a.hasReply,g=a.key,h=a.offlineThreadingId,i=a.source;a=a.type;b!=null&&d("MWPSendMessageLogger").log(g,a,b,h,c,i,e,f)},[]);return c("useMWV2SendOpenVoiceClipImplShared")({onOptimisticMessageCreation:b,onUploadFailure:e,onUploadStart:f,onUploadSuccess:g,sendMessageLogger:i,skipUrlPreviewGen:h,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSMessagingThreadTypeUtil","LSShape","MWPReplyContext.react","MWSharedMsgLogUtils","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","ReQL","asyncToGeneratorRuntime","react","sendToSentQPLLogger","useAsyncReStore","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(a){var e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,h=a.onUploadSuccess,k=a.skipUrlPreviewGen,l=a.thread,m=c("useAsyncReStore")();a=j(d("MWPReplyContext.react").MWPReplyContext);var n=a.reply,o=c("useLSMessagingInitiatingSource")(),p=c("useMWLSDefaultThreadSource")(),q=c("useMWV2SendOpenVoiceClip")({onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,skipUrlPreviewGen:k,thread:l}),r=c("useMWV2SendOpenStagedMedia")({onOptimisticMessageCreation:e,thread:l}),s=c("useMWV2SendOpenMessageImpl")({onOptimisticMessageCreation:e,skipUrlPreviewGen:k,thread:l}),t=d("LSMessagingThreadTypeUtil").isMessageRequest(l);a=j(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var u=a.onMessageSendAttempt;return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,j,k,v,w,x,y,z,A,B){y===void 0&&(y=!1);z===void 0&&(z=!1);var C=!1;u==null?void 0:u(!0);function D(a){A.addMarkerPoint(a,"AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(B,a)}var E=p(l.threadKey),F=c("LSGenerateTraceId")(),G={contents:1},H=l.eventStartTimestampMs!=null,I=l.threadType,J=(yield m),K=c("MWV2SetupS2SLoggingShared")({db:J,initiatingSource:o,isCommunityEvent:H,isMessageRequest:t,s2sInstanceKey:B,threadType:I,traceSendMessageAPI:A});return J.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("media_staging")).filter(function(a){return!a.isSent&&(i||(i=d("I64"))).equal(a.threadKey,l.threadKey)}))),m=d("MWSharedMsgLogUtils").getMessageTypeParams(a,g,n,f,j,v,c);d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(A,m,l,o);d("sendToSentQPLLogger").addSendToSentAnnotations(B,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(l,m,o));if(v!=null){yield q({dataTraceId:F,setupS2SLogging:K,source:E,transaction:b,voiceClip:v});return}var p=m.hasGif,t=m.hasSticker,u=m.hasText;t?G.contents=4:p&&(G.contents=6);var H=e!=null?d("LSShape").ofRecord({mention_ids:e.map(function(a){return a.id}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_offsets:e.map(.join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0}):void 0;D("before_create_optimistic_message");u||t||p?(C=!0,(y===!1||z===!0)&&(yield s({afterSend:x,attributionAppId:h,dataTraceId:F,externalAttachmentUrl:j,hotEmojiSize:g,logSendPoint:D,mentionData:H,messageText:a,messageTypeParams:m,optimisticAttachmentPreview:k,platformToken:w,profileRanges:e,s2sInstanceKey:B,sendFirstMessageSeparately:y,setupS2SLogging:K,source:E,stickerID:f,transaction:b}))):x!=null&&x();yield r({firstAttachmentTypeContents:G.contents,isFirstMessage:z,isFirstMessageText:C,mediaStagings:c,sendFirstMessageSeparately:y,setupS2SLogging:K,source:E,transaction:b})});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui")});return function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){return a.apply(this,arguments)}}(),[p,o,t,m,n,r,q,s,u,l])}g["default"]=a}),98);
__d("useMWV2OnSendOpenMessage",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWOptimisticUpdateContactRelationship","MWCMThreadTypes.react","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useMWV2SendOpenMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useContext,l=b.useMemo;function a(a){var b=a.afterSendMessage,e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,j=a.onUploadSuccess,m=a.skipUrlPreviewGen,n=a.thread,o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var q=a.clearReply,r=n.threadSubtype,s=l(function(){return{is_community_event:(n.eventStartTimestampMs!=null).toString(),isCutover:(!1).toString(),isSecure:(!1).toString(),thread_id:(i||(i=d("I64"))).to_string(n.threadKey),thread_subtype:r&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(r)?(i||(i=d("I64"))).to_string(r):"",thread_type:i.to_string(n.threadType)}},[n,r]),t=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,s),u=c("useMWV2SendOpenMessage")({onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:j,skipUrlPreviewGen:m,thread:n});return d("Int64Hooks").useCallbackInt64(function(a,e,f,g,h,i,j,k,l,m,r,v){r===void 0&&(r=!1);v===void 0&&(v=!1);var w=d("LSMessagingThreadTypeUtil").isMessageRequest(n);return t(function(t){var x=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(x,{string:s});c("promiseDone")(u(a,e,f,g,h,i,j,k,l,m,r,v,t,x),function(){b(),q(n.threadKey,!1),d("MAWOptimisticUpdateContactRelationship").call(n,o,p),w&&d("MessageRequestsLog").logActionConfirmed(n,1)})})},[n,t,s,u,b,q,o,p])}g["default"]=a}),98);
__d("LSMediaUrlAttachment",["I64","LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.playableUrlFallback):a.playableUrl}function f(a){var b=a.imageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.imageUrlFallback):a.imageUrl}function i(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.faviconUrlFallback):a.faviconUrl}function j(a){try{var b=a.listItemContactUrlExpirationTimestampList1;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList1):a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList2):a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function l(a){try{var b=a.listItemContactUrlExpirationTimestampList3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList3):a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function m(a){var b=a.headerImageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.headerImageUrlFallback):a.headerImageUrl}function n(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b)))return c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback1);else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback2):a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function p(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback3):a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=e;g.imageUrl=f;g.faviconUrl=i;g.listItemContactUrlList1=j;g.listItemContactUrlList2=k;g.listItemContactUrlList3=l;g.headerImageUrl=m;g.listItemProfilePictureUrl1=n;g.listItemProfilePictureUrl2=o;g.listItemProfilePictureUrl3=p}),98);
__d("MWPAudioPlayerIcons.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}b.displayName=b.name+" [from "+f.id+"]";function c(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}c.displayName=c.name+" [from "+f.id+"]";g.PlayIcon=a;g.StopIcon=b;g.PauseIcon=c}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));c=h;e=c.createContext;var k=c.useContext;c={threadKey:(i||(i=d("I64"))).zero};var l=e(c);unction b(a){var b=a.children,c=a.threadKey;a=d("Int64Hooks").useMemoInt64(function(){return{threadKey:c}},[c]);return j.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWPAudioPlaybackThreadKey=a;g.MWPAudioPlaybackThreadContextProvider=b}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","ReQL","ReQLSuspense","bx","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j,n=m.createContext,o=m.useCallback,p=m.useContext,q=m.useEffect,r=m.useMemo,s=m.useRef,t=m.useState,u=b("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2});unction w(){return v(c("bx").getURL(c("bx")("577")))}function x(a){var b=Array.from(u.members()),c=b.findIndex(;c=c+1;return b[c%b.length]}function y(a){return h._({"*":"{playback rate}x"},[h._param("playback rate",a,[0])])}y.displayName=y.name+" [from "+f.id+"]";m={activeAudio:null,activeThreadKey:(k||(k=d("I64"))).zero,addNextPlayableUrl:c("emptyFunction"),clearActiveAudio:c("emptyFunction"),getNewOrExistingAudio:v,onChangePlaybackRate:c("emptyFunction"),playbackRateLabel:y(u.NORMAL),setUseOutOfChatPlayback:c("emptyFunction")};var z=n(m);function a(a,b,c){var e=p(z),f=e.activeAudio,g=e.activeThreadKey,h=e.addNextPlayableUrl,i=e.getNewOrExistingAudio,j=e.setUseOutOfChatPlayback,l=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!c||(k||(k=d("I64"))).is_zero(g)||(k||(k=d("I64"))).is_zero(l))return;j(!(k||(k=d("I64"))).equal(g,l));return function(){j((k||(k=d("I64"))).equal(g,l))}},[f,g,j,c,l]);return d("Int64Hooks").useMemoInt64(function(){if(a!=null&&a!==""){if(!c)return v(a);b!=null&&b!==""&&h(a,b);return i(a,l)}},[h,i,b,a,c,l])}function e(){var a=p(z),b=a.onChangePlaybackRate;a=a.playbackRateLabel;return[a,b]}function A(){var a=p(z),b=a.activeAudio,e=a.activeThreadKey;a=a.clearActiveAudio;var g=(i||(i=c("useReStore")))(),h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.table("threads")).getKeyRange(e)},[g,e],f.id+":168");return[b,a,h]}function B(a){a=a.children;var b=s(new Map()),c=s(new Map()),e=s([]);q(function(){var a=e.current;return function(){while(a.length>0){var b=a.pop(),c=b[0],d=b[1];b=b[2];c.removeEventListener(d,b);c.pause()}}},[]);var f=t(u.NORMAL),g=f[0],h=f[1],i=r(function(){return y(g)},[g]);f=t((k||(k=d("I64"))).zero);var j=f[0],m=f[1];f=t(null);var n=f[0],p=f[1];f=t(!1);var A=f[0],B=f[1],C=(n==null?void 0:n.paused)===!1,D=r([n,C,A]),E=o(function(){p(function(a){a!=null&&a.pause();return null})},[]),F=o(function(a,d){var f,h=(f=b.current.get(a))!=null?f:v(a);h.playbackRate=g;f=function(a,b){h.addEventListener(a,b),e.current.push([h,a,b])};var i=function(){var d=c.current.get(a);if(d!=null){var e=b.current.get(d);if(e!=null&&e.paused)return void w().play().then(function(){p(e);return e.play()["catch"](})}p(null)};f("ended",i);i=function(){for(var a=b.current.values(),c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f!==h&&f.pause()}p(h);m(d)};f("playing",i);b.current.set(a,h);return h},[g]),G=o(function(){h(function(a){a=x(a);for(var c=b.current.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.playbackRate=a}return a})},[]),H=o([]);f=d("Int64Hooks").useMemoInt64([D,j,H,E,F,G,i]);return l.jsx(z.Provider,{value:f,children:a})}B.displayName=B.name+" [from "+f.id+"]";g.useMWPAudioPlaybackElement=a;g.useMWPAudioPlaybackRate=e;g.useMWPAudioOutOfChatPlayback=A;g.MWPAudioPlaybackContextProvider=B}),98);
__d("MWPAudioPlayerUtils",["fbt","$InternalEnum","MWPAudioPlaybackContext.react","cancelAnimationFrame","gkx","promiseDone","react","requestAnimationFrameAcrossTransitions","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.createContext,m=k.useCallback,n=k.useContext,o=k.useEffect,p=k.useRef,q=k.useState,r=b("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),s=l(r.PLAYER),t=c("gkx")("4435");function u(){var a=n(s);return t&&a===r.PLAYER}function a(a,b){if(b==null)return 0;b=b.getBoundingClientRect();var c=b.left;b=b.width;a=a.clientX-c;c=b>0&&a>0?a/b:0;return v(c,0,1)}unction e(a){var b=a.currentTime;a=a.duration;return j.jsx("div",{"aria-label":h._("Control deslizante de audio"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":b,role:"slider",style:{position:"absolute"},tabIndex:0})}e.displayName=e.name+" [from "+f.id+"]";function w(){var a=u();return a?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function x(a){return m(function(b){var c=a.current;if(c!=null){b.stopPropagation();return c.updateHighlight(0)}},[a])}function y(a,b,d,e,f,g){f===void 0&&(f=!1);var h=p();o(function(){var d=function(a){var b=h.current;if(b!=null)return b.updateHighlight(a)};if(g){f?d(100):d(0);return}if(e){var i={contents:void 0},j,k=function e(f){var g;if(b.current!=null)g=b.current.currentTime/b.current.duration;else{var h=i.contents,k=0;h!=null?k=f-h:i.contents=f;g=k/(a*1e3)}h=Math.min(g*100,100);d(h);if(h<100){j=c("requestAnimationFrameAcrossTransitions")(e);return}};j=c("requestAnimationFrameAcrossTransitions")(k);return if(b.current!=null){k=b.current.currentTime/b.current.duration;d(k*100)}},[a,e,g,h,b,f,d]);return h}var z=b("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function A(a,b,e,f,g){var h=u(),i=c("useStable")(function(){return e}),j=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(a,b,h),k=p(j);a=q(z.NONE);var l=a[0],n=a[1];b=q(function(){var a;return(a=j==null?void 0:j.currentTime)!=null?a:0});a=b[0];var r=b[1];o(function(){if(j==null){n(z.NONE);return}j.ended&&n(z.ENDED);n(;r(j.currentTime);k.current=j},[j]);o(function(){var a=k.current;if(a==null)return;var b=function(){return n(z.PAUSED)},c=function(){return n(z.PLAYING)},d=function(){return n(z.LOADING)},e=function(){k.current!=null&&r(k.current.currentTime)},f=g=function(){k.current!=null&&(k.current.currentTime=0,r(0)),n(z.ENDED)};a.addEventListener("loadstart",d);a.addEventListener("canplay",f);a.addEventListener("timeupdate",e);a.addEventListener("playing",c);a.addEventListener("pause",b);a.addEventListener("ended",g);return function(){a.removeEventListener("loadstart",d),a.removeEventListener("canplay",f),a.removeEventListener("timeupdate",e),a.removeEventListener("playing",c),a.removeEventListener("pause",b),a.removeEventListener("ended",g),h||a.pause()}},[j,h]);b=m(function(){var a=k.current;if(a==null)return;switch(l){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(a.play(),function(){return n(z.PLAYING)},i);return;case z.PLAYING:a.pause();n(z.PAUSED);return}},[i,l]);var s=m(function(a){var b=k.current;if(b==null)return;b.currentTime=a;r(a)},[]);return[l,a,k,b,y(g,k,a,l===z.PLAYING,f,l===z.ENDED),s]}function B(){var a=d("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),b=a[0],e=a[1];a=a[2];var f=q(function(){if(b==null)return z.NONE;return b.ended?z.ENDED:b.paused?z.PAUSED:z.PLAYING}),g=f[0],h=f[1];f=q(function(){return b!=null?b.duration-b.currentTime:0});var i=f[0],j=f[1];o(function(){if(b==null)return;var a=function(){return j(b.duration-b.currentTime)},d=function(){return h(z.LOADING)},e=function(){return h(z.ENDED)};b.addEventListener("timeupdate",a);b.addEventListener("loadstart",d);b.addEventListener("ended",e);c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return ,[b]);f=m(function(){if(b==null)return;switch(g){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(b.play(),;return;case z.PLAYING:b.pause();h(z.PAUSED);return}},[b,g]);return[a,g===z.PLAYING,b!=null&&a!=null&&t,i,f,e]}g.UseCase=r;g.UseCaseContext=s;g.isEnabled=t;g.useShowNewUX=u;g.getMousePos=a;g.ScreenReaderLabel=e;g.usePlaybackButtonContainerStyle=w;g.useResetHighlightProgress=x;g.useProgressLiveUpdate=y;g.State=z;g.useControlCenter=A;g.useOutOfChatControlCenter=B}),98);
__d("MWPAudioPlaybackIcon.react",["MWPAudioPlayerIcons.react","MWPAudioPlayerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.backgroundColor,c=a.disabled,e=a.hasEnded,f=a.isPaused,g=a.isPlaying;a=a.outgoing;var h=d("MWPAudioPlayerUtils").useShowNewUX();h=h?a?"var(--always-white)":"var(--progress-ring-neutral-foreground)":a?b:void 0;if(g)return i.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:h});return f||e||c?i.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:h}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerSharedStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={bar:{backgroundColor:"x14hiurz",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,marginEnd:"x1w0mnb",$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderTopStartRadius:"xfj52jq",borderTopEndRadius:"xykzs3s",borderBottomEndRadius:"x17xv1ja",borderBottomStartRadius:"x1mvicbb",$$css:!0},rightSideImprove:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,marginEnd:"xq8finb",width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,marginEnd:"x1w0mnb",position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6","::after_borderTopColor":"x14617ij","::after_borderEndColor":"x1b5s2of","::after_borderBottomColor":"xv84cap","::after_borderStartColor":"x15ngzmr","::after_borderTopStartRadius":"xwuuf8d","::after_borderTopEndRadius":"xpd6q6o","::after_borderBottomEndRadius":"x1n6g0fn","::after_borderBottomStartRadius":"xu4xob7","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x1gnji40","::after_borderEndWidth":"xymhjbi","::after_borderBottomWidth":"x1ekxc0f","::after_borderStartWidth":"x5arhyh","::after_bottom":"x14apmda","::after_content":"x1s928wv","::after_display":"xhkezso","::after_end":"xhyvd7x","::after_left":null,"::after_right":null,"::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x1aneyt","::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};g.styles=a}),98);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.outgoing;var b=d("MWPAudioPlayerUtils").useShowNewUX(),e=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),f=e[0];e=e[1];if(!b)return null;b=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return j.jsx(c("MWXPressable.react"),{onPress:e,overlayDisabled:!0,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,d("MWPAudioPlayerSharedStyles").styles.rightSideMargin,d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:b},children:f})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.disabled,e=a.icon,f=a.label;a.onHoverMove;a=a.onPress;var g=d("MWPAudioPlayerUtils").useShowNewUX(),h=g?{backgroundColor:"transparent"}:{};return j.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:b,onPress:a,overlayDisabled:g,overlayRadius:"50%",style:h,testid:void 0,xstyle:d("MWPAudioPlayerSharedStyles").styles.pressable,children:e})}b.displayName=b.name+" [from "+f.id+"]";g.PlaybackRateButton=a;g.AudioPlayerPlaybackButton=b}),98);
__d("MWPAudioPlayerLabels",["fbt"],(,98);
__d("MWPAudioPlaybackButton.react",["MWPAudioPlaybackIcon.react","MWPAudioPlayerButtons.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.isLoading,e=a.onPress,f=a.scrubberRef,g=a.backgroundColor,i=a.disabled,k=a.hasEnded,l=a.isPaused,m=a.isPlaying;a=a.outgoing;var n=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle();f=d("MWPAudioPlayerUtils").useResetHighlightProgress(f);var o=m||l;return b?j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:o?f:void 0,style:n,children:j.jsx(c("MWXSpinner.react"),{color:"disabled",size:16})}):j.jsx("div",{onMouseMove:o?f:void 0,style:n,children:j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:i,icon:j.jsx(c("MWPAudioPlaybackIcon.react"),{backgroundColor:g,disabled:i,hasEnded:k,isPaused:l,isPlaying:m,outgoing:a}),label:m?d("MWPAudioPlayerLabels").pauseLabel:d("MWPAudioPlayerLabels").playLabel,onPress:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=a.audioEl,e=a.children,f=a.hasScrubber,g=a.scrubberRef,i=a.style,l=a.testid;l=a.useCase;a=d("MWPAudioPlayerUtils").useShowNewUX();var m=k(),n=function(a){var c=b.current,e=m.current;c!=null&&e!=null&&Number.isFinite(c.duration)&&(c.currentTime=d("MWPAudioPlayerUtils").getMousePos(a,e)*c.duration)},o=function(a){if(m.current!=null&&g.current!=null)return g.current.updateHighlight(d("MWPAudioPlayerUtils").getMousePos(a,m.current)*100)},p=function(){if(g.current!=null)return g.current.updateHighlight(0)};i=babelHelpers["extends"]({cursor:f?"pointer":"default",height:a&&l===d("MWPAudioPlayerUtils").UseCase.PLAYER?70:36},i);a=f&&!a;return j.jsx(d("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:l,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:a?n:void 0,onMouseLeave:f?p:void 0,onMouseMove:a?o:void 0,ref:m,style:i,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j.forwardRef;e=b(a);function a(a,b){var e=a.currentTime,f=a.duration;a=a.xPosition;return k.jsx("div",{"aria-label":h._("Control deslizante de audio"),"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":e,className:(i||(i=c("stylex")))(e===0?d("MWPAudioPlayerSharedStyles").styles.transparentBar:d("MWPAudioPlayerSharedStyles").styles.bar),ref:b,role:"slider",style:{left:a.toFixed(2)+"%"}})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("MWChatRecorderUtils",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";unction a(a){var b=h(a),c=new Float32Array(b);a.reduce(0);return c}function b(a,b){var c=h([a,b]);return new Float32Array(c).map(function(c,d){c=Math.floor(d/2);if(d%2===0)return a[c];else return b[c]})}function i(a,b,c){c.forEach(function(c,d){c=Math.max(-1,Math.min(1,c));d=b+(d<<1);c=c<0?Math.abs(c)*-32768:Math.abs(c)*32767;a.setInt16(d,c,!0)})}function j(a,b,c){Array.from(c).forEach(function(d,e){d=c.charCodeAt(e);a.setUint8(b+e,d)})}function k(a,b){var c=a.length;c=c<<1;var d=new ArrayBuffer(44+c);d=new DataView(d);j(d,0,"RIFF");d.setUint32(4,36+c,!0);j(d,8,"WAVE");j(d,12,"fmt ");d.setUint32(16,16,!0);d.setUint16(20,1,!0);d.setUint16(22,2,!0);d.setUint32(24,b,!0);d.setUint32(28,b<<2,!0);d.setUint16(32,4,!0);d.setUint16(34,16,!0);j(d,36,"data");d.setUint32(40,c,!0);i(d,44,a);return d}function c(a,b){a=k(a,b);return new File([a],"audio_clip.wav",{type:"audio/wav"})}var l=2;function e(a,b){var c=Float32Array.BYTES_PER_ELEMENT;a=a.byteLength/c/l;return a/b%d("DateConsts").SEC_PER_MIN}unction f(a,b){var c=new Array(Math.ceil(b));if(b===0||a.length===0)return c;if(b===a.length)return Array.from(a);if(a.length===1)return c.fill(a[0]);c[0]=a[0];var d=(a.length-1)/(b-1);for(var e=1;e<b;e++){var f=e*d,g=Math.floor(f),h=Math.ceil(f);f=f-g;c[e]=m(a[g],a[h],f)}b>=2&&(c[c.length-1]=a[a.length-1]);return c}function n(a,b,c){var d=Math.min.apply(Math,a),e=Math.max.apply(Math,a),f=e-d,g=c-b;return a.map(}g.getTotalBuffersLen=h;g.flattenBuffer=a;g.interleave=b;g.exportWAV=c;g.getAudioDuration=e;g.computeWaveformAmplitudes=f;g.linearConversion=n}),98);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),p=3,q=3,r=44,s=4;function t(a,b){var c=l(function(){return a==null||a===""?o:Float32Array.from(a.split(",").map(Number))},[a]);return l(function(){if(b<=0||c.length===0)return[];var a=Math.floor(b/(q*2));a=d("MWChatRecorderUtils").linearConversion(d("MWChatRecorderUtils").computeWaveformAmplitudes(c,a),s,r);return a.map(function(a,b){a=Math.ceil(a);var c=p,d=q;b=b*q*2;var e="calc(50% - "+a/2+"px)";return{height:a,rx:c,width:d,x:b,y:e}})},[b,c])}function u(a){var b=a.hasEnded,e=b===void 0?!1:b;b=a.isPlaying;var f=b===void 0?!1:b,g=a.outgoing,i=a.scrubberLeft;b=babelHelpers.objectWithoutPropertiesLoose(a,["hasEnded","isPlaying","outgoing","scrubberLeft"]);var l=m(null);a=n("auto");var o=a[0],p=a[1];k(function(){var a=l.current;p(function(){var b="auto";(e||f)&&(b=g===!0?"var(--non-media-pressed-on-dark)":"var(--secondary-button-background-on-dark)");if(a==null)return b;var c=a.getBoundingClientRect();c=c.left;return i>c?g===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":b})},[e,f,g,i]);a=g===!0?(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle):(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle);return j.jsx("rect",babelHelpers["extends"]({},b,{className:a,ref:l,style:{fill:o}}))}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.hasEnded,e=a.isListened,f=a.isPlaying,g=a.outgoing,i=a.scrubberLeft;a=a.waveformData;var l=m(null),o=n(0),p=o[0],q=o[1],r=b===!0||e===!0;k(function(){if(l.current!=null){var a=l.current.getBoundingClientRect();q(a.width)}},[]);o=t(a,p);return o.length===0?j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.waveform),ref:l}):j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.waveform),ref:l,children:j.jsx("svg",{"aria-hidden":!0,className:h(d("MWPAudioPlayerSharedStyles").styles.mask),children:o.map(function(a,b){return j.createElement(u,babelHelpers["extends"]({},a,{hasEnded:r,isPlaying:f,key:b,outgoing:g,scrubberLeft:i}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerHighlight.react",["MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;e=b.forwardRef;var k=b.useImperativeHandle,l=b.useLayoutEffect,m=b.useRef,n=b.useState,o=e(function(a,b){var e=a.audioEl,f=a.children,g=a.duration,i=a.hasEnded,o=a.isListened,q=a.isPlaying;q=q===void 0?!0:q;var r=a.onUpdateScrubber,s=a.outgoing,t=a.waveformData;a=a.xstyle;var u=d("MWPAudioPlayerUtils").useShowNewUX(),v=m(),w=m(),x=n(0),y=x[0],z=x[1];x=n(0);var A=x[0],B=x[1];l(function(){if((e==null?void 0:e.current)!=null&&w.current!=null&&g!=null&&g>0){var a=e.current.currentTime,b=w.current;B(p(b,a/g*100))}},[e,g]);k(b,function(){return{updateHighlight:function(a){var b=v.current,c=w.current;if(b==null)return;if(u){if(c!=null){c=p(c,a);B(c)}}else b.style.transform="translateX("+(a-100).toFixed(1)+"%)"}}},[u]);x=function(a){if(v.current!=null){var b,c;b=(b=v.current)==null?void 0:b.getBoundingClientRect();b=(b=b==null?void 0:b.left)!=null?b:0;b=a.clientX-b;c=(c=(c=v.current)==null?void 0:c.offsetWidth)!=null?c:0;z(b/c*100);if(g!=null&&g>0){b=d("MWPAudioPlayerUtils").getMousePos(a,v.current)*g;if(r!=null&&w.current!=null){c=w.current;r(b);B(p(c,b/g*100))}}}};if(u){return j.jsxs(j.Fragment,{children:[f,j.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.highlight,d("MWPAudioPlayerSharedStyles").styles.scrubber),onMouseDownCapture:x,ref:v,children:[j.jsx(c("MWPAudioPlayerScrubberBar.react"),{currentTime:e==null?void 0:(b=e.current)==null?void 0:b.currentTime,duration:(x=e==null?void 0:(f=e.current)==null?void 0:f.duration)!=null?x:0,ref:w,xPosition:y}),j.jsx(c("MWPAudioPlayerWaveform.react"),{hasEnded:i,isListened:o,isPlaying:q,outgoing:s,scrubberLeft:A,waveformData:t})]})]})}return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.highlight,a),ref:v})});function p(a,b){a.style.left=b.toFixed(2)+"%";a.style.transition="transform 1s ease-out";b=a.getBoundingClientRect();a=b.left;return a}function a(a){var b=a.hasScrubber,c=a.progressHighlightRef,e=a.scrubberRef,f=a.audioEl,g=a.children,h=a.currentTime,i=a.duration,k=a.hasEnded,l=a.isListened,m=a.isPlaying;m=m===void 0?!0:m;var n=a.onUpdateScrubber,p=a.outgoing,q=a.waveformData;a=a.xstyle;var r=d("MWPAudioPlayerUtils").useShowNewUX();return r?j.jsx(o,{audioEl:f,duration:i,hasEnded:k,isListened:l,isPlaying:m,onUpdateScrubber:n,outgoing:p,ref:c,waveformData:q,xstyle:a,children:g}):j.jsxs(j.Fragment,{children:[j.jsx(o,{ref:c,xstyle:a}),b?j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:h,duration:i}):null,j.jsx(o,{ref:e,xstyle:a}),g]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPAudioPlayerHighlightV1=o;g.MWPAudioPlayerHighlightV2=a}),98);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo;function m(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5}function a(a){var b=a.audioEl;a=a.children;var d=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime-=m(a)},[b]),e=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime+=m(a)},[b]),f=k([b]),g=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime=a},[b]),i=l(function(){var a;return[{command:{key:(a=c("CometKeys")).UP},description:h._("Aumenta el valor del control deslizante un espacio."),handler:e},{command:{key:a.DOWN},description:h._("Reduce el valor del control deslizante un espacio."),handler:d},{command:{key:a.LEFT},description:h._("Reduce el valor del control deslizante un espacio."),handler:d},{command:{key:a.RIGHT},description:h._("Aumenta el valor del control deslizante un espacio."),handler:e},{command:{key:a.HOME},description:h._("Establece el control deslizante en su valor m\u00ednimo."),handler:f},{command:{key:a.END},description:h._("Establece el control deslizante en su valor m\u00e1ximo."),handler:g}]},[d,e,f,g]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:i,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPThreadThemeGradientUtils","formatDurationSeconds","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.outgoing;b=b===void 0?!0:b;a=a.time;var e=c("useMWPThreadTheme")();e=d("MWPThreadThemeGradientUtils").getBottomGradientColor(e);var f=d("MWPAudioPlayerUtils").useShowNewUX();b=f?{color:b?"var(--always-white)":"var(--progress-ring-neutral-foreground)"}:{color:b?e:"var(--always-black)",cursor:"pointer"};return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,!f&&d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,f&&d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),"data-testid":void 0,style:b,children:c("formatDurationSeconds")(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWInlineStylesForReply",["MWLSThreadDisplayContext","MWPColorUtils","gkx","isArmadillo","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b,e){var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=f!=="Inbox",h=c("useMatchMedia")("(min-height: "+String(1280)+"px)");return i(function(){if(c("gkx")("1969")&&a.backgroundUrl!=null&&a.backgroundUrl.length>=1&&b.length>0)return{backgroundColor:d("MWPColorUtils").int64ToHex(b[0].color)};if(e&&b.length>1)return{backgroundAttachment:"fixed",backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor),backgroundImage:d("MWPColorUtils").gradient(b,g?{footerHeight:56,headerHeight:c("isArmadillo")()?32:48,totalHeight:h?570:455}:void 0)};else if(e)return{backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--chat-incoming-message-bubble-background-color)"}},[a.backgroundUrl,a.fallbackColor,b,e,g,h])}g["default"]=a}),98);
__d("useMWNextAttachment",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("messages").index("messageId")).bounds({gt:d("ReQL").key(a.messageId)}).filter(},[b,a.messageId],f.id+":22"),g=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(e.threadKey,e.messageId):d("ReQL").empty()},[b,e],f.id+":29");return g}g["default"]=a}),98);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function j(a){var d=c("AudioContextSingleton").get();return new(h||(h=b("Promise")))(}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.toString();try{var b=(yield c("fetch")(a));b=(yield b.arrayBuffer());b=(yield j(b));return i(b)}catch(b){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a);return Float32Array.of()}});return k.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.attachmentFbid,f=a.messageId,g=a.threadKey,i=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield i.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.table("attachments");var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(g,f,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite")});return (),[i,g,f,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","asyncToGeneratorRuntime","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useState,l=3,m=",",n=["blob:","data:"];function a(a,e){var f=k(a.waveformData),g=f[0],h=f[1],o=c("useMWAttachmentUpdater")(a),p=i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e!=null&&e!==""){var a=d("ConstUriUtils").getUri(e);if(a!=null&&n.includes(a.getProtocol())){a=(yield c("fetchMWPAudioWaveformDataForURL")(a));a.length>l&&h(a.join(m))}}}),[e]);j(function(){if(g!=null&&g.length>l)return;c("promiseDone")(p())},[p,g]);j(function(){g!=null&&g.length>l&&g!==a.waveformData&&o({waveformData:g})["catch"](function(a){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,o,g]);return g}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;i(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](};b.addEventListener("ended",f);return ,[a,e,d])}g["default"]=a}),98);
__d("MWAudioPlayer.react",["I64","MWLSThreadDisplayContext","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPColorUtils","MessengerSurfaceQuickChat.bs","react","requireDeferred","stylex","useMWInlineStylesForReply","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useMemo,m=b.useRef,n=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioPlayer.react"),o={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function p(a){return l([a])}unction a(a){var b=a.attachment,e=a.getPlayableUrl,f=a.isReply;f=f===void 0?!1:f;var g=a.outgoing;a=a.width;var i=c("useMWPThreadTheme")(),l=i.outgoingGradientColors;i=i.threadTheme;var n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),o=d("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(),r=b.playableDurationMs;r=(j||(j=d("I64"))).to_float((r=r)!=null?r:(j||(j=d("I64"))).zero)/1e3;var s=c("useMWNextAttachment")(b),t=e(b);t=c("useMWPAudioWaveformData.react")(b,t);e=d("MWPAudioPlayerUtils").useControlCenter(e(b),s!=null?e(s):void 0,q,!1,r);s=e[0];var u=e[1],v=e[2],w=e[3],x=e[4];e=e[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(v,b);var y=s===d("MWPAudioPlayerUtils").State.NONE,z=s===d("MWPAudioPlayerUtils").State.PLAYING,A=s===d("MWPAudioPlayerUtils").State.PAUSED,B=s===d("MWPAudioPlayerUtils").State.LOADING;s=s===d("MWPAudioPlayerUtils").State.ENDED;var C=z||A,D=g&&l.length>1,E=m(),F=p(g);l=c("useMWInlineStylesForReply")(i,l,g);var G=l.backgroundAttachment,H=l.backgroundColor;l=l.backgroundImage;G={backgroundAttachment:f?G:void 0,backgroundColor:f?H:g?D?"transparent":d("MWPColorUtils").int64ToHex(i.fallbackColor):"var(--chat-incoming-message-bubble-background-color)",backgroundImage:f?l:void 0,borderRadius:D?void 0:"18px",width:a!=null?a:n!=null?n==="Inbox"?"218px":n==="ChatTab"&&o?"168px":"180px":"180px"};i=C?Math.max(r-u,0):0;return k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:v,children:k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:v,hasScrubber:C,scrubberRef:E,style:G,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:k.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common,D?d("MWPAudioPlayerSharedStyles").styles.transparent:!1),children:[k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:v,currentTime:u,duration:r,hasEnded:s,hasScrubber:C,isListened:b.isAttachmentConsumed===!0,isPlaying:z,onUpdateScrubber:e,outgoing:g,progressHighlightRef:x,scrubberRef:E,waveformData:t,xstyle:F,children:k.jsx(c("MWPAudioPlaybackButton.react"),{backgroundColor:H,disabled:y,hasEnded:s,isLoading:B,isPaused:A,isPlaying:z,onPress:w,outgoing:g,scrubberRef:E})}),k.jsx("div",{children:z?k.jsxs(k.Fragment,{children:[k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:g,time:i}),k.jsx(d("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:g})]}):k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:g,time:i})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useHighlightStyles=p;g.MWAudioPlayer=a}),98);
__d("MWInboxInfoSharedContentQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1};function a(a){h.contents=!0,c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{entrypoint:"side_panel_"+a}},cancelOnUnload:!0})}function b(a){if(h.contents===!1){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}h.contents=!0;c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{content_location:"thread",content_type:b,entrypoint:"thread"}},cancelOnUnload:!0})}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{})}function d(a){var b;switch(a){case"media":b="open_tab_media";break;case"files":b="open_tab_files";break;case"links":b="open_tab_links";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),b,{})}function e(a,b){switch(a){case"media":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_media",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{media_count:b}});return;case"files":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_files",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{files_count:b}});return;case"links":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_links",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{links_count:b}});return}}function f(a){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{string:{content_location:"side_panel",content_type:b}});if(a==="links"){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206"));h.contents=!1;return}}function i(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"side_panel_navigated_back"}}}),h.contents=!1}function j(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"close_info_panel"}}}),h.contents=!1}function k(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"navigated_away"}}}),h.contents=!1}function l(){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206")),h.contents=!1}g.logOpenSidePanel=a;g.logOpenSharedContentFromThread=b;g.logOpenTab=d;g.logLoadTab=e;g.logOpenSharedContentFromSidePanel=f;g.logNavigateBackFromSidePanel=i;g.logCloseInfoPanel=j;g.logNavigateAwaySidePanel=k;g.logOpenContentViewer=l}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,h=a.children;a.disabled;var l=a.linkProps_,m=a.onHoverIn,n=a.onPress,o=a.overlayDisabled;o=o===void 0?!1:o;var p=a.testid;p=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;a=c("gkx")("1581")&&a;var q=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)),r=i.equal(g.attachmentType,j.ofNumber(c("MessagingAttachmentType").VIDEO)),s=q?"Image":r?"Video":"Media";return b("cr:4509")!=null&&(q||r)&&a?k.jsx(b("cr:4509"),{ariaLabel:f,linkProps:l,mediaType:s,onPress:n,overlayDisabled:o,testid:void 0,type:r?"video":"image",url:d("LSMediaUrlAttachment").previewUrl(g),xstyle:p,children:h}):k.jsx(c("MWXPressable.react"),{allowClickEventPropagation:e,"aria-label":f,linkProps:l,onHoverIn:m,onPress:function(){return n()},overlayDisabled:o,testid:void 0,xstyle:p,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2LogMessageClick",["I64","LSMessagingThreadTypeUtil","Promise","ReQL","UserAgentData","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick");function a(a,e,f,g){var k=e.threadKey;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(k)).then(function(a){a!=null&&!d("LSMessagingThreadTypeUtil").isSecure(a.threadType)&&j.onReady(function(a){a.log(function(){var a;return{click:{category:2},click_target:{type:f},extra:JSON.stringify({action:(a=g)!=null?a:void 0,browserName:c("UserAgentData").browserName}),message:{id:e.messageId,sender_id:void 0,sent_time:(i||(i=d("I64"))).to_float(e.timestampMs)},thread:{id:i.to_string(e.threadKey),key:void 0,type:void 0},xma:void 0}})});return(h||(h=b("Promise"))).resolve()}))}g.log=a}),98);
__d("MWV2MessageRowIsRowFocusedContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;e=b.createContext;var i=b.createElement;d={isDialogOpened:!1,setFocused:c("emptyFunction"),setIsDialogOpened:c("emptyFunction")};var j=e(d);function a(a){var b=a.children;a=a.value;return i(j.Provider,{children:b,value:a})}a.displayName=a.name+" [from "+f.id+"]";g.context=j;g.MWV2MessageRowIsRowFocusedContextProvider=a}),98);
__d("XMessengerDotComCometRootControllerRouteBuilder",["jsExtraRouteBuilder"],(,98);
__d("MWV2MediaViewerContainer.react",["MessengerBlurpleLogoSvg.react","XMessengerDotComCometRootControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.actions,d=a.children;a=a.shouldShowMessengerLogo;return i.jsxs("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o x1uvtmcs",children:[d,i.jsx("div",{className:"x10l6tqk x16q8cke x1tk7jg1",children:((d=a)!=null?d:!1)?i.jsx("a",{"aria-label":"Messenger",href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:i.jsx(c("MessengerBlurpleLogoSvg.react"),{height:"40",width:"40"})}):null}),i.jsx("div",{className:"x92rtbv x10l6tqk x1tk7jg1",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometMessengerPhotoControllerRouteBuilder",["jsRouteBuilder"],(,98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("Int64Hooks").useMemoInt64(function(){var b=(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));return b&&c("justknobx")._("1284")===!1?c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0}):c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:h.to_string(a.threadKey)})},[a.threadKey,a.attachmentType,a.messageId,a.attachmentFbid])}g["default"]=a}),98);
__d("MWVideoPlayerControllerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({ref:{current:null}});g["default"]=b}),98);
__d("MessengerColors",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}f.makeRadialGradient=a;f.makeLinearGradient=b}),66);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(c("CurrentUser").isWorkUser())return"#373e4c";else return"#0099ff"}function a(a){a=a.solid_color;if(a==null)return i();else return a}g.defaultColor=i;g.customColorOrBlue=a}),98);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","CurrentUser","MessengerColors","MessengerCustomColorUtils.bs","MessengerEnvironment","gkx","react","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.color;a=a;a=k(a);if(c("MessengerEnvironment").messengerui&&!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))return j.jsx("svg",{className:"_7oal",width:"36px",height:"36px",viewBox:"0 1 36 36",children:a});else return j.jsx("svg",{width:"32px",height:"32px",viewBox:"0 0 36 36",children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.thread;a=a;var b=j.useState(;b=b[0];var e=k("black");return j.jsxs(j.Fragment,{children:[j.jsxs("svg",{viewBox:"0 0 36 36",style:{height:"100%",position:"absolute",width:"100%"},children:[j.jsxs("mask",{id:b,children:[j.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),e]}),j.jsx("rect",{className:"_8rsr",width:"100%",height:"100%",mask:"url(#"+b+")",fill:"white"})]}),j.jsx("div",{style:babelHelpers["extends"]({},d("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,d("MessengerCustomColorUtils.bs").defaultColor()),{backgroundAttachment:"fixed",height:"95%",margin:"auto",width:"95%"})})]})}b.displayName=b.name+" [from "+f.id+"]";e=a;h=b;g.pathHotLike=k;g.make=e;g.makeWithGradient=h}),98);
__d("MWLikeSvgIcon.react",["cr:1798"],(,98);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.react","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||d("react"),m=j._("Signo de aprobaci\u00f3n");function a(a){var b=a.className;a=a.color;b=b;a=a;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=c("CurrentUser").isWorkUser()?"#373e4c":c("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");return l.jsx("div",{className:c("joinClasses")(c("bs_belt_Option").getWithDefault(b,""),"_1i1j"),"data-testid":void 0,children:l.jsx(c("MWLikeSvgIcon.react"),{alt:m,color:d,size:"100%"})})}a.displayName=a.name+" [from "+f.id+"]";b="transparent";g.MessengerHotLikeSVGReact=a;g.cTRANSPARENT=b}),98);
__d("StickerConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120});f["default"]=a}),66);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","JSResource","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.bs","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","lazyLoadComponent","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");c("lazyLoadComponent")(c("JSResource")("GeoPopover.react").__setRef("Sticker.react"));var l=83;a=5e3;var m=10,n={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=k.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===n.LOAD_AND_HOVER||this.props.animationTrigger===n.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var b=c("Arbiter").subscribe(this.props.subscribedThreadID,;this.setState({unsubscribeID:b})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=this,b=new window.Image();b.onload=function(){a.$1&&!a.state.hasAnimated&&(a.setState({hasAnimated:!0}),a.__stopIntervalID=c("setIntervalAcrossTransitions")(a.incrementFrameIndex,a.props.frameRate))};c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?b.src=this.props.paddedSpriteURI:b.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-m<=b&&d+m>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===n.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:l;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===n.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===n.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a;return i._("Sticker {sticker name} de {pack name}",[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel)])};e.render=function(){var a,b;this.props.animationTrigger===n.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===n.HOVER||this.props.animationTrigger===n.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))&&this.props.thread!=null?g=k.jsx(d("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,{thread:this.props.thread}):g=k.jsx(d("MessengerHotLikeSVGReact.bs").MessengerHotLikeSVGReact,{color:this.props.customColor}));return k.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g})};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(k.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:l,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":26").sort(}g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),i.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMessageId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a.type==="sent")return a.value.messageId}function b(a){if(a.type==="sent")return a.value.threadId}function c(a){if(a.type==="sent")return a.value.timestamp}function e(a,b,c){return{type:"sent",value:{messageId:b,threadId:(h||(h=d("I64"))).of_string(a),timestamp:h.of_string(c)}}}function f(a){return{type:"sent",value:{messageId:a,threadId:(h||(h=d("I64"))).zero,timestamp:h.zero}}}var i={type:"sent",value:{messageId:"",threadId:(h||(h=d("I64"))).zero,timestamp:h.zero}};g.getMessageId=a;g.getThreadId=b;g.getTimestamp=c;g.makeSent=e;g.emptyForExamplesWithId=f;g.emptyForExamples=i}),98);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return i.jsx(c("MWXPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","LSIntEnum","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}var j=c("gkx")("1016");function k(a,b){if(j){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.thread.threadType)}})}}.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("useMWFileOnPress",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,e,f,g,i){var k=(h||(h=c("useReStore")))();return j(function(h){f==null?void 0:f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(k.table("threads")).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(k.table("attachments")).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},[f,k,a,e,g,i])}g["default"]=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFileViewerLogger","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.messageID,g=a.onPress,h=a.url;a=a.xstyle;return f!=null&&f.type==="sent"&&b!=null&&h!=null?i.jsx(j,{attachmentID:b,children:c,entryPoint:e,onPress:g,sentMessage:f.value,url:h,xstyle:a}):i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:g,url:h,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.attachmentID,e=a.children,f=a.entryPoint,g=a.onPress,h=a.sentMessage,j=a.url;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();h=c("useMWFileOnPress")(h,b,g,f,k);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(j);a!=null&&c("goUriOnNewWindow")(a)},children:i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:h,url:j,xstyle:a})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSCautionTriangleSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.playableUrlFallback):a.playableUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.faviconUrlFallback):a.faviconUrl}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=e;g.faviconUrl=f}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.createElement,o=l.useContext,p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),r=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:);function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children;a=a.renderPressable;var f=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();f=f.hasLSThreadBitOffset;var g=f(25);f=f(24);b=b.defaultCtaType;c=c.attachmentCta1Id!=null;g=b!=null?q.has(b)&&!g||p.has(b)&&!f:!1;b={hasAtLeastOneCta:c,isDisabledRtcXma:g,renderPressable:a};return n(r.Provider,{children:!c&&!g?a(e):e,value:b})}function b(a){a=a.children;var b=o(r);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}var s={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:k.jsx(c("BaseImage.react"),{height:e!=null?(i||(i=d("I64"))).to_int32(e):void 0,src:a,width:b!=null?(i||(i=d("I64"))).to_int32(b):void 0,xstyle:s.image})})}e.displayName=e.name+" [from "+f.id+"]";function t(a){var b,c=a.attachment,e=a.attachmentItem,f=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var g=d("LSMediaUrlAttachmentItem").playableUrl(e),h=d("LSMediaUrlAttachment").previewUrlLarge(c);b=a?(b=d("LSMediaUrlAttachmentItem").previewUrlLarge(e))!=null?b:d("LSMediaUrlAttachmentItem").previewUrl(e):d("LSMediaUrlAttachmentItem").previewUrl(e);f=f==null?d("LSMediaUrlAttachment").previewUrl(c):f(c,e);a=a&&h!=null?h:(c=b)!=null?c:f;h=e.playableUrlMimeType;b=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(b==="video"&&g!=null)return{type:"Video",url:g};if(a!=null)return{type:"Image",url:a};return b==="image"&&g!=null?{type:"Image",url:g}:{type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=r;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=t;g.useTitleAndSubtitle=u}),98);
__d("XCometMessengerControllerRouteBuilder",["jsExtraRouteBuilder"],(,98);
__d("XMessengerDotComCometMainControllerRouteBuilder",["jsExtraRouteBuilder"],(,98);
__d("MWInboxRouteBuilder",["CurrentEnvironment","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","XMessengerDotComCometRootControllerRouteBuilder"],(,98);
__d("useMWChatOpenTabByThreadKey",["I64","LSAuthorityLevel","LSContactType","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MWPActor.react","Promise","ReQL","promiseDone","react","useMWBaseChatOpenTabForUser","useMWChatOpenTabForPage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=l||d("react");var m=e.useCallback,n=e.useMemo;function a(a,e){var f=(k||(k=c("useReStore")))(),g=c("useMWBaseChatOpenTabForUser")(void 0,e),l=g[0],o=c("useMWChatOpenTabForPage")(e),p=d("MWPActor.react").useActor(),q=n(function(){return new(h||(h=b("Promise")))(function(b,e){var g=(e=d("ReQL")).mergeJoin(e.fromTableAscending(f.table("participants")).getKeyRange(a).filter(,e.fromTableAscending(f.table("contacts"))),h={contents:function(){}};h.contents=g.subscribe(function(a,e){if(e.operation==="delete")return;a=e.value[1];if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){h.contents();return b(a)}});c("promiseDone")(e.firstAsync(g),function(e){if(e!=null){e=e[1];if((i||(i=d("I64"))).ge(e.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){h.contents();return b(e)}else return}c("promiseDone")(f.runInTransaction(function(b){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(b),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:a,threadType:j.ofNumber(1)})},"readwrite"))})})},[a,f]);return m(function(){c("promiseDone")(q,function(b){var e=(i||(i=d("I64"))).to_string(a);b=b.contactType;if((i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)))return o(e,!1);else return l(e,!1)})},[q,l,o,a])}g["default"]=a}),98);
__d("MWXMAAttachmentActionTriggerWithOpenChatTab.react",["I64","Int64Hooks","LSThreadAttributionStore","MWLSThread","useBlockedUserInterstitial","useCometRouterDispatcher","useMWChatOpenTabByThreadKey","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.children;a=a.threadKey;return b(j(a))}function j(a){var b=c("useBlockedUserInterstitial")(),e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),f=c("useCometRouterDispatcher")(),g=c("useMWChatOpenTabByThreadKey")(a,"chatInThread"),j=(i||(i=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(c,i){if(e){var k=d("MWLSThread").getThreadExn(j,a);return b(a,k,function(){var a=i.metaKey||i.ctrlKey||i.shiftKey;if(!a)return g()},"chatInThread")}else if(f!=null){k=d("MWLSThread").getThreadExn(j,a);return b(a,k,function(){d("LSThreadAttributionStore").setSource((h||(h=d("I64"))).to_string(a),"chatInThread"),f.go(c,{})},"chatInThread")}else return},[j,f,e,b,g,a])}g["default"]=a}),98);
__d("LsThreadType",[],(function(a,b,c,d,e,f){a=Object.freeze({COMMUNITY_FOLDER:17,COMMUNITY_GROUP:18,COMMUNITY_GROUP_UNJOINED:19,COMMUNITY_CHANNEL_CATEGORY:20,COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD:21,COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD:22,COMMUNITY_BROADCAST_JOINED_THREAD:23,COMMUNITY_BROADCAST_UNJOINED_THREAD:24,COMMUNITY_GROUP_INVITED_UNJOINED:25,COMMUNITY_SUB_THREAD:26,DISCOVERABLE_PUBLIC_CHAT:150,DISCOVERABLE_PUBLIC_CHAT_UNJOINED:151,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:152,DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED:153,DISCOVERABLE_PUBLIC_CHAT_V2:154,DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED:155,ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5,FOLDER:6,TINCAN_ONE_TO_ONE:7,TINCAN_GROUP_DISAPPEARING:8,CARRIER_MESSAGING_ONE_TO_ONE:10,CARRIER_MESSAGING_GROUP:11,TINCAN_ONE_TO_ONE_DISAPPEARING:13,PAGE_FOLLOW_UP:14,SECURE_MESSAGE_OVER_WA_ONE_TO_ONE:15,SECURE_MESSAGE_OVER_WA_GROUP:16,PINNED:101,LWG:102,XAC_GROUP:200,AI_BOT:201,UNKNOWN:0,SELF_THREAD:12,ARMADILLO_ONE_TO_ONE:-1,ARMADILLO_GROUP:-2});f["default"]=a}),66);
__d("XmaEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5680");b=d("FalcoLoggerInternal").create("xma_events",a);e=b;g["default"]=e}),98);
__d("MessengerWebUXLoggerXMAEventLoggingImpl",["CometPassiveGetRouterStateContext","CometProductAttribution","I64","LsThreadType","WebUXLoggingEntryPointContextProvider","XmaEventsFalcoEvent","castToEnum","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.useCallback,l=j.useContext,m=j.useInsertionEffect,n=j.useRef;function a(){var a=o("xma_redirect_to_fb");return k(function(b){a(b)},[a])}function b(a){var b=o("xma_impression");return c("useSinglePartialViewImpression")({onImpressionStart:)}function e(){var a=o("xma_click");return k(function(b){a(b)},[a])}function f(){var a=o("xma_fb_opened");return k([a])}function o(a){var b=l(d("WebUXLoggingEntryPointContextProvider").WebUXEntryPointLoggingContext),e=n(b);m(;var f=l(c("CometPassiveGetRouterStateContext"));return k(function(b){var g=b.attachment.messageId,h=c("castToEnum")(b.threadType,c("LsThreadType"),null),j=b.attachment.threadKey,k=(i||(i=d("I64"))).to_string(j),l=e.current,m=p(b.attachment);c("XmaEventsFalcoEvent").log(function(){return{attribution_id_v2:d("CometProductAttribution").getMinifiedTopMostRouteProductAttribution(f),click_category:b==null?void 0:b.clickCategory,click_target_type:m,entrypoint:l,event:(b==null?void 0:b.isDirectToExternal)===!0?"xma_redirect_to_external_app":a,is_facebook_installed:null,message_id:g,thread_id:k,thread_type:h}})},[a,f])}function p(a){var b=a.defaultCtaType,c=a.attachmentLoggingType;a=a.cta1Type;var d=35;b==="xma_rtc_missed_audio"?d=37:b==="xma_rtc_missed_video"?d=36:b==="xma_rtc_missed_group_audio"?d=67:b==="xma_rtc_missed_group_video"?d=66:b==="xma_rtc_audio"?d=17:b==="xma_rtc_video"?d=18:b==="xma_rtc_ended_audio"?d=57:b==="xma_rtc_ended_video"?d=56:b==="xma_rtc_new_audio_default"?d=68:b==="xma_live_location_sharing"?(d=38,a==="xma_live_location_sharing"&&(d=39)):b==="xma_shops_pdp"?d=61:b==="xma_open_native"?d=41:b==="xma_web_url"?d=35:c==="xma_open_contact_share"?d=64:b==="xma_customer_information"?d=65:c==="xma_appointment_confirmed"?d=70:b==="xma_montage_share"&&(d=82);return d}g.useXMAEventsRedirectDefaultToFBLogger=a;g.useXMAEventsImpressionLoggerRef=b;g.useXMAEventsClickLogger=e;g.useXMAEventOpenInFBLogger=f}),98);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743852");b=d("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e=b;g["default"]=e}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.cta,e=a.loggingDetails,f=a.source;if(e==null)return;a=b.actionContentBlob;var g=a!=null?i(a):"",l=a!=null?k(a):"",m=a!=null?j(a):"",n=e[1],o=e[0];c("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:l,id:(h||(h=d("I64"))).to_string(b.ctaId),name:"",source:f,type:n},message:{campaign_id:m,id:b.messageId,notification_token:g},page:{id:o},target:{id:o},thread:{id:o}}})}function i(a){try{a=JSON.parse(a);a=a.notification_message_token;return a!=null?a:""}catch(a){return""}}function j(a){try{a=JSON.parse(a);a=a.mbs_mm_campaign_id;return a!=null?a:""}catch(a){return""}}function k(a){try{a=JSON.parse(a);a=a.mm_cta_unique_id;return a!=null?a:""}catch(a){return""}}g.logXMACtaClicked=a}),98);
__d("CustomerInformationTemplateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5813");b=d("FalcoLoggerInternal").create("customer_information_template",a);e=b;g["default"]=e}),98);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1746398");b=d("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e=b;g["default"]=e}),98);
__d("LSSetClientCTAType",[],(,null);
__d("LSMarkAsX",["LSIssueNewTask","LSSetClientCTAType"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSSetClientCTAType"),a[0],"xma_disabled_cta")},function(e){return d[0]=new c.Map(),d[0].set("cta_id",a[0]),d[0].set("order_id",a[1]),d[0].set("cta_type",a[2]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"p2m_mark_as_x",c.i64.cast([0,808]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMarkAsXStoredProcedure",["LSMarkAsX"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.ctaId;d[1]=b.orderId;d[2]=b.ctaType;return c("LSMarkAsX").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWBuyerShippingAddressRootQuery",["MWBuyerShippingAddressRootQuery.graphql"],(,98);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){if(a){e((a=a.messenger_feedback_form_state)==null?void 0:a.form_state)}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744182");b=d("FalcoLoggerInternal").create("pii_action_flow",a);e=b;g["default"]=e}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(,f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(;c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,e){c("promiseDone")(d("CometRelay").fetchQuery(c("CometRelayEnvironment"),i,{messageID:b,receiptID:a}).toPromise().then(function(a){if((a==null?void 0:a.receipt_data)!=null){a=a.receipt_data;var b=a.items?a.items.map(:[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}}))};var i=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");g.fetch=a}),98);
__d("XP2PVerificationDialogBaseControllerRouteBuilder",["jsRouteBuilder"],(,98);
__d("MWP2PPaymentTransactionInformationVerify",["JSResourceForInteraction","XP2PVerificationDialogBaseControllerRouteBuilder","gkx","nullthrows","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify")),b=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify"));var d=a[0];return i(function(a){a=a.id;if(c("gkx")("94"))return d({transferId:c("nullthrows")(a)},function(){});else return b({params:{rel:"dialog-post",uri:c("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({id:c("nullthrows")(a),is_sender_flow:!1})}},function(){})},[b])}g.useP2PPaymentTransactionInformationVerify=a}),98);
__d("MarketplaceCometReviewOffersDialog.entrypoint",["JSResourceForInteraction","MarketplaceCometReviewOffersDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.listingId;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MarketplaceCometReviewOffersDialogQuery$Parameters"),variables:{listingId:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MarketplaceCometReviewOffersDialog.react").__setRef("MarketplaceCometReviewOffersDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){if(a){c("PiiActionFlowFalcoEvent").log(;if(a.messenger_pii_nux==null)f({description:"",seen:!0,title:"",url:"",url_text:""});else{var d;f({description:(d=a.messenger_pii_nux.description)!=null?d:"",seen:!1,title:(d=a.messenger_pii_nux.title)!=null?d:"",url:(d=a.messenger_pii_nux.url)!=null?d:"",url_text:(d=a.messenger_pii_nux.url_text)!=null?d:""})}}},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("useMWChatShowPIIForm",["CometRelay","JSResourceForInteraction","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("useMWChatShowPIIForm");function a(){var a=c("useMWXLazyDialog")(j),b=a[0],e=d("CometRelay").useRelayEnvironment();return i(function(a){var c=a.pageId,f=a.color,g=a.numScreens,h=a.currentIndex,i=a.formId,j=a.firstScreen;d("MWChatPIIFormStateQuery").fetch(i,e,function(a){d("MWChatPIIFormNuxQuery").fetch(e,i,c,function(k){if(g>1){d("MWChatPIIFormScreenQuery").fetch(i,c,1,e,function(d){return b({color:f,ctaType:null,currentIndex:h,firstScreen:j,formId:i,numScreens:g,nuxData:k,pageId:c,secondScreen:(d=d)!=null?d:void 0,state:a})});return}else return b({color:f,ctaType:null,currentIndex:h,firstScreen:j,formId:i,numScreens:g,nuxData:k,pageId:c,secondScreen:void 0,state:a})})})},[e,b])}g["default"]=a}),98);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"process_marketplace_xma_cta",c.i64.cast([0,185]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",["LSOptimisticProcessMarketplaceCallFunctionCTA"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messageId;d[1]=b.threadKey;d[2]=b.attachmentFbid;d[3]=b.targetId;d[4]=b.actionType;return c("LSOptimisticProcessMarketplaceCallFunctionCTA").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWLSMarketplaceXmaCtaHandler",["LSFactory","LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return j(function(d,e,f,g){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure")(c("LSFactory")(a),{actionType:g,attachmentFbid:e,messageId:d,targetId:f,threadKey:b})},"readwrite"))},[a,b])}g["default"]=a}),98);
__d("useMWLSOpenStaticLocationDialog.react",["I64","JSResourceForInteraction","MWThreadKey.react","Promise","ReQL","ReQLSuspense","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(){var a=(i||(i=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatStaticLocationDialog.react").__setRef("useMWLSOpenStaticLocationDialog.react")),k=g[0];return l(function(g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(e,g).map(function(b){b=b.defaultCtaId;b=b!=null?b:(j||(j=d("I64"))).zero;b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("attachment_ctas")).getKeyRange(b),f.id+":40");if(b!=null)return b.nativeUrl})).then(function(a){a=(a=a)!=null?a:"";a=a.split(",");var c=a[0];a=a[1];k({latitude:c,longitude:a},function(){});return(h||(h=b("Promise"))).resolve()}))},[a,e,k])}g["default"]=a}),98);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:b("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MAttachBankSlipDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowAttachBankSlip",["react","useMWUIAttachBankSlipDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIAttachBankSlipDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("FBP2MCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FBP2MCheckoutDialog.react").__setRef("FBP2MCheckoutDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUICheckoutDialog",["FBP2MCheckoutDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("useMWXEntryPointDialog")(c("FBP2MCheckoutDialog.entrypoint"),{orderID:a,pageID:b})}g["default"]=a}),98);
__d("useMWLSShowCheckout",["react","useMWUICheckoutDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k(!1);var g=a[0],h=a[1];a=c("useMWUICheckoutDialog")(b);var l=a[0];i(function(){b!=null&&g&&l({orderID:b,pageID:e},function(){return h(!1)})},[b,e,g,l]);return j(function(){return function(a,b){h(function(){return!0});d(function(){return a});return f(function(){return b})}},[h,d])}g["default"]=a}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps;var c=a.adminActivityID,e=a.groupID;a=a.isManagementActivityLogTargetProfilePlus;c={UFI2CommentsProvider_commentsKey:"GroupsCometAdminActivityLogItem",adminActivityID:c,displayCommentsContextEnableComment:null,displayCommentsContextIsAdPreview:null,displayCommentsContextIsAggregatedShare:null,displayCommentsContextIsStorySet:null,displayCommentsFeedbackContext:null,feedbackSource:0,feedLocation:"GROUP_ADMIN_TO_MEMBER_FEEDBACK",focusCommentID:null,groupID:e,isManagementActivityLogTargetProfilePlus:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_admin_to_member_feedback",scale:d("WebPixelRatio").get(),useDefaultActor:!1};return{queries:{queryReference:{parameters:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters"),variables:c}}}},root:c("JSResourceForInteraction")("GroupsCometAdminActivityLogItemSeeDetailsDialog.react").__setRef("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID,e=a.profileID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:b,profileID:e,scale:a?a:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("useMWLSShowMemberRequest",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","react","useCometDynamicEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")),b=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdmodChatsReviewDialog.entrypoint"));return i(function(c,e,f,g){if(c==null)return;g!=null&&g!=="0"?a({routeProps:{adminActivityID:g,groupID:e,isManagementActivityLogTargetProfilePlus:!1}},{activityLogTarget:"Group",groupID:e}):b({groupID:e,profileID:f,scale:d("WebPixelRatio").get()},{})},[a,b])}g["default"]=a}),98);
__d("P2MOffsiteBankTransferDialog.entrypoint",["JSResourceForInteraction","P2MOffsiteBankTransferDialogQuery$Parameters"],(,98);
__d("useMWUIOffsiteBankTransferDialog",["P2MOffsiteBankTransferDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOffsiteBankTransferDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOffsiteBankTransfer",["react","useMWUIOffsiteBankTransferDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOffsiteBankTransferDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MOrderDetailDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOrderDetailDialogQueryReference:{parameters:b("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MOrderDetailDialog.react").__setRef("P2MOrderDetailDialog.entrypoint")};g["default"]=a}),98);
__d("useMWUIOrderDetailsDialog",["P2MOrderDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOrderDetailDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOrderDetails",["react","useMWUIOrderDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOrderDetailsDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(,98);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("useMWLSShowPaymentDetails",["fbt","LSIntEnum","MWLSDatabaseLazySync","promiseDone","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=i||d("react");var k=b.useEffect,l=b.useMemo,m=b.useState;function a(){var a=m(null),b=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1];a=c("useMWUIPaymentDetailsDialog")(b);var i=a[0],n=d("MWLSDatabaseLazySync").useSync((j||(j=d("LSIntEnum"))).ofNumber(15));k(function(){b!=null&&f&&i({title:h._("Detalles del pago"),transactionID:b},function(){return g(!1)})},[b,f,i]);return l(function(){return function(a){c("promiseDone")(n());g(;return e(}},[g,e,n])}g["default"]=a}),98);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.authorID,e=a.groupID,f=a.postID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:b,feedLocation:"GROUP_PENDING",focusCommentID:null,groupID:e,postID:f,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:a?a:d("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){a=c("useMWXEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{routeProps:{adminActivityID:g,groupID:b,isManagementActivityLogTargetProfilePlus:!1}});e=c("useMWXEntryPointDialog")(c("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),{authorID:e,groupID:b,postID:f,scale:d("WebPixelRatio").get()});return g!=null&&g!=="0"?a:e}g["default"]=a}),98);
__d("useMWLSShowPendingPost",["react","useMWUIPendingPostDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k("");var g=a[0],h=a[1];a=k("");var l=a[0],m=a[1];a=k("");var n=a[0],o=a[1];a=k(!1);var p=a[0],q=a[1];a=c("useMWUIPendingPostDialog")(b,e,g,l,n);var r=a[0];i(function(){b!=null&&p&&r({activityLogTarget:"Group",groupID:e},},[b,p]);return j(function(){return function(a,b,c,e,g){q(!0);d(a);f(b);h(c);m(e);return o(g)}},[q,d])}g["default"]=a}),98);
__d("useMWP2PPaymentRequestCancelDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("useMWP2PPaymentRequestCancelDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useMWP2PPaymentTransactionDeclineDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("useMWP2PPaymentTransactionDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useMakeRoomRingbackCommon",["cr:401"],(,98);
__d("useP2PPaymentMethodAddDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("useP2PPaymentMethodAddDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestConfirmDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("useP2PPaymentRequestConfirmDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestDeclineDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("useP2PPaymentRequestDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useServicesConfirmAppointmentBookingMutation",["RelayHooks","ServicesApproveAppointmentMutation.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("RelayHooks").useMutation(c("ServicesApproveAppointmentMutation.graphql")),b=a[0];a[1];return i(function(a){b({variables:{input:{referrer_ui_component:"BUBBLE",referrer_ui_surface:"MESSAGE",request_id:a}}})},[b])}g["default"]=a}),98);
__d("MWChatXmaThirdPartyActionHandler",["fbt","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","CustomerInformationTemplateFalcoEvent","JSResourceForInteraction","LSFactory","LSMarkAsXStoredProcedure","MWBuyerShippingAddressRootQuery","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWP2PPaymentTransactionInformationVerify","MarketplaceCometReviewOffersDialog.entrypoint","Popup","asyncToGeneratorRuntime","cometPushToast","commitWorkplaceChatBotSubmitFeedbackMutation","cr:11076","emptyFunction","promiseDone","react","requireDeferred","useAsyncReStore","useCometDynamicEntryPointDialog","useMWChatShowPIIForm","useMWLSMarketplaceXmaCtaHandler","useMWLSOpenStaticLocationDialog.react","useMWLSShowAttachBankSlip","useMWLSShowCheckout","useMWLSShowMemberRequest","useMWLSShowOffsiteBankTransfer","useMWLSShowOrderDetails","useMWLSShowPaymentDetails","useMWLSShowPendingPost","useMWP2PPaymentRequestCancelDialog","useMWP2PPaymentTransactionDeclineDialog","useMWXLazyDialog","useMakeRoomRingbackCommon","useP2PPaymentMethodAddDialog","useP2PPaymentRequestConfirmDialog","useP2PPaymentRequestDeclineDialog","useServicesConfirmAppointmentBookingMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback,k=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWChatXmaThirdPartyActionHandler");function l(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){var c=a.receiptId;if(c!=null){d("MWChatReceiptDataQuery").fetch(c,a.messageId,function(a){var c=h._("Confirmaci\u00f3n del pedido");return b({receipt:a,title:c})});return}},[b])}function m(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometInfomationBottomSheetDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){var d;b({contentType:a.contentType.content_type,orderID:(d=a.orderID)!=null?d:"",pageID:a.pageID},c("emptyFunction"))},[b])}function n(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWBuyerShippingAddressRoot.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){c("CustomerInformationTemplateFalcoEvent").log(;var f=d("CometRelay").loadQuery(e,c("MWBuyerShippingAddressRootQuery"),{id:a.pageId});b({actorId:a.actorId,eeMessageId:a.eeMessageId,initialQueryRef:f,messageId:a.messageId,pageId:a.pageId},},[e,b])}function o(){var a=d("CometRelay").useRelayEnvironment();return j(function(b){var e={environment:a};b=c("commitWorkplaceChatBotSubmitFeedbackMutation")({action_content_blob:b.feedbackActionContentBlob,config:e});e=b.then(function(){d("cometPushToast").cometPushSimpleToast("Feedback submitted!",2e3)},;c("promiseDone")(e)},[a])}var p=c("JSResourceForInteraction")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler");function q(){var a=c("useMWXLazyDialog")(p),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.feedbackFormId;d("MWChatCustomerFeedbackStateQuery").fetch(c,e,function(a){a!=null&&d("MWChatCustomerFeedbackFormDataQuery").fetch(c,e,function(c){c!=null&&b({firstScreen:c.firstScreen,formId:c.formId,pageId:c.pageId,privacy:c.privacy,state:a})})})},[e,b])}function r(){var a=c("useMWXLazyDialog")(p),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.pageId,f=a.formId,g=a.privacy,h=a.firstScreen;d("MWChatCustomerFeedbackStateQuery").fetch(f,e,},[e,b])}function s(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.ctaType,f=a.nuxData;a=a.piiForm;var g=a.color,h=a.currentIndex,i=a.firstScreen,j=a.formId,k=a.numScreens,l=a.pageId;d("MWChatPIIFormStateQuery").fetch(j,e,function(a){if(k>1){d("MWChatPIIFormScreenQuery").fetch(j,l,1,e,function(d){return b({color:g,ctaType:c,currentIndex:h,firstScreen:i,formId:j,numScreens:k,nuxData:f,pageId:l,secondScreen:d,state:a})});return}else return b({color:g,ctaType:c,currentIndex:h,firstScreen:i,formId:j,numScreens:k,nuxData:f,pageId:l,secondScreen:void 0,state:a})})},[e,b])}function t(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(){var a=h._("Este formulario no se admite en la web. Abre este chat en tu dispositivo m\u00f3vil para continuar.").toString();b({htmlBlob:a})},[b])}function u(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({pageID:a.pageId,requestID:a.requestId})},[b])}function v(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j([b])}function w(){var a=c("useMWLSOpenStaticLocationDialog.react")();return j(function(b){return a(b.msgId)},[a])}function x(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({boardingPassDetail:a})},[b])}function y(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j([b])}function z(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID},c("emptyFunction"))},[b])}function A(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatRichWidgetExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID},c("emptyFunction"))},[b])}function B(a){return j(function(b){k.onReady(;return a(b.hasVideo,b.threadId,b.trigger)},[a])}function C(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j([b])}function D(){return j(function(a){if(b("cr:11076")!=null)return b("cr:11076").$$process(a.ctaId,a.messageId)},[])}function E(a){d("Popup").open(a,1024,500)}function F(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j([b])}function G(){var a=c("useAsyncReStore")();return j(function(d,e,f){c("promiseDone")(a.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("LSMarkAsXStoredProcedure")(c("LSFactory")(a),{ctaId:d,ctaType:e,orderId:f})});return function(b){return a.apply(this,arguments)}}(),"readwrite")});return function(b){return a.apply(this,arguments)}}()))},[a])}function H(){var a=c("useCometDynamicEntryPointDialog")(c("MarketplaceCometReviewOffersDialog.entrypoint"));return j(function(b){return a({listingId:b},{})},[a])}function I(){var a=c("useCometDynamicEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return j(function(b){return a({threadId:b},{})},[a])}function J(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInformationalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(){return b({body:h._("No se admite la verificaci\u00f3n telef\u00f3nica en la web. Abre este mensaje en tu aplicaci\u00f3n de Messenger para continuar."),title:h._("Verifica el n\u00famero de tel\u00e9fono en el dispositivo m\u00f3vil")})},[b])}function a(a,b){var e=l(),f=r(),g=q(),h=D(),i=s(),j=v(),k=w(),p=u(),K=x(),L=C(),M=y(),N=z(),O=A(),P=c("useMWP2PPaymentRequestCancelDialog")(),Q=c("useP2PPaymentRequestConfirmDialog")(),R=c("useP2PPaymentRequestDeclineDialog")(),S=c("useMWP2PPaymentTransactionDeclineDialog")(),T=c("useP2PPaymentMethodAddDialog")(),U=d("MWP2PPaymentTransactionInformationVerify").useP2PPaymentTransactionInformationVerify(),V=B(b),W=c("useMakeRoomRingbackCommon")(),X=F(),Y=m(),Z=o(),$=c("useMWLSShowMemberRequest")(),aa=c("useMWLSShowPendingPost")(),ba=c("useMWLSShowCheckout")(),ca=c("useMWLSShowPaymentDetails")(),da=c("useMWLSShowOrderDetails")(),ea=G(),fa=c("useMWLSShowAttachBankSlip")(),ga=c("useMWLSShowOffsiteBankTransfer")(),ha=n(),ia=c("useMWLSMarketplaceXmaCtaHandler")(),ja=H(),ka=I(),la=c("useMWChatShowPIIForm")(),ma=t(),na=J(),oa=c("useServicesConfirmAppointmentBookingMutation")();return function(b){if(b.NAME==="P2PPaymentTransactionInformationVerify")return U(b.VAL);if(b.NAME==="P2PPaymentTransactionDecline")return S(b.VAL.id);if(b.NAME==="MakeWorkJoinableCallInvite"||b.NAME==="MakeRoomRingback")return W(b.VAL);if(b.NAME==="P2MCheckout"){var d=b.VAL;return ba(d.orderID,d.pageID)}if(b.NAME==="ShowCustomerFeedback")return f(b.VAL);if(b.NAME==="P2MInformationalMessageBottomSheet")return Y(b.VAL);if(b.NAME==="WorkplaceChatBotSubmitFeedback")return Z(b.VAL);if(b.NAME==="P2PPaymentRequestCancel")return P(b.VAL.id);if(b.NAME==="SendImagePostback"){d=b.VAL;var l=d.loggingDetails;l!=null&&c("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,cta:"button",index:String(l.index)},event_location:"unknown",page_id:l.page_id}});return a(d.message,d.platformToken,d.image)}if(b.NAME==="ShowMessengerExtensions")return N(b.VAL);if(b.NAME==="OpenAccountLink")return h(b.VAL);if(b.NAME==="ShowPIIForm")return la(b.VAL);if(b.NAME==="P2MOffsiteBankTransferCTA")return ga(b.VAL.orderID);if(b.NAME==="P2PPaymentTransactionReceiveMoney")return T(b.VAL.id);if(b.NAME==="ShowBoardingPass")return K(b.VAL);if(b.NAME==="P2MOrderDetails")return da(b.VAL.orderID);if(b.NAME==="P2MMarkAsPaid"||b.NAME==="P2MMarkAsShipped")return ea(b.VAL.ctaId,b.VAL.ctaType,b.VAL.orderID);if(b.NAME==="ShowStaticLocationDetails")return k(b.VAL);if(b.NAME==="P2PPaymentTransactionDetails")return ca(b.VAL.id);if(b.NAME==="P2PPaymentRequestDecline")return R(b.VAL.id);if(b.NAME==="ShowBookingDetails")return p(b.VAL);if(b.NAME==="ShowOrderConfirmation")return e(b.VAL);if(b.NAME==="ShowCustomerFeedbackForm")return g(b.VAL);if(b.NAME==="ShowMessengerRichWidgetExtension")return O(b.VAL);if(b.NAME==="ShowItinerary")return M(b.VAL);if(b.NAME==="OpenAccountLinkUrl")return E(b.VAL);if(b.NAME==="MakeJoinRoomFromPortal")return X(b.VAL);if(b.NAME==="P2MAttachBankSlip")return fa(b.VAL.orderID);if(b.NAME==="BuyerShippingAddress")return ha(b.VAL);if(b.NAME==="AdmodChatsShowPendingPost"){d=b.VAL;return aa(d.targetId,d.groupId,d.authorId,d.postId,d.activityLogItemId)}if(b.NAME==="P2PPaymentRequestConfirm")return Q(b.VAL.id);if(b.NAME==="MakeRtcCall")return V(b.VAL);if(b.NAME==="ProcessMarketplaceCallFunction"){d=b.VAL;var m=d.actionType,n=d.attachmentFbid,o=d.messageId;d=d.targetId;return ia(o,n,d,m)}if(b.NAME==="ShowPIIFormForFormBuilder")return i(b.VAL);if(b.NAME==="ShowLiveLocationDetails")return j(b.VAL);if(b.NAME==="AdmodChatsShowMemberRequest"){o=b.VAL;return $(o.targetId,o.groupId,o.profileId,o.activityLogItemId)}if(b.NAME==="ShowGuestChatHistory")return L(b.VAL);if(b.NAME==="ShowInThreadFormDetails")return ma();if(b.NAME==="ShowPhoneVerificationDialog")return na();if(b.NAME==="ConfirmAppointmentBooking")return oa(b.VAL.requestID);if(b.NAME==="OpenMarketplaceDialog"){n=b.VAL;d=n.ctaType;m=n.listingId;o=n.threadId;switch(d){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(o!=null)return ka(o);else return;case"SHIPPED_OFFER_CANCEL":if(m!=null)return ja(m);else return;default:return}}}}e=a;g.useHandler=e}),98);
__d("MWLSImagePostbackCtaHandler",["ActorURI","I64","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSResumeMediaSendJobStoredProcedure","LSShape","LSThreadAttributionTypeUtil","LSVec","MWPActor.react","MWThreadKey.react","MercuryConfig","MercuryLocalIDs","MessagePowerUp","MessagingAttachmentType","Promise","URI","XComposerPhotoUploader","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=(k||d("react")).useMemo;function o(a,e,f,g,h,i,k){var n=d("MercuryLocalIDs").generateOfflineThreadingID();return c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(c("LSFactory")(a),{attachments:c("LSVec").ofArray([d("LSShape").ofRecord({action_url:void 0,attachment_fbid:n,attachment_index:(l||(l=d("I64"))).zero,attachment_type:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:n,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:void 0,playable_url_mime_type:void 0,preview_height:void 0,preview_url:g,preview_url_mime_type:"image/jpeg ",preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0})]),replySourceType:m.ofNumber(c("LSMessageReplySourceType").NONE),replySourceTypeV2:m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),senderId:e,snippetHasEmoji:!1,threadKey:f,threadType:m.ofNumber(1)}).then(function(c){var e=c[0];return a.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!0,messageId:void 0,offlineThreadingId:e,platformRef:void 0,platformToken:h,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(l||(l=d("I64"))).of_string(e),threadAttributionSource:i,threadKey:f}).then(function(){return(j||(j=b("Promise"))).resolve([e,n])})})}function a(a,e){var f=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),k=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return n(function(){return function(h,n,p){var q=(l||(l=d("I64"))).to_string(g),r=function(a){var e=a[1],g=a[0],h=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:onUploadProgress:function(a,b){},onUploadStart:function(a){c("promiseDone")(f.runInTransaction(function(a){return c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),inMessageIndex:(l||(l=d("I64"))).zero,isSecure:!1,offlineAttachmentId:e,offlineThreadingId:g,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1})},"readwrite"))},onUploadSuccess:function(a,b){a=b.response.payload.metadata[0];var h=a.image_id;if(h==null)return;c("promiseDone")(f.runInTransaction(function(a){return c("LSMarkSubJobCompletedV2StoredProcedure")(c("LSFactory")(a),{fbid:(l||(l=d("I64"))).of_string(h.toString()),offlineAttachmentId:e}).then(function(){return c("LSResumeMediaSendJobStoredProcedure")(c("LSFactory")(a),{jobId:g,pluginType:(l||(l=d("I64"))).zero})})},"readwrite"))},retryLimit:1,uploadEndpoint:d("ActorURI").create(new(i||(i=c("URI")))(c("MercuryConfig").upload_url),q)});c("promiseDone")(window.fetch(p).then(function(a){return a.blob()}).then(function(a){h.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})]).send();return(j||(j=b("Promise"))).resolve()}))},s=d("LSThreadAttributionTypeUtil").getSource(k,a);c("promiseDone")(f.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=e)!=null?a:void 0,mark_read:!0,power_up_style:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:m.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:s}),mailboxType:m.ofNumber(c("LSMailboxType").MESSENGER),senderId:g,snippet:h,text:h,threadKey:k,threadType:m.ofNumber(1)})},"readwrite").then(function(a){return f.runInTransaction(function(a){return o(a,g,k,p,n,s,e).then(function(a){r(a)})},"readwrite")}))}},[f,g,k])}g.usePostbackCtaHandler=a}),98);
__d("MWLSPostbackCtaHandler",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useLSMessagingInitiatingSource")(),g=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(i,j){var k=d("LSThreadAttributionTypeUtil").getSource(e,g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=f)!=null?a:void 0,mark_read:!0,platform_token:i,power_up_style:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:h.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:h.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:k}),mailboxType:h.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:j,text:j,threadKey:e,threadType:h.ofNumber(1)})},"readwrite"))},[a,g,f,b,e])}g.usePostbackCtaHandler=a}),98);
__d("MWLSWebUrlCtaHandler",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler")),b=a[0];return i(function(a){return b({htmlBlob:a},function(){})},[b])}g.useShowWebViewDialog=a}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler")),e=b[0];return i(function(b,c){if(a==null||b==null||c==null)return;return e({pollId:b,threadKey:a,title:c},function(){})},[e,a])}g["default"]=a}),98);
__d("MWDidQueryPromptsNux",[],(,66);
__d("MWRollcallContributionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs",ref:a,children:i.jsx(c("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContributionsDialogContainer.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b;a=a.onClose;return k.jsxs(c("MWRollcallContributionsDialogContainer.react"),{onClose:a,children:[k.jsxs(c("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[k.jsx(b=c("MDSRowItem.react"),{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("Cerrar"),icon:d("fbicon")._(i("478232"),16),onPress:a,size:20})}),k.jsx(b,{children:k.jsx(a=c("MDSGlimmer.react"),{index:0,xstyle:l.rollcallTitle})}),k.jsx(b,{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("Opciones de veo veo"),disabled:!0,icon:d("fbicon")._(i("816819"),16),size:20})})]}),k.jsx(c("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:k.jsxs(c("MDSColumnItem.react"),{children:[k.jsxs(c("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:l.contributionHeader,children:[k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profilePicture})}),k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profileName})})]}),k.jsx(a,{index:0,xstyle:l.contributionMedia})]})})]})}a.displayName=a.name+" [from "+f.id+"]";var l={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};g["default"]=a}),98);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127406705,"1680"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127406705,"1680"),"fail to load roll call information")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:d,entry_point:a,source_type:b}}})}g.endSuccessXMACtaClickQplLogging=a;g.endFailureXMACtaClickQplLogging=b;g.startXMACtaClickQplLogging=d}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";unction b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","I64","JSResourceForInteraction","MWCMIsAnyCMThread","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","promiseDone","react","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useEffect,n=e.useState;function o(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()}}function a(){var a=n((j||(j=d("I64"))).zero),b=a[0],e=a[1];a=n(j.zero);var f=a[0],g=a[1];a=n(null);var h=a[0],i=a[1];a=n(null);var p=a[0],q=a[1],r=c("usePrevious")(b),s=c("usePrevious")(f);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return k.jsx(c("MWRollcallContributionsDialogFallback.react"),{onClose:a})});var t=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("useRollcallContributionsXMAActionHandler"));var u=a[0],v=o(),w=d("MWLSThread").useThread(b,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});m(function(){w!=null&&!(j||(j=d("I64"))).is_zero(b)&&!(j||(j=d("I64"))).is_zero(f)&&r!==b&&s!==f&&(d("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",w?"cm_thread":"friends_family_thread","open_viewer"),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),t({ctaType:p,rollCallId:f,scrollToContributionMessageId:h,threadKey:b},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),g(j.zero),i(null)}),c("promiseDone")(v(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find()==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&u({asCreator:!1,rendererStrategy:a})}))},[w,s,r,f,t,b,h,v,u,p]);return l([])}g.useRollcallContributionsXMAActionHandler=a}),98);
__d("LSRtcCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});f["default"]=a}),66);
__d("getMWLSOngoingCallServerInfoData",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("ReQL").fromTableAscending(a.table("rtc_ongoing_calls_on_threads_v2")).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})}g["default"]=a}),98);
__d("getRTCCallStateOfLSRTCCallState",["FBLogger","LSRtcCallState"],(function(a,b,c,d,e,f,g){"use strict";unction a(a,b){switch(a){case c("LSRtcCallState").AUDIO_1TO1_CALL:return"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_1TO1_CALL:return"VIDEO_1TO1_CALL";case c("LSRtcCallState").NO_ONGOING_CALL:return"NO_ONGOING_CALL";case c("LSRtcCallState").AUDIO_GROUP_CALL:return h(b)?"AUDIO_GROUP_CALL":"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_GROUP_CALL:return h(b)?"VIDEO_GROUP_CALL":"VIDEO_1TO1_CALL";default:c("FBLogger")("messenger_web_product").mustfix("Unknown RTCCallState: %sL and threadType %sL",a,b);return"NO_ONGOING_CALL"}}g["default"]=a}),98);
__d("useMWLSGetOngoingCallState",["MWLSThread","MWThreadKey.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return d("MWLSThread").useThread(a,function(a){return a.ongoingCallState})}g["default"]=a}),98);
__d("useRTWebOutgoingGroupCallDialog",["JSResourceForInteraction","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=c("JSResourceForInteraction")("RTWebCometOutgoingGroupCallContentLS.react").__setRef("useRTWebOutgoingGroupCallDialog");function a(){var a=j(!1),b=c("useCometLazyDialog")(k),d=b[0];return i(function(b){a.current||(a.current=!0,d(b,)},[a,d])}g["default"]=a}),98);
__d("useRTWebOutgoingUnsupportedBrowserDialog",["JSResourceForInteraction","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("RTWebOutgoingUnsupportedBrowserDialogWrapper.react").__setRef("useRTWebOutgoingUnsupportedBrowserDialog");function a(){var a=c("useCometLazyDialog")(j),b=a[0];return i(function(a){b(a)},[b])}g["default"]=a}),98);
__d("useRTWebCometStartCallCallback",["Actor","RTWebPreCallHooks","react","useRTWebOutgoingGroupCallDialog","useRTWebOutgoingUnsupportedBrowserDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;e=d("RTWebPreCallHooks").createInviteAndStartCallCallbackHook(a,b);function a(){var a=d("Actor").useActor(),b=a[0],e=c("useRTWebOutgoingGroupCallDialog")();return i(function(a,c){var d=a.thread.id;a=a.trigger;e({onCall:c,threadID:d,trigger:a,viewer:b})},[e,b])}function b(){var a=d("Actor").useActor(),b=a[0],e=c("useRTWebOutgoingUnsupportedBrowserDialog")();return i(function(a){a=a.thread;var c=a.id;a=a.type;e({actorID:b,threadID:c,threadType:a})},[b,e])}g["default"]=e}),98);
__d("MWLSStartPhoneCall",["$InternalEnum","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","MWPActor.react","MWThreadKey.react","Promise","ReQL","getMWLSOngoingCallServerInfoData","getRTCCallStateOfLSRTCCallState","promiseDone","recoverableViolation","useMWLSGetOngoingCallState","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=b("$InternalEnum").Mirrored(["OngoingVideoCall","OngoingAudioCall"]);function a(){var a=(k||(k=c("useReStore")))(),e=c("useRTWebCometStartCallCallback")(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWLSGetOngoingCallState")(),m=d("MWPActor.react").useActor(),n=d("Int64Hooks").useCallbackInt64(function(k,l,n){var o=k?"video":"audio";c("promiseDone")((j||(j=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(f)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants"),["contactId"]).getKeyRange(f).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,m)}).map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)})),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(f).map(function(a){return a.jid}))]).then(function(k){var m=k[0],p=k[1],q=k[2];if(m==null){c("recoverableViolation")("Cannot find thread when trying to call someone","messenger_web_product");return}return d("ReQL").firstAsync(c("getMWLSOngoingCallServerInfoData")(a,f)).then(function(a){return(j||(j=b("Promise"))).resolve(e({existingCall:g!=null&&a!=null?{call_state:c("getRTCCallStateOfLSRTCCallState")((i||(i=d("LSIntEnum"))).unwrapIntEnum(g),(i||(i=d("LSIntEnum"))).unwrapIntEnum(m.threadType)),initiator_fbid:null,server_info_data:a}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isSecure(m.threadType),mediaType:o,thread:{e2eeThreadID:q==null?void 0:(h||(h=d("I64"))).to_string(q),id:l,secureOneToOneThreadPeerId:p!=null&&(h||(h=d("I64"))).equal(m.threadType,(i||(i=d("LSIntEnum"))).ofNumber(15))?p:void 0,type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(m.threadType)},trigger:n}))})}),void 0,function(a){c("recoverableViolation")("Error making a phone call","rtc_www",{error:a.Error})})},[m,e,f,a,g]),o=void 0;g!=null&&(h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?o=l.OngoingAudioCall:g!=null&&(h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))&&(o=l.OngoingVideoCall);return[n,o]}g.useMakeRTCCall=a}),98);
__d("MWChatIsMessageRequest",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a!=null)if(a==="pending")return!0;else if(a==="other")return!c("CurrentUser").isWorkUser();else return!1;else return!1}g.fn=a}),98);
__d("MessengerDesktopDeeplinkEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856945");b=d("FalcoLoggerInternal").create("messenger_desktop_deeplink_event",a);e=b;g["default"]=e}),98);
__d("logCallAttemptViaLocalhost",["MessengerDesktopDeeplinkEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(}g["default"]=a}),98);
__d("MWStartRTCCallUtils",["I64","Int64Hooks","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatIsMessageRequest","MWPActor.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","gkx","isFeatureLimitEnabled","logCallAttemptViaLocalhost","promiseDone","react","useIsReadOnlyFeatureLimitedWithThreadType","useReStore","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=j||d("react"),o=n.useCallback,p=n.useRef;function a(a){var e=p(c("uuidv4")()).current;return o(function(f,g,h){var j="/call?threadid="+g+"&isvideocall="+(f?1:0)+"&funnel_id="+e;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:e});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(b){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(f,g,h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(f,g,h)}).send()]))},[a,e])}function e(a,e,f){var g=p(c("uuidv4")()).current;return d("Int64Hooks").useCallbackInt64(function(h){var j=(k||(k=d("I64"))).to_string(a),l=e==="video"?1:0;j="/call?threadid="+j+"&isvideocall="+l+"&funnel_id="+g;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:g});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(h)}).send()]))},[e,g,a,f])}function q(a,b,e){a=r(a);var f,g=!1;if(a.length!==1)f=!1;else{var h,i=a[0];b=d("LSMessagingThreadTypeUtil").isOneToOne(b)&&i!=null&&!(k||(k=d("I64"))).equal(i.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(b)return[!1,!1];f=i!=null?(k||(k=d("I64"))).equal(i.contactType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;b=i!=null?(b=d("LSContactBitOffset").has(0,i))!=null?b:!0:!0;h=i!=null?(h=d("LSContactBitOffset").has(1,i))!=null?h:!0:!0;g=e&&i!=null&&i.blockedSinceTimestampMs==null&&!f&&(!b||!h)}if(!f)return[!g,!g];return c("gkx")("1710932")?[a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(17,a)}),a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(16,a)})]:[!1,!1]}function r(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants"),["contactId"]).getKeyRange(a).take(2).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("contacts"),["contactType","blockedSinceTimestampMs","capabilities","capabilities2","blockedByViewerStatus"]).getKeyRange(a.contactId),f.id+":279")})},[b,a,e],f.id+":268")}function s(a){var b=a.folderName,e=a.threadKey,g=a.threadType,i=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(i.table("messages_ranges_v2__generated"),["threadKey"]).getKeyRange(e)},[i,e],f.id+":300")!=null,n=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("participants"),["threadKey","contactId"]).getKeyRange(e,j)},[i,e,j],f.id+":309")!=null,o=d("LSThreadBitOffset").has(25,a),p=d("LSThreadBitOffset").has(24,a),r=d("LSMessagingThreadTypeUtil").isSecure(g),s=c("useIsReadOnlyFeatureLimitedWithThreadType")(g)&&(!r||c("isFeatureLimitEnabled")());a=q(e,a.threadType,r);var t=a[0];a=a[1];if(r&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("5709")))return[!1,!1];r=((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(2))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(16)))&&n||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(1))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(15));n=d("MWChatIsMessageRequest").fn(b);g=!n&&m&&!s&&r;return g?[t&&o,a&&p]:[!1,!1]}g.useStartDesktopCall=a;g.useStartMessengerDesktopCall=e;g.useCanCall=s}),98);
__d("MWFacebookUserWithoutMessengerAccess",["Actor","I64","LSContactTypeExact","LSIntEnum","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("Actor").useActor(),b=a[0],e=(j||(j=c("useReStore")))();a=d("ReQLSuspense").useFirst([e,b],f.id+":26");return k(a)}function k(a){return(a==null?void 0:a.contactTypeExact)!=null?(h||(h=d("I64"))).equal(a==null?void 0:a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").FB_ONLY_NOT_ALLOWED_ON_MESSENGER)):!1}g.useIsFacebookUserWithoutMessengerAccess=a;g.isFacebookUserWithoutMessengerAccess=k}),98);
__d("useShouldTryWithMessengerDesktop",["MWFacebookUserWithoutMessengerAccess","MessengerDesktopDeepLinkUtils","ODS","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function a(){var a=l(!1),b=a[0],e=a[1],f=k(!1),g=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();j(function(){if(f.current)return;f.current=!0;if(g)return;if(c("gkx")("1987549")||!d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible())return;(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running");c("promiseDone")(d("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(d("MessengerDesktopDeepLinkUtils").PORT).then(function(a){if(!a||a!==200){a||(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond");a===500&&(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}e(!0)}))});return b}g["default"]=a}),98);
__d("useStartRTCCall",["MWLSStartPhoneCall","MWStartRTCCallUtils","useShouldTryWithMessengerDesktop"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useShouldTryWithMessengerDesktop")(),b=d("MWLSStartPhoneCall").useMakeRTCCall();b=b[0];var e=d("MWStartRTCCallUtils").useStartDesktopCall(b);return a?e:b}g["default"]=a}),98);
__d("useGetMWXMACtaRegistryHandler",["$InternalEnum","Actor","ConstUriUtils","CurrentEnvironment","CustomerInformationTemplateFalcoEvent","I64","MWChatXmaThirdPartyActionHandler","MWLSImagePostbackCtaHandler","MWLSPostbackCtaHandler","MWLSWebUrlCtaHandler","XCometMessengerControllerRouteBuilder","XCometStoriesControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:131","cr:236","cr:4538","cr:4539","cr:5751","emptyFunction","gkx","isStringNullOrEmpty","nullthrows","useCometRouterDispatcher","useLSMessagingInitiatingSource","useLSMessagingSource","useMWChatPollXMAActionHandler","useRollcallContributionsXMAActionHandler","useStartRTCCall"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(f=(e=b("cr:4539"))!=null?e:b("cr:131"))!=null?f:c("emptyFunction"),j=(e=b("cr:5751"))!=null?e:c("emptyFunction"),k=(e=(f=b("cr:4538"))!=null?f:b("cr:236"))!=null?e:c("emptyFunction"),l=b("$InternalEnum")({SUBTHREAD_LINK:"fb-messenger://community_subthread/"});function a(){var a=c("useLSMessagingInitiatingSource")(),b=c("useLSMessagingSource")(),e=d("Actor").useActor(),f=e[0];e=d("MWLSImagePostbackCtaHandler").usePostbackCtaHandler(b,a);b=c("useStartRTCCall")();var g=d("MWChatXmaThirdPartyActionHandler").useHandler(e,b),m=d("MWLSPostbackCtaHandler").usePostbackCtaHandler(),n=c("useMWChatPollXMAActionHandler")(),o=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),p=d("MWLSWebUrlCtaHandler").useShowWebViewDialog(),q=c("useCometRouterDispatcher")();a=k();var r=i({onSuccess:(e=a)!=null?e:c("emptyFunction")}),s=j();return function(a){var b=a.actionUrl,e=a.platformToken,i=a.type_,j=a.title,k=a.messageId,t=a.threadKey,u=a.attachmentFbid,v=["Title: "+j,"Type: "+i,"PlatformTokenPresent: "+(e!=null).toString(),"ActionUrlPresent: "+(b!=null).toString(),"ActionContentBlobPresent: "+(a.actionContentBlob!=null).toString()].join(", ");if(i==="xma_roll_call_open_viewer"||i==="xma_prompt_open_viewer_for_text"||i==="xma_roll_call_add_yours")return a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){o(c("nullthrows")(a.targetId),t,null,i)},secondaryInfo:void 0};if(i==="xma_event_rsvp"&&c("gkx")("3170"))return{actionType:"BUTTON",primaryInfo:function(){},secondaryInfo:void 0};if(i==="xma_rtc_audio"||i==="xma_rtc_missed_audio"||i==="xma_rtc_new_audio_default"||i==="xma_rtc_ended_audio")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeRtcCall",VAL:{hasVideo:!1,threadId:(h||(h=d("I64"))).to_string(t),trigger:i}})},secondaryInfo:void 0};if(i==="xma_rtc_video"||i==="xma_rtc_new_video_default"||i==="xma_rtc_new_video_from_fb_share"||i==="xma_rtc_new_video_from_fb_video_share"||i==="xma_rtc_missed_video"||i==="xma_rtc_ended_video")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeRtcCall",VAL:{hasVideo:!0,threadId:(h||(h=d("I64"))).to_string(t),trigger:i}})},secondaryInfo:void 0};if(i==="xma_postback")return{actionType:"BUTTON",primaryInfo:function(){return m(e,j)},secondaryInfo:[(h||(h=d("I64"))).to_string(t),31]};if(i==="xma_open_dialog"){var w;if(b==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};w=(w=d("ConstUriUtils").getUri(b))==null?void 0:w.getQueryData==null?void 0:w.getQueryData();if(w==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a valid open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var x=String(w.page_id).toString(),y=String(w.guest_id).toString();return{actionType:"BUTTON",primaryInfo:secondaryInfo:void 0}}if(i==="xma_p2p_payment_details"||i==="xma_p2p_request_pay"||i==="xma_p2p_payment_details_receive_money"||i==="xma_p2p_verify_info"){var z=a.targetId;return z==null?{actionType:"CTA_ERROR",primaryInfo:"P2P Transaction encounterd without txn id",secondaryInfo:"messenger_privacy_web"}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2PPaymentTransactionDetails",VAL:{currentStatus:null,id:(h||(h=d("I64"))).to_string(z)}})},secondaryInfo:void 0}}if(i==="fill_in_thread_form"||i==="filled_in_thread_form_successfully"){var A=a.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowInThreadFormDetails",VAL:JSON.parse(c("nullthrows")(A))})},secondaryInfo:void 0}}if(i==="xma_join_from_portal"&&b!=null)return{actionType:"BUTTON",primaryInfo:secondaryInfo:void 0};if(i==="xma_live_location_sharing")return{actionType:"BUTTON",primaryInfo:function(){return g(a.nativeUrl!=null?{NAME:"ShowStaticLocationDetails",VAL:{msgId:k}}:{NAME:"ShowLiveLocationDetails",VAL:{messageId:k,titleString:j}})},secondaryInfo:void 0};var B=a.actionContentBlob,C=a.targetId;if(i==="xma_poll_details_button"||i==="xma_poll_details_card")return{actionType:"BUTTON",primaryInfo:function(){return n(C,B)},secondaryInfo:void 0};if(i==="xma_otp_verification")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPhoneVerificationDialog",VAL:JSON.parse(c("nullthrows")(B))})},secondaryInfo:void 0};if(B!=null&&C!=null)try{var D=JSON.parse(B);if(i==="xma_admod_chat_member_request")return{actionType:"BUTTON",primaryInfo:function(){var a=D.activityLogItemID,b=D.groupID,c=D.profileID;return g({NAME:"AdmodChatsShowMemberRequest",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",groupId:b!=null?JSON.stringify(b):"",profileId:c!=null?JSON.stringify(c):"",targetId:C!=null?(h||(h=d("I64"))).to_string(C):""}})},secondaryInfo:void 0};else if(i==="xma_admod_chat_pending_post")return{actionType:"BUTTON",primaryInfo:function(){var a=D.activityLogItemID,b=D.authorID,c=D.groupID,e=D.postID;return g({NAME:"AdmodChatsShowPendingPost",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",authorId:b!=null?JSON.stringify(b):"",groupId:c!=null?JSON.stringify(c):"",postId:e!=null?JSON.stringify(e):"",targetId:C!=null?(h||(h=d("I64"))).to_string(C):""}})},secondaryInfo:void 0}}catch(a){if(i!=="marketplace_xma_call_function"||!c("gkx")("5527"))return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}var E=a.targetId;if(E!=null){var F={ctaId:a.ctaId,ctaType:i,orderID:(h||(h=d("I64"))).to_string(E)};if(i==="xma_p2m_payment_details")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MOrderDetails",VAL:F})},secondaryInfo:void 0};else if(i==="xma_p2m_attach_receipt")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MAttachBankSlip",VAL:F})},secondaryInfo:void 0};else if(i==="xma_p2m_offsite_bank_transfer")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MOffsiteBankTransferCTA",VAL:F})},secondaryInfo:void 0};else if(i==="xma_p2m_mark_as_paid")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MMarkAsPaid",VAL:{ctaId:a.ctaId,ctaType:i,orderID:(h||(h=d("I64"))).to_string(E)}})},secondaryInfo:void 0};else if(i==="xma_p2m_mark_as_shipped")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MMarkAsShipped",VAL:{ctaId:a.ctaId,ctaType:i,orderID:(h||(h=d("I64"))).to_string(E)}})},secondaryInfo:void 0};if(i==="xma_p2m_checkout"){var G={orderID:(h||(h=d("I64"))).to_string(E),pageID:h.to_string(t)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MCheckout",VAL:G})},secondaryInfo:void 0}}if(i==="xma_p2m_informational_message_bottom_sheet"){var H={contentType:JSON.parse(c("nullthrows")(B)),orderID:(h||(h=d("I64"))).to_string(E),pageID:h.to_string(t)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MInformationalMessageBottomSheet",VAL:H})},secondaryInfo:void 0}}}if(i==="xma_customer_information"){var I=(h||(h=d("I64"))).to_string(t);c("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:f,event_type:"mw_xma_impression",form_id:a.attachmentFbid,page_id:I}});var J={actorId:f,eeMessageId:a.attachmentFbid,messageId:a.messageId,pageId:I};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"BuyerShippingAddress",VAL:J})},secondaryInfo:void 0}}if(B==null&&(i==="xma_direct_send"||i==="xma_biz_inbox_form_send"||i==="xma_feedback_send"))return{actionType:"CTA_ERROR",primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix"};if(i==="xma_direct_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPIIForm",VAL:JSON.parse(c("nullthrows")(B))})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),45]};if(i==="xma_biz_inbox_form_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPIIFormForFormBuilder",VAL:{ctaType:i,nuxData:{description:"",seen:!0,title:"",url:"",url_text:""},piiForm:JSON.parse(c("nullthrows")(B))}})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),45]};if(i==="xma_feedback_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:c("nullthrows")(B)}})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),69]};if(i==="xma_workplace_chat_bot_submit_feedback"){var K={feedbackActionContentBlob:c("nullthrows")(B)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"WorkplaceChatBotSubmitFeedback",VAL:K})},secondaryInfo:void 0}}if(i==="xma_account_link")return b==null?{actionType:"CTA_ERROR",primaryInfo:"Expected an account link url but didn't get any",secondaryInfo:"mb_apix"}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"OpenAccountLinkUrl",VAL:b})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),49]};if(i==="xma_open_joinable_call_invite_url")return{actionType:"BUTTON",primaryInfo:function(){var a;return g({NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:(a=b)!=null?a:""}})},secondaryInfo:void 0};if(i==="xma_montage_share"){if(a.targetId==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};w=(w=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+(h||(h=d("I64"))).to_string(a.targetId)),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:w.setProtocol("https");return w==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"URL",primaryInfo:c("nullthrows")(w).toString(),secondaryInfo:void 0}}if(i==="marketplace_xma_call_function")return a.actionContentBlob==null||a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ProcessMarketplaceCallFunction",VAL:{actionType:c("nullthrows")(a.actionContentBlob),attachmentFbid:u,messageId:k,targetId:c("nullthrows")(a.targetId)}})},secondaryInfo:void 0};if(i==="marketplace_xma_open_dialog"){if(b==null||a.actionContentBlob==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url and actionContentBlob but didn't get any",secondaryInfo:"messenger_business_core_product"};w=d("ConstUriUtils").getUri(b);if(w==null)return{actionType:"CTA_ERROR",primaryInfo:"Found invalid url when creating CTA",secondaryInfo:"messenger_business_core_product"};var L=String(w.getQueryParam("listingID")).toString();return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"OpenMarketplaceDialog",VAL:{ctaType:c("nullthrows")(a.actionContentBlob),listingId:L,threadId:(h||(h=d("I64"))).to_string(t)}})},secondaryInfo:void 0}}if(i==="xma_ctm_in_thread_multiphoto_reply_image"){if(a.actionContentBlob==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};try{w=JSON.parse(a.actionContentBlob);var M=w.action_prefill,N=w.ad_id,O=w.customer_id,P=w.index,Q=w.page_id,R=w.reply_image_uri;if(M==null||R==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var S='{"in_thread_multiphoto_xma_reply": true}';return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"SendImagePostback",VAL:{image:R,loggingDetails:{ad_id:N.toString(),consumer_id:O.toString(),index:P,page_id:Q.toString()},message:M,platformToken:c("isStringNullOrEmpty")(e)?S:e}})},secondaryInfo:void 0}}catch(a){return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}}if(i==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};if(i==="xma_open_native"){w=a.nativeUrl;if(w!=null&&w.startsWith("fb-messenger://user-thread/")){var T=w.substr("fb-messenger://user-thread/".length);return{actionType:"DEEPLINK",primaryInfo:{loggingDetails:[(h||(h=d("I64"))).to_string(t),33],threadKey:h.of_string(T)}}}if(w!=null&&w.startsWith(l.SUBTHREAD_LINK)){try{T=new URL(w),w=T.searchParams.get("subthread_fbid")}catch(a){w=null}if(s!=null&&w!=null){var U=(h||(h=d("I64"))).of_string(w);return{actionType:"BUTTON",primaryInfo:function(){return s(U)},secondaryInfo:void 0}}}var V=a.actionContentBlob;if(V!=null)return{actionType:"BUTTON",primaryInfo:function(){return p(V)},secondaryInfo:void 0};if(b!=null)if(b.includes("://m.me/j/")&&c("gkx")("6970")){if(a.targetId!=null){T=(h||(h=d("I64"))).to_string(a.targetId);var W=c("CurrentEnvironment").messengerdotcom?c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({thread_key:T}):c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:T});return{actionType:"BUTTON",primaryInfo:secondaryInfo:void 0}}return{actionType:"BUTTON",primaryInfo:secondaryInfo:void 0}}else return{actionType:"URL",primaryInfo:b,secondaryInfo:[(h||(h=d("I64"))).to_string(t),33]};return{actionType:"CTA_ERROR",primaryInfo:"No Url found while parsing Open Native XMA "+v,secondaryInfo:"messenger_privacy_web"}}var X=a.targetId;if(X!=null&&i==="xma_services_confirm_booking")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ConfirmAppointmentBooking",VAL:{requestID:(h||(h=d("I64"))).to_string(X)}})},secondaryInfo:void 0};if(B!=null&&B.length>0&&B!=="{}"&&!B.includes("notification_message_token")&&!B.includes("contact_type"))return{actionType:"BUTTON",primaryInfo:function(){return p(B)},secondaryInfo:void 0};if(b!=null){if(a.enableExtensions===!0){var Y={actionLink:b,pageID:(h||(h=d("I64"))).to_string(t),sourceTitle:(w=j)!=null?w:"",userID:h.to_string(t)};if(i==="xma_open_rich_widget")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowMessengerRichWidgetExtension",VAL:Y})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),33]};else return{actionType:"BUTTON",primaryInfo:secondaryInfo:[(h||(h=d("I64"))).to_string(t),33]}}return{actionType:"URL",primaryInfo:b,secondaryInfo:[(h||(h=d("I64"))).to_string(t),32]}}return{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+v,secondaryInfo:"messenger_privacy_web"}}}g["default"]=a}),98);
__d("useMWXMAInformedAttachmentLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){a===void 0&&(a="");a={ALTERED_MEDIA:h._("Este v\u00eddeo ha sido alterado, {attachment item title}",[h._param("attachment item title",a)]),ALTERED_PHOTO:h._("Esta foto ha sido alterada, {attachment item title}",[h._param("attachment item title",a)]),FALSE_NEWS:h._("Esta informaci\u00f3n es falsa, {attachment item title}",[h._param("attachment item title",a)]),MISLEADING_NEWS:h._("Esta informaci\u00f3n es parcialmente falsa, {attachment item title}",[h._param("attachment item title",a)]),MISSING_CONTEXT:h._("Falta contexto, {attachment item title}",[h._param("attachment item title",a)]),SENSITIVE:h._("Este contenido es sensible, {attachment item title}",[h._param("attachment item title",a)])};return b==null||a[b]==null?h._("Abrir archivo adjunto"):a[b]}g["default"]=a}),98);
__d("MWXMAAttachmentActionTriggerDefault.react",["I64","MWInboxRouteBuilder","MWLSThread","MWXLink.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXPressable.react","MessengerWebUXLogger","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","isCometRouterUrl","justknobx","logXMACtaClicked","react","recoverableViolation","useGetMWXMACtaRegistryHandler","useMWXMAInformedAttachmentLabel","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={link:{":hover_textDecoration":"x1lku1pv",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,g=a.children,j=(h||(h=c("useReStore")))(),m=e.defaultCtaId,n=e.defaultCtaType,o=e.threadKey;a=c("useMWXMAInformedAttachmentLabel")(e==null?void 0:e.titleText,b==null?void 0:b.gatingTitle);var p=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(j.table("attachment_ctas")).getKeyRange((a=m)!=null?a:(i||(i=d("I64"))).zero)},[j,m],f.id+":60"),q=c("useGetMWXMACtaRegistryHandler")(),r=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),s=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsClickLogger(),t=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsRedirectDefaultToFBLogger(),u=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventOpenInFBLogger(),v=d("MWLSThread").useThread(o,function(a){return a.threadType}),w=b.defaultCtaType==="xma_prompt_open_viewer_for_text";if(p==null)return g;q=q(p);switch(q.actionType){case"BUTTON":var x,y=q.primaryInfo,z=q.secondaryInfo;return k.jsx(c("MWXPressable.react"),{"aria-label":(x=e.titleText)!=null?x:e.defaultCtaTitle,hideHoverOverlay:w,onPress:function(){r==null?void 0:r({ctaType:n,eventName:"open_xma_attachment_cta",threadKey:o,threadType:v});d("logXMACtaClicked").logXMACtaClicked({cta:p,loggingDetails:z,source:1});s==null?void 0:s({attachment:b,clickCategory:2,threadType:v});t({attachment:b,threadType:v});return y()},children:g});case"DISABLED_BUTTON":return k.jsx(c("MWXPressable.react"),{"aria-label":(x=e.titleText)!=null?x:"",disabled:!0,children:g});case"URL":w=q.primaryInfo;var A=c("isCometRouterUrl")(w);if(!(w.startsWith("http")||w.startsWith("/")))return g;var B=q.secondaryInfo;return k.jsx(c("MWXLink.react"),{href:w,label:a,onClick:function(){d("logXMACtaClicked").logXMACtaClicked({cta:p,loggingDetails:B,source:1}),s==null?void 0:s({attachment:b,clickCategory:2,threadType:v}),t({attachment:b,isDirectToExternal:!A,threadType:v})},onNavigate:function(a){A&&a&&u({attachment:b,threadType:v})},target:c("justknobx")._("1677")?void 0:"_blank",xstyle:l.link,children:g});case"DEEPLINK":var C=function(){d("logXMACtaClicked").logXMACtaClicked({cta:p,loggingDetails:D,source:1}),s==null?void 0:s({attachment:b,clickCategory:2,threadType:v}),t==null?void 0:t({attachment:b,threadType:v})};e=q.primaryInfo;var D=e.loggingDetails;x=e.threadKey;var E=d("MWInboxRouteBuilder").buildURL({thread_key:(i||(i=d("I64"))).to_string(x)});return k.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:x,children:function(a){return k.jsx(c("MWXLink.react"),{href:E,onClick:preventLocalNavigation:!0,xstyle:l.link,children:g})}});case"CTA_ERROR":c("recoverableViolation")(q.primaryInfo,q.secondaryInfo,void 0,{trackOnly:!0});return g;case"NOT_SUPPORTED":return g}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentActionTrigger.react",["MWXMAAttachmentActionTriggerDefault.react","react"],(,98);
__d("MWRollCallXMAAttachmentItem.react",["BaseImage.react","MWXImage.react","MWXText.react","gkx","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=160,l=213,m={avatar:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},card:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",filter:"xa5fk4t",height:"x1xx6w2s",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xq1dxzn",$$css:!0},media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",objectFit:"xl1xv1r",$$css:!0},textCard:{backgroundColor:"x9bbmet",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},timestamp:{flexShrink:"x2lah0s",paddingBottom:"x84yb8i",$$css:!0},titleText:{flexGrow:"x1iyjqo2",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}};function a(a){a=a.attachmentItem;var b=a.faviconUrl,d=a.playableUrl,e=a.previewUrl,f=a.subtitleText;a=a.titleText;if(!c("isStringNullOrEmpty")(d))return j.jsx("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xa5fk4t x1xx6w2s x6ikm8r x10wlt62 xq1dxzn",children:j.jsx("video",{className:"xwcfey6 x1xsqp64 x18d0r48 xfh8nwu xoqspk4 x12v9rci x138vmkv xl1xv1r",height:l,muted:!0,src:d,width:k})});else if(!c("isStringNullOrEmpty")(e))return j.jsx("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xa5fk4t x1xx6w2s x6ikm8r x10wlt62 xq1dxzn",children:j.jsx(c("BaseImage.react"),{height:l,src:e,width:k,xstyle:m.media})});else if(c("gkx")("9992")&&!c("isStringNullOrEmpty")(a)&&!c("isStringNullOrEmpty")(b))return j.jsxs("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xa5fk4t x1xx6w2s x6ikm8r x10wlt62 xq1dxzn x9bbmet x78zum5 xdt5ytf xz9dl7a xn6708d xsag5q8 x1ye3gou",children:[j.jsx(c("MWXImage.react"),{height:24,src:b,width:24,xstyle:m.avatar}),j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).spread(m.titleText),{children:j.jsx(c("MWXText.react"),{numberOfLines:6,type:"entityHeaderMeta3",children:a})})),c("isStringNullOrEmpty")(f)?null:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).spread(m.timestamp),{children:j.jsx(c("MWXText.react"),{type:"body4",children:f})}))]});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCTAIconType",[],(,66);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function p(a){if(a==null)return null;switch((l||(l=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentId,e=a.ctaIconType,g=a.ctaId,h=a.getCtaRegistryHandler;a.messageId;var j=a.renderButtonActionEventButton,l=a.renderButtonActionNonEventButton,q=a.renderDeeplinkActionButton,r=a.renderDisabledButtonActionButton,s=a.renderUrlActionButton,t=a.threadKey,u=a.title,v=a.type,w=(i||(i=c("useReStore")))();a=d("MWLSThread").useThread(t,function(a){return a.threadType});var x=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:v,eventName:"xma_attachment_cta",threadKey:t,threadType:a});a=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1;var y=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(w.table("attachment_ctas")).getKeyRange(g)},[w,g],f.id+":132");n(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(v);a&&o.onReady(},[v]);if(y==null)return v==="xma_disabled_cta"?m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:x,children:r(u)}):null;h=h(y);e=p(e);var z=null;switch(h.actionType){case"BUTTON":var A=h.secondaryInfo,B=h.primaryInfo,C=v==="xma_event_rsvp"&&c("gkx")("3170");b!=null&&t!=null&&!((a=a)!=null?a:!1)&&C?z=j(b,t,u,e,y,A):C||(z=l(u,e,y,A,B));break;case"URL":a=h.secondaryInfo;z=s(u,e,y,a,h.primaryInfo);break;case"DISABLED_BUTTON":z=r(u);break;case"DEEPLINK":j=h.primaryInfo;b=j.loggingDetails;t=j.threadKey;C=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(t)});z=q(u,t,y,b,C);break;case"CTA_ERROR":c("recoverableViolation")(h.primaryInfo,h.secondaryInfo,void 0,{trackOnly:!0});z=null;break;case"NOT_SUPPORTED":z=null;break}return m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:x,children:z})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMPollsV1Enabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollsV1UICapability:d("LSThreadBitOffset").has(158,a)}}))!=null?a:{};a=a.pollsV1UICapability;return a===!0}g["default"]=a}),98);
__d("useMWCMPollsV2Enabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(159,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(170,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWXMAAttachmentItemCtaButton.react",["I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MDSButton.react","MWCMIsAnyCMThread","MWLSThread","MWXLazyPopoverTrigger.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXMAAttachmentItemCtaButtonBase.react","MWXTooltip.react","MessengerWebUXLogger","logXMACtaClicked","react","useGetMWXMACtaRegistryHandler","useMWCMPollsV1Enabled","useMWCMPollsV2Enabled","useMWHasPollsVotingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("JSResourceForInteraction")("MWCMEventRSVPXMADropdownMenu.react").__setRef("MWXMAAttachmentItemCtaButton.react");function a(a){var b=a.attachmentId,e=a.ctaIconType,f=a.ctaId,g=a.messageId,h=a.threadKey,l=a.title;a=a.type;var m=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),n=d("MWLSThread").useThread(h,function(a){return a.threadType}),o={ctaType:a,eventName:"open_xma_attachment_cta",threadKey:h,threadType:n};n=c("useGetMWXMACtaRegistryHandler")();var p=c("useMWHasPollsVotingEnabled")(h),q=c("useMWCMPollsV1Enabled")(h),r=c("useMWCMPollsV2Enabled")(h),s=d("MWLSThread").useThread(h,,t=d("MWLSThread").useThread(h,function(a){return d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)||d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType)});if(!p&&(a==="xma_poll_details_button"||a==="xma_poll_details_card"))return null;return((p=s)!=null?p:!1)&&!q&&!r&&a==="xma_poll_details_button"?null:j.jsx(c("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentId:b,ctaIconType:e,ctaId:f,getCtaRegistryHandler:n,messageId:g,renderButtonActionEventButton:function(a,b,e,f,g,h){return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"stretch",popoverProps:{eventId:(i||(i=d("I64"))).of_string(a),threadKey:b},popoverResource:k,popoverType:"menu",position:"above",preloadTrigger:"button",children:function(a,b,i,k,l,n){return j.jsx(c("MWXTooltip.react"),{tooltip:e,children:j.jsx(c("MDSButton.react"),{icon:f,label:e,onHoverIn:k,onHoverOut:l,onPress:function(){m==null?void 0:m(o);d("logXMACtaClicked").logXMACtaClicked({cta:g,loggingDetails:h,source:2});return b()},onPressIn:n,ref:a,type:"secondary"})})}})},renderButtonActionNonEventButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{disabled:t,icon:b,label:a,onPress:function(){m==null?void 0:m(o);d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2});return g()},type:"secondary"})})},renderDeeplinkActionButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:b,children:function(b){return j.jsx(c("MDSButton.react"),{label:a,linkProps:{preventLocalNavigation:!0,url:g},onPress:function(a){b(g,a);m==null?void 0:m(o);return d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})}})})},renderDisabledButtonActionButton:function(a){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{disabled:!0,label:a,type:"secondary"})})},renderUrlActionButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{icon:b,label:l,linkProps:{target:"_blank",url:g},onPress:function(){m==null?void 0:m(o),d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})})},threadKey:h,title:l,type:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIcon.react",["CometImageCover.react","CometSkittleIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.icon;if(a==null)return null;return typeof a==="string"?i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message",src:a,style:{borderRadius:"50%",height:"36px",width:"36px"}})}):i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometSkittleIcon.react"),{color:a.color,icon:a.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXTooltipGroup.react",["cr:11874"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11874")}),98);
__d("WorkXMAContentContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");e=c.createContext;var i=c.useContext,j=e();unction b(){return i(j)}g.getProvider=a;g.useWorkXMAContentContext=b}),98);
__d("MWChatPollFacepile.react",["fbt","ix","CometImage.react","CometTintedIcon.react","JSResourceForInteraction","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","MWXTooltip.react","MWXTooltipGroup.react","WorkXMAContentContext","fbicon","intlList","intlSummarizeNumber","react","stylex","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react")),m=k.useContext,n={contact:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},contactGapNegative:{marginStart:"xrzrlj5",marginLeft:null,marginRight:null,$$css:!0},contactGapNormal:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,$$css:!0},contactLarge:{height:"x10w6t97",width:"x1td3qas",$$css:!0},contactMedium:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},contactMediumLarge:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},contactSmall:{height:"x1v9usgg",width:"x6jxa94",$$css:!0},contactWithBorder:{borderTopColor:"x1exxf4d",borderEndColor:"x1y71gwh",borderBottomColor:"x1nb4dca",borderStartColor:"xu1343h",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",marginTop:"x1y332i5",$$css:!0},overflow:{backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxSizing:"x9f619",color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"xk50ysn",height:"x1qx5ct2",lineHeight:"x1u7k74",marginBottom:"x4ii5y1",marginStart:"xrzrlj5",marginLeft:null,marginRight:null,marginTop:"xr1yuqi",paddingTop:"x1nn3v0j",paddingEnd:"x1sxyh0",paddingBottom:"x1120s5i",paddingStart:"xurb0ha",$$css:!0},overflowOverlay:{alignItems:"x6s0dn4",backgroundColor:"xdit8p8",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,justifyContent:"xl56j7k",opacity:"x1us6l5c",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},photoWrap:{display:"x1rg5ohu",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",position:"x1n2onr6",$$css:!0},root:{display:"x78zum5",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function o(a){switch(a){case"small":return n.contactSmall;case"medium":return n.contactMedium;case"mediumLarge":return n.contactMediumLarge;case"large":return n.contactLarge;default:a}}function p(a){var b=a.children;a=a.tooltip;return a!=null?l.jsx(c("MWXTooltip.react"),{align:"middle",label:h._("M\u00e1s"),position:"above",tooltip:a,children:b}):b}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.contacts,e=a.contactWithBorder,f=e===void 0?!0:e;e=a.countOverride;var g=a.direction;g=g===void 0?"normal":g;var k=a.gap,q=k===void 0?"normal":k;k=a.limit;var r=k===void 0?2:k;k=a.onPress;var s=a.optionId,t=a.overflowStyle,u=t===void 0?"showTotalCount":t,v=a.size;t=c("useMWXLazyDialog")(c("JSResourceForInteraction")("ChatLSGeminiChatPollFacepileDialog.react").__setRef("MWChatPollFacepile.react"));var w=t[0],x=b.length>r;a=e!=null?e:b.length;t=b.slice(0,-r).reverse().filter(function(a){return a.name!=null}).map(function(a){a=a.name;if(a!=null)return a;else return""});e=a-r-t.length;e>0&&t.push(h._({"*":"y {count} personas m\u00e1s","_1":"y {count} m\u00e1s"},[h._plural(e),h._param("count",c("intlSummarizeNumber")(e))]));e=t.length===0?void 0:l.jsx("ul",{children:t.map(function(a,b){return l.jsx("li",{children:a},String(b))})});t=b.slice(-(x?r:1e3)).reverse();t=t.map(;t=b.length>0?h._({"*":{"*":"{number} votos incluidos los de {=names}"},"_1":{"_1":"1 voto de {=names}"}},[h._plural(a,"number"),h._plural(a),h._param("=names",c("intlList")(t))]):h._("0 votos");e=l.jsxs(c("MWXTooltipGroup.react"),{children:[x&&u==="showTotalCount"&&l.jsx(p,{tooltip:e,children:l.jsx("div",{className:"x1vtvx1t x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x9f619 xi81zsa x1nxh6w3 xk50ysn x1qx5ct2 x1u7k74 x4ii5y1 xrzrlj5 xr1yuqi x1nn3v0j x1sxyh0 x1120s5i xurb0ha",children:"+"+c("intlSummarizeNumber")(a-r)})}),b.slice(-(x?r:1e3)).reverse().map(function(a,b){return l.jsxs("div",{className:(j||(j=c("stylex")))(n.photoWrap,q==="normal"?n.contactGapNormal:n.contactGapNegative,o(v)),children:[l.jsx(p,{tooltip:a.name,children:l.jsx(c("CometImage.react"),{src:a.profile_picture_url,xstyle:[n.contact,o(v),f?n.contactWithBorder:!1]})}),x&&u==="overlayLastPhoto"&&b===r-1?l.jsx("div",{className:"x6s0dn4 xdit8p8 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ey2m1c x78zum5 xds687c xl56j7k x1us6l5c x6ikm8r x10wlt62 x10l6tqk x17qophe x13vifvy x1vjfegm",children:l.jsx(c("CometTintedIcon.react"),{color:"white",icon:d("fbicon")._(i("484386"),16)})}):null]},String(b))})]});var y=d("WorkXMAContentContext").useWorkXMAContentContext();a=m(d("MWV2MessageRowIsRowFocusedContext.react").context);var z=a.setFocused,A=a.setIsDialogOpened;return s!=null&&y!=null?l.jsx(c("MWXPressable.react"),{"aria-label":h._("Abrir cuadro de di\u00e1logo con lista de votantes").toString(),onPress:function(){A(function(){return!0});return w({optionId:s,pollId:y},function(){A(function(){return!1});return z(function(){return!0})})},overlayDisabled:!0,xstyle:[n.root,g==="reversed"?n.rootReversed:!1],children:e}):k?l.jsx(c("MWXPressable.react"),{label:t,onPress:k,overlayDisabled:!0,xstyle:[n.root,g==="reversed"?n.rootReversed:!1],children:e}):l.jsx("div",{"aria-label":t,className:(j||(j=c("stylex")))(n.root,g==="reversed"?n.rootReversed:!1),children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(,id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return i.jsx("ul",{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItems.react",["I64","MWChatPollFacepile.react","MWLSThreadDisplayContext","MWPColorUtils","MWXMAAttachmentItemListItemsBase.react","MWXText.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){a=a.attachment;var b=c("useMWPThreadTheme")(),e=b.threadTheme.fallbackColor,f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j.jsx(c("MWXMAAttachmentItemListItemsBase.react"),{attachment:a,renderDefaultListItem:function(a){return j.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:j.jsxs("div",{children:[j.jsx(c("MWChatPollFacepile.react"),{contactWithBorder:!1,contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,limit:9,optionId:a.id,overflowStyle:"overlayLastPhoto",size:"large"}),a.titleText!=null?j.jsx("div",{className:"xsgj6o6 x1xmf6yo",children:j.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a.titleText})}):null]})},(i||(i=d("I64"))).to_string(a.id))},renderPercentageListItem:function(a,b){return j.jsxs("li",{className:"x14vqqas",children:[j.jsxs("div",{className:"x78zum5 x1qughib",children:[a.titleText!=null?j.jsx(c("MWXText.react"),{numberOfLines:f==="Inbox"?3:1,type:"headline4",children:a.titleText}):null,j.jsx("div",{className:"x1i64zmx",children:j.jsx(c("MWChatPollFacepile.react"),{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,direction:"reversed",gap:"negative",optionId:a.id,size:"small"})})]}),j.jsx("div",{className:"x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt xod5an3 x1xmf6yo",children:j.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt",style:{backgroundColor:d("MWPColorUtils").int64ToHex(e),width:(i||(i=d("I64"))).to_string(b)+"%"}})})]},i.to_string(a.id))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MNXMASubtitleDecorationType",[],(,66);
__d("MWXIconChevronRight",["MWXSvgIcon","SVGIcon","cr:5619","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:5619")),c("gkx")("571"));g["default"]=a}),98);
__d("MWXMAAttachmentSubtitleDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.subtitleDecorationType;return d("Int64Hooks").useMemoInt64(function(){switch((j||(j=d("LSIntEnum"))).toNumber(b)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(h("380222"),16)});default:return null}},[b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWXMAAttachmentItemMainText.react",["fbt","I64","LSIntEnum","MNLSXMALayoutType","MNXMASubtitleDecorationType","MWXIconChevronRight","MWXIconStrict.react","MWXMAAttachmentSubtitleDecoration.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","gkx","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={description:{paddingTop:"x889kno",$$css:!0},hscroll:{paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,paddingStart:"x16hj40l",$$css:!0},root:{maxWidth:"x193iq5w",whiteSpace:"x126k92a",width:"xh8yej3",$$css:!0},subthreadDescription:{marginTop:"x1k70j0n",$$css:!0},subthreadXMADescriptionRow:{justifyContent:"x1nhvcw1",$$css:!0},subthreadXMARow:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},subtitleContainer:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},subtitleDecorationIconContainer:{marginEnd:"x1emribx",marginLeft:null,marginRight:null,marginTop:"x1k70j0n",$$css:!0},titleText:{marginBottom:"xahult9",$$css:!0},withIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}},o=c("gkx")("9072");function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.bodyLineLimit,j=a.facePileElement,p=a.getFaviconUrlXMA,q=a.headlineLineLimit,r=a.isHscroll;a.isStandalone;var s=a.outgoing;s=s===void 0?!1:s;var t=a.subtitleText,u=a.title;a=a.xmaLayout;b=(k||(k=d("I64"))).equal((b=e.xmaLayoutType)!=null?b:(k||(k=d("I64"))).zero,(l||(l=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));f=d("MWXMAIconParser.react").parse((p=p(e,f))!=null?p:"");p=h._("Usa la \u00faltima versi\u00f3n de la aplicaci\u00f3n para m\u00f3viles");var v=h._("Descarga la \u00faltima versi\u00f3n de la aplicaci\u00f3n de Messenger para ver este mensaje.");p=u!==""?b&&o?m.jsxs("div",{className:"x6s0dn4 x78zum5 x1qughib",children:[m.jsx(c("MWXText.react"),{color:s?"secondaryOnMedia":"secondary",type:"meta2",children:u}),m.jsx(c("MWXIconStrict.react"),{color:s?"white":"secondary",icon:c("MWXIconChevronRight"),size:12})]}):m.jsx(c("MWXTextPairing.react"),{headline:b?p:u,headlineLineLimit:q,level:4,testid:void 0,textAlign:e.attachmentLoggingType==="xma_view_event"?"center":"start"}):null;j=t!==""?b&&o?m.jsxs("div",{className:(i||(i=c("stylex")))([n.subthreadXMARow,n.subthreadXMADescriptionRow]),children:[j,m.jsx("div",{className:"x1k70j0n",children:m.jsx(c("MWXText.react"),{color:s?"secondaryOnMedia":"secondary",type:"meta2",children:e.replyCount==null||(k||(k=d("I64"))).equal(e.replyCount,(k||(k=d("I64"))).zero)?t:(k||(k=d("I64"))).gt((u=e.replyCount)!=null?u:(k||(k=d("I64"))).zero,(k||(k=d("I64"))).of_int32(20))?h._("M\u00e1s de 20 respuestas"):h._({"*":"{number} respuestas","_1":"1 respuesta"},[h._plural((k||(k=d("I64"))).to_int32((q=e.replyCount)!=null?q:(k||(k=d("I64"))).zero),"number")])})})]}):m.jsx("div",{className:"x889kno",children:m.jsx(c("MWXTextPairing.react"),{body:b?v:t,bodyColor:"secondary",bodyLineLimit:g,level:4,testid:void 0})}):null;u=(s=e.subtitleDecorationType)!=null?s:(k||(k=d("I64"))).zero;q=(l||(l=d("LSIntEnum"))).toNumber(u)===c("MNXMASubtitleDecorationType").THREADS_ICON?m.jsx("div",{className:"x1emribx x1k70j0n",children:m.jsx(c("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:u})}):null;b=e.captionBodyText!=null?m.jsx(c("MWXText.react"),{color:"primary",type:"meta3",children:e.captionBodyText}):null;return m.jsxs("div",{className:(i||(i=c("stylex")))(n.root,f==null?r?n.hscroll:!1:n.withIcon),children:[a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&p!==null?m.jsx("div",{className:"xahult9",children:p}):p,b,m.jsxs("div",{className:"x6s0dn4 x78zum5",children:[q,j]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAEventFacepiles.react",["CometFacepile.react","I64","MWXText.react","ReQL","ReQLSuspense","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=j||d("react"),m={facepile:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0},root_center_aligned:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},root_start_aligned:{display:"x78zum5",justifyContent:"x1nhvcw1",$$css:!0}};function a(a){var b=a.avatarText,e=a.count,g=a.ctaId,j=a.size;j=j===void 0?32:j;var n=a.urls;a=a.xstyle;var o=g!=null?(k||(k=d("I64"))).to_string(g):"",p=(h||(h=c("useReStore")))();o=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(p.table("attachment_ctas")).getKeyRange(g):d("ReQL").empty()},[p,o],f.id+":51");var q=e!=null?(k||(k=d("I64"))).le(e,(k||(k=d("I64"))).of_int32(9)):!1;o=q?void 0:{target:"_blank",url:o==null?void 0:o.actionUrl};q=q?n.map(function(a){return{source:{uri:a}}}):n.slice(0,9).map(;var r=b==null?m.root_center_aligned:m.root_start_aligned,s=b!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:b}):void 0;return q.length>0?l.jsx("div",{className:(i||(i=c("stylex")))(r),"data-testid":void 0,children:l.jsx("div",{className:(i||(i=c("stylex")))(m.facepile,a),role:"gridcell",children:l.jsx(c("CometFacepile.react"),{count:e!=null?(k||(k=d("I64"))).to_int32(e):n.length,isOverlapping:!0,isTextInline:b!=null,items:q,linkProps:o,size:j,text:s})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaAttachmentAvatarViewUrlList",["I64","LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.avatarViewUrlExpirationTimestampList,e=a.avatarViewUrlFallbackList;a=a.avatarViewUrlList;if(a==null)if(b!=null)return[];else if(e!=null)return e.split(", ");else return[];if(b==null)return[];if(e==null)return[];a=a.split(", ");var f=b.split(", "),g=e.split(", ");return a.map(function(a,b){var e;try{e=d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(f[b]))}catch(a){e=!0}if(e){return(e=c("rewriteFallbackUrl")(g[b]))!=null?e:""}else return a})}g["default"]=a}),98);
__d("MWXMAAttachmentItemBody.react",["I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MDSTextPairing.react","MNLSXMALayoutType","MWLSThread","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemCtaButton.react","MWXMAAttachmentItemIcon.react","MWXMAAttachmentItemListItems.react","MWXMAAttachmentItemMainText.react","MWXMAEventFacepiles.react","MWXMAIconParser.react","MessengerWebUXLoggerXMAEventLoggingImpl","getLSMediaAttachmentAvatarViewUrlList","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},descriptionSubtitleText:{display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"xwib8y2",paddingTop:"x889kno",$$css:!0},descriptionText:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},hasFavicon:{paddingEnd:"x4uap5",paddingLeft:null,paddingRight:null,paddingStart:"xkhd6sd",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",minHeight:"xisnujt",$$css:!0},rootWithHeaderAndNoMedia:{marginTop:"xdj266r",$$css:!0},secondaryDescriptionText:{marginBottom:"xod5an3",$$css:!0},subthreadFacepiles:{marginEnd:"xmo9yow",marginLeft:null,marginRight:null,paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},xmaUnifiedtyles:{marginTop:"x14vqqas",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0}};function a(a){var b,e,f=a.attachment,g=a.attachmentItem,i=a.bodyLineLimit,q=a.facepiles,r=a.getFaviconUrlXMA;a.getPreviewUrlXMA;var s=a.headlineLineLimit,t=a.isHscroll,u=a.isPressable,v=a.isStandalone,w=a.outgoing;w=w===void 0?!1:w;a=a.xmaLayout;b=d("MWXMAIconParser.react").parse((b=r(f,g))!=null?b:"");e=(j||(j=d("I64"))).equal((e=f.xmaLayoutType)!=null?e:(j||(j=d("I64"))).zero,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));var x=g.titleText==null&&g.subtitleText==null&&b==null,y=g.titleText!=null||!v?g.titleText:f.titleText,z=g.subtitleText!=null||!v?g.subtitleText:f.subtitleText,A=c("getLSMediaAttachmentAvatarViewUrlList")(f);q=(q=q)!=null?q:A.length!==0&&!e?[l.jsx(c("MWXMAEventFacepiles.react"),{avatarText:f.avatarViewContextText,count:f.avatarCount,ctaId:g.attachmentCta1Id,urls:A})]:[];e=y==null&&z==null?[]:[l.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:f,attachmentItem:g,isPressable:u,children:l.jsxs("div",{className:(h||(h=c("stylex")))(m.description,b==null?!1:m.hasFavicon),children:[l.jsx(c("MWXMAAttachmentItemIcon.react"),{icon:b}),l.jsx(c("MWXMAAttachmentItemMainText.react"),{attachment:f,attachmentItem:g,bodyLineLimit:i,facePileElement:(j||(j=d("I64"))).equal((e=f.avatarCount)!=null?e:(j||(j=d("I64"))).zero,(j||(j=d("I64"))).zero)?null:l.jsx(c("MWXMAEventFacepiles.react"),{avatarText:f.avatarViewContextText,count:f.avatarCount,ctaId:g.attachmentCta1Id,size:16,urls:A,xstyle:m.subthreadFacepiles}),getFaviconUrlXMA:r,headlineLineLimit:s,isHscroll:t,isStandalone:v,outgoing:w,subtitleText:(u=z)!=null?u:"",title:(b=y)!=null?b:"",xmaLayout:a})]})})];A=f.listItemsDescriptionText;r=f.listItemsDescriptionSubtitleText;t=f.cta2IconType;v=f.cta3IconType;w=f.listItemId1;z=f.listItemsSecondaryDescriptionText;u=f.messageId;y=f.threadKey;b=g.attachmentCta1Id;var B=g.attachmentCta2Id,C=g.attachmentCta3Id,D=g.cta1IconType,E=g.cta1Title,F=g.cta1Type,G=g.cta2Title,H=g.cta2Type,I=g.cta3Title,J=g.cta3Type;x=F!=null&&E!=null&&b!=null?[l.jsxs("div",{className:(h||(h=c("stylex")))(m.buttonsWrapper,x?m.buttonsOnly:!1),children:[l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:f.attachmentFbid,ctaIconType:D,ctaId:b,messageId:u,threadKey:y,title:E,type:F}),H!=null&&G!=null&&B!=null?l.jsxs(l.Fragment,{children:[l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:f.attachmentFbid,ctaIconType:t,ctaId:B,messageId:u,threadKey:y,title:G,type:H}),J!=null&&I!=null&&C!=null?l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{ctaIconType:v,ctaId:C,messageId:u,threadKey:y,title:I,type:J}):null]}):null]})]:[];D=A!=null?[l.jsx(n,{headlineLineLimit:s,listItemsDescriptionText:A})]:[];b=r!=null?[l.jsx(o,{bodyLineLimit:i,value:r})]:[];E=w!=null?[l.jsx(c("MWXMAAttachmentItemListItems.react"),{attachment:f})]:[];F=z!=null?[l.jsx(p,{bodyLineLimit:i,listItemsSecondaryDescriptionText:z})]:[];t=[e,D,b,q,E,F,x].reduce([]);B=d("LSMediaUrlAttachment").previewUrl(f)!=null||d("LSMediaUrlAttachmentItem").previewUrl(g)!=null||d("LSMediaUrlAttachmentItem").playableUrl(g)!=null;G=d("MWLSThread").useThread(y,function(a){return a.threadType});H=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:f,clickCategory:1,threadType:G});return t.length===0?null:l.jsx("div",{className:(h||(h=c("stylex")))(m.root,a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?m.xmaUnifiedtyles:!1,a!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&!B&&f.headerTitle!=null?m.rootWithHeaderAndNoMedia:!1),ref:H,children:t.map(function(a,b){return l.jsx(l.Fragment,{children:a},String(b))})})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.headlineLineLimit;a=a.listItemsDescriptionText;return l.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k xw3qccf",children:l.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:b,level:4,textAlign:"center"})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.bodyLineLimit;a=a.value;return l.jsx("div",{className:"x78zum5 xl56j7k xwib8y2 x889kno",children:l.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4,textAlign:"center"})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.bodyLineLimit;a=a.listItemsSecondaryDescriptionText;return l.jsx("div",{className:"xod5an3",children:l.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4})})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemAttribution.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.attachment;a=a;var b=a.attributionAppIcon;a=a.attributionAppName;return b!=null&&a!=null?i.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[i.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1kky2od",src:b}),i.jsx("span",{className:"xzsf02u x1nxh6w3 x1mnrxsn x13faqbe",children:a})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EyeCrossFilled24.svg.react",["react"],(,98);
__d("MWXMAInformedTreatment.react",["fbt","CometBlurredBackgroundImage.react","EyeCrossFilled24.svg.react","InfoCircleFilled20.svg.react","MWXColumn.react","MWXColumnItem.react","MWXIcon.react","MWXImage.react","MWXText.react","MessengerWebUXLogger","SVGIcon","WAArmadilloXMA.pb","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={blurry:{backgroundColor:"x18l40ae",bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,filter:"xtea3wc",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},center:{position:"x10l6tqk",start:"xtzzx4i",left:null,right:null,top:"xwa60dl",transform:"x11lhmoz",width:"xh8yej3",$$css:!0},overlay:{paddingTop:"xexx8yu",paddingEnd:"x1iji9kk",paddingBottom:"x18d9i69",paddingStart:"x1sln4lm",$$css:!0},post:{flexGrow:"x1iyjqo2",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0},topRight:{alignItems:"x6s0dn4",backgroundColor:"x1gevrdp",borderTopColor:"x1fk37vd",borderEndColor:"xdy0ngz",borderBottomColor:"xqb0rpr",borderStartColor:"x1tp0a3f",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xe80o0v",display:"x78zum5",end:"x1k3u6ij",left:null,right:null,rowGap:"xpse7mg",columnGap:"x1ihrfj4",height:"x10w6t97",paddingTop:"xyqdw3p",paddingEnd:"x1iji9kk",paddingBottom:"xg8j3zb",paddingStart:"x16hj40l",position:"x10l6tqk",top:"x1tk7jg1",whiteSpace:"xuxw1ft",wordWrap:"x1vvkbs",$$css:!0},warning:{display:"x78zum5",height:"x1m3v4wt",position:"x1n2onr6",width:"xh8yej3",$$css:!0}},l={ALTERED_MEDIA:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("V\u00eddeo alterado")},ALTERED_PHOTO:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("Foto alterada")},CRUEL:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("Contenido cruel")},FALSE_NEWS:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("Informaci\u00f3n falsa")},MISLEADING_NEWS:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("Parcialmente falsa")},MISSING_CONTEXT:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("Falta contexto")},SENSITIVE:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("Contenido sensible")},VIOLENCE:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("Contenido sensible")}},m=h._("Ver publicaci\u00f3n para obtener m\u00e1s informaci\u00f3n");function a(a){var b=a.dimension,e=a.gatingTitle,f=a.gatingType,g=a.previewUrl,h=g===void 0?"":g,i=a.xstyle,n=c("gkx")("571"),o=function(a){var b;return((b=l[a])==null?void 0:b.icon)==null?d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")):l[a].icon},p=function(a){var b;return((b=l[a])==null?void 0:b.text)==null?null:l[a].text};g=function(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING_SCREENS:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE:return j.jsx("div",{className:"x10l6tqk xtzzx4i xwa60dl x11lhmoz xh8yej3",children:j.jsxs(c("MWXColumn.react"),{spacing:12,verticalAlign:"center",children:[j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXIcon.react"),{color:"white",icon:o(e),size:32})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"white",numberOfLines:1,type:n?"bodyLink3":"bodyLink4",children:p(e)})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"white",type:n?"meta3":"meta4",children:m})})]})});case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return j.jsxs("div",{className:"x6s0dn4 x1gevrdp x1fk37vd xdy0ngz xqb0rpr x1tp0a3f x107yiy2 xv8uw2v x1tfwpuw x2g32xy x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xe80o0v x78zum5 x1k3u6ij xpse7mg x1ihrfj4 x10w6t97 xyqdw3p x1iji9kk xg8j3zb x16hj40l x10l6tqk x1tk7jg1 xuxw1ft x1vvkbs",children:[j.jsx(c("MWXIcon.react"),{color:"white",icon:o(e),size:24}),j.jsx(c("MWXText.react"),{align:"center",color:"white",type:n?"bodyLink3":"bodyLink4",children:p(e)})]});default:return null}};a=function(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return j.jsx("div",{style:b,children:j.jsx(c("MWXImage.react"),{alt:"",src:h,xstyle:k.post})});default:return j.jsxs(j.Fragment,{children:[j.jsx(c("CometBlurredBackgroundImage.react"),{alt:"",src:h,xstyle:[k.post,i,k.overlay]}),j.jsx("div",{className:"x18l40ae x1ey2m1c xds687c xtea3wc x47corl x10l6tqk x17qophe x13vifvy"})]})}};var q=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"inform_treatment_chat_impression"});return j.jsxs("div",{className:"x78zum5 x1m3v4wt x1n2onr6 xh8yej3",ref:q,children:[a(parseInt(f,10)),g(parseInt(f,10))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemImage.react",["CometImageCover.react","I64","LSIntEnum","MNLSXMALayoutType","MWXMAInformedTreatment.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.attachment,e=a.attachmentItem,f=a.cardWidth,g=a.isStandalone,h=a.previewUrl;a=a.xmaLayout;var l=e.previewWidth==null?0:(i||(i=d("I64"))).to_int32(e.previewWidth),m=e.previewHeight==null?0:(i||(i=d("I64"))).to_int32(e.previewHeight),n=e.defaultCtaType;n==="xma_montage_share"?n=!0:n=e.imageUrl==null?g:l===m;e=l!==0?m!==0?l/m:0:0;b.xmaLayoutType!=null&&(i||(i=d("I64"))).equal(b.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))&&(e===0&&(e=2),n=!0);g=f;f={height:(e===0?106:g/e).toString()+"px",width:g.toString()+"px"};var o={};a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&(m>l&&(f.height=g.toString()+"px",f.width=(e===0?106:g*e).toString()+"px"),o=babelHelpers["extends"]({aspectRatio:void 0,flexGrow:"0",margin:"auto"},f));if(h.length===0||h==="")return null;a={height:(e===0?g-106:g/e).toString()+"px",width:g.toString()+"px"};if(b.gatingTitle!=null&&b.gatingType!=null)return k.jsx(c("MWXMAInformedTreatment.react"),{dimension:a,gatingTitle:b.gatingTitle,gatingType:b.gatingType,previewUrl:h});return n?k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:k.jsx("img",{alt:"",src:h,style:babelHelpers["extends"]({aspectRatio:e,flexGrow:"1",height:"auto",maxWidth:"100%",objectFit:"cover"},o)})}):k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",style:f,children:k.jsx(c("CometImageCover.react"),{alt:"",src:h,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultPreview.react",["CometObjectFitContainer.react","CometPlaceholder.react","I64","MDSGlimmer.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemAttribution.react","MWXMAAttachmentItemImage.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWXMAAttachmentItemDefaultPreview.react")),l={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},root:{display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.cardWidth,h=a.getPlayableUrl,l=a.getPreviewUrlXMA,m=a.isPressable,o=a.isStandalone;a=a.xmaLayout;b=(b=e.shouldAutoplayVideo)!=null?b:!1;var p=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();p=p==="Inbox";p=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:e,attachmentItem:f,getPreviewUrl:l,preferLargePreview:p});l=l(e,f);h=h(e,f);switch(p.type){case"Video":return h==null?null:j.jsxs(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:m,children:[j.jsx(n,{attachmentItem:f,children:j.jsx(k,{controls:b?"none":"mwchat",fbid:f.attachmentFbid,hideExpandButton:!1,originalHeight:f.previewHeight!=null?(i||(i=d("I64"))).to_int32(f.previewHeight):0,originalWidth:f.previewWidth!=null?(i||(i=d("I64"))).to_int32(f.previewWidth):0,sdSrc:h})}),b?j.jsx(c("MWXMAAttachmentItemAttribution.react"),{attachment:e}):null]});case"Image":return l==null?null:j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:m,children:j.jsx(c("MWXMAAttachmentItemImage.react"),{attachment:e,attachmentItem:f,cardWidth:g,isStandalone:o,previewUrl:l,xmaLayout:a})});case"Unsupported":return null}}a.displayName=a.name+" [from "+f.id+"]";.displayName=m.name+" [from "+f.id+"]";function n(a){var b,e=a.attachmentItem;a=a.children;b=(i||(i=d("I64"))).to_int32((b=e.previewWidth)!=null?b:(i||(i=d("I64"))).zero);e=i.to_int32((e=e.previewHeight)!=null?e:(i||(i=d("I64"))).zero);b=b!==0?e!==0?b/e:0:0;e=e>250&&b<.8;return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e?.8:b,children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(m,{}),children:a})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2});f["default"]=a}),66);
__d("MWXMAAttachmentItemHeaderIcon.react",["CometImageCover.react","CometSkittleIcon.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.icon;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;if(typeof b==="string"){a=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?"40px":"32px";return i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message's header",src:b,style:{borderRadius:"50%",height:a,width:a}})})}return i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometSkittleIcon.react"),{color:b.color,icon:b.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeader.react",["ix","I64","LSIntEnum","LSVerifiedType","MWXIcon.react","MWXMAAttachmentItemHeaderIcon.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","fbicon","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={root:{alignItems:"x6s0dn4",display:"x78zum5",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},verifiedIconContainer:{display:"x78zum5",marginStart:"xsgj6o6",marginLeft:null,marginRight:null,$$css:!0},withBorder:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.attachment,e=a.getHeaderUrlXMA;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var f=b.headerTitle;if(f==null)return null;var g=b.headerSubtitleText;e=e(b);e=e==null?void 0:d("MWXMAIconParser.react").parse(e);var j=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT;b=b.verifiedType!=null?(k||(k=d("I64"))).equal(b.verifiedType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSVerifiedType").DEFAULT)):!1;return m.jsxs("div",{className:(i||(i=c("stylex")))(n.root,j?n.withBorder:!1),children:[e!=null&&m.jsx(c("MWXMAAttachmentItemHeaderIcon.react"),{icon:e,xmaLayout:a}),j&&g!==null&&g!=null&&g!==""?m.jsx(c("MWXTextPairing.react"),{headline:f,level:4,meta:g}):m.jsx(c("MWXText.react"),{type:"bodyLink3",children:f}),b?m.jsx("div",{className:"x78zum5 xsgj6o6",children:m.jsx(c("MWXIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultXMAContent.react",["LSIntEnum","MNLSXMALayoutType","MWRollCallXMAAttachmentItem.react","MWXMAAttachmentItemBody.react","MWXMAAttachmentItemDefaultPreview.react","MWXMAAttachmentItemHeader.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.attachment,e=a.attachmentItem,f=a.bodyLineLimit,g=a.cardWidth,h=a.facepiles,k=a.getFaviconUrlXMA,l=a.getHeaderUrlXMA,m=a.getPlayableUrl,n=a.getPreviewUrlXMA,o=a.headlineLineLimit,p=a.isHscroll,q=a.isPressable,r=a.isStandalone,s=a.outgoing;s=s===void 0?!1:s;a=a.xmaLayout;var t=b.defaultCtaType,u=b.xmaLayoutType!==void 0&&(i||(i=d("LSIntEnum"))).toNumber(b.xmaLayoutType)===c("MNLSXMALayoutType").SHARED_STACK;if(u)return j.jsx(c("MWRollCallXMAAttachmentItem.react"),{attachmentItem:e});return t==="xma_montage_share"?j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:e,cardWidth:g,getPlayableUrl:m,getPreviewUrlXMA:n,isPressable:q,isStandalone:r,xmaLayout:a}):j.jsxs(j.Fragment,{children:[j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:l,xmaLayout:a}),j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:e,cardWidth:g,getPlayableUrl:m,getPreviewUrlXMA:n,isPressable:q,isStandalone:r,xmaLayout:a}),j.jsx(c("MWXMAAttachmentItemBody.react"),{attachment:b,attachmentItem:e,bodyLineLimit:f,facepiles:h,getFaviconUrlXMA:k,getPreviewUrlXMA:n,headlineLineLimit:o,isHscroll:p,isPressable:q,isStandalone:r,outgoing:s,xmaLayout:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAPrivateAttachment.react",["fbt","ix","IconSource","MWXIcon.react","MWXMAAttachmentActionTrigger.react","MWXMAInformedTreatment.react","MWXText.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},privateBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1dr9wh",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0},publicBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"xzudefj",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1iu8u7t",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xh8yej3",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",maxWidth:"x193iq5w",minHeight:"xisnujt",minWidth:"x1jzhcrs",width:"xh8yej3",$$css:!0},sensitiveContent:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",backgroundColor:"x1av1boa",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function a(a){var b=a.attachment,d=a.attachmentItem,e=a.getPreviewUrlXMA;e=e===void 0?c("emptyFunction"):e;a=a.isPressable;var f=b.defaultCtaType;e=e(b,d);if(b.gatingTitle!=null&&b.gatingType!=null)return k.jsxs(k.Fragment,{children:[k.jsx(c("MWXMAInformedTreatment.react"),{gatingTitle:b.gatingTitle,gatingType:b.gatingType,previewUrl:e,xstyle:l.sensitiveContent}),k.jsx(n,{attachment:b,attachmentItem:d,isPressable:a})]});return f==="xma_montage_share"?k.jsx(m,{attachment:b}):k.jsxs(k.Fragment,{children:[k.jsx(m,{attachment:b}),k.jsx(n,{attachment:b,attachmentItem:d,isPressable:a})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=a.attachment;var b=new(c("IconSource"))("FB",i("1423125"),32);a=a.defaultCtaType;if(a==="xma_montage_share")return k.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 x78zum5 xdt5ytf x1dr9wh xl56j7k x2b8uid xni59qk",children:k.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:k.jsx(c("MWXIcon.react"),{icon:b})})});a=h._("Haz clic para ver la publicaci\u00f3n");return k.jsxs("div",{className:"x6s0dn4 x99fzhk xzudefj x78zum5 xdt5ytf x1iu8u7t xl56j7k x2b8uid xh8yej3",children:[k.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:k.jsx(c("MWXIcon.react"),{icon:b})}),k.jsx(c("MWXText.react"),{color:"white",type:"bodyLink4",children:a})]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.attachment,d=a.attachmentItem;a=a.isPressable;return k.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:d,isPressable:a,children:k.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xw3qccf",children:k.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k x14vqqas xq8finb xod5an3 x16n37ib x193iq5w xisnujt x1jzhcrs xh8yej3",children:k.jsx(c("MWXText.react"),{type:"meta4",children:h._("Facebook")})})})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItem.react",["I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWPThreadCapabilitiesContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemDefaultXMAContent.react","MWXMAPrivateAttachment.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","react","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useCallback,o={root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",$$css:!0},withBorder:{borderTopColor:"x1exxf4d",borderEndColor:"x1y71gwh",borderBottomColor:"x1nb4dca",borderStartColor:"xu1343h",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0}},p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a){var b,e=a.attachment,g=a.attachmentItem,l=a.bodyLineLimit;l=l===void 0?3:l;var r=a.cardWidth;r=r===void 0?300:r;var s=a.facepiles,t=a.getFaviconUrlXMA,u=a.getHeaderUrlXMA;u=u===void 0?d("LSMediaUrlAttachment").headerImageUrl:u;var v=a.getPlayableUrl,w=a.getPreviewUrlXMA,x=a.headlineLineLimit;x=x===void 0?3:x;var y=a.isHscroll,z=a.isStandalone,A=a.outgoing;A=A===void 0?!1:A;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var B=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),C=B.rtcVideoCallEnabled;B=B.rtcVoiceCallEnabled;var D=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox",E=n(function(a,b){a=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:a,attachmentItem:b,preferLargePreview:D});switch(a.type){case"Video":case"Image":return a.url;case"Unsupported":return}},[D]),F=(h||(h=c("useReStore")))(),G=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(F.table("threads"),["threadType"]).getKeyRange(e.threadKey)},[F,e.threadKey],f.id+":113"),H=e.defaultCtaType;B=H!=null?q.has(H)&&!B||p.has(H)&&!C:!1;C=(H=e.shouldAutoplayVideo)!=null?H:!1;H=C&&e.attributionAppIcon!=null&&e.attributionAppName!=null;C=(k||(k=c("stylex")))(o.root,H?o.withBorder:!1);H=g.attachmentCta1Id!=null;var I=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();G=G?d("MWCMThreadTypes.react").isUnjoinedCMThread(G.threadType):!1;b=(i||(i=d("I64"))).equal((b=e.xmaLayoutType)!=null?b:(i||(i=d("I64"))).zero,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));G=G&&b||B;return m.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:g,isPressable:!H&&!G,children:m.jsx("div",{className:C,"data-testid":void 0,children:I?m.jsx(c("MWXMAPrivateAttachment.react"),{attachment:e,attachmentItem:g,getPreviewUrlXMA:(b=w)!=null?b:E,isPressable:H&&!G}):m.jsx(c("MWXMAAttachmentItemDefaultXMAContent.react"),{attachment:e,attachmentItem:g,bodyLineLimit:l,cardWidth:r,facepiles:s,getFaviconUrlXMA:(B=t)!=null?B:function(a,b){return(a=(a=d("LSMediaUrlAttachment").faviconUrl(a))!=null?a:d("LSMediaUrlAttachmentItem").faviconUrl(b))!=null?a:""},getHeaderUrlXMA:u,getPlayableUrl:(C=v)!=null?C:E,getPreviewUrlXMA:(I=w)!=null?I:E,headlineLineLimit:x,isHscroll:y,isPressable:H&&!G,isStandalone:z,outgoing:A,xmaLayout:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentHorizontalItems.react",["fbt","CometHScroll.react","I64","MWXMAAttachmentItem.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=284,n={cardWrapper:{backgroundColor:"x2bj2ny",height:"x5yr21d",width:"xh8yej3",$$css:!0},flexibleContainer:{"@media (max-width: 1439px)_maxWidth":"x1bu0bv6","@media (min-width: 1440px)_maxWidth":"x6vbh5p",$$css:!0},spacer:{marginTop:"xvijh9v",$$css:!0},topElement:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0}};function a(a){var b=a.attachmentItems,e=a.fullWidthContainer;e=e===void 0?!1:e;var f=a.hasText,g=f===void 0?!1:f,k=a.xstyle,o=a.cardWidth,p=babelHelpers.objectWithoutPropertiesLoose(a,["attachmentItems","fullWidthContainer","hasText","xstyle","cardWidth"]);return l.jsx("div",{className:(i||(i=c("stylex")))(!e&&n.flexibleContainer),children:l.jsx(d("CometHScroll.react").Container,{accessibilityLabel:h._("Mensaje que contiene varios submensajes"),cardWidth:o!=null?{type:"fixed",width:o}:{minWidth:m,type:"responsive"},gap:8,children:b.map(function(a,b){return l.jsx(d("CometHScroll.react").Child,{expanding:!0,children:l.jsx("div",{className:"x2bj2ny x5yr21d xh8yej3",children:l.jsx("div",{className:(i||(i=c("stylex")))(k,b===0&&g&&n.topElement,g&&n.spacer),children:l.jsx(c("MWXMAAttachmentItem.react"),babelHelpers["extends"]({},p,{attachmentItem:a,cardWidth:o,isStandalone:!1}))})})},(j||(j=d("I64"))).to_string(a.attachmentIndex))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={aspectRatioWrapper:{height:"xqtp20y",marginStart:"x12mruv9",marginLeft:null,marginRight:null,marginTop:"xr9ek0c",paddingBottom:"x1vrad04",position:"x1n2onr6",$$css:!0},grid:{display:"x78zum5",flexWrap:"x1a02dak",marginStart:"x8182xy",marginLeft:null,marginRight:null,marginTop:"x1kgmq87",$$css:!0},gridImage:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},gridItem:{flexBasis:"x1yu6fn4",$$css:!0}};function a(a){a=a.urls;return i.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.map(function(a){return i.jsx("li",{className:"x1yu6fn4",children:i.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:i.jsx(c("BaseImage.react"),{src:a,xstyle:j.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=j(function(){return b.map(k).filter(Boolean)},[b]);return i.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIgProfile.react",["LSMediaUrlAttachment","MWPXMAIgProfile.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemHeader.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment,e=a.attachmentItems,f=a.getHeaderUrlXMA;f=f===void 0?d("LSMediaUrlAttachment").headerImageUrl:f;a=a.xstyle;var g=e[0];return j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:g,isPressable:!0,children:j.jsxs("div",{className:(h||(h=c("stylex")))(a),"data-testid":void 0,children:[j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:f}),j.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollCallTimerPill.react",["fbt","I64","MWXText.react","react","useInterval"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useMemo,m=b.useState;function n(a){var b=1e3,c=b*60,d=c*60,e=d*24;a=a;var f=Math.floor(a/e);a-=f*e;e=Math.floor(a/d);a-=e*d;d=Math.floor(a/c);a-=d*c;c=Math.floor(a/b);a-=c*b;return{days:f,hours:e,minutes:d,seconds:c}}function a(a){var b=a.attachment;a=l(function(){var a;return(j||(j=d("I64"))).to_float((a=b.countdownTimestampMs)!=null?a:(j||(j=d("I64"))).zero)},[b.countdownTimestampMs]);var e=m(Date.now()),f=e[0],g=e[1];e=f>a;c("useInterval")(e?6e4:1e3,[g]);if(!e){e=n(a-f);var i=e.minutes;e=e.seconds;i=("0"+i).slice(-2)+":"+("0"+e).slice(-2)}else if(b.cta1Type==="xma_roll_call_open_viewer")i=h._("Se ha a\u00f1adido");else{e=n(f-a);f=e.days;a=e.hours;e=e.minutes;f>30?i=h._("+30 d"):f>0?i=h._("{days} d tarde",[h._param("days",f)]):a>0?i=h._("{hours} h tarde",[h._param("hours",a)]):i=h._("{minutes}\u00a0min tarde",[h._param("minutes",Math.max(1,e))])}return k.jsx("div",{className:"x1h0vfkc x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k xkrivgy x1gryazu x1sxyh0 xurb0ha xeq5yr9",children:k.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:i})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackFrontCard.react",["I64","LSAuthorityLevel","LSIntEnum","MWChatPollFacepile.react","MWLSThread","MWRollCallTimerPill.react","MWXMAAttachmentItemCtaButton.react","MWXSpinner.react","MWXText.react","MessengerWebUXLoggerXMAEventLoggingImpl","getLSMediaAttachmentAvatarViewUrlList","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={ctaContainer:{marginTop:"x1xmf6yo",$$css:!0},facepileContainer:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},frontCard:{backgroundColor:"x9bbmet",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x28gwc1",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",overflowX:"xw2csxc",overflowY:"x1odjw0f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xh8yej3",$$css:!0},frontCardDarkMode:{boxShadow:"xdxoyvu",$$css:!0},titleContainer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=a.attachment;a=a.xstyle;var e=c("getLSMediaAttachmentAvatarViewUrlList")(b),f=b.countdownTimestampMs;f=f!=null&&!(j||(j=d("I64"))).equal(f,(j||(j=d("I64"))).zero)?l.jsx(c("MWRollCallTimerPill.react"),{attachment:b}):null;var g=d("MWLSThread").useThread(b.threadKey,function(a){return a.threadType});g=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:b,clickCategory:1,threadType:g});var i=(k||(k=d("LSIntEnum"))).toNumber(b.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC,n=c("useCurrentDisplayMode")()==="dark";return l.jsxs("div",{className:(h||(h=c("stylex")))(m.frontCard,n&&m.frontCardDarkMode,a),ref:g,children:[f,l.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x1xmf6yo",children:l.jsx(c("MWXText.react"),{align:"center",numberOfLines:3,type:"headlineEmphasized4",children:b.titleText})}),l.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu",children:i?l.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):l.jsx(c("MWChatPollFacepile.react"),{contacts:e.map(,direction:"reversed",gap:"negative",size:"large"})}),l.jsx("div",{className:"x1xmf6yo",children:b.attachmentCta1Id!=null&&b.cta1Title!=null&&b.cta1Type!=null?l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:b.attachmentFbid,ctaId:b.attachmentCta1Id,messageId:b.messageId,threadKey:b.threadKey,title:b.cta1Title,type:b.cta1Type}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackConstants",[],(,66);
__d("MWXMAAttachmentSharedStackItem.react",["MWXMAAttachmentItem.react","MWXMAAttachmentSharedStackConstants","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={stackItem:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",bottom:"x1ey2m1c",boxShadow:"x28gwc1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",left:null,right:null,$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.index,g=a.totalItems;a=a.xstyle;var i=f%2===0?-4:4,l=0,m=0;switch(f){case 0:l=0;m=-12;break;case 1:l=58;m=-20;break;case 2:l=34;m=-28;break}return(b.defaultCtaType==="xma_prompt_open_viewer_for_text"||b.defaultCtaType==="xma_roll_call_open_viewer")&&e.previewUrl===void 0&&e.titleText===void 0?null:j.jsx("div",{className:(h||(h=c("stylex")))(k.stackItem,a),style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,transform:"rotate("+i+"deg) translateX("+l+"px) translateY("+m+"px)",width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:g-f},children:j.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:e,cardWidth:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,isHscroll:!1,isStandalone:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackLayout.react",["MWXMAAttachmentSharedStackConstants","MWXMAAttachmentSharedStackItem.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},stackContainer:{position:"x1n2onr6",$$css:!0},stackItem:{bottom:"x1ey2m1c",position:"x10l6tqk",start:"x17qophe",left:null,right:null,$$css:!0},stackItemFront:{start:"x3f4u1h",left:null,right:null,$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItems,f=a.centered;f=f===void 0?!1:f;var g=a.children;a=a.xstyle;var i=e.slice(0,3);e=d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+32;var l=d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH+64;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.stackContainer,a,f&&k.centered),style:{height:e,width:l},children:[i.map(function(a,d){return j.jsx(c("MWXMAAttachmentSharedStackItem.react"),{attachment:b,attachmentItem:a,index:d,totalItems:i.length},d)}),j.jsx("div",{className:"x1ey2m1c x10l6tqk x3f4u1h",style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:i.length+1},children:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubthreadShortcutLayout.react",["MWPColorUtils","gkx","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},incoming:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){a.centered;var b=a.children,e=a.outgoing;a=a.xstyle;var f=c("useMWPThreadTheme")(),g=c("gkx")("9072");e=e?{backgroundColor:d("MWPColorUtils").int64ToHex(f.threadTheme.fallbackColor),color:"white"}:void 0;return j.jsx("div",{className:(h||(h=c("stylex")))(a,k.centered,k.incoming),style:g?e:null,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentVerticalLayout.react",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},connectBottomIncoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectBottomOutgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},connectTopIncoming:{borderTopStartRadius:"x1lcm9me",$$css:!0},connectTopOutgoing:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b=a.centered;b=b===void 0?!1:b;var e=a.children,f=a.connectBottom,g=a.connectTop,i=a.outgoing,l=a.xmaLayout;a=a.xstyle;return j.jsx("div",{className:(h||(h=c("stylex")))(a,g&&l!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&k.connectTop,g&&i&&k.connectTopOutgoing,g&&!i&&k.connectTopIncoming,f&&i&&k.connectBottomOutgoing,f&&!i&&k.connectBottomIncoming,b&&k.centered),children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachment.react",["I64","Int64Hooks","LSIntEnum","LSXmaContentType","MNLSXMALayoutType","MWChatTypingIndicator.react","MWLSThreadDisplayContext","MWXMAAttachmentHorizontalItems.react","MWXMAAttachmentItem.react","MWXMAAttachmentItemIgProfile.react","MWXMAAttachmentSharedStackFrontCard.react","MWXMAAttachmentSharedStackLayout.react","MWXMAAttachmentSubthreadShortcutLayout.react","MWXMAAttachmentVerticalLayout.react","MWXSolidMessageBubble.react","ReQL","ReQLSuspense","gkx","react","recoverableViolation","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||d("react");function n(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}var o={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},outgoing_xma:{marginStart:"x1gryazu",marginLeft:null,marginRight:null,$$css:!0}},p={card:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},opaqueCard:{backgroundColor:"x1xr0vuk",$$css:!0},rootForHScrollInChatTab:{maxWidth:"xaka53j",$$css:!0}};function a(a){var b=a.attachment,e=a.bodyLineLimit,g=a.cardWidth,l=a.connectBottom,q=a.connectTop,r=a.facepiles,s=a.fullWidthContainer;s=s===void 0?!1:s;var t=a.getFaviconUrlXMA,u=a.getHeaderUrlXMA,v=a.getPlayableUrl,w=a.getPreviewUrlXMA,x=a.hasText;x=x===void 0?!1:x;var y=a.headlineLineLimit,z=a.outgoing,A=a.xmaLayout;A=A===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:A;a=a.xstyle;var B=(h||(h=c("useReStore")))(),C=b.attachmentFbid,D=b.attachmentType,E=b.cta1Type,F=b.defaultCtaType,G=b.isBorderless,H=b.xmaContentType,I=b.xmaLayoutType,J=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(B.table("attachment_items")).getKeyRange(C)},[C,B],f.id+":150"),K=d("Int64Hooks").useMemoInt64(function(){return I!=null?[(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").XCENTER)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT)),(j||(j=d("I64"))).equal(I,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))]:[!1,!1,!1]},[I]),L=K[0],M=K[1],N=K[2],O=K[3],P=K[4];K=K[5];var Q=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),R=null;H!=null&&(j||(j=d("I64"))).equal(H,(k||(k=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH))&&c("gkx")("2992")?R=m.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:!1,precedesXMA:!1,style:{backgroundColor:"var(--wash)"},children:m.jsx(c("MWChatTypingIndicator.react"),{})}):O?R=m.jsx(c("MWXMAAttachmentSharedStackLayout.react"),{attachment:b,attachmentItems:J,children:m.jsx(c("MWXMAAttachmentSharedStackFrontCard.react"),{attachment:b})}):P?R=m.jsx(c("MWXMAAttachmentSubthreadShortcutLayout.react"),{outgoing:z,xstyle:p.card,children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:J[0],bodyLineLimit:e,cardWidth:g,facepiles:r,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,headlineLineLimit:y,isHscroll:L,isStandalone:!0,outgoing:z,xmaLayout:A})}):L?R=m.jsx(c("MWXMAAttachmentHorizontalItems.react"),{attachment:b,attachmentItems:J,bodyLineLimit:e,cardWidth:g,facepiles:r,fullWidthContainer:s,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,hasText:x,headlineLineLimit:y,isHscroll:L,xmaLayout:A,xstyle:[p.card,p.opaqueCard]}):N&&J.length===6?R=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:l,connectTop:q,outgoing:z,xmaLayout:A,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItemIgProfile.react"),{attachment:b,attachmentItems:J,getHeaderUrlXMA:u})}):M&&J.length===1?R=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:l,connectTop:q,outgoing:z,xmaLayout:A,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:J[0],bodyLineLimit:e,cardWidth:g,facepiles:r,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,headlineLineLimit:y,isHscroll:L,isStandalone:!0,xmaLayout:A})}):J.length===0?R=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:l,connectTop:q,outgoing:z,xmaLayout:A,xstyle:[p.card,G!==!0&&p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:n(b),bodyLineLimit:e,cardWidth:g,facepiles:r,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,headlineLineLimit:y,isHscroll:L,isStandalone:!0,xmaLayout:A})}):J.length===1?R=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:l,connectTop:q,outgoing:z,xmaLayout:A,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:J[0],bodyLineLimit:e,cardWidth:g,facepiles:r,getFaviconUrlXMA:t,getHeaderUrlXMA:u,getPlayableUrl:v,getPreviewUrlXMA:w,headlineLineLimit:y,isHscroll:L,isStandalone:!0,outgoing:z,xmaLayout:A})}):c("recoverableViolation")("Unknown combination of XMA items and layout. n Attachment Items: "+String(J.length)+", XMA Layout Type: "+(I==null?"na":(j||(j=d("I64"))).to_string(I))+", Attachment Type: "+(j||(j=d("I64"))).to_string(D)+",  XMA content Type: "+(H==null?"na":(j||(j=d("I64"))).to_string(H))+", default CTA type: "+(F==null?"na":F)+", CTA 1 type: "+(E==null?"na":E),"messenger_web_product",void 0,{trackOnly:!0});O=A===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?[o.cardWidth,z&&o.outgoing_xma]:o.cardWidth;P=Q==="ChatTab";s=K?P?o.cardWidthChatTab:o.cardWidth:a;return m.jsx("div",{className:(i||(i=c("stylex")))(L&&P&&p.rootForHScrollInChatTab,!L&&!M&&O,s),children:R})}a.displayName=a.name+" [from "+f.id+"]";g.xmaCardStyles=o;g.MWXMAAttachment=a}),98);
__d("MWMessageListAttachmentContainer.react",["CometErrorBoundary.react","MWChatBubbleEmphasisRing.react","MWLSThreadDisplayContext","MWMessageListAttachment.react","MWPMessageIsReply","MWPMessageListAttachment.react","MWV2ChatFileV2.react","MWV2ChatImagesGrid.react","MWV2UnsupportedAttachment.react","MWXMAAttachment.react","MWXSolidMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.connectBottom,e=a.connectTop,f=a.hasEmphasisRing;f=f===void 0?!1:f;var g=a.hasText,h=g===void 0?!1:g,j=a.message,k=a.navigateToRouteForMediaViewer,l=a.outgoing,m=a.xstyle;g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var n=g==="ChatTab"?180:void 0;return i.jsx(c("MWPMessageListAttachment.react"),{connectBottom:b,connectTop:e,message:j,renderAudioAttachment:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentAudio,{attachment:a,isReply:c("MWPMessageIsReply")(j),outgoing:l})},renderEmphasisRing:f?function(a,b){return i.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:e,hasXMA:a,outgoing:l,precedesXMA:!1,children:b})}:void 0,renderEphemeralMediaAttachment:function(){return null},renderFileAttachment:function(a){return i.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:l,style:{backgroundColor:"var(--chat-incoming-message-bubble-background-color)",padding:0},children:i.jsx(c("MWV2ChatFileV2.react"),{attachment:a})})},renderImageAttachment:function(c,b,a,e){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentImage,{attachment:c,connectBottom:a,connectTop:b,message:j,navigateToRouteForMediaViewer:k,outgoing:l,renderUnsupportedAttachment:e})},renderImageGrid:function(a){return i.jsx(c("MWV2ChatImagesGrid.react"),{attachments:a})},renderStickerAttachment:renderUnsupportedAttachment:function(a){return i.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:l,style:{backgroundColor:"var(--comment-background)"},children:i.jsx(c("MWV2UnsupportedAttachment.react"),{attachment:a})})},renderVideoAttachment:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentVideo,{attachment:a,connectTop:e,message:j,navigateToRouteForMediaViewer:k,outgoing:l})},renderXMAAttachment:function(a){return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentError,{connectBottom:b,connectTop:e,xstyle:m})},children:i.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:a,cardWidth:n,connectBottom:b,connectTop:e,hasText:h,outgoing:l,xstyle:m})})}})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("MWMessageDeliveryStatusIcons",["cr:4125"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:4125")}),98);
__d("MWCMIsSubthreadContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=e({isSubthread:!1});function a(){return j(l)}function b(a){var b=a.children,c=a.isSubthread;a=k(function(){return{isSubthread:c}},[c]);return i.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useIsSubthreadContext=a;g.MWCMIsSubthreadContextProvider=b}),98);
__d("MWPBaseMessageListRowActions.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{flexDirection:"x1q0g3np",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",width:"x1ll7btr",$$css:!0}};function l(a){var b=a.children;a=a.outgoing;return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,a?k.outgoing:k.incoming),role:"none",children:b})}l.displayName=l.name+" [from "+f.id+"]";.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.ariaHidden,d=a.children,e=a.hasReactions,f=a.outgoing;a=a.xstyle;return j.jsx("div",{"aria-hidden":(b=b)!=null?b:!1,className:(h||(h=c("stylex")))(m.root,e?m.moveUpToAccountForReactions:!1,f?m.outgoing:m.incoming,a!=null?a:!1),children:j.jsx(l,{outgoing:f,children:d})})}b.displayName=b.name+" [from "+f.id+"]";var m={incoming:{paddingStart:"x1t2a60a",paddingLeft:null,paddingRight:null,$$css:!0},moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},outgoing:{paddingEnd:"x1mpkggp",paddingLeft:null,paddingRight:null,$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1ll7btr",zIndex:"x1n327nk",$$css:!0}};g.MWPBaseMessageListRowActionsList=l;g.MWPBaseMessageListRowActionsListItem=a;g.MWPBaseMessageListRowActionsContainer=b}),98);
__d("MDSContextualMenuIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[i.jsx("circle",{cx:"11",cy:"6",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),i.jsx("circle",{cx:"11",cy:"11",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),i.jsx("circle",{cx:"11",cy:"16",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowActionsContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext;e={current:c("emptyFunction")};var k={current:c("emptyFunction")},l={current:c("emptyFunction")};c={current:c("emptyFunction")};e={forwardMessage:e,openReactionsMenu:k,removeMessage:l,replyToMessage:c};var m=d(e);function a(){return j(m)}function b(a){var b=a.children;a=a.value;return i.jsx(m.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMessageRowActionsContext=a;g.MWV2MessageRowActionsContextProvider=b}),98);
__d("MWV2OnlyGlobalRemoveMessageDialog.entrypoint",["JSResourceForInteraction"],(,98);
__d("MWXDeferredPopoverTrigger.react",["cr:7153","cr:7154","react"],(,98);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWPThreadCapabilitiesContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=b.canUnsendMessage;b=b.isPaused;a=a.cannotUnsendReason!=null?(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;return e&&a&&!b}g["default"]=a}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Boolean(d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(152,a)}));return a}g["default"]=a}),98);
__d("useShouldAllowRollCallForMessage",["I64","LSIntEnum","MessagingAttachmentType","gkx","isStringNullOrEmpty","useIsRollcallEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[c("MessagingAttachmentType").IMAGE,c("MessagingAttachmentType").VIDEO];function a(a,b){var e=c("useIsRollcallEnabled")(a.threadKey);if(!e)return!1;return c("gkx")("9992")&&!c("isStringNullOrEmpty")(a.text)?!0:b.some(function(a){var b=(a=a.attachmentType)!=null?a:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE);return j.some(function(a){return(i||(i=d("I64"))).equal(b,(h||(h=d("LSIntEnum"))).ofNumber(a))})})}g.ATTACHMENT_TYPES_THAT_ALLOW_PROMPTS=j;g.useShouldAllowRollCallForMessage=a}),98);
__d("MWV2ContextualActionsButton.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSMessagingThreadTypeUtil","MDSContextualMenuIcon.react","MWCMThreadTypes.react","MWPActor.react","MWPThreadCapabilitiesContext","MWV2LogMessageClick","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXDeferredPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","ReQL","ReQLSuspense","emptyFunction","gkx","isFeatureLimitEnabled","react","requireDeferred","useIsReadOnlyFeatureLimitedWithThreadType","useMWPCanRemoveMessageGlobally","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","useShouldAllowRollCallForMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useCallback,n=b.useContext,o=b.useEffect,p=c("requireDeferred")("MWV2ContextualActionsMenu.react").__setRef("MWV2ContextualActionsButton.react");function a(a){var b=a.attachment,e=a.canRemoveMessageGlobally,g=a.closeActionsMenu,k=a.extraActions,q=a.isSubthreadParentMessage;q=q===void 0?!1:q;var r=a.learnMoreDialogType,s=a.learnMoreOnMessageRemove,t=a.message,u=a.onRemoveMessageLogger,v=a.removeMessageDialogTitle,w=a.setMoreMenuOpen,x=a.showCreateSubthread;x=x===void 0?!1:x;var y=a.showFeedbackOptionsInContextualMenu,z=a.showForwardActionInContextualMenu,A=a.showLearnMoreInContextualMenu,B=a.showReactionInContextualMenu,C=a.showReplyActionInContextualMenu,D=a.threadType,E=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(E.table("threads"),["parentThreadKey","threadKey","threadType","cannotUnsendReason","threadSubtype"]).getKeyRange(t.threadKey)},[E,t.threadKey],f.id+":114");var F=a==null?void 0:a.parentThreadKey,G=h._("M\u00e1s"),H=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),I=H.localDeleteMessageEnabled,J=H.modifyPinnedMessageV2Enabled;H=H.reportMessageToAdminEnabled;var K=c("useMWPCanRemoveMessageGlobally")(t),L=d("LSMessagingThreadTypeUtil").isSecure(D),M=d("MWCMThreadTypes.react").isJoinedCMThread(D),N=c("useIsReadOnlyFeatureLimitedWithThreadType")(D),O=d("ReQLSuspense").useFirst(function(){if(d("LSMessagingThreadTypeUtil").isCMSubthread(D))if(F==null)return d("ReQL").empty();else return d("ReQL").fromTableAscending(E.table("participants")).getKeyRange(F,t.senderId);else if(M)return d("ReQL").fromTableAscending(E.table("participants")).getKeyRange(t.threadKey,t.senderId);return d("ReQL").empty()},[M,D,F,E,t.senderId,t.threadKey],f.id+":144"),P=d("ReQLSuspense").useFirst(function(){return M?d("ReQL").fromTableAscending(E.table("contacts"),["capabilities","capabilities2"]).getKeyRange(t.senderId):d("ReQL").empty()},[E,M,t.senderId],f.id+":171");N=(!L||c("isFeatureLimitEnabled")())&&N;var Q=!N,R=d("MWPActor.react").useActor();P=P!=null&&((P=d("LSContactBitOffset").has(77,P))!=null?P:!1);J=J&&!t.isUnsent&&!q&&!d("LSMessagingThreadTypeUtil").isCMSubthread(D);q=t.isUnsent;var S=!1;M||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(D)||d("LSMessagingThreadTypeUtil").isCMSubthread(D)?S=!q&&K:L?S=!N:S=I&&Q;q=c("useMWXEntryPointDialog")(c("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),{});var T=q[0];L=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2ContextualActionsButton.react"));var U=L[0];N=(O==null?void 0:O.isAdmin)===!0;I=t.unsentTimestampMs!=null;Q=(d("MWCMThreadTypes.react").isJoinedCMThread(D)||d("LSMessagingThreadTypeUtil").isCMSubthread(D))&&H&&!N&&!(j||(j=d("I64"))).equal(R,t.senderId)&&!I&&!P;q=(d("MWCMThreadTypes.react").isJoinedCMThread(D)||d("LSMessagingThreadTypeUtil").isCMSubthread(D))&&!(j||(j=d("I64"))).equal(R,t.senderId)&&!I;L=d("useShouldAllowRollCallForMessage").useShouldAllowRollCallForMessage(t,[b].filter(Boolean));O=d("Int64Hooks").useCallbackInt64(function(){var a={canRemoveMessageGlobally:K,message:t,removeLogger:u,threadType:D},b={learnMoreOnMessageRemove:s,message:t},e=(j||(j=d("I64"))).equal(t.senderId,R);if(d("MWCMThreadTypes.react").isJoinedCMThread(D)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(D)||e&&!c("gkx")("9197")&&!t.isUnsent)return T(b);else return U(a,c("emptyFunction"))},[R,s,t,u,U,T,D,K]);H=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var V=H.removeMessage;S?V.current=O:V.current=c("emptyFunction");var W=m(function(){if(c("gkx")("3417")){V.current=c("emptyFunction");return}},[V]);o(function(){return W},[W]);var X=n(d("MWV2MessageRowIsRowFocusedContext.react").context);if(a==null||!(z||C||B||J||y||S||q||L||A||k!=null))return null;N=function(a){w(function(){return a});return X.setFocused(function(){return a})};return l.jsx(c("MWXDeferredPopoverTrigger.react"),{align:"middle",onVisibilityChange:N,popoverProps:{attachment:b,canRemoveMessageGlobally:e&&K,closeActionsMenu:g,extraActions:k,learnMoreDialogType:r,learnMoreOnMessageRemove:s,message:t,onRemoveMessageLogger:u,removeMessageDialogTitle:v,showCreatePrompt:L,showCreateSubthread:x,showFeedbackOptionsInContextualMenu:y,showForwardActionInContextualMenu:z,showLearnMoreInContextualMenu:A,showPinMessageActionInContextualMenu:J,showReactionInContextualMenu:B,showReplyActionInContextualMenu:C,showReportCommunityMessageToAdmin:Q,showReportCommunityMessageToFacebook:q,showUnsendInContextualMenu:S,thread:a},popoverResource:p,popoverType:"menu",position:"above",children:function(a,b){var e=function(){b();return d("MWV2LogMessageClick").log(E,t,48)};return l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:G,children:l.jsx(c("MWXPressable.react"),{"aria-label":G,expanding:!0,onPress:e,overlayDisabled:!0,ref:a,testid:void 0,children:l.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:l.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:l.jsx(c("MDSContextualMenuIcon.react"),{})})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatColors",[],(function(a,b,c,d,e,f,g){"use strict";a={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginEnd:"x11i5rnm",marginLeft:null,marginRight:null,marginStart:"x1mh8g0r",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};b={styles:a};g.MessageActions=b}),98);
__d("MWChatForwardDialog.entrypoint",["JSResourceForInteraction","MWChatForwardDialogQuery$Parameters","MWXacGating","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{forwardQueryReference:{parameters:b("MWChatForwardDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),suppress_xac_groups:!d("MWXacGating").isGroupsEnabled()}}}}},root:c("JSResourceForInteraction")("MWChatForwardDialog.react").__setRef("MWChatForwardDialog.entrypoint")};g["default"]=a}),98);
__d("useMWChatForward",["MWChatForwardDialog.entrypoint","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a){var b=a.dropToggle,d=a.forwardDialogType,e=a.fromSecureThread,f=a.messageID,g=a.onClose,h=a.onSend;a=j(null);var k=c("useMWXEntryPointDialog")(c("MWChatForwardDialog.entrypoint"),{}),l=k[0];k=i(function(){l({dropToggle:b,forwardDialogType:d,fromSecureThread:e,messageID:f,onSend:h},g)},[l,b,d,e,f,h,g]);return{onClick:k,triggerRef:a}}g["default"]=a}),98);
__d("MWChatForwardAction.react",["MWChatColors","MWXPressable.react","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","useMWChatForward"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={icon:{opacity:"x1hc1fzr",$$css:!0}},m=k.jsx("svg",{"aria-hidden":!0,height:"22px",viewBox:"0 0 36 36",width:"22px",children:k.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:[k.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),k.jsx("path",{className:(h||(h=c("stylex")))(d("MWChatColors").MessageActions.styles.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})]})});function n(a){(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","forward"),a==null?void 0:a.onClick()}function a(a){var b=a.dropToggle;b=b===void 0?!1:b;var e=a.forwardDialogType;e=e===void 0?"open_":e;var f=a.fromSecureThread,g=a.label,i=a.messageID;a=a.onForward;var j=c("useMWChatForward")({dropToggle:b,forwardDialogType:e,fromSecureThread:f,messageID:i,onClose:c("emptyFunction"),onSend:a});return k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:g,children:k.jsx("div",{className:(h||(h=c("stylex")))(d("MWChatColors").MessageActions.styles.action),children:k.jsx(c("MWXPressable.react"),{"aria-label":g,expanding:!0,onPress:function(){return n(j)},overlayDisabled:!0,role:c("gkx")("1224637")?"menuitem":"button",testid:void 0,children:k.jsx("div",{className:h(d("MWChatColors").MessageActions.styles.icon,l.icon),children:m})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[1]=a[3]===""?void 0:a[3],d[1]!==void 0?c.sequence([function(b){return c.forEach(c.filter(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],void 0,void 0,void 0,void 0,c.i64.cast([0,3]),void 0,void 0,void 0,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.filter(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.storedProcedure(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),c.i64.cast([0,2]),void 0,void 0,!0,!1):(f=e.item,c.sequence([function(e){return c.storedProcedure(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),f.attachmentType,f.filename,f.attributionAppId,!0,!1)},function(e){return c.storedProcedure(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),f.playableUrl,f.playableUrlFallback,f.playableUrlExpirationTimestampMs,f.playableUrlMimeType,f.previewUrl,f.previewUrlFallback,f.previewUrlExpirationTimestampMs,f.previewUrlMimeType,f.previewWidth,f.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.sequence([function(b){return d[2]=c.createArray(),d[6]=(d[2].push(a[7]),d[2]),c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[3]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[3]=d[6])})},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),d[3],void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[5]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[5],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:c.i64.cast([0,4]),markThreadRead:!1,initiatingSource:a[9]})}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticSendAttachmentForwardStoredProcedure",["LSOptimisticSendAttachmentForward"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.senderId;d[1]=b.threadKey;d[2]=b.threadType;d[3]=b.offlineThreadingId;d[4]=b.text;d[5]=b.snippet;d[6]=b.snippetHasEmoji;d[7]=b.forwardedAttachmentFbid;d[8]=b.source;d[9]=b.initiatingSource;return c("LSOptimisticSendAttachmentForward").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return d.filter(d.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return d.i64.eq(b.threadKey,a[3])&&d.i64.eq(d.i64.cast([0,0]),d.i64.cast([0,0]))&&d.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&d.i64.eq(b.authorityLevel,d.i64.cast([0,80]))}).next().then(function(f,g){var h=f.done;f=f.value;return h?(e[3]=d.createArray(),e[4]=(e[3].push("optimisticSendMessageForward msg not found"),e[3]),e[5]=(e[3].push(a[5]),e[3]),e[6]=d.toJSON(e[3]),function(a){d.logger(a).mustfix(a)}(e[6]),h=["",d.i64.cast([-1,4294967295])],e[0]=h[0],e[1]=h[1],h):(g=f.item,d.sequence([function(f){return e[11]=g.forwardScore,e[3]=g.text,c("gkx")("9901")?(d.i64.neq(e[11],void 0)?e[12]=d.i64.lt(e[11],d.i64.cast([0,127])):e[12]=!0,d.i64.eq(a[0],g.senderId)||!e[12]?e[13]=e[11]:(d.i64.neq(e[11],void 0)?e[14]=d.i64.add(e[11],d.i64.cast([0,1])):e[14]=d.i64.cast([0,1]),e[13]=e[14]),e[4]=e[13]):e[4]=e[11],d.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],e[3],void 0,void 0,g.stickerId,g.hotEmojiSize,void 0,void 0,d.i64.cast([0,3]),void 0,e[4],void 0,!0).then(function(a){return a=a,e[5]=a[0],e[6]=a[1],a})},function(c){return d.forEach(d.db.table(16).fetch([[[g.threadKey,g.messageId]]]),function(c){var f=c.item;return d.sequence([function(c){return e[16]=f.attachmentFbid,e[12]=d.createArray(),e[13]=(e[12].push(e[16]),e[12]),e[14]=(e[12].push(e[5]),e[12]),e[15]=d.toJSON(e[12]),d.storedProcedure(b("LSInsertOptimisticAttachment"),a[1],e[6],e[5],e[16],e[15],f.attachmentType,f.filename,void 0,f.hasMedia,f.hasXma)},function(c){return d.storedProcedure(b("LSUpdateOptimisticAttachmentPreview"),a[1],e[5],e[15],f.playableUrl,f.playableUrlFallback,f.playableUrlExpirationTimestampMs,f.playableUrlMimeType,f.previewUrl,f.previewUrlFallback,f.previewUrlExpirationTimestampMs,f.previewUrlMimeType,f.previewWidth,f.previewHeight)}])})},function(b){return d.db.table(9).fetch([[[a[1]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?e[7]=d.i64.cast([0,1]):(c=b.item,e[13]=c.syncGroup,d.i64.neq(e[13],void 0)?e[12]=e[13]:e[12]=d.i64.cast([0,1]),e[7]=e[12])})},function(c){return d.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),d.i64.to_string(a[1]),d.i64.cast([0,46]),"",void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0]),e[7],void 0,d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[9]=a[0],a})},function(a){return void 0!==void 0?d.storedProcedure(b("LSPredefineTraceForTask"),void 0,e[9],d.i64.to_string(d.i64.cast([0,46])),e[5]):d.resolve()},function(b){return d.db.table(31).add({taskId:e[9],threadKey:a[1],offlineThreadingId:e[5],messageId:a[5],threadAttributionSource:a[6],sendType:d.i64.cast([0,5]),markThreadRead:!1,initiatingSource:a[7]})},function(b){return e[12]=new d.Map(),e[13]=e[12].set("optimisticSendMessageForward",a[1]),e[14]=e[12].set("fwdMsgID",a[5]),e[15]=d.toJSON(e[12]),e[10]=e[15],e[10]),b=[e[5],e[9]],e[0]=b[0],e[1]=b[1],b}]))})},function(a){return f[0]=e[0]}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSOptimisticSendMessageForwardStoredProcedure",["LSOptimisticSendMessageForward"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.senderId;d[1]=b.threadKey;d[2]=b.threadType;d[3]=b.forwardedMsgThreadKey;d[4]=b.forwardedMsgTimestampMs;d[5]=b.forwardedMsgId;d[6]=b.source;d[7]=b.initiatingSource;return c("LSOptimisticSendMessageForward").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useGetForwardSource",["LSIntEnum","LSMessagingThreadAttributionType","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a!=null)if(a==="Inbox")return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_FORWARD);else if(a==="ChatTab")return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_FORWARD);else return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW);else return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW)}g["default"]=a}),98);
__d("WorkChatMessageType",[],(,66);
__d("useMWLSSendStickerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","WorkChatMessageType","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e){var f=(j||(j=c("useReStore")))(),g=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(j,k,l){c("promiseDone")(f.runInTransaction(function(e){var f;f=d("LSThreadAttributionTypeUtil").getSource(j,(f=a)!=null?f:"unknown");return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(e),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:b,mark_read:!0,optimistic_attachment_preview:d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:(h||(h=d("I64"))).zero,preview_url:l,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:h.zero}),power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_id:void 0,reply_source_type:i.ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:i.ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:f,sticker_id:h.of_string(k)}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:g,threadKey:j,threadType:i.ofNumber(1)})},"readwrite").then(function(a){e==null?void 0:e(d("WorkChatMessageType").sticker,1,a[0])}))},[f,g,b,a,e])}g["default"]=a}),98);
__d("MWLSForwardMessage",["I64","Int64Hooks","LSFactory","LSMediaUrlAttachment","LSOptimisticSendAttachmentForwardStoredProcedure","LSOptimisticSendMessageForwardStoredProcedure","MWChatThreadId","MWPActor.react","ODS","Promise","ReQL","promiseDone","useGetForwardSource","useLSMessagingInitiatingSource","useLSMessagingSource","useMWLSSendStickerMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(){var a=(k||(k=c("useReStore")))(),e=d("MWPActor.react").useActor(),f=c("useLSMessagingInitiatingSource")(),g=c("useGetForwardSource")(),l=c("useLSMessagingSource")(),m=c("useMWLSSendStickerMessage")(l,f);return d("Int64Hooks").useCallbackInt64(function(k,l,n){if(n.type!=="sent")return;n=n.value;var o=n.timestamp,p=n.messageId,q=n.threadId;(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","send");var r=function(){return a.runInTransaction(function(a){return c("LSOptimisticSendMessageForwardStoredProcedure")(c("LSFactory")(a),{forwardedMsgId:p,forwardedMsgThreadKey:q,forwardedMsgTimestampMs:o,initiatingSource:f,senderId:e,source:g,threadKey:k,threadType:l})},"readwrite").then(function(){})};c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("messages")).getKeyRange(q,o,p)).then(function(c){if(c==null)return r();var e=c.stickerId;if(e!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(q,p)).then(function(a){a=a!=null?d("LSMediaUrlAttachment").previewUrl(a):void 0;m(k,(j||(j=d("I64"))).to_string(e),a);return(h||(h=b("Promise"))).resolve()});else return r()}),function(){return(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","success")},function(){return(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","failure")});return},[a,e,f,g,m])}function e(){var a=(k||(k=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=c("useLSMessagingInitiatingSource")(),f=c("useGetForwardSource")();return d("Int64Hooks").useMemoInt64(function(){return function(g,h,k){(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","send");var l=d("MWChatThreadId").getMessagingThreadType(g),m=d("MWChatThreadId").toThreadKey(g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendAttachmentForwardStoredProcedure")(c("LSFactory")(a),{forwardedAttachmentFbid:(j||(j=d("I64"))).of_string(h),initiatingSource:e,senderId:b,source:f,threadKey:m,threadType:l})},"readwrite"),function(){return(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","success")},}},[a,b,e,f])}g.useForwardMessage=a;g.useForwardAttachment=e}),98);
__d("MWQPLMarkers",[],(function(a,b,c,d,e,f){"use strict";a={BEFORE_CREATE_OPTIMISTIC_MESSAGE:"before_create_optimistic_message",CREATE_OPTIMISTIC_MESSAGE_SUCCESS:"create_optimistic_message_success",CREATED_THREAD_FOR_XMA_SHARE:"created_thread_for_xma_share",FAIL_FORWARDING_MESSAGE:"fail_forwarding_message",FAILED_MEDIA_MISSING_THREAD:"failed_media_missing_thread",FAILED_MEDIA_MSGID_MISSING_IN_DB:"failed_media_msgid_missing_in_db",FAILED_MEDIA_UNSUPPORTED_TYPE:"failed_media_unsupported_type",FAILED_MESSAGE_MISSING_THREAD:"failed_message_missing_thread",FAILED_MISSING_ASSOCIATED_MESSAGE_IN_DB:"failed_missing_associated_message_in_db",FAILED_MISSING_THREAD_IN_DB:"failed_missing_thread_in_db",FAILED_MISSING_THREAD_IN_WRITING_XMA:"failed_missing_thread_in_writing_xma",FAILED_MISSING_XMA_MESSAGE_IN_DB:"failed_missing_xma_message_in_db",FAILED_TO_FETCH_BLOB_FOR_XMA_SHARE:"failed_to_fetch_blob_for_xma_share",FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE:"failed_to_fetch_chat_jid_for_xma_share",FAILED_TO_FETCH_QUERY_DATA_FOR_XMA_SHARE:"failed_to_fetch_query_data_for_xma_share",FAILED_TO_FETCH_THREAD_KEY_FOR_XMA_SHARE:"failed_to_fetch_thread_key_for_xma_share",FAILED_TO_PARSE_JSON_FOR_XMA_SHARE:"failed_to_parse_json_for_xma_share",FAILED_UPLOAD_MEDIA_TO_BACKEND:"failed_upload_media_to_backend",FETCHING_DEVICES_FOR_XMA_SHARE:"fetching_devices_for_xma_share",FORWARDED_MESSAGE_WRITTEN:"forwarded_message_written",GET_EXTERNAL_LINK_RESPONSE_SUCCESS:"get_external_link_response_success",MESSAGE_ALREADY_SENT_TO_BACKEND:"message_already_sent_to_backend",MISSING_XMA_DATA:"missing_xma_data",PREVIEW_DOES_NOT_EXIST:"preview_does_not_exist",PREVIEW_FAVICON_SPEC_READY:"preview_favicon_spec_ready",RECEIVED_FAILURE_SERVER_ACK:"received_failure_server_ack",RECEIVED_MEDIA_IN_WAJOB:"received_media_in_wajob",RECEIVED_MESSAGE_IN_WAJOB:"received_message_in_wajob",RECEIVED_SUCCESSFUL_SERVER_ACK:"received_successful_server_ack",RETURN_PRIVATE_XMA_DATA:"return_private_xma_data",RETURN_PUBLIC_XMA_DATA:"return_public_xma_data",SAVED_XMA_CONTENT_IN_DB:"saved_xma_content_in_db",SAVING_XMA_UPLOAD_RESULT_IN_DB:"saving_xma_upload_result_in_db",SEND_MESSAGE_TO_BACKEND_FAILED:"send_message_to_backend_failed",START_POST_SHARING:"start_post_sharing",START_STORY_REPLY:"start_story_reply",SUCCESSFUL_MESSAGE_SENT_TO_BACKEND:"successful_message_sent_to_backend",SUCCESSFUL_UPLOAD_MEDIA_TO_BACKEND:"successful_upload_media_to_backend",UPLOADING_MEDIA_TO_BACKEND:"uploading_media_to_backend",WRITING_MEDIA_TO_DB_FAILED:"writing_media_to_db_failed",WRITING_MESSAGE_TO_DB:"writing_message_to_db",WRITING_XMA_TO_DB:"writing_xma_to_db",XMA_DATA_FETCH_BEGIN:"xma_data_fetch_begin",XMA_DATA_FETCH_SUCCESS:"xma_data_fetch_success",XMA_DATA_QUERY_BEGIN:" xma_data_query_begin",XMA_DATA_QUERY_COMPLETE:"xma_data_query_complete"};f.MESSAGE_SEND_TO_SENT=a}),66);
__d("useIsSecureMessage",["LSMessagingThreadTypeUtil","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e;e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads"),["threadType"]).getKeyRange(b.threadKey).map(},[a,b.threadKey],f.id+":36"))!=null?e:c.fallbackThreadType;if(e==null){return(c=c.fallbackIsSecure)!=null?c:!1}return d("LSMessagingThreadTypeUtil").isSecure(e)}g["default"]=a}),98);
__d("useMWV2ForwardMessage",["$InternalEnum","CometRelay","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWDbMsg","MAWThreadId","MAWVerifyThreadCutover","MWChatMessageId","MWChatThreadId","MWLSForwardMessage","MWPActor.react","MWQPLMarkers","MWSharedMsgLogUtils","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","cr:338","cr:4950","cr:6918","cr:6938","promiseDone","sendToSentQPLLogger","unrecoverableViolation","useGetForwardSource","useIsSecureMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;unction l(a,b,c){var e;return(e=d("ReQL")).firstAsync(e.mergeJoin(e.fromTableAscending(a.table("participants")).getKeyRange(b),e.fromTableAscending(a.table("contacts"))).filter()}function m(a,b){var c=b.messageId,e=b.threadKey;return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(e,c)},[a,c,e],f.id+":86")}var n=b("$InternalEnum")({SecureToOpen:"secure_to_open",OpenToOpen:"open_to_open",SecureToSecure:"secure_to_secure",OpenToSecure:"open_to_secure"});function a(a,e){var f=(i||(i=c("useReStore")))(),g=m(f,a),o=c("useIsSecureMessage")(f,a,{fallbackThreadType:e}),p=d("MWPActor.react").useActor(),q=!(j||(j=d("I64"))).equal(p,a.senderId),r=d("MWLSForwardMessage").useForwardMessage(),s=c("useGetForwardSource")(),t=d("MWChatMessageId").makeSent(j.to_string(a.threadKey),a.messageId,j.to_string(a.timestampMs)),u=d("CometRelay").useRelayEnvironment(),v=d("Int64Hooks").useCallbackInt64(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var i=d("MWChatThreadId").toThreadKey(e);e=d("MWChatThreadId").getMessagingThreadType(e);var j=(yield d("MAWVerifyThreadCutover").verifyThreadCutover((h||(h=b("Promise"))).resolve(f),i)),m=d("sendToSentQPLLogger").markSendToSentStart(),o=(yield h.all([d("MAWThreadId").isSecureThreadId(f,i),k(f,i),l(f,i,p),d("MAWThreadId").getThreadFromJid(f,i)])),r=o[0],t=o[1],u=o[2];o=o[3];var v=d("MWSharedMsgLogUtils").getMessageTypeParams();o!=null&&c("promiseDone")(d("MWSharedMsgLogUtils").getSendToSentAnnotations(o,v,s),function(a){a.string=babelHelpers["extends"]({},a.string,{attachment_type:"forward",message_type:"forward"}),d("sendToSentQPLLogger").addSendToSentAnnotations(m,a)});o=r||j;try{if(b("cr:6938")!=null&&!o){d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{forward_type:n.SecureToOpen}});yield b("cr:6938").forwardMessage(f,i,e,a,q,g,p,s);d("sendToSentQPLLogger").markSendToSentSuccess(m);return}v=d("MAWDbMsg").toMsgId(a.messageId);if(v==null)throw c("unrecoverableViolation")("Message does not have an id","messenger_web_product");if(b("cr:338")!=null){d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{forward_type:n.SecureToSecure}});if(b("cr:6918")!=null&&t!=null){b("cr:338").forwardMessage(f,i,v,s,(r=m)!=null?r:void 0);d("sendToSentQPLLogger").markSendToSentSuccess(m);return b("cr:6918")(f,t,u,d("LSMessagingThreadTypeUtil").isOneToOne(t.threadType))}b("cr:338").forwardMessage(f,i,v,s,(j=m)!=null?j:void 0);d("sendToSentQPLLogger").markSendToSentSuccess(m);return}throw c("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_product")}catch(a){d("sendToSentQPLLogger").markSendToSentPoint(m,d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAIL_FORWARDING_MESSAGE);d("sendToSentQPLLogger").markSendToSentFail(m,a);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("MW Fail forwarding a message");throw a}});return function(a){return e.apply(this,arguments)}}(),[f,p,s,a,q,g]),w=d("Int64Hooks").useCallbackInt64(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var i=d("MWChatThreadId").toThreadKey(e);e=d("MWChatThreadId").getMessagingThreadType(e);var j=(yield (h||(h=b("Promise"))).all([d("MAWThreadId").isSecureThreadId(f,i),k(f,i),l(f,i,p),d("MAWVerifyThreadCutover").verifyThreadCutover(h.resolve(f),i),d("MAWThreadId").getThreadFromJid(f,i)])),m=j[0],o=j[1],v=j[2],w=j[3];j=j[4];m=m||w;var x=d("sendToSentQPLLogger").markSendToSentStart();w=d("MWSharedMsgLogUtils").getMessageTypeParams();j!=null&&c("promiseDone")(d("MWSharedMsgLogUtils").getSendToSentAnnotations(j,w,s),function(a){a.string=babelHelpers["extends"]({},a.string,{attachment_type:"forward",message_type:"forward"}),d("sendToSentQPLLogger").addSendToSentAnnotations(x,a)});try{if(b("cr:4950")!=null&&m){d("sendToSentQPLLogger").addSendToSentAnnotations(x,{string:{forward_type:n.OpenToSecure}});if(b("cr:6918")!=null&&o!=null){b("cr:4950").forwardMessage(u,f,i,a,q,g,s,(j=x)!=null?j:void 0);d("sendToSentQPLLogger").markSendToSentSuccess(x);return b("cr:6918")(f,o,v,d("LSMessagingThreadTypeUtil").isOneToOne(o.threadType))}else{b("cr:4950").forwardMessage(u,f,i,a,q,g,s,(w=x)!=null?w:void 0);d("sendToSentQPLLogger").markSendToSentSuccess(x);return}}d("sendToSentQPLLogger").addSendToSentAnnotations(x,{string:{forward_type:n.OpenToOpen}});r(i,e,t);d("sendToSentQPLLogger").markSendToSentSuccess(x);return}catch(a){d("sendToSentQPLLogger").markSendToSentPoint(x,d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAIL_FORWARDING_MESSAGE);d("sendToSentQPLLogger").markSendToSentFail(x,a);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("MW Fail forwarding a message");throw a}});return function(a){return e.apply(this,arguments)}}(),[f,p,s,r,t,u,a,q,g]);return d("Int64Hooks").useMemoInt64([o,v,w])}g["default"]=a}),98);
__d("MWV2ForwardMessageButton.react",["fbt","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","MWChatForwardAction.react","MWChatMessageId","promiseDone","qex","react","useMWV2ForwardMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var b=a.message,e=a.threadType,f=d("LSMessagingThreadTypeUtil").isSecure(e),g=c("qex")._("205")===!0;g=f?g?"cross_transport":"secure":g?"cross_transport":"open_";var i=d("MWChatMessageId").makeSent((j||(j=d("I64"))).to_string(b.threadKey),b.messageId,j.to_string(b.timestampMs)),m=b.stickerId,n=c("useMWV2ForwardMessage")(b,e);e=!d("LSMessagingThreadTypeUtil").isSecure(e);b=d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(1),b.displayedContentTypes)&&!b.textHasLinks||d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(16384),b.displayedContentTypes)||d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(2),b.displayedContentTypes)||d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(4),b.displayedContentTypes)||d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(512),b.displayedContentTypes)||m!=null&&(j||(j=d("I64"))).equal(m,(j||(j=d("I64"))).of_string("369239263222822"))||m!=null&&(j||(j=d("I64"))).equal(m,(j||(j=d("I64"))).of_string("369239343222814"))||m!=null&&(j||(j=d("I64"))).equal(m,(j||(j=d("I64"))).of_string("369239383222810"));m=e&&!b||a.dropForwardE2eeToggle===!0;return l.jsx(c("MWChatForwardAction.react"),{dropToggle:m,forwardDialogType:g,fromSecureThread:f,label:h._("Reenviar").toString(),messageID:i,onForward:function(a){return c("promiseDone")(n(a))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXPopoverLoadingState.react",["cr:2518","react"],(,98);
__d("MWChatReactionsActionContainer.react",["JSResourceForInteraction","MWV2MessageRowIsRowFocusedContext.react","MWXLazyPopoverTrigger.react","MWXPopoverLoadingState.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useState,m={popoverLoading:{minHeight:"x1wiwyrm",minWidth:"x1q6reyq",$$css:!0}};function a(a){var b=a.align;b=b===void 0?"middle":b;var e=a.alwaysShowEmojiPicker;e=e===void 0?!1:e;var f=a.children,g=a.closeActionsMenu,h=a.disableCustomReactions;h=h===void 0?!1:h;var n=a.hasReactionsV2,o=a.isBroadcastChannel,p=a.isBroadcastThread,q=a.isSecure;q=q===void 0?!1:q;var r=a.messageID,s=a.onVisibilityChange,t=a.reactionsPopoverResource,u=a.selectedReactions,v=a.sendReaction,w=k(d("MWV2MessageRowIsRowFocusedContext.react").context);t=(a=t)!=null?a:c("JSResourceForInteraction")("MWChatReactionsMenu.react").__setRef("MWChatReactionsActionContainer.react");a=l(!1);var x=a[0],y=a[1],z=u!=null&&u.length>0&&u[0]||void 0;a=e||x;e=j(function(a){var b=z!=null&&n!==!0&&z===a;v(a,b);return g()},[z,n,v,g]);x=j(function(a){a||y(!1),s(a),w.setFocused(a)},[w,s]);return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:b==="end_"?"end":b,fallback:i.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1,xstyle:m.popoverLoading}),onVisibilityChange:x,popoverProps:{closeActionsMenu:g,disableCustomReactions:h,isBroadcastChannel:o,isBroadcastThread:p,isSecure:q,messageID:r,onClose:c("emptyFunction"),onSelect:e,selectedReactions:u,setShowEmojiPicker:y,showEmojiPicker:a},popoverResource:t,popoverType:a?"dialog":"menu",position:a?"below":"above",children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageReactionIcon.react",["fbt","MWChatColors","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.size;b=b===void 0?16:b;a=a.viewBox;a=a===void 0?"0 0 16 16":a;return k.jsxs("svg",{fill:"none",height:b,viewBox:a,width:b,xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("title",{children:h._("A\u00f1adir reacci\u00f3n")}),k.jsx("path",{className:(i||(i=c("stylex")))(d("MWChatColors").MessageActions.styles.svgFill),d:"M12.48 0.64C12.48 0.286538 12.7665 0 13.12 0C13.4735 0 13.76 0.286538 13.76 0.64V2.08C13.76 2.16837 13.8316 2.24 13.92 2.24H15.36C15.7135 2.24 16 2.52654 16 2.88C16 3.23346 15.7135 3.52 15.36 3.52H13.92C13.8316 3.52 13.76 3.59163 13.76 3.68V5.12C13.76 5.47346 13.4735 5.76 13.12 5.76C12.7665 5.76 12.48 5.47346 12.48 5.12V3.68C12.48 3.59163 12.4084 3.52 12.32 3.52H10.88C10.5265 3.52 10.24 3.23346 10.24 2.88C10.24 2.52654 10.5265 2.24 10.88 2.24H12.32C12.4084 2.24 12.48 2.16837 12.48 2.08V0.64Z"}),k.jsx("path",{className:i(d("MWChatColors").MessageActions.styles.svgFill),clipRule:"evenodd",d:"M8.96 2.42705C8.96 2.28386 8.86505 2.15735 8.726 2.12317C8.18582 1.99041 7.62113 1.92 7.04 1.92C3.15192 1.92 0 5.07192 0 8.96C0 12.8481 3.15192 16 7.04 16C10.9281 16 14.08 12.8481 14.08 8.96C14.08 8.37887 14.0096 7.81418 13.8768 7.274C13.8427 7.13495 13.7161 7.04 13.573 7.04H13.12C12.0596 7.04 11.2 6.18039 11.2 5.12C11.2 4.94327 11.0567 4.8 10.88 4.8C9.81961 4.8 8.96 3.94039 8.96 2.88V2.42705ZM4.63999 6.4C4.03999 6.4 3.67999 6.88 3.67999 7.68C3.67999 8.48 4.03999 8.96 4.63999 8.96C5.23999 8.96 5.59999 8.48 5.59999 7.68C5.59999 6.88 5.23999 6.4 4.63999 6.4ZM9.43999 6.4C8.83999 6.4 8.47999 6.88 8.47999 7.68C8.47999 8.48 8.83999 8.96 9.43999 8.96C10.04 8.96 10.4 8.48 10.4 7.68C10.4 6.88 10.04 6.4 9.43999 6.4ZM10.56 11.2C10.56 12.48 8.96 13.76 7.04 13.76C5.12 13.76 3.52 12.48 3.52 11.2C3.52 11.0233 3.66327 10.88 3.84 10.88H10.24C10.4167 10.88 10.56 11.0233 10.56 11.2Z",fillRule:"evenodd"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsMultiReactionEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMIsAnyCMThread","MWLSThread","gkx","isUnjoinedCMThread","qex"],(function(a,b,c,d,e,f,g){"use strict";b=20;function a(a){return(a=d("MWLSThread").useThread(a,function(a){if(d("isUnjoinedCMThread").isUnjoinedCMThread(a.threadType)){var b;b=(b=c("qex")._("231"))!=null?b:!1;return b&&c("gkx")("8266")}if(!d("LSThreadBitOffset").has(156,a))return!1;if(c("MWCMIsAnyCMThread")(a.threadType))return c("gkx")("8266");if(d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType))return c("gkx")("10657")}))!=null?a:!1}g.MAX_REACTION_COUNT=b;g.useIsMultiReactEnabled=a}),98);
__d("MWChatReactionsAction.react",["fbt","MWChatColors","MWChatMessageId","MWChatReactionsActionContainer.react","MWMessageReactionIcon.react","MWV2MessageRowActionsContext.react","MWXPressable.react","MWXTooltip.react","ODS","emptyFunction","react","stylex","useIsMultiReactionEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useCallback,n=b.useEffect,o=l.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[l.jsx("circle",{className:(i||(i=c("stylex")))(d("MWChatColors").MessageActions.styles.svgStroke),cx:"11",cy:"11",r:"7",strokeWidth:"1.5px"}),l.jsx("path",{className:i(d("MWChatColors").MessageActions.styles.svgStroke),d:"M8,13Q11,16,14,13",strokeWidth:"1.5px"}),l.jsx("circle",{className:i(d("MWChatColors").MessageActions.styles.svgFill),cx:"9",cy:"10",r:"1.2"}),l.jsx("circle",{className:i(d("MWChatColors").MessageActions.styles.svgFill),cx:"13",cy:"10",r:"1.2"})]});function a(a){var b=h._("Reaccionar"),e=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),f=e.openReactionsMenu,g=m(function(){f.current=c("emptyFunction");return},[f]);n(function(){return g},[g]);e=a.messageID;e=d("MWChatMessageId").getThreadId(e);var k=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(e);return l.jsx(c("MWChatReactionsActionContainer.react"),babelHelpers["extends"]({},a,{children:function(a,e,g,h,m,n){g=f.current=g;return l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:b,children:l.jsx(c("MWXPressable.react"),{"aria-label":b,expanding:!0,onHoverIn:h,onHoverOut:m,onPress:g,onPressIn:n,overlayDisabled:!0,ref:a,role:"button",testid:void 0,children:l.jsx("div",{className:(i||(i=c("stylex")))(d("MWChatColors").MessageActions.styles.action),children:l.jsx("div",{className:i(d("MWChatColors").MessageActions.styles.icon),children:k?l.jsx(c("MWMessageReactionIcon.react"),{size:22,viewBox:"-4 -2 22 22"}):o})})})})}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSDeleteReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(8).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.actorId,a[2])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticUpsertReaction",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTask","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],void 0)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[0]=d[18])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("timestamp_ms",a[1]),d[2].set("message_id",a[2]),d[2].set("actor_id",a[3]),d[2].set("reaction",a[4]),d[2].set("reaction_style",void 0),d[2].set("sync_group",d[0]),d[3]=c.createArray(),d[4]=(d[3].push("reaction"),d[3]),d[5]=d[2].get("message_id"),d[2],d[6]=(d[3].push(d[5]),d[3]),d[7]=c.toJSON(d[3]),c.storedProcedure(b("LSCancelTaskByQueueName"),d[7],c.i64.cast([0,29]))},function(e){return a[4]===""?c.sequence([function(d){return c.storedProcedure(b("LSDeleteReaction"),a[0],a[2],a[3])},function(a){return d[8]=void 0}]):c.sequence([function(e){return a[4]==="\u2764\ufe0f"||a[4]==="\u2764\ufe0f"?d[18]="\u2764":d[18]=a[4],c.storedProcedure(b("LSUpsertReaction"),a[0],a[1],a[2],a[3],d[18],c.i64.cast([0,20]),void 0)},)},function(e){return d[11]=new c.Map(),d[11].set("thread_key",a[0]),d[11].set("timestamp_ms",a[1]),d[11].set("message_id",a[2]),d[11].set("actor_id",a[3]),d[11].set("reaction",a[4]),d[11].set("reaction_style",void 0),d[11].set("sync_group",d[9]),d[11].set("send_attribution",a[5]),d[12]=c.createArray(),d[13]=(d[12].push("reaction"),d[12]),d[14]=d[11].get("message_id"),d[11],d[15]=(d[12].push(d[14]),d[12]),d[16]=c.toJSON(d[12]),d[17]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewTask"),d[16],c.i64.cast([0,29]),d[17],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUpsertReactionStoredProcedure",["LSOptimisticUpsertReaction"],(,98);
__d("LSUpdateOrInsertReactionV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(226).fetch([[[a[0],a[1],a[2]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(12).fetch([[[a[1]]],"messageId"]).next().then(function(d,e){var c=d.done;d=d.value;return c?0:(e=d.item,b.sequence([function(c){return b.forEach(b.filter(b.db.table(226).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.reactionFbid,a[2])&&b.i64.lt(c.authorityLevel,a[5])}),function(a){return a["delete"]()})},function(c){return b.db.table(226).add({messageId:a[1],threadKey:a[0],reactionFbid:a[2],messageTimestamp:e.timestampMs,authorityLevel:a[5],count:a[4],viewerIsReactor:a[6],viewerReactionTimestampMs:a[7],lastUpdatedTimestampMs:a[8]})}]))}):(e=d.item,c[2]=e.lastUpdatedTimestampMs,c[1]=e.authorityLevel,b.i64.eq(a[5],b.i64.cast([0,20]))||b.i64.eq(c[1],b.i64.cast([0,80]))&&b.i64.eq(a[5],b.i64.cast([0,80]))||b.i64.eq(c[1],b.i64.cast([0,20]))&&b.i64.eq(a[5],b.i64.cast([0,80]))&&b.i64.le(b.i64.add(c[2],b.i64.cast([0,2e3])),a[8])||b.i64.eq(c[1],b.i64.cast([0,20]))&&b.i64.eq(a[5],b.i64.cast([0,60]))||b.i64.eq(c[1],b.i64.cast([0,60]))&&b.i64.eq(a[5],b.i64.cast([0,80]))&&b.i64.le(c[2],a[8])?c[3]=!0:c[3]=!1,c[3]?b.db.table(226).put({messageId:a[1],threadKey:a[0],reactionFbid:a[2],messageTimestamp:e.messageTimestamp,reactionLiteral:a[3],count:a[4],authorityLevel:a[5],viewerIsReactor:a[6],viewerReactionTimestampMs:b.i64.cast([0,0]),lastUpdatedTimestampMs:a[8]}):b.resolve())})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSOptimisticUpsertReactionV2",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTaskWithExtraOperations","LSUpdateOrInsertReactionV2","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.i64.eq(a[8],c.i64.cast([0,2]))?(d[12]=new c.Map(),d[12].set("thread_id",a[1]),d[12].set("message_id",a[2]),d[12].set("message_timestamp",a[3]),d[12].set("actor_id",a[0]),d[12].set("reaction_fbid",a[4]),d[12].set("reaction_style",a[7]),d[12].set("operation",a[8]),d[12].set("viewer_is_reactor",a[6]),d[12].set("current_count",a[5]),d[12].set("reaction_literal",a[9]),d[13]=c.createArray(),d[14]=(d[13].push("reaction_v2"),d[13]),d[15]=d[12].get("message_id"),d[12],d[16]=(d[13].push(d[15]),d[13]),d[17]=c.toJSON(d[13]),c.storedProcedure(b("LSCancelTaskByQueueName"),d[17],c.i64.cast([0,604]))):c.resolve()},function(e){return[c.i64.cast([0,2]),c.i64.cast([0,3])].some(function(b){return c.i64.eq(a[8],b)})?d[0]=c.i64.add(a[5],c.i64.cast([-1,4294967295])):d[0]=c.i64.add(a[5],c.i64.cast([0,1])),[c.i64.cast([0,2]),c.i64.cast([0,3])].some(function(b){return c.i64.eq(a[8],b)})?d[1]=!1:d[1]=!0,d[2]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSUpdateOrInsertReactionV2"),a[1],a[2],a[4],a[9],d[0],c.i64.cast([0,20]),d[1],c.i64.cast([0,0]),d[2])},function(e){return c.i64.neq(d[3],c.i64.cast([0,23]))?[c.i64.cast([0,2]),c.i64.cast([0,3])].some(?c.i64.eq(a[8],c.i64.cast([0,2]))?c.storedProcedure(b("LSDeleteReaction"),a[1],a[2],a[0]):c.sequence([function(b){return c.filter(c.db.table(8).fetch([[[a[1],a[2],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[2]&&c.i64.eq(b.actorId,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[12]=void 0:(b=a.item,d[12]=b.reaction)})},function(e){return a[9]!==void 0?(a[9]==="\u2764\ufe0f"||a[9]==="\u2764\ufe0f"?d[14]="\u2764":d[14]=a[9],d[14]===d[12]?c.storedProcedure(b("LSDeleteReaction"),a[1],a[2],a[0]):c.resolve()):c.resolve()}]):a[9]!==void 0?(a[9]==="\u2764\ufe0f"||a[9]==="\u2764\ufe0f"?d[12]="\u2764":d[12]=a[9],d[13]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSUpsertReaction"),a[1],a[3],a[2],a[0],d[12],c.i64.cast([0,20]),d[13])):c.resolve():c.resolve()},function(e){return d[5]=new c.Map(),d[5].set("thread_id",a[1]),d[5].set("message_id",a[2]),d[5].set("message_timestamp",a[3]),d[5].set("actor_id",a[0]),d[5].set("reaction_fbid",a[4]),d[5].set("reaction_style",a[7]),d[5].set("current_count",a[5]),d[5].set("viewer_is_reactor",a[6]),d[5].set("operation",a[8]),d[5].set("reaction_literal",a[9]),d[5].set("entry_point",void 0),d[6]=c.createArray(),d[7]=(d[6].push("reaction_v2"),d[6]),d[8]=d[5].get("message_id"),d[5],d[9]=(d[6].push(d[8]),d[6]),d[10]=c.toJSON(d[6]),d[11]=c.toJSON(d[5]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),d[10],c.i64.cast([0,604]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUpsertReactionV2StoredProcedure",["LSOptimisticUpsertReactionV2"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actorId;d[1]=b.threadId;d[2]=b.messageId;d[3]=b.messageTimestamp;d[4]=b.reactionFbid;d[5]=b.currentCount;d[6]=b.viewerIsReactor;d[7]=b.reactionStyle;d[8]=b.operation;d[9]=b.reactionLiteral;return c("LSOptimisticUpsertReactionV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MessageReactionOperation",[],(,66);
__d("MessageReactionStyle",[],(,66);
__d("useIsReactionsV2Enabled",["LSThreadBitOffset","MWLSThread","isUnjoinedCMThread","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return h(a)}))!=null?a:!1}function h(a){var b;if(d("LSThreadBitOffset").has(139,a))return!0;b=(b=c("qex")._("231"))!=null?b:!1;return b&&d("isUnjoinedCMThread").isUnjoinedCMThread(a.threadType)?!0:!1}function b(a){var b;b=(b=c("qex")._("231"))!=null?b:!1;return b&&d("isUnjoinedCMThread").isUnjoinedCMThread(a)}g.useIsReactionsV2Enabled=a;g.isReactionsV2Enabled=h;g.isReactionsV2ReadOnly=b}),98);
__d("useMWPSendOrUnsendReaction",["FBLogger","I64","Int64Hooks","LSFactory","LSIntEnum","LSOptimisticUpsertReactionStoredProcedure","LSOptimisticUpsertReactionV2StoredProcedure","MWPActor.react","MessageReactionOperation","MessageReactionStyle","ReQL","asyncToGeneratorRuntime","promiseDone","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e,f,g,h){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2StoredProcedure")(c("LSFactory")(a),{actorId:b,currentCount:g,messageId:e.messageId,messageTimestamp:e.timestampMs,operation:(i||(i=d("LSIntEnum"))).ofNumber(c("MessageReactionOperation").ADD),reactionFbid:f,reactionLiteral:h,reactionStyle:i.ofNumber(c("MessageReactionStyle").BASIC_SUPER_REACT_ANIMATION),threadId:e.threadKey,viewerIsReactor:!0})},"readwrite"))}unction m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,j){yield a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2StoredProcedure")(c("LSFactory")(a),{actorId:b,currentCount:f,messageId:e.messageId,messageTimestamp:e.timestampMs,operation:(i||(i=d("LSIntEnum"))).ofNumber(j?c("MessageReactionOperation").REMOVE_MULTI_REACT:c("MessageReactionOperation").REMOVE),reactionFbid:g,reactionLiteral:h,reactionStyle:i.ofNumber(c("MessageReactionStyle").BASIC_SUPER_REACT_ANIMATION),threadId:e.threadKey,viewerIsReactor:!1})},"readwrite")});return m.apply(this,arguments)}function n(a,b,e,f,g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("reactions_v2")).getKeyRange(e.threadKey,e.messageId,f)).then(function(c){c!=null?k(a,b,e,f,c.count,g):k(a,b,e,f,(j||(j=d("I64"))).zero,g)}))}function a(a){var e=(h||(h=c("useReStore")))(),f=d("MWPActor.react").useActor(),g=c("useMWLSDefaultThreadSource")(),i=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(a.threadKey);return d("Int64Hooks").useCallbackInt64(function(h){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a.threadKey)));b=b?d("useIsReactionsV2Enabled").isReactionsV2Enabled(b):!1;if(b){var k=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("reaction_v2_types")).filter());if(k!=null){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return(!i||(j||(j=d("I64"))).equal(a.reactionFbid,k.reactionFbid))&&a.viewerIsReactor})));if(b==null)return n(e,f,a,k.reactionFbid,h);var m=(j||(j=d("I64"))).equal(b.reactionFbid,k.reactionFbid);(!i||m)&&(yield l(e,f,a,b.count,b.reactionFbid,h,i));m||(yield n(e,f,a,k.reactionFbid,h))}else c("FBLogger")("messenger_web_product").warn("Reactions v2: trying to send reaction that is not in reaction_v2_types table");return}return e.runInTransaction(function(b){return c("LSOptimisticUpsertReactionStoredProcedure")(c("LSFactory")(b),{actorId:f,messageId:a.messageId,reaction:h,sendAttribution:g(a.threadKey),threadKey:a.threadKey,timestampMs:(j||(j=d("I64"))).of_float(Date.now())})},"readwrite")})())},[e,a,f,i])}g["default"]=a}),98);
__d("MAWPSendOrRemoveReaction.react",["I64","Int64Hooks","MWPActor.react","cr:3461","promiseDone","requireDeferred","useIsSecureMessage","useMWPSendOrUnsendReaction","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MWLogMessageAction").__setRef("MAWPSendOrRemoveReaction.react");function a(a,e,f){var g,k=(i||(i=c("useReStore")))(),l=d("MWPActor.react").useActor(),m=(g=b("cr:3461")==null?void 0:b("cr:3461").useSendOrRemoveReaction(a.threadKey,(h||(h=d("I64"))).to_string(a.senderId)))!=null?g:null,n=c("useIsSecureMessage")(k,a,{fallbackIsSecure:e}),o=c("useMWPSendOrUnsendReaction")(a);return d("Int64Hooks").useMemoInt64(function(){return function(b,d,e){if(n&&m!==null)m(b,d);else{o((b=d)!=null?b:"")}j.onReady(function(b){return c("promiseDone")(b.log(k,a.messageId,a.threadKey,f,e,void 0,void 0,void 0,a.senderId,void 0,l))})}},[n,m,o,k,a.messageId,a.threadKey,a.senderId,f,l])}g.useSendOrRemoveReaction=a}),98);
__d("MWV2MessageReactionHooks",["EmojiRenderer","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?"":b[0].join("")}).filter(}a={useSelectedReaction:function(a){var b=(i||(i=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(a.threadKey,a.messageId,e)},[e,b,a.messageId,a.threadKey],f.id+":34");if(g!=null)return g.reaction},useSelectedReactionsV2:function(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor&&(h||(h=d("I64"))).gt(a.count,(h||(h=d("I64"))).zero)}).map(function(a){a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(a.reactionFbid),f.id+":59");return[a==null?void 0:a.reactionLiteral,a==null?void 0:a.reactionLiteralVariant16].filter(Boolean)})},[b,a.threadKey,a.messageId],f.id+":50").flat();e=j(e);return e},useSelectedReactionV2:function(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor})},[b,a.messageId,a.threadKey],f.id+":78");return d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(e.reactionFbid).map(function(a){return a.reactionLiteral}):d("ReQL").empty()},[b,e],f.id+":86")}};g.MWV2MessageReactionHooks=a}),98);
__d("useMWChatReactionsActionContainerProps.react",["I64","LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWCMThreadTypes.react","MWChatMessageId","MWV2MessageReactionHooks","react","useIsReactionsV2Enabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useCallback,k=b.useMemo;function a(a,b,c,e,f,g){var h=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(a),l=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReactionsV2(a),m=d("LSMessagingThreadTypeUtil").isSecure(c),n=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(a,m,"reaction_tray"),o=d("MWCMThreadTypes.react").isBroadcastThread(c);c=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(c);var p=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey),q=(i||(i=d("I64"))).to_string(a.threadKey),r=i.to_string(a.timestampMs),s=k(function(){return d("MWChatMessageId").makeSent(q,a.messageId,r)},[q,a.messageId,r]),t=j(function(b,c){e&&e();return n(a.messageId,c?void 0:b,c?"remove_reaction":"reaction")},[e,n,a.messageId]),u=p&&o;return{closeActionsMenu:b,disableCustomReactions:u,hasReactionsV2:p,isBroadcastChannel:c,isBroadcastThread:o,isSecure:m,messageID:s,onVisibilityChange:f,reactionsPopoverResource:g,selectedReactions:p?(b=l)!=null?b:void 0:h!=null?[h]:void 0,sendReaction:t}}g["default"]=a}),98);
__d("useMWV2ShouldDisableReactions.react",["LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","isFeatureLimitEnabled","useIsReactionsV2Enabled","useIsReadOnlyFeatureLimitedWithThreadType","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("LSMessagingThreadTypeUtil").isSecure(a);a=c("useIsReadOnlyFeatureLimitedWithThreadType")(a);e=(!e||c("isFeatureLimitEnabled")())&&a;a=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(b);var g=(h||(h=c("useReStore")))();b=d("ReQLSuspense").useFirst([g],f.id+":38")!=null;return e||a&&!b}g["default"]=a}),98);
__d("MWV2MessageReactionButton.react",["MWChatReactionsAction.react","react","useMWChatReactionsActionContainerProps.react","useMWV2ShouldDisableReactions.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.closeActionsMenu,d=a.message,e=a.onReactionsSendLogger,f=a.reactionsPopoverResource,g=a.setReactionsMenuOpen;a=a.threadType;var h=c("useMWV2ShouldDisableReactions.react")(a,d.threadKey);d=c("useMWChatReactionsActionContainerProps.react")(d,b,a,e,g,f);return h?null:i.jsx(c("MWChatReactionsAction.react"),babelHelpers["extends"]({},d))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2OneToOneThreadBlockedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));c=h;e=c.createContext;var i=c.createElement,j=c.useContext,k=e(!1);function a(){return j(k)}.displayName=b.name+" [from "+f.id+"]";g.useIsBlocked=a;g.MWV2OneToOneThreadBlockedContext=b}),98);
__d("MDSReplyActionSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("svg",{height:"22px",viewBox:"1 1 21 21",width:"22px",children:i.jsx("g",{className:"x148u3ch",fillRule:"evenodd",strokeWidth:"1",children:i.jsx("path",{d:"M10.8932368,14.7625445 C10.8932368,15.535432 10.0849567,15.996442 9.48116675,15.5677995 L4.03193175,11.696707 C3.49257425,11.313742 3.49287675,10.4694645 4.03193175,10.0864995 L9.48116675,6.2157095 C10.0849567,5.7867645 10.8932368,6.248077 10.8932368,7.020662 L10.8938418,9.0755445 C15.2129368,9.0755445 18.1517243,11.027577 18.1523293,15.7226795 C18.1523293,16.0820495 17.9036743,16.3349395 17.5273643,16.3349395 C17.2487618,16.3349395 17.0164418,16.1746145 16.8527893,15.680027 C16.1588543,13.584307 14.1063918,12.7049395 10.8938418,12.7049395 L10.8932368,14.7625445 Z"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageListIsRowModalContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=d(c("emptyFunction"));.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWV2MessageListIsRowModalContext=k;g.MWV2MessageListIsRowModalContextProvider=a;g.useMWV2MessageListIsRowModal=b}),98);
__d("MWV2ReplyButton.react",["fbt","MAWEditMessageContext.react","MDSReplyActionSvgIcon.react","MWPReplyContext.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWXPressable.react","MWXTooltip.react","emptyFunction","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,m=b.useEffect;function a(a){var b=a.message;a=h._("Responder");var e=l(d("MWPReplyContext.react").MWPReplyContext),f=e.setReply;e=l(d("MAWEditMessageContext.react").Context);var g=e.editMessageData,i=e.setEditMessageData,n=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),o=function(){g!=null&&i(null),f({messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey),n("")};e=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var p=e.replyToMessage;p.current=o;var q=k(function(){if(c("gkx")("3417")){p.current=c("emptyFunction");return}},[p]);m(function(){return q},[q]);return j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:j.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:j.jsx(c("MWXPressable.react"),{"aria-label":a,expanding:!0,onPress:function(){return o()},overlayDisabled:!0,testid:void 0,children:j.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:j.jsx(c("MDSReplyActionSvgIcon.react"),{})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMailboxAIBotFeedbackSubmissionStatus",[],(,66);
__d("useGenAIFeedbackSubmissionStatus",["I64","LSIntEnum","LSMailboxAIBotFeedbackSubmissionStatus","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){var e;return d("ReQL").fromTableDescending(b.table("ai_bot_feedback_submission_status")).getKeyRange((e=a)!=null?e:"").filter(.map(},[b,a],f.id+":25");return e}g["default"]=a}),98);
__d("useIsGenAiFeedbackEnabled",["I64","LSContactTypeExact","LSIntEnum","MWPContactContext.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("MWPContactContext.react").useMWPContactStableContext();b=b.contact;if(a==null)return!1;a=c("gkx")("10831");return!a?!1:b!=null&&(h||(h=d("I64"))).equal(b.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT))}g["default"]=a}),98);
__d("useMWHasForwardAction",["I64","LSAuthorityLevel","LSBitFlag","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MAWMsg","MWCMIsAnyCMThread","MWCMIsSubthreadContext.react","MWPThreadCapabilitiesContext","MWV2OneToOneThreadBlockedContext.react","MessagingAttachmentType","gkx","isFeatureLimitEnabled","useIsReadOnlyFeatureLimitedWithThreadType","useMWGetOtherUserContact","useMWIsContactRestricted"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f){f===void 0&&(f=!1);var g=d("MWCMIsSubthreadContext.react").useIsSubthreadContext();g=g.isSubthread;g=g&&!d("LSMessagingThreadTypeUtil").isCMSubthread(a);var j=d("LSMessagingThreadTypeUtil").isSecure(a),k=b.ephemeralDurationInSec;k=k!=null?(h||(h=d("I64"))).gt(k,(h||(h=d("I64"))).zero):!1;var l=c("useIsReadOnlyFeatureLimitedWithThreadType")(a)&&(!j||c("isFeatureLimitEnabled")()),m=(h||(h=d("I64"))).equal(b.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(4096)),n=h.equal(b.displayedContentTypes,i.ofNumber(64)),o=d("MWV2OneToOneThreadBlockedContext.react").useIsBlocked(),p=c("useMWGetOtherUserContact")(b.threadKey,a,d("LSContactBitOffset").contactCapabilityFields);p=c("useMWIsContactRestricted")(p);a=c("MWCMIsAnyCMThread")(a)&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4));var q=d("LSBitFlag").has(i.ofNumber(2),b.displayedContentTypes),r=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();r=r.messageForwardEnabled;j=(j?!k&&!m&&!(n&&!c("gkx")("9045")):!0)&&c("gkx")("1844772")&&!g&&!o&&!p&&!l&&!b.isUnsent&&!a&&!d("MAWMsg").isPlaceholder(b)&&r&&!f&&(h||(h=d("I64"))).gt(b.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&(e!=null&&(h||(h=d("I64"))).equal(e.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))&&(e.attachmentCta1Id!=null||e.attachmentCta2Id!=null||e.attachmentCta3Id!=null||e.defaultCtaId!=null)?e.isSharable:!0);k=q&&j;return{hasForwardAction:j,shouldShowForwardAction:k}}g["default"]=a}),98);
__d("useMWV2MessageForwardAction",["I64","LSBitFlag","LSIntEnum","MWChatMessageId","MWV2LogMessageClick","MWV2MessageRowIsRowFocusedContext.react","gkx","promiseDone","qex","react","useMWChatForward","useMWV2ForwardMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useContext;function a(a,b,e){var f=(h||(h=c("useReStore")))(),g=c("gkx")("1224637"),k=!g&&a;g=!g&&c("qex")._("205")===!0;g=k?g?"cross_transport":"secure":g?"cross_transport":"open_";var n=d("MWChatMessageId").makeSent((i||(i=d("I64"))).to_string(b.threadKey),b.messageId,i.to_string(b.timestampMs)),o=c("useMWV2ForwardMessage")(b,e);e=m(d("MWV2MessageRowIsRowFocusedContext.react").context);var p=e.setFocused,q=e.setIsDialogOpened;e=b.stickerId;a=!a;e=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1),b.displayedContentTypes)&&!b.textHasLinks||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(16384),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(2),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(4),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(512),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),b.displayedContentTypes)||e!=null&&(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).of_string("369239263222822"))||e!=null&&(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).of_string("369239343222814"))||e!=null&&(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).of_string("369239383222810"));var r=c("useMWChatForward")({dropToggle:a&&!e,forwardDialogType:g,fromSecureThread:k,messageID:n,onClose:l(function(){q(function(){return!1}),p(function(){return!0})},[p,q]),onSend:l([o])});return function(){d("MWV2LogMessageClick").log(f,b,44),r!=null&&(q(function(){return!0}),r.onClick())}}g["default"]=a}),98);
__d("useShowPersistentGenAIFeedbackButtons",["ReQL","ReQLSuspense","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=c("useReStore")))(),g=c("useIsGenAiFeedbackEnabled")(b),i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(e.table("messages")).getKeyRange(a).filter(},[e,a],f.id+":40"),j=c("useGenAIFeedbackSubmissionStatus")(b);return g&&(i==null?void 0:i.botResponseId)===b&&j==null}g["default"]=a}),98);
__d("MWMessageRowActions.react",["$InternalEnum","CometErrorBoundary.react","I64","LSBitFlag","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMIsAnyCMThread","MWCMIsSubthreadContext.react","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseMessageListRowActions.react","MWPThreadCapabilitiesContext","MWV2ContextualActionsButton.react","MWV2ForwardMessageButton.react","MWV2MessageReactionButton.react","MWV2MessageRowActionsContext.react","MWV2OneToOneThreadBlockedContext.react","MWV2ReplyButton.react","MWXTooltipGroup.react","ReQL","ReQLSuspense","cr:1669","cr:1670","cr:6325","cr:7122","emptyFunction","gkx","isFeatureLimitEnabled","qex","react","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useIsReadOnlyFeatureLimitedWithThreadType","useIsSecureMessage","useMWGetOtherUserContact","useMWHasForwardAction","useMWIsContactRestricted","useMWV2MessageForwardAction","useReStore","useShowPersistentGenAIFeedbackButtons"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useEffect,o=e.useState,p={shrinkSpaceForFeedbackActions:{maxWidth:"x17jmlyi",$$css:!0}},q=b("$InternalEnum").Mirrored(["AI_STICKERS"]);function r(a){var e,g=a.canRemoveMessageGlobally,k=a.closeActionsMenu,o=a.dropForwardE2eeToggle,p=a.extraActions,r=a.interactedWith,s=a.learnMoreOnMessageRemove,t=a.message,u=a.onReactionsSendLogger,v=a.onRemoveMessageLogger,w=a.outgoing,x=a.reactionsPopoverResource,y=a.removeMessageDialogTitle,z=a.setMoreMenuOpen,A=a.setReactionsMenuOpen,B=a.shouldHideForwardOption,C=a.shouldHideHoverMenuReact;a=a.threadType;var D=d("MWCMIsSubthreadContext.react").useIsSubthreadContext();D=D.isSubthread;var E=d("MWV2OneToOneThreadBlockedContext.react").useIsBlocked(),F=(h||(h=c("useReStore")))();D=D&&t.subthreadKey!=null;var G=c("useMWGetOtherUserContact")(t.threadKey,a,d("LSContactBitOffset").contactCapabilityFields);G=c("useMWIsContactRestricted")(G);var H=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),I=d("LSMessagingThreadTypeUtil").isSecure(a),J=c("useIsSecureMessage")(F,t,{fallbackThreadType:a});J=I&&!J;var K=!(i||(i=d("I64"))).equal(t.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(1)),L=c("MWCMIsAnyCMThread")(a)&&(i||(i=d("I64"))).equal(t.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4)),M=d("ReQLSuspense").useFirst(function(){return K?d("ReQL").fromTableAscending(F.table("attachments")).getKeyRange(t.threadKey,t.messageId):d("ReQL").empty()},[F,t.messageId,t.threadKey,K],f.id+":134");e=i.equal((e=t.displayedContentTypes)!=null?e:(i||(i=d("I64"))).zero,j.ofNumber(128));var N=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),O=N.isPaused,P=N.reactEnabled,Q=N.reactionsV2WriteEnabled,R=N.replyEnabled;N=N.subThreadCreationEnabled;var S=(M==null?void 0:M.xmaLayoutType)!=null&&(i||(i=d("I64"))).equal(M.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT)),T=(M==null?void 0:M.mustacheText)!=null&&t.stickerId!=null;T=T?q.AI_STICKERS:null;S=c("gkx")("8539")&&!S&&!t.isUnsent||!K||e;e=c("useMWHasForwardAction")(a,t,M,B);B=e.hasForwardAction;e=e.shouldShowForwardAction;var U=c("useIsReadOnlyFeatureLimitedWithThreadType")(a)&&(!I||c("isFeatureLimitEnabled")());R=!E&&!G&&!L&&R&&!t.isUnsent&&!D&&!U&&!J;U=!E&&!G&&!t.isUnsent&&!L&&(P||Q)&&(I?c("qex")._("1525")===!0:!0);J=c("useIsGenAiFeedbackEnabled")(t.botResponseId);E=c("useGenAIFeedbackSubmissionStatus")(t.botResponseId);G=J&&E==null;L=c("useShowPersistentGenAIFeedbackButtons")(t.threadKey,t.botResponseId);P=L?!1:G;Q=J&&E!=null;J=R&&!e&&r&&!L&&!P;E=r&&U&&!C;U=E&&!L&&!P;C=E&&G;L=d("MWCMThreadTypes.react").isJoinedCMThread(a)&&!O&&N&&!D&&S;E=r&&L&&H==="Inbox";G=I&&(i||(i=d("I64"))).equal(t.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(5));O=c("useMWV2MessageForwardAction")(I,t,a);N=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var V=N.forwardMessage;B&&(V.current=O);var W=m(function(){if(c("gkx")("3417")){V.current=c("emptyFunction");return}},[V]);n(function(){return W},[W]);return l.jsxs(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:w,children:[e?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("MWV2ForwardMessageButton.react"),{dropForwardE2eeToggle:o,message:t,threadType:a})}):null,U?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("MWV2MessageReactionButton.react"),{closeActionsMenu:k,message:t,onReactionsSendLogger:u,reactionsPopoverResource:x,setReactionsMenuOpen:A,threadType:a})}):null,b("cr:7122")!=null&&G?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(b("cr:7122"),{message:t})}):null,J?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("MWV2ReplyButton.react"),{message:t})}):null,E&&b("cr:6325")!=null?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(b("cr:6325"),{message:t})}):null,P&&b("cr:1670")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(b("cr:1670"),{message:t})}):null,P&&b("cr:1669")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(b("cr:1669"),{message:t})}):null,r?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("MWV2ContextualActionsButton.react"),{attachment:M,canRemoveMessageGlobally:g,closeActionsMenu:k,extraActions:p,isSubthreadParentMessage:D,learnMoreDialogType:T,learnMoreOnMessageRemove:s,message:t,onRemoveMessageLogger:v,removeMessageDialogTitle:y,setMoreMenuOpen:z,showCreateSubthread:L&&!E,showFeedbackOptionsInContextualMenu:Q,showForwardActionInContextualMenu:!e&&B,showLearnMoreInContextualMenu:T!==null,showReactionInContextualMenu:C,showReplyActionInContextualMenu:!J&&R,threadType:a})}):null]})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.ariaHidden,e=a.canRemoveMessageGlobally,f=a.dropForwardE2eeToggle,g=a.extraActions,h=a.focused,i=a.hasReactions,k=a.hovered,m=a.learnMoreOnMessageRemove,n=a.message,q=a.onReactionsSendLogger,s=a.onRemoveMessageLogger,t=a.outgoing,u=a.reactionsPopoverResource,v=a.removeMessageDialogTitle,w=a.shouldHideForwardOption;w=w===void 0?!1:w;var x=a.shouldHideHoverMenuReact;x=x===void 0?!1:x;var y=a.showPersistentGenAiFeedbackActionButtons;y=y===void 0?!1:y;a=a.threadType;var z=o(!1),A=z[0];z=z[1];var B=o(!1),C=B[0];B=B[1];var D=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(2),n.displayedContentTypes);k=k||h||C||A;return l.jsx(c("CometErrorBoundary.react"),{fallback:children:l.jsx(c("MWXTooltipGroup.react"),{children:l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:(h=b)!=null?h:!1,hasReactions:i,outgoing:t,xstyle:y?p.shrinkSpaceForFeedbackActions:void 0,children:k||D?l.jsx(r,{canRemoveMessageGlobally:(C=e)!=null?C:!0,closeActionsMenu:c("emptyFunction"),dropForwardE2eeToggle:f,extraActions:(A=g)!=null?A:null,interactedWith:k,learnMoreOnMessageRemove:m,message:n,onReactionsSendLogger:q,onRemoveMessageLogger:s,outgoing:t,reactionsPopoverResource:u,removeMessageDialogTitle:v,setMoreMenuOpen:B,setReactionsMenuOpen:z,shouldHideForwardOption:w,shouldHideHoverMenuReact:x,threadType:a}):null})})})}a.displayName=a.name+" [from "+f.id+"]";g.LearnMoreDialogType=q;g.MWMessageRowActions=a}),98);
__d("MWMessageDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=a.children;a=a.value;a=a===void 0?"standard":a;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWMessageDisplayContextProvider=a;g.useMWMessageDisplayContext=b}),98);
__d("MWCMBotIcons.react",["ix","cr:2344","cr:4919","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){if(b("cr:4919")!=null)return j.jsx("span",{className:"x1n2onr6 x1atx4j1",children:j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"4 4 24 24"})});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}a.displayName=a.name+" [from "+f.id+"]";function c(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"2 4 24 24"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}c.displayName=c.name+" [from "+f.id+"]";function e(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:24,viewBox:"4 4 24 24"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("621884"),20)}):null}e.displayName=e.name+" [from "+f.id+"]";function k(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"primary",inline:!1,size:28,viewBox:"-1 -1 32 32"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"primary",icon:d("fbicon")._(h("621884"),20)}):null}k.displayName=k.name+" [from "+f.id+"]";g.BadgeIcon=a;g.WelcomeCardBadgeIcon=c;g.ProfileCardBadgeIcon=e;g.EntryPointIcon=k}),98);
__d("MWGroupUpdatesVerifiedIcon.react",["ix","CometIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSIssueCommunityAdminModerationActionsFetchImplWeb",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueCommunityAdminModerationActionsFetchProxy",["LSIssueCommunityAdminModerationActionsFetchImplWeb"],(,98);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueCommunityAdminModerationActionsFetchProxy"],(,34);
__d("LSIssueCommunityAdminModerationActionsFetchStoredProcedure",["LSIssueCommunityAdminModerationActionsFetch"],(,98);
__d("MessagingSpecialThreadRole",[],(,66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b==null?!1:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.threadRoles)}g.has=a}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","MWChatTextTransform","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!=null)if(b!=null)return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms})," ",b]});else return i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement"],(,98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=a.shouldMute,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":32");a=l(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,f=e?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:b.threadKey,userActionType:f})},"readwrite"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},)}e.exports=a}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSUpdateBotSubscription"],(,98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,f=(h||(h=c("useReStore")))(),g=(i||(i=d("I64"))).to_string(b.threadKey),k=m(function(){var a=e?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(f.runInTransaction("readwrite"))},[f,g,e]);a=b.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return k()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?i.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:i.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})}):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);k=function(){return a};return a}var l=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("mi_act_mapping_table")).getKeyRange(b.threadKey).map(},[e,b.threadKey],f.id+":39");a=a!=null?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b.threadKey)),d("MWInboxRouteBuilder").buildHomeURL());var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":64");g=g==null?void 0:g.title;a=g!=null?l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{href:a,target:"_self",children:g})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react"],(,98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","I64","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),n=h._("M\u00e1s informaci\u00f3n");function a(a){var b,e=a.message,g=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[g,e],f.id+":52");b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var h={},k=c("useMWXLazyDialog")(m),o=k[0];k=a=a==null?void 0:a.title;b=a!=null?c("CurrentEnvironment").instagramdotcom?l.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:n}):l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{onClick:k,target:"_blank",children:a})}):null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1o583il x1rg5ohu x177n6bx x1n2onr6",children:l.jsx(c("MDSLockSvgIcon.react"),{color:"tertiary",size:16})}),l.jsx(c("MWAdminTextLayout.react"),{cta:b,message:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:children:i.jsx(c("CometTextWithEntities.react"),{text:f})})};return i.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isOptOut,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":35");var j=e.adminMsgCtaTitle,l=a==null?void 0:a.targetId;a=j!=null&&a!=null&&l!=null?k.jsx("div",{className:"x1rg5ohu x1s688f",children:k.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:l,threadKey:e.threadKey,title:j})}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(,98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":31");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},,c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(b.threadKey)}})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(,98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=a.senderId,e=a.threadKey;a=a.title;var f=c("useMWXLazyDialog")(m),g=f[0];f=l(function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(e)}),g({senderId:b,threadKey:e})},[g,b,e]);return k.jsx(c("MWXLink.react"),{color:"highlight",onClick:f,role:"button",children:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[e,b],f.id+":60");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;var i=null;if(a!=null){a=new URL(a);i=a.searchParams.get("removed_msg_sender_id")}a=i!=null&&g!=null?k.jsx(n,{senderId:i,threadKey:b.threadKey,title:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWPColorUtils","MWXLink.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=c("useMWPThreadTheme")();f=f.threadTheme.fallbackColor;return i.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["I64","JSResourceForInteraction","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(l);var g=a[0];a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var j=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};a=a==null?void 0:a.title;j=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:j,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(,98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(,98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(,98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(,98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(,98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(,98);
__d("MWNavigationContext",["react"],(,98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","I64","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRouteBuilder","MWNavigationContext","MessengerWebEntryPointsUtil","XCometGroupDiscussionControllerRouteBuilder","cr:7004","getGroupThreadViewParams","getTopMostRouteCometEntityKey","react","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider","useMaybeShowCSAMBlockAsync"],(,98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Dual-thread-cutover] Failed to navitage to open messages thread ",""]);k=function(){return a};return a}var l=h||(h=d("react")),m=h.useCallback;function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")();a=m(function(){c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(e.threadKey))))==null?void 0:b.jid;f&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:i.ofNumber(1)})},"readwrite"));b=f?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):void d("WALoggerDeferred").LOG(k(),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,e.threadKey,g]);var h=e.adminMsgCtaTitle;a=h!=null?l.jsx(c("MWXLink.react"),{onClick:a,role:"button",children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:h})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":24");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;a=g!=null&&a!=null?k.jsx(c("MWXLink.react"),{color:"primary",href:a,target:"_blank",children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgWebUrl.react","MWXText.react","cr:6991","cr:6996","cr:6997","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function l(a){if(a!=null)return a.isAdminMessage;else return!1}function m(a){var b=a.children,d=a.nextMessage;a=a.prevMessage;return j.jsx("div",{className:(h||(h=c("stylex")))(k.container,l(a)?k.containerThatProceedsAdminMessage:!1,l(d)?k.containerThatPrecedesAdminMessage:!1),"data-testid":void 0,children:j.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",children:b})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var d=a.message;a.nextMessage;a.prevMessage;a=b("cr:6991")!=null&&b("cr:6997")!=null?b("cr:6991").buildLocalizedString([],[],b("cr:6997").CURRENT_USER_ADDED_DEVICE):"";a=d.text===a&&b("cr:6996")!=null?j.jsx(b("cr:6996"),{}):null;var e=d.adminMsgCtaType;if(e!=null)if(e==="admin_msg_armadillo_ephemeral_change_duration")return j.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:d});else if(e==="admin_msg_dual_thread_cutover")return j.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:d});else if(e==="admin_msg_web_url")return j.jsx(c("MWV2AdminMsgWebUrl.react"),{message:d});else if(e==="admin_msg_p2b_privacy_disclosure"&&c("gkx")("2386"))return j.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:d});else if(e==="admin_notification_messages_opt_out")return j.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:d});else if(e==="admin_notification_messages_opt_in")return j.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:d});else if(e==="admin_msg_thread_level_cutover")return j.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:d});else if(e==="admin_msg_e2ee_thread")return null;else if(e==="admin_msg_cutover_rollback")return j.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:d});else if(e==="xmat_instant_game_bot_message_subscribe")return j.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:d,shouldSubscribe:!0});else if(e==="xmat_instant_game_bot_message_unsubscribe")return j.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:d,shouldSubscribe:!1});else if(e==="admin_msg_view_pin_msgs_v2")return j.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:d});else if(e==="xmat_instant_game_custom_update_message_mute")return j.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:d,shouldMute:!0});else if(e==="xmat_instant_game_custom_update_message_unmute")return j.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:d,shouldMute:!1});else if(e==="admin_message_service_booking_legal_disclaimer")return j.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:d});else if(e==="admin_msg_admod_post_msg_remove_actions")return j.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:d});else return j.jsxs("div",{children:[j.jsx(c("MWAdminTextLayout.react"),{message:d}),a]});return j.jsxs("div",{children:[j.jsx(c("MWAdminTextLayout.react"),{message:d}),a]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,d=a.nextMessage;a=a.prevMessage;return j.jsx(m,{nextMessage:d,prevMessage:a,children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx(n,{message:b})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=l;g.MWV2ChatAdminMessageContainer=m;g.MWV2ChatAdminMessage=a}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(b("cr:5671")!=null)return i.jsx(b("cr:5671"),babelHelpers["extends"]({},a));if(b("cr:5867")!=null){var c=a.seeLessLinkProps,d=a.seeMoreLinkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["seeLessLinkProps","seeMoreLinkProps"]);c=(c=c)!=null?c:{};var e=c.color;c=babelHelpers.objectWithoutPropertiesLoose(c,["color"]);d=(d=d)!=null?d:{};var f=d.color;d=babelHelpers.objectWithoutPropertiesLoose(d,["color"]);return i.jsx(b("cr:5867"),babelHelpers["extends"]({seeLessLinkProps:babelHelpers["extends"]({color:e==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers["extends"]({color:f==="primary"?"primary":void 0},d)},a))}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("isFacebookMessengerInboxURI",["isFacebookURI"],(,98);
__d("useMWCMShouldGoToFullScreenChatHook",["getRequestConstUri","isFacebookMessengerInboxURI","isMessengerDotComURI"],(,98);
__d("XCometGroupAdminActivitiesControllerRouteBuilder",["jsRouteBuilder"],(,98);
__d("MWMessageUnsentTimestampText.react",["fbt","I64","MercuryTimestamp","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.timestampMs;a=a.unsentTimestampMs;return k.jsxs("div",{children:[k.jsx("div",{children:h._("Enviado: {time}",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(b)))])}),k.jsx("div",{children:c("gkx")("1531920")?h._("Env\u00edo anulado: {time}",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(a)))]):h._("Eliminado: {time}",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(a)))])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function k(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,e=a.children,f=a.modal,g=a.onNavigate,h=g===void 0?c("emptyFunction"):g;g=a.setModal;var l=a.wrapX;l=l===void 0?!1:l;a=a.wrapY;a=a===void 0?!1:a;var m=j(function(a){h(a);var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(k):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]);return i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{value:g,children:i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:f!=="",onNavigate:m,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:l,wrapY:a,children:i.jsx("div",{"aria-label":b,className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:e})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSFetchMessageSeenCount").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWClickedMessageContext.react",["GroupsCometChatsEngagementLogger","I64","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;e=b.createContext;var l=b.useCallback,m=b.useContext,n=b.useMemo,o=b.useState,p=e({clickedMessageId:null,fetchMessageSeenCount:c("emptyFunction"),hasError:!1,isLoading:!1,setClickedMessageId:c("emptyFunction")});function a(a){a=a.children;var b=o(null),e=b[0],f=b[1];b=o(!1);var g=b[0],j=b[1];b=o(!1);var m=b[0],q=b[1],r=(h||(h=c("useReStore")))(),s=l(function(a,b,e){q(!0),f(b),r.runInTransaction("readwrite").then(function(){q(!1),j(!1),d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{mid:b},community_id:e?(i||(i=d("I64"))).to_string(e.folderId):null,event:"seen_count_rendered",group_id:e?(i||(i=d("I64"))).to_string(e.fbGroupId):null,source:"message_bubble",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(a)})})["catch"](},[r]);b=n([e,s,g,m]);return k.jsx(p.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";b={Provider:a,useHook:function(){return m(p)}};g["default"]=b}),98);
__d("MWChatBusinessQuickReply.react",["CometImage.react","MDSTextPairing.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={image:{borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6","float":"xrbpyxo",height:"x158ke7r",marginTop:"x16ldp7u",marginEnd:"x1t4t16n",marginBottom:"xz62fqu",marginStart:"xbmpl8g",width:"x1kl0l3y",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x1eb86dx",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",borderTopStyle:"x143s1ad",borderEndStyle:"xp3zfi1",borderBottomStyle:"x137oirg",borderStartStyle:"xojro6o",boxShadow:"x1vnslfi",boxSizing:"x9f619",cursor:"x1ypdohk",fontFamily:"xjb2p0i",fontWeight:"xk50ysn",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingBottom:"x1a8lsjc",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,paddingStart:"x1ye3gou",paddingTop:"x889kno",textAlign:"x1yc453h",wordBreak:"x13faqbe",$$css:!0},vertical:{paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,paddingStart:"xr9oo41",$$css:!0}};function a(a){var b=a.bodyLineLimit;b=b===void 0?1:b;var d=a.imageUrl,e=a.onClick,f=a.quickReplyVertical;f=f===void 0?!1:f;a=a.text;var g=c("gkx")("7695");return j.jsx("div",{className:(h||(h=c("stylex")))(f?k.vertical:!1),children:j.jsxs("button",{className:"x6s0dn4 x1eb86dx xfh8nwu xoqspk4 x12v9rci x138vmkv x143s1ad xp3zfi1 x137oirg xojro6o x1vnslfi x9f619 x1ypdohk xjb2p0i xk50ysn xl56j7k xr9ek0c x1emribx xjpr12u x1i64zmx x1mzt3pk x1a8lsjc xn6708d x1ye3gou x889kno x1yc453h x13faqbe",onClick:e,children:[d!=null?j.jsx(c("CometImage.react"),{src:d,xstyle:k.image}):null,j.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:g?"blueLink":"primary",bodyLineLimit:b,level:3})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyText.react",["MWChatBusinessQuickReply.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.onSend,d=a.quickReply;a=a.quickReplyVertical;var e=a?3:1,f=function(){return b(d)},g=d.image_url;return i.jsx(c("MWChatBusinessQuickReply.react"),{bodyLineLimit:e,imageUrl:(e=g)!=null?e:void 0,onClick:f,quickReplyVertical:a,text:d.title})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:a.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c!=null&&d!=null&&a!=null&&b(j(c,d,a,i))}});c("promiseDone")(e)}};var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.react",["MWChatBusinessQuickReply.react","MWChatUserBirthdayQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),h=k(),l=h[0],m=h[1];j(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;h=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:h,data:a,image_url:n,payload:e,title:l};h=function(){return b(o)};return i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.react",["MWChatBusinessQuickReply.react","MWChatUserEmailQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserEmailQuery").useUserEmailDataQuery(),h=k(),l=h[0],m=h[1];j(function(){g(m)},[a,g,m]);return l==null?null:i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:function(){return b({content_type:e.content_type,data:e.data,image_url:e.image_url,payload:e.payload,title:l})},quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.react",["MWChatBusinessQuickReply.react","MWChatUserPhoneNumberQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),h=k(function(){}),l=h[0],m=h[1];j(function(){g(},[a,g,m]);if(l==null)return null;h=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:h,data:a,image_url:n,payload:e,title:l};h=function(){return b(o)};return i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.actor)==null?void 0:(a=a.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}};e=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.actor)==null?void 0:a.address;a=a==null?void 0:a.postal_code;a!=null&&b(a)});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.react",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),h=k(),l=h[0],m=h[1];j(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;h=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:h,data:a,image_url:n,payload:e,title:l};h=function(){return b(o)};return i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyUserZipCode.react",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),h=k(),l=h[0],m=h[1];j([a,g,m]);if(l==null)return null;h=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:h,data:a,image_url:n,payload:e,title:l};h=function(){return b(o)};return i.jsx(c("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyList.react",["Actor","CometScrollableArea.react","I64","LSIntEnum","LSQuickReplyType","MWChatBusinessQuickReplyText.react","MWChatBusinessQuickReplyUserBirthday.react","MWChatBusinessQuickReplyUserEmail.react","MWChatBusinessQuickReplyUserPhoneNumber.react","MWChatBusinessQuickReplyUserState.react","MWChatBusinessQuickReplyUserZipCode.react","MessengerWebEventsFalcoEvent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useEffect,n={container:{position:"x1n2onr6",width:"xh8yej3",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},pillContainer:{backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"xozqiw3",paddingTop:"x1nn3v0j",paddingEnd:"x1sxyh0",paddingBottom:"x1a8lsjc",paddingStart:"xurb0ha",$$css:!0},pillContainerVertical:{alignItems:"xuk3077",backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xm7lytj",$$css:!0}};function a(a){var b=a.arrayQR,e=a.id,f=a.onSend;a=a.quickReplyType;a=a!=null?a:(j||(j=d("LSIntEnum"))).ofNumber(c("LSQuickReplyType").NONE);var g=(k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSQuickReplyType").VERTICAL));a=d("Actor").useActor();var i=a[0];m([e]);return l.jsx("div",{className:"x1n2onr6 xh8yej3 x1eb86dx",children:l.jsx(c("CometScrollableArea.react"),{horizontal:!0,children:l.jsx("div",{className:(h||(h=c("stylex")))(g?n.pillContainerVertical:n.pillContainer),children:b.map(function(a,b){switch(a.content_type){case"text":return l.jsx(c("MWChatBusinessQuickReplyText.react"),{onSend:f,quickReply:a,quickReplyVertical:g},String(b));case"user_birthday":return l.jsx(c("MWChatBusinessQuickReplyUserBirthday.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));case"user_email":return l.jsx(c("MWChatBusinessQuickReplyUserEmail.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));case"user_phone_number":return l.jsx(c("MWChatBusinessQuickReplyUserPhoneNumber.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));case"user_state":return l.jsx(c("MWChatBusinessQuickReplyUserState.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));case"user_zip_code":return l.jsx(c("MWChatBusinessQuickReplyUserZipCode.react"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:i},String(b));default:return null}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPQuickReplies.react",["FBLogger","I64","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWChatBusinessQuickReplyList.react","MWPActor.react","MessagePowerUp","Promise","ReQL","ReQLSuspense","promiseDone","react","useLSMessagingSource","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||d("react");function n(a){var e=a.lastMessageId,g=a.quickReplyType,l=a.threadKey,n=c("useLSMessagingSource")(),o=(i||(i=c("useReStore")))(),p=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(o.table("quick_reply_ctas")).getKeyRange(l,e).map(function(a){var b=a.type_,d=b==="quick_reply_text"||b==="quick_reply_ad"?"text":b==="quick_reply_phone"?"user_phone_number":b==="quick_reply_email"?"user_email":"";d===""&&c("FBLogger")("messenger_web_product").mustfix("Unexpected quick-reply type: %s, title: %s",b,a.title);return{content_type:d,data:void 0,image_url:a.imageUrl,payload:a.platformToken,title:a.title}}).filter(},[o,e,l],f.id+":50");if(a.length>0)return m.jsx(c("MWChatBusinessQuickReplyList.react"),{arrayQR:a,id:(j||(j=d("I64"))).to_string(p),onSend:function(a){var e=d("LSThreadAttributionTypeUtil").getSource(l,n);c("promiseDone")(o.runInTransaction(function(f){var g;g=(g=a.payload)!=null?g:void 0;return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(f),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:g,power_up_style:(k||(k=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:k.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:k.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:e}),mailboxType:k.ofNumber(c("LSMailboxType").MESSENGER),senderId:p,text:a.title,threadKey:l,threadType:k.ofNumber(1)}).then(},"readwrite"))},quickReplyType:g});else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.threadKey,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst([e,b],f.id+":138");if(a!=null)return m.jsx(n,{lastMessageId:a.messageId,quickReplyType:a.quickReplyType,threadKey:b});else return null}a.displayName=a.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;.useStopHoveringRef=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("MWPActor.react").useActor(),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("participants"),["contactId","nickname"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"),["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[e,a.threadKey,a.threadName],f.id+":32");return d("Int64Hooks").useMemoInt64(function(){var c;if(a.threadName!=null)return h._("Mensajes de la conversaci\u00f3n llamada {name of conversation}",[h._param("name of conversation",a.threadName)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,g,b))!=null?c:"";return h._("Mensajes de la conversaci\u00f3n con {participant list}",[h._param("participant list",c)]).toString()},[b,g,a.threadName,a.threadType])}g["default"]=a}),98);
__d("CometWebLinkEntityRenderer",["CometLink.react","CometRelay","CometWebLinkEntityRenderer_entity.graphql","ProfileCometProfileLink.react","react","recoverableViolation","useRenderLinkedEntity"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useEffect;h!==void 0?h:h=b("CometWebLinkEntityRenderer_entity.graphql");function l(a){var b,e=a.entity,f=a.entityIsWeakReference;a=a.node;k(function(){e.__typename==="ExternalUrl"&&e.url!=null&&(e.web_link==null?c("recoverableViolation")("entity.web_link from type "+e.__typename+" must not be null in CometWebLinkEntityRenderer.js","comet_infra"):e.web_link.url==null&&c("recoverableViolation")("web_link.url from type "+e.__typename+" must not be null in CometWebLinkEntityRenderer.js","comet_infra"))},[e]);f=d("useRenderLinkedEntity").useRenderWeakReferenceEntity(f);var g=f==null?void 0:f.colorProp;f=f==null?void 0:f.icon;if(e.url==null)return a;if(e.__typename==="User"){var h;return j.jsxs(c("ProfileCometProfileLink.react"),babelHelpers["extends"]({actor:e,navigationSource:"web_link",ref:null},g,{children:[(h=f)!=null?h:null,a]}))}h=e.web_link;b=(b=h==null?void 0:h.url)!=null?b:e.url;b=j.jsxs(c("CometLink.react"),babelHelpers["extends"]({},g,{fbclid:h==null?void 0:h.fbclid,href:b,lynxMode:h==null?void 0:h.lynx_mode,children:[(g=f)!=null?g:null,a]}));switch(e.__typename){case"GroupHashtag":case"Page":return j.jsx(d("CometRelay").MatchContainer,{fallback:b,match:e,props:{children:a}});default:return b}}l.displayName=l.name+" [from "+f.id+"]";a=g["default"]=a}),98);
__d("CSExperienceLazyLoaded",["CSExperience.react","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","WebPixelRatio","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=a.entryPointId,c=a.floatingButtonXstyle,e=a.fullScreen;a=a.openChatTabByDefault;b=d("CometRelay").useLazyLoadQuery(d("CSExperience.react").StateQuery,{id:b,scale:d("WebPixelRatio").get(),step:"START_SUPPORT"});return i.jsx(d("CSExperience.react").CSExperience,{data:b,floatingButtonXstyle:c,fullScreen:e,openChatTabByDefault:a})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.entryPointId,d=a.floatingButtonXstyle,e=a.fullScreen;e=e===void 0?!1:e;a=a.openChatTabByDefault;a=a===void 0?!1:a;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{entryPointId:b,floatingButtonXstyle:d,fullScreen:e,openChatTabByDefault:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSHelpCenter2FacExperience.react",["CSExperienceLazyLoaded","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.entryPointId,d=a.floatingButtonXstyle;a=a.fullScreen;a=a===void 0?!1:a;return i.jsx(c("CSExperienceLazyLoaded"),{entryPointId:b,floatingButtonXstyle:d,fullScreen:a,openChatTabByDefault:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CSHelpCenterExperienceLazyLoaded",["CSExperienceLazyLoaded","CSHelpCenter2FacExperience.react","CometErrorBoundary.react","CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.cmsID,d=a.entryPointId,e=a.floatingButtonXstyle;a=a.fullScreen;a=a===void 0?!1:a;b=j(b,d);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:b?i.jsx(c("CSHelpCenter2FacExperience.react"),{entryPointId:d,floatingButtonXstyle:e,fullScreen:a}):i.jsx(c("CSExperienceLazyLoaded"),{entryPointId:d,floatingButtonXstyle:e,fullScreen:a,openChatTabByDefault:!1})})})}a.displayName=a.name+" [from "+f.id+"]";function j(a,b){b=b===10&&new URL(location.href).searchParams.get("helpref")==="checkpoint";a=a===147926301947841;return a&&b?!0:!1}g["default"]=a}),98);
__d("useCSChatTypingIndicatorQuery",["CometRelay","useCSChatTypingIndicatorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("useCSChatTypingIndicatorQuery.graphql"),{thread_id:a,use_support_user:!1});return a}g["default"]=a}),98);
__d("MWXPopover.react",["cr:2420","cr:2457","react"],(,98);
__d("CSFBChatMachineTranslationButton.react",["fbt","CometInlinePressableText.react","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.isTranslated;a.message;a=a.onTranslate;return j.jsx("div",{className:"x78zum5 x1l90r2v x1sln4lm x1y1aw1k",children:j.jsx(c("TetraText.react"),{type:"body4",children:j.jsx(c("CometInlinePressableText.react"),{onPress:a,children:b?h._("Ver original"):h._("Ver traducci\u00f3n")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPTypingIndicators.react",["fbt","BaseTheme.react","CometScreenReaderText.react","I64","LSIntEnum","LSPresenceStatus","MWBaseTheme","MWChatTypingIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","MWXSolidMessageBubble.react","ReQL","ReQLSuspense","ServerTime","TetraOverlappingFacepile.react","clearTimeout","getLSMediaContactProfilePictureUrl","isEmpty","react","setTimeout","stylex","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react"));e=n;var p=e.useEffect,q=e.useMemo,r=e.useState,s={accessibilityText:{borderBottomColor:"xnezbuk",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",paddingBottom:"xjkvuk6",paddingTop:"x1nn3v0j",$$css:!0}};function t(a,b){a=a==null?void 0:a.nickname;return a!=null?a:(a=b.firstName)!=null?a:b.name}function u(a,b){b===void 0&&(b=!1);var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("typing_indicator")).getKeyRange(a).filter(function(a){return d("ServerTime").getMillis()<(l||(l=d("I64"))).to_float(a.expirationTimestampMs)}).map(function(g){var h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("presence_states")).getKeyRange(g.senderId),f.id+":106");if(!b||h!=null&&(l||(l=d("I64"))).equal(h.status,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPresenceStatus").ACTIVE))){h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a,g.senderId),f.id+":122");var i=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(g.senderId),f.id+":129");if(i!=null)return[h,i,g]}return}).filter(Boolean).take(3)},[e,a,b],f.id+":95");return g.filter(Boolean)}function v(a){return q(function(){if((j||(j=c("isEmpty")))(a))return"";var b=a[0],d=b[0],e=b[1];b[2];b=a.slice(1);return(j||(j=c("isEmpty")))(b)?h._("{The participants name} est\u00e1 escribiendo",[h._param("The participants name",t(d,e))]):h._("Hay varios participantes escribiendo")},[a])}function a(a){var b=a.length>0,e=b?a.reduce(function(a,b){b[0];b[1];b=b[2];return Math.max(a,(l||(l=d("I64"))).to_float(b.expirationTimestampMs))},0):0;a=r(e>d("ServerTime").getMillis());var f=a[0],g=a[1];p(function(){if(b){g(e>d("ServerTime").getMillis());var a=e-d("ServerTime").getMillis(),f=c("setTimeout")(function(){return g(!1)},a);return function(){c("clearTimeout")(f)}}},[e,g,b]);return b&&f}function w(a){var b=a.containerStyle,e=a.messageBubbleStyle,f=a.threadType;a=a.typingParticipants;var g=a.reduce(function(a,b){b[0];b[1];b=b[2];return Math.max(a,(l||(l=d("I64"))).to_float(b.expirationTimestampMs))},0),h=r(function(){return g>d("ServerTime").getMillis()}),i=h[0],j=h[1];p(function(){j(function(){return g>d("ServerTime").getMillis()});var a=g-d("ServerTime").getMillis(),b=c("setTimeout")(function(){return j(!1)},a);return ,[g,j]);if(i)return o.jsxs("div",{"aria-hidden":!0,className:(k||(k=c("stylex")))(s.root,b),children:[o.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{selfCentered:!0,children:o.jsx(c("TetraOverlappingFacepile.react"),{items:a.map(function(a){a[0];var b=a[1];a[2];return{source:{uri:c("getLSMediaContactProfilePictureUrl")(b)}}}),size:28,withWrapper:!1})}),o.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:!1,precedesXMA:!1,style:e,children:o.jsx(c("MWChatTypingIndicator.react"),{threadType:f})})]});else return null}w.displayName=w.name+" [from "+f.id+"]";function b(a){var b=a.checkPresenceSettings;b=b===void 0?!1:b;var e=a.containerStyle,f=a.messageBubbleStyle,g=a.theme,h=a.threadKey;a=a.threadType;f=(f=f)!=null?f:{backgroundColor:"var(--wash)"};g=g||d("MWBaseTheme").empty;h=u(h,b);b=v(h);return h.length>0?o.jsx(c("BaseTheme.react"),{config:g,children:o.jsx(c("MWV2MessageRowSimple.react"),{children:o.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[o.jsx("div",{"aria-live":"polite",className:"xnezbuk x1q0q8m5 xso031l",children:o.jsx(c("CometScreenReaderText.react"),{text:b})}),o.jsx(w,{containerStyle:e,messageBubbleStyle:f,threadType:a,typingParticipants:h})]})})}):null}b.displayName=b.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(b);g.useTypingParticipants=u;g.useAccessibilityText=v;g.useShouldShowTypingIndicator=a;g.MWPTypingIndicators=e}),98);
__d("CSFBChatTypingIndicators.react",["MWPTypingIndicators.react","react"],(,98);
__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("73");b=d("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("39");b=d("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("74");b=d("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("75");b=d("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",a);e=b;g["default"]=e}),98);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("76");b=d("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("44");b=d("FalcoLoggerInternal").create("audio_clips_playback_pause",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("45");b=d("FalcoLoggerInternal").create("audio_clips_playback_resume",a);e=b;g["default"]=e}),98);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("47");b=d("FalcoLoggerInternal").create("audio_clips_playback_start",a);e=b;g["default"]=e}),98);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("51");b=d("FalcoLoggerInternal").create("audio_clips_start_recording_click",a);e=b;g["default"]=e}),98);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("52");b=d("FalcoLoggerInternal").create("audio_clips_stop_recording_click",a);e=b;g["default"]=e}),98);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("153");b=d("FalcoLoggerInternal").create("ls_1lc_feature_open",a);e=b;g["default"]=e}),98);
__d("MWChatAudioLog",["AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","I64","Ls1lcFeatureOpenFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){c("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:"true",position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function b(){c("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}}),c("Ls1lcFeatureOpenFalcoEvent").log(function(){return{extra:void 0,feature:13,feature_sessionid:void 0,screen_orientation:void 0,stage:7,thread:void 0}})}function e(){c("AudioClipsCancelledByUserFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function f(){c("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function i(a){c("AudioClipsPlaybackStartFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function j(a,b){c("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function k(a,b){c("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(h||(h=d("I64"))).to_string(h.of_float(a)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:h.to_string(h.of_float(b)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function l(){c("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function m(){c("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function n(){c("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}g.logClickStopRecording=a;g.logClickStartRecording=b;g.logDeleteRecording=e;g.logBrowserDenyAccess=f;g.logPlaybackStart=i;g.logPlaybackPause=j;g.logPlaybackResume=k;g.logDialogOk=l;g.logDialogNotNow=m;g.logMicAccessCheckFailed=n}),98);
__d("MWInboxInfoPanelContext.react",["Int64Hooks","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.createContext,k=e.useContext,l=e.useRef,m=e.useState,n=j({currentSubthreadView:null,footerContentRef:{current:null},isExpanded:void 0,isOnMemberRequestsPageRef:{current:!1},pushMemberRequestsPage:c("emptyFunction"),setCurrentSubthreadView:c("emptyFunction"),setIsExpanded:c("emptyFunction"),setPushMemberRequestsPage:c("emptyFunction"),setShouldNavToMemberRequests:c("emptyFunction"),setShowSubthreadList:c("emptyFunction"),setSubthreadKey:c("emptyFunction"),shouldNavToMemberRequests:!1,sourceIsSubthreadNav:{current:!1},subthreadKey:null});function a(){return k(n)}function b(a){var b=a.children,e=a.isExpanded,f=a.setIsExpanded,g=l(!1);a=m(null);var h=a[0],j=a[1],k=g.current,o=l(c("emptyFunction")),p=o.current,q=l(!1),r=l(null),s=l(!1);a=m(null);var t=a[0],u=a[1];a=d("Int64Hooks").useMemoInt64(function(){return{currentSubthreadView:t,footerContentRef:r,isExpanded:e,isOnMemberRequestsPageRef:q,pushMemberRequestsPage:p,setCurrentSubthreadView:u,setIsExpanded:function(a){a&&(u(null),j(null)),f(a)},setPushMemberRequestsPage:function(a){o.current=a},setShouldNavToMemberRequests:function(a){g.current=a},setShowSubthreadList:function(a,b){b===void 0&&(b=!1),a&&(f(!1),j(null)),u(a?"subthreadList":null),s.current=a&&b},setSubthreadKey:shouldNavToMemberRequests:k,sourceIsSubthreadNav:s,subthreadKey:h}},[e,p,f,k,t,h]);return i.jsx(n.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWInboxInfoPanelContext=a;g.MWInboxInfoPanelProvider=b}),98);
__d("LsFalcoEventEntryPoint",[],(,66);
__d("MWXMenuItem.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:4265","cr:4318","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a,c){var e=a.icon,f=a.iconColor;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","iconColor"]);var g=f instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?"primary":f;if(b("cr:4318")!=null)return i.jsx(k,{iconColor:f,children:i.jsx(b("cr:4318"),babelHelpers["extends"]({icon:e,iconColor:g},a,{ref:c}))});return b("cr:4265")!=null?i.jsx(k,{iconColor:f,children:i.jsx(b("cr:4265"),babelHelpers["extends"]({icon:e instanceof d("MWXSvgIcon").MWXSvgIcon?e.component:e,iconColor:g},a,{ref:c}))}):null}a.displayName=a.name+" [from "+f.id+"]";.displayName=k.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("LSCommunityThreadCreationStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({FAILURE:2,PENDING:0,SUCCESS:1});f["default"]=a}),66);
__d("LSCreateCommunitySubThread",["LSCreateOfflineThreadingID","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=new c.Map(),d[2].set("client_mutation_id",d[1]),d[2].set("community_id",a[0]),d[2].set("parent_message_id",a[2]),d[2].set("parent_thread_id",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[7],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("parent_thread_id"),d[2],d[5]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["create_community_sub_thread","_",c.i64.to_string(d[4])].join(""),c.i64.cast([0,665]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[3],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCreateCommunitySubThreadStoredProcedure",["LSCreateCommunitySubThread"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.communityId;d[1]=b.parentThreadId;d[2]=b.parentMessageId;return c("LSCreateCommunitySubThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSUpdateMessageSubThreadKey",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(12).fetch([[[a[0]]],"messageId"]),function(b){var c=b.update;b.item;return c({subthreadKey:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticCommunityChatSubThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSGetViewerFBID","LSUpdateMessageSubThreadKey"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.cast([0,16408]),d[1]=c.i64.cast([0,0]),d[2]=c.i64.cast([0,268437504]),d[3]=c.i64.cast([0,0]),d[4]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[4]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,261320435]),void 0).then(function(a){return d[6]=a})},function(b){return c.filter(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[2]}).next().then(function(b,e){var f=b.done;b=b.value;return f?d[7]=d[6]:(e=b.item,c.sequence([function(b){return d[22]=e.text,d[22]!==void 0?c.resolve(d[21]=d[22]):c.sequence([function(b){return c.filter(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[2]}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[23]=void 0:(c=b.item,d[23]=c.senderId)})},function(b){return c.i64.neq(d[23],void 0)?c.sequence([function(b){return c.db.table(216).fetch([[[d[23],a[0]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[30]=void 0:(c=b.item,d[30]=c.profileName)})},function(a){return c.filter(c.db.table(7).fetch([[[d[23]]]]),.next().then(function(b,c){var a=b.done;b=b.value;return a?d[32]=void 0:(c=b.item,d[36]=c.firstName,d[36]!==void 0?d[35]=d[36]:d[35]=c.name,d[32]=d[35])})},function(a){return d[30]!==void 0?d[34]=d[30]:(d[32]!==void 0?d[35]=d[32]:d[35]=d[25],d[34]=d[35]),d[26]=d[34]}]):c.resolve(d[26]=d[25])},function(a){return c.i64.eq(d[27],c.i64.cast([0,5]))?c.sequence([function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[26]),d[30]),c.localizeV2Async(c.i64.cast([0,216075330]),d[30]).then(function(a){return d[31]=a})},function(a){return d[29]=d[31]}]):c.sequence([function(a){return c.i64.eq(d[27],c.i64.cast([0,2]))?c.sequence([function(a){return d[31]=c.createArray(),d[33]=(d[31].push(d[26]),d[31]),c.localizeV2Async(c.i64.cast([0,3093868587]),d[31]).then(function(a){return d[32]=a})},function(a){return d[30]=d[32]}]):c.sequence([function(a){return c.i64.eq(d[27],c.i64.cast([0,4]))?c.sequence([function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[26]),d[32]),c.localizeV2Async(c.i64.cast([0,1965569930]),d[32]).then(function(a){return d[33]=a})},function(a){return d[31]=d[33]}]):c.sequence([function(a){return c.i64.eq(d[27],c.i64.cast([0,1]))?c.sequence([function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[26]),d[33]),c.localizeV2Async(c.i64.cast([0,3981943156]),d[33]).then(function(a){return d[34]=a})},function(a){return d[32]=d[34]}]):c.sequence([function(a){return c.i64.eq(d[27],c.i64.cast([0,3]))?c.sequence([function(a){return d[34]=c.createArray(),d[36]=(d[34].push(d[26]),d[34]),c.localizeV2Async(c.i64.cast([0,2071149394]),d[34]).then(function(a){return d[35]=a})},function(a){return d[33]=d[35]}]):c.sequence([function(a){return d[34]=c.createArray(),d[36]=(d[34].push(d[26]),d[34]),c.localizeV2Async(c.i64.cast([0,2414298738]),d[34]).then(},function(a){return d[33]=d[35]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[30]=d[31]}])},function(a){return d[29]=d[30]}])},function(a){return d[21]=d[29]}])},function(a){return d[7]=d[21]}]))})},function(b){return d[9]=d[7],c.db.table(9).fetch([[[a[1]]]]).next().then(},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.forEach(c.filter(c.db.table(9).fetch([[[d[5]]]]),,function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[5],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,26]),clientThreadKey:d[5],folderName:"community",parentThreadKey:a[1],lastActivityTimestampMs:c.i64.cast([0,0]),lastReadWatermarkTimestampMs:c.i64.cast([0,0]),snippetHasEmoji:!1,snippetSenderContactId:d[13],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),capabilities:d[0],capabilities2:d[1],capabilities3:d[2],capabilities4:d[3],threadName:d[9],themeFbid:d[10],customEmoji:d[11]})},function(b){return c.filter(c.db.table(12).fetch([[[a[1]]]]),.next().then(},function(a){return d[16]=c.createArray(),c.i64.neq(d[14],void 0)?d[21]=(d[16].push(d[14]),d[16]):0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.i64.neq(d[14],d[17])?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[21]=a[0],a})},):c.resolve()},function(a){return d[18]=c.i64.of_int32(d[16].length),c.i64.gt(d[18],c.i64.cast([0,0]))?c.loopAsync(d[18],function(a){return d[21]=a,c.sequence([function(a){return c.forEach(c.filter(c.db.table(14).fetch([[[d[5],d[22]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(a.contactId,d[22])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),},function(a){return c.db.table(14).add({threadKey:d[5],contactId:d[22],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}])}):c.resolve()},function(b){return d[19]=new c.Map(),d[19].set("client_mutation_id",d[5]),d[19].set("community_id",a[0]),d[19].set("parent_thread_id",a[1]),d[19].set("parent_message_id",a[2]),d[20]=c.toJSON(d[19]),c.db.table(312).put({threadKey:d[5],metadata:d[20]})},function(a){return e[0]=d[5]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalCreateOptimisticCommunityChatSubThread",["LSIssueNewTask","LSLocalApplyOptimisticCommunityChatSubThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticCommunityChatSubThread"),a[0],a[1],a[2]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("client_thread_key",d[0]),d[1].set("community_id",a[0]),d[1].set("parent_thread_id",a[1]),d[1].set("parent_message_id",a[2]),d[2]=d[1].get("client_thread_key"),d[1],d[3]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[2]),c.i64.cast([0,749]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},)},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalCreateOptimisticCommunityChatSubThreadStoredProcedure",["LSLocalCreateOptimisticCommunityChatSubThread"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.communityId;d[1]=b.parentThreadId;d[2]=b.parentMessageId;return c("LSLocalCreateOptimisticCommunityChatSubThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("threadCreationUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return(h||(h=d("I64"))).equal(a.creationStatus,(i||(i=d("LSIntEnum"))).ofNumber(b))}g.creationStatusEquals=a}),98);
__d("MWXIconCautionTriangle",["MWXSvgIcon","SVGIcon","cr:5477","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:5477")),c("gkx")("571"));g["default"]=a}),98);
__d("useMWXPushToast",["CometIcon.react","mwPushToast","react"],(,98);
__d("useMWXPushErrorToast",["MWXIconCautionTriangle","react","useMWXPushToast"],(,98);
__d("MWCMSubthreadChatTabContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=e({pushSubthreadViewPage:null});function a(){return j(l)}.displayName=b.name+" [from "+f.id+"]";g.useSubthreadChatTabContext=a;g.MWCMSubthreadChatTabContextProvider=b}),98);
__d("MWCMSubthreadsInboxFocusContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useState,m=e({isSubthreadFocused:!1,setIsSubthreadFocused:function(){}});function a(){return j(m)}.displayName=b.name+" [from "+f.id+"]";g.useIsSubthreadFocusedContext=a;g.MWCMIsSubthreadFocusedContextProvider=b}),98);
__d("useOpenSubthreadView",["GroupsCometChatsEngagementLogger","I64","MWCMSubthreadChatTabContext.react","MWCMSubthreadsInboxFocusContext.react","MWInboxInfoPanelContext.react"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),b=a.setCurrentSubthreadView,c=a.setSubthreadKey;a=(a=d("MWCMSubthreadChatTabContext.react").useSubthreadChatTabContext())!=null?a:{};var e=a.pushSubthreadViewPage;a=d("MWCMSubthreadsInboxFocusContext.react").useIsSubthreadFocusedContext();var f=a.setIsSubthreadFocused;return function(a,g){g===void 0&&(g=!1),d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_chat_tab:e!=null?"1":"0",is_subthread:"1"},event:"thread_open",parent_surface:"thread_view",source:g===!0?"subthread_creation":"subthread_xma",surface:"subthread_view",thread_id:(h||(h=d("I64"))).to_string(a)}),e!=null?e==null?void 0:e(a):(b("subthreadView"),c(a),f(!0))}}g["default"]=a}),98);
__d("useMWCMCreateSubthread",["fbt","FBLogger","Int64Hooks","LSCommunityThreadCreationStatus","LSCreateCommunitySubThreadStoredProcedure","LSFactory","LSLocalCreateOptimisticCommunityChatSubThreadStoredProcedure","LSPlatformWaitForTaskCompletion","LSThreadBitOffset","MWLSThread","ReQL","ReQLSuspense","asyncToGeneratorRuntime","emptyFunction","promiseDone","react","threadCreationUtils","useCommunityFolder","useMWXPushErrorToast","useOpenSubthreadView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=j||d("react");var k=e.useEffect,l=e.useRef,m=e.useState;function a(a){var e=(i||(i=c("useReStore")))(),g=d("MWLSThread").useThreadExn(a.threadKey),j=c("useCommunityFolder")(g),n=l(c("emptyFunction")),o=c("useMWXPushErrorToast")(),p=m(!1),q=p[0],r=p[1],s=c("useOpenSubthreadView")(),t=d("LSThreadBitOffset").has(206,g);k(function(){return ,[]);p=d("Int64Hooks").useCallbackInt64(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(j==null)return;var b=(yield e.runInTransaction(function(b){return c("LSLocalCreateOptimisticCommunityChatSubThreadStoredProcedure")(c("LSFactory")(b),{communityId:j.folderId,parentMessageId:a.messageId,parentThreadId:a.threadKey})},"readwrite"));b=b[0];s(b,!0)}),[e,j,a.messageId,a.threadKey,s]);g=d("Int64Hooks").useCallbackInt64(function(){if(t)return;var b=function(a){a=a[0];if(a==null)return g();var b=d("ReQL").fromTableAscending(e.table("thread_creation_status")).getKeyRange(a);a=d("ReQLSuspense").first(b,f.id+":97");a==null||d("threadCreationUtils").creationStatusEquals(a,c("LSCommunityThreadCreationStatus").PENDING)?h():i(a);function h(){n.current=b.subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if(d("threadCreationUtils").creationStatusEquals(a,c("LSCommunityThreadCreationStatus").PENDING))return;n.current();i(a)})}function i(a){r(!1);try{var b=a.threadId;if(d("threadCreationUtils").creationStatusEquals(a,c("LSCommunityThreadCreationStatus").FAILURE)||b==null)throw c("FBLogger")("cm_web").warn("sidechat creation failed");s(b,!0)}catch(a){g()}}},g=function(){r(!1),o({title:h._("Se produjo un error al crear el chat paralelo")})};if(j==null)return;r(!0);c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(e,function(b){return c("LSCreateCommunitySubThreadStoredProcedure")(c("LSFactory")(b),{communityId:j.folderId,parentMessageId:a.messageId,parentThreadId:a.threadKey})},"createSocialChannel"),g)},[e,j,t,a.messageId,a.threadKey,s,o]);return[t?p:g,q]}g["default"]=a}),98);
__d("MWCMCreateSubthreadMenuItem.react",["fbt","I64","Int64Hooks","LsFalcoEventEntryPoint","MWXMenuItem.react","react","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadMenuItem.react"),m=h._("Chat paralelo"),n=h._("Ver chat paralelo");function a(a){var b=a.message;a=c("useMWCMCreateSubthread")(b);var e=a[0];a=a[1];var f=c("useOpenSubthreadView")(),g=b.subthreadKey,h=d("Int64Hooks").useCallbackInt64(function(){l.onReady(function(a){return a.log(function(){var a={};return{action:{container_module:"MWCMCreateSubthreadMenuItem",type:g!=null?105:104},error:{message:void 0},extra:a,message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint").messageActions,id:b.messageId,recipient_id:void 0},thread:{group_size:(j||(j=d("I64"))).to_string(j.zero),id:j.to_string(b.threadKey),type:18}}})}),g!=null?f(g):void e()},[b.messageId,b.threadKey,e,f,g]);return k.jsx(c("MWXMenuItem.react"),{"aria-label":g!=null?n:m,disabled:a,onClick:h,primaryText:g!=null?n:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconThread",["MWXSvgIcon","SVGIcon","cr:8325","gkx"],(,98);
__d("MWCMCreateSubthreadRowActionButton.react",["fbt","I64","Int64Hooks","LsFalcoEventEntryPoint","MWXIconStrict.react","MWXIconThread","MWXPressable.react","MWXTooltip.react","react","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadRowActionButton.react"),m=h._("Chat paralelo"),n=h._("Ver chat paralelo");function a(a){var b=a.message;a=c("useMWCMCreateSubthread")(b);var e=a[0];a=a[1];var f=c("useOpenSubthreadView")(),g=b.subthreadKey,h=d("Int64Hooks").useCallbackInt64(function(){l.onReady(function(a){return a.log(function(){var a={};return{action:{container_module:"MWCMCreateSubthreadRowActionButton",type:g!=null?105:104},error:{message:void 0},extra:a,message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint").messageActions,id:b.messageId,recipient_id:void 0},thread:{group_size:(j||(j=d("I64"))).to_string(j.zero),id:j.to_string(b.threadKey),type:18}}})}),g!=null?f(g):void e()},[b.messageId,b.threadKey,e,f,g]);return k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:g!=null?n:m,children:k.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x197sbye x1n2onr6 x2b8uid xvy4d1p x1164lod x4gyw5p x15vn3sj x1o7uuvo",children:k.jsx(c("MWXPressable.react"),{"aria-label":g!=null?n:m,disabled:a,expanding:!0,onPress:h,overlayDisabled:!0,children:k.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconThread"),size:16})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMessageBothOrientationFocusGroup.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusGroup.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);e=b[0];d=b[1];b={key:c("CometKeys").UP};var k={key:c("CometKeys").DOWN},l={key:c("CometKeys").LEFT},m={key:c("CometKeys").RIGHT},n=[{command:b,description:h._("Elemento anterior"),handler:c("emptyFunction")},{command:k,description:h._("Elemento siguiente"),handler:c("emptyFunction")},{command:l,description:h._("Elemento siguiente"),handler:c("emptyFunction")},{command:m,description:h._("Elemento anterior"),handler:c("emptyFunction")}];function a(a){a=a.children;return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:n,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.FocusGroup=e;g.FocusGroupItem=d;g.keyCommands=b}),98);
__d("MWShowMessagePromptPopoverContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useRef,m=d([{current:c("emptyFunction")},c("emptyFunction")]);unction b(a){a=a.children;var b=l(c("emptyFunction")),d=k(function(){return[b,},[]);return i.jsx(m.Provider,{value:d,children:a})}b.displayName=b.name+" [from "+f.id+"]";g.useMWShowMessagePromptPopoverContext=a;g.MWShowMessagePromptPopoverContextProvider=b}),98);
__d("useMWLSMessageReportingToken",["I64","Int64Hooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("Int64Hooks").useMemoInt64(function(){return window.btoa("message_thread:"+(h||(h=d("I64"))).to_string(b)+":"+a)},[a,b])}g["default"]=a}),98);
__d("FDSMWMessageDeliveryStatusIcons.react",["MWMessageDeliveryStatus","react","stylex"],(,98);
__d("fetchMWChatVideoAutoplaySetting",["CometRelay","asyncToGeneratorRuntime","fetchMWChatVideoAutoplaySettingQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;unction i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("fetchMWChatVideoAutoplaySettingQuery.graphql"),{}).toPromise());a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.video_settings)==null?void 0:a.autoplay_setting_www;return a==="on"||a==="off"||a==="default_autoplay"?a:"default_autoplay"});return i.apply(this,arguments)}g["default"]=a}),98);
__d("MWChatVideoAutoplaySettingContext",["CometRelay","fetchMWChatVideoAutoplaySetting","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;var j=b.useContext,k=b.useEffect,l=b.useState,m=e("default_autoplay");function a(a){a=a.children;var b=d("CometRelay").useRelayEnvironment(),e=l("default_autoplay"),f=e[0],g=e[1];k(function(){c("promiseDone")(c("fetchMWChatVideoAutoplaySetting")(b).then(g))},[b]);return i.jsx(m.Provider,{value:f,children:a})}a.displayName=a.name+" [from "+f.id+"]";b=function(){return j(m)};g.MWChatVideoAutoplaySettingContextProvider=a;g.useMWChatVideoAutoplaySetting=b}),98);
__d("MWChatVideoPlayerControls.react",["VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","react","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.hideExpandButton;var b=c("useVideoPlayerDefaultControlsVisibility")(),e=b.isControlsVisible;b=b.onUserInteraction;var f=(i||(i=d("VideoPlayerHooks"))).usePaused();f=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:f});var g=f.bigPlayButtonElement;f=f.bigPlayButtonIsVisible;var h=i.useIsFullscreen();e=e&&!f;f=j.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:e,children:h?j.jsxs(j.Fragment,{children:[j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[j.jsx(c("VideoPlayerPlaybackControl.react"),{}),j.jsx(c("VideoPlayerPlaybackTimer.react"),{})]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[j.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b}),j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})]})]}):j.jsxs(j.Fragment,{children:[j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{children:j.jsx(k,{children:j.jsx(c("VideoPlayerPlaybackControl.react"),{})})}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[a?null:j.jsx(k,{children:j.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b})}),j.jsx(k,{children:j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})})]})]})});return j.jsxs(j.Fragment,{children:[g,f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatVideoPlayer.react",["CometProductAttribution","GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","MWVideoPlayerControllerContext.react","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","getVideoPlayerAutoplayProps","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.useEffect,m={link_context:null,navChainContent:null,rootName:"MWChatMediaRoot.react",tap_point:"unexpected",tracePolicy:"comet.sharedmediaviewer.media",trackingNodes:null},n=function(a,b){switch(a){case"mwchat":return j.jsx(c("MWChatVideoPlayerControls.react"),{hideExpandButton:b===!0});case"default":return j.jsx(c("VideoPlayerDefaultControls.react"),{});case"none":return null;default:return null}};function o(a){a=a.children;var b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("MWVideoPlayerControllerContext.react"));l(function(){e.ref.current=b;return ,[e,b]);return a}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.autoPlaySetting,e=a.controls,f=a.fbid,g=a.hdSrc,h=a.hideExpandButton,i=a.initialForceHD,k=a.originalHeight,l=a.originalWidth,p=a.sdSrc,q=a.startTimestamp;a=a.volumeSetting;var r=d("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting();i=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:g,hdSrcPreferred:(g=i)!=null?g:!1,isExternalMedia:!1,sdSrc:p});if(i instanceof Error)return null;g=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:i,typename:"VideoPlayerProgressiveImplementation"}];i=c("getVideoPlayerAutoplayProps")(d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult("unknown",(p=b)!=null?p:r,!0),c("gkx")("6167")?"respect_user_settings":"do_not_autoplay",null);b=c("computeAspectRatio")(l,k);return j.createElement(c("VideoPlayerX.react"),babelHelpers["extends"]({},i,{implementations:g,key:f,loopCount:-1,playerOriginOverride:"messaging",portalingEnabled:!1,productAttribution:{v2:[d("CometProductAttribution").getProductAttributionEntryV2(m)]},startTimestamp:q,subOrigin:"messenger_thread",videoFBID:f,videoPixelsAspectRatio:b,volumeSetting:a}),j.jsx(c("VideoPlayerSurface.react"),{children:j.jsx(o,{children:n(e,h)})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenMediaManagerUtils",["fbt","I64","LSFactory","LSGenerateTraceId","LSIntEnum","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","OfflineThreadingId","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","justknobx","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function a(a){return(k||(k=b("Promise"))).resolve(d("OfflineThreadingId").createForItemsInOrder(a))}function e(a,e,f,g,j,m,n,o,p,q,r){j===void 0&&(j=c("emptyFunction"));m===void 0&&(m=c("emptyFunction"));n===void 0&&(n=c("emptyFunction"));var s=function(b,e){e=e.event;if(!e.lengthComputable)return;var f=e.loaded/e.total;c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").updateMediaStaging(a,b,},"readwrite"))},t=function(j,o){if(o==null){var p="";if(!c("justknobx")._("899"))return;c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").deleteMediaStaging(a,j).then(function(){return l(a,j)}).then(function(){var a=f.find(;a!=null&&a[0].type==="application/zip"?(g(h._("Formato de archivo no v\u00e1lido"),h._("El archivo que has seleccionado no tiene un formato v\u00e1lido.")),p="null_fbid_invalid_file_format"):(g(h._("Error al subir")),p="null_fbid_other")})},"readwrite"),;return}c("promiseDone")(a.runInTransaction(function(a){var f=d("MWPOpenComposerUtils").updateMediaStaging(a,j,function(a){return babelHelpers["extends"]({},a,{fbid:(i||(i=d("I64"))).of_float(o),progress:1})}),g=a.table("media_send_jobs").get(j).then(function(f){if(f==null)return(k||(k=b("Promise"))).resolve();var g=c("LSFactory")(a),h=f.offlineThreadingId,l=f.offlineAttachmentId;return c("LSMarkSubJobCompletedV2StoredProcedure")(g,{fbid:(i||(i=d("I64"))).of_float(o),offlineAttachmentId:j}).then(.then(function(){return d("MWPOpenComposerUtils").updateAttachment(a,e,h,l,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:o.toString()})})}).then(function(){return d("MWPOpenComposerUtils").resumeSendJob(g,h,c("LSGenerateTraceId")())})});return(k||(k=b("Promise"))).all([f,g])},"readwrite"),function(){return m(j)})},u=function(b,e){c("promiseDone")(a.runInTransaction(function(a){return d("MWPOpenComposerUtils").updateMediaStaging(a,b,.then(function(){return l(a,b)})},"readwrite"),function(){var a;n((a=e.response.getErrorDescriptionString())!=null?a:"unknown_upload_failure",b)})},v=f.map(function(a){return a[1]}),w=f.map(;return d("MWPComposerMediaUploadUtil").startUpload(j,s,t,u,void 0,w,v,o,p,void 0,q,r)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield a.table("media_send_jobs").get(b));if(b==null)return;b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("messages").index("optimistic")).getKeyRange(b.offlineThreadingId)));if(b==null)return;b=babelHelpers["extends"]({},b,{sendStatusV2:(j||(j=d("LSIntEnum"))).ofNumber(4)});yield a.table("messages").put(b)});return m.apply(this,arguments)}g.preprocess=a;g.upload=e}),98);
__d("MWPinnedMessagesDialogNUXFactoryRequireNUX.react",["nux:345"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return b("nux:345")==null?void 0:b("nux:345")("WEB_MSGR_PINNED_MESSAGES_NUX")};c=a;g["default"]=c}),98);
__d("useMWPinnedMessageLimitReached",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=50;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("msg_pinned_messages_v2")).getKeyRange(a)},[b,a],f.id+":29").length;return e>=i}g["default"]=a}),98);
__d("LSSetPinnedMessage",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("pinned_message_state",a[3]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"set_pinned_message_search",c.i64.cast([0,751]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.sequence([function(b){return c.forEach(c.db.table(205).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(b){return c.forEach(c.filter(c.db.table(205).fetch([[[a[0],a[1],a[2]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]&&c.i64.eq(b.pinnedTimestampMs,a[2])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(205).add({threadKey:a[0],messageId:a[1],pinnedTimestampMs:a[2],authorityLevel:c.i64.cast([0,80])})}]):c.forEach(c.db.table(205).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticSetPinnedMessage",["LSIssueNewTaskWithExtraOperations","LSSetPinnedMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.i64.eq(a[3],c.i64.cast([0,2]))?c.storedProcedure(b("LSSetPinnedMessage"),a[0],a[1],a[2],c.i64.cast([0,1])):c.storedProcedure(b("LSSetPinnedMessage"),a[0],a[1],a[2],a[3])},function(e){return c.i64.eq(a[3],c.i64.cast([0,2]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[0].set("pinned_location",c.i64.cast([0,1])),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,430]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.i64.eq(a[3],c.i64.cast([0,1]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,430]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.i64.eq(a[3],c.i64.cast([0,0]))?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["unpin_msg_v2","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,431]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.resolve(0)}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticSetPinnedMessageStoredProcedure",["LSOptimisticSetPinnedMessage"],(,98);
__d("LSPinnedMessageState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_PINNED:0,PINNED:1,PINNED_AND_FEATURED:2});f["default"]=a}),66);
__d("useMWTogglePinMessage",["I64","LSFactory","LSOptimisticSetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPActor.react","MWPBumpEntityKey","ServerTime","asyncToGeneratorRuntime","promiseDone","react","requireDeferred","useMWPIsMessagePinned","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback,l=c("requireDeferred")("MWLogMessageAction").__setRef("useMWTogglePinMessage");function a(a,e){var f=(h||(h=c("useReStore")))(),g=c("useMWPIsMessagePinned")(a),j=a.messageId,m=a.threadKey,n=d("ServerTime").getMillis(),o=d("MWPActor.react").useActor(),p=function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f.runInTransaction(function(b){var h=g?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,k=g?"unpin":"pin";e==="message_dot_menu"?l.onReady(function(b){return c("promiseDone")(b.log(f,a.messageId,m,e,k,void 0,void 0,void 0,a.senderId,void 0,o))}):k==="unpin"&&e==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetPinnedMessageStoredProcedure")(c("LSFactory")(b),{messageId:j,pinnedTimestampMs:(i||(i=d("I64"))).of_int32(n),state:i.of_int32(h),threadKey:m})},"readwrite")});return ();return k(p,[f,g,j,(i||(i=d("I64"))).to_string(m),n])}g["default"]=a}),98);
__d("MWPinMessageMenuItem.react",["fbt","JSResourceForInteraction","MWPinnedMessagesDialogNUXFactoryRequireNUX.react","MWXMenuItem.react","promiseDone","react","useMWPIsMessagePinned","useMWPinnedMessageLimitReached","useMWTogglePinMessage","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWPinnedMessageLimitReachedDialog.react").__setRef("MWPinMessageMenuItem.react");function a(a){var b=a.message,d=a.onPinCompleted,e=h._("Fijar"),f=h._("Desfijar"),g=c("useMWPIsMessagePinned")(b),i=c("MWPinnedMessagesDialogNUXFactoryRequireNUX.react")();a=c("useMWXLazyDialog")(k);var l=a[0],m=c("useMWTogglePinMessage")(b,"message_dot_menu"),n=c("useMWPinnedMessageLimitReached")(b.threadKey);a=function(a){return i!=null?i({children:a,dialogProps:{onClose:function(){},pinMessageHandler:function(){return c("promiseDone")(m(),d)}}}):j.jsx(j.Fragment,{children:a(function(){return c("promiseDone")(m(),d)})})};var o=function(a){return j.jsx(c("MWXMenuItem.react"),{onClick:function(d){if(n&&!g)return l({onClose:function(){},threadKey:b.threadKey});!g?a():c("promiseDone")(m())},primaryText:g?f:e})};return a(o)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2051889");b=d("FalcoLoggerInternal").create("ls_message_action",a);e=b;g["default"]=e}),98);
__d("logMAWEditMessage",["I64","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsMessageActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){if(d("LSMessagingThreadTypeUtil").isSecure(a))return;c("LsMessageActionFalcoEvent").log(function(){return{action:{type:f},error:{message:void 0},extra:{is_community_chats:d("LSMessagingThreadTypeUtil").isPublicCMThread(a)?"1":"0"},message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint").messageActions,id:"",recipient_id:(h||(h=d("I64"))).to_string(e)},thread:{group_size:"",id:b!=null?(h||(h=d("I64"))).to_string(b):void 0,type:d("LSMessagingThreadTypeUtil").isGroup(a)?2:1}}})}g["default"]=a}),98);
__d("MAWEditMenuItem.react",["fbt","MAWEditMessageContext.react","MWPActor.react","MWPReplyContext.react","MWXMenuItem.react","logMAWEditMessage","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=a.message,e=a.threadType;a=k(d("MAWEditMessageContext.react").Context);var f=a.setEditMessageData;a=k(d("MWPReplyContext.react").MWPReplyContext);var g=a.clearReply,i=a.reply,l=d("MWPActor.react").useActor();a=h._("Editar");return j.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:function(){i!=null&&g(b.threadKey,!0),f({messageId:b.messageId,threadKey:b.threadKey,timestampMs:b.timestampMs}),c("logMAWEditMessage")(e,b.threadKey,l,89)},primaryText:a,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2CreatePromptMenuItem.react",["fbt","CometRelay","JSResourceForInteraction","MWDidQueryPromptsNux","MWShowMessagePromptPopoverContext.react","MWV2CreatePromptMenuItemQuery.graphql","MWXMenuItem.react","MessengerWebUXLogger","promiseDone","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("MWV2CreatePromptMenuItem.react");function m(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MWV2CreatePromptMenuItemQuery.graphql"),{}).toPromise()}}function a(){var a=d("MWShowMessagePromptPopoverContext.react").useMWShowMessagePromptPopoverContext(),b=a[0],e=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();a=c("useMWXLazyDialog")(l);var f=a[0],g=m();a=function(){b.current==null?void 0:b.current(),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||(d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),c("promiseDone")(g(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&f({asCreator:!0,rendererStrategy:a})})),e==null?void 0:e({eventName:"message_create_prompt"})};return k.jsx(c("MWXMenuItem.react"),{onClick:a,primaryText:h._("Crear tema")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ForwardMenuItem.react",["fbt","LSMessagingThreadTypeUtil","MWXMenuItem.react","react","useMWV2MessageForwardAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.message;a=a.threadType;var e=d("LSMessagingThreadTypeUtil").isSecure(a);e=c("useMWV2MessageForwardAction")(e,b,a);b=h._("Reenviar");return j.jsx(c("MWXMenuItem.react"),{"aria-label":b,onClick:e,primaryText:b,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageReactionMenuItem.react",["fbt","MWChatReactionsActionContainer.react","MWV2MessageRowActionsContext.react","MWXMenuItem.react","ODS","emptyFunction","react","useMWChatReactionsActionContainerProps.react","useMWV2ShouldDisableReactions.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useCallback,m=b.useEffect;function a(a){var b=a.closeActionsMenu,e=a.message,f=a.onReactionsSendLogger,g=a.reactionsPopoverResource;a=a.threadType;var i=h._("Reaccionar"),n=c("useMWV2ShouldDisableReactions.react")(a,e.threadKey),o=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),p=o.openReactionsMenu,q=l(function(){p.current=c("emptyFunction");return},[p]);m(function(){return q},[q]);o=c("useMWChatReactionsActionContainerProps.react")(e,b,a,f,c("emptyFunction"),g);return n?null:k.jsx(c("MWChatReactionsActionContainer.react"),babelHelpers["extends"]({},o,{children:function(a,b,e,f,g,h){e=function(){b(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")};p.current=e;return k.jsx(c("MWXMenuItem.react"),{"aria-label":i,onClick:e,onHoverIn:f,onHoverOut:g,onPressIn:h,preventClosingMenuOnSelect:!0,primaryText:i,ref:a})}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSDeleteMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0]]]]),,function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteMessageStoredProcedure",["LSDeleteMessage"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSDeleteMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("WebUserFlowLoggingDataContextProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;var j=b.useMemo,k=b.useRef,l=c({loggingDataRef:{current:{}},setLoggingData:function(){}});function a(a){a=a.children;var b=k({}),c=function(a){b.current=a},d=j(function(){return{loggingDataRef:b,setLoggingData:c}},[]);return i.jsx(l.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.WebUserFlowLoggingDataContext=l;g.WebUserFlowLoggingDataContextProvider=a}),98);
__d("MWV2RemoveMenuItem.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSDeleteMessageStoredProcedure","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWPActor.react","MWV2LogMessageClick","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","gkx","promiseDone","react","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useContext,o=b.useRef,p=c("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2RemoveMenuItem.react");function a(a){var b=a.canRemoveMessageGlobally,e=a.learnMoreOnMessageRemove,f=a.message,g=a.onRemoveMessageLogger,l=a.threadType;a=a.title;var q=(i||(i=c("useReStore")))(),r=h._("Suprimir mensaje"),s=f.messageId,t=f.threadKey,u=c("MWCMIsAnyCMThread")(l)&&(j||(j=d("I64"))).equal(f.sendStatusV2,(k||(k=d("LSIntEnum"))).ofNumber(4)),v=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(q.runInTransaction(function(a){return c("LSDeleteMessageStoredProcedure")(c("LSFactory")(a),{messageId:s,threadKey:t})},"readwrite"))},[q,t,s]),w=o(null),x=d("MWPActor.react").useActor(),y=(j||(j=d("I64"))).equal(f.senderId,x),z={learnMoreOnMessageRemove:e,message:f,title:a},A={canRemoveMessageGlobally:b,learnMoreOnMessageRemove:e,message:f,removeLogger:g,threadType:l,title:a},B=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();x=n(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext);var C=x.setLoggingData;b=c("useMWXEntryPointDialog")(c("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),{});var D=b[0];e=c("useMWXLazyDialog")(p);var E=e[0],F=function(){d("MWCMThreadTypes.react").isJoinedCMThread(l)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(l)||y&&!c("gkx")("9197")&&!f.isUnsent?D(z):E(A)};return m.jsx(c("MWXMenuItem.react"),{"aria-label":r,onClick:function(){var a={extraData:{actor_type:y?"sender":"receiver"},flowInstanceId:c("uuidv4")(),threadKey:t,threadType:l};B==null?void 0:B(babelHelpers["extends"]({},a,{eventName:"message_remove_attempt"}));C(a);d("MWV2LogMessageClick").log(q,f,45);return f.subscriptErrorMessage!=null&&u?v():F()},primaryText:h._("Suprimir"),ref:w,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyMenuItem.react",["fbt","MWPReplyContext.react","MWXMenuItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=a.message;a=h._("Responder");var e=k(d("MWPReplyContext.react").MWPReplyContext),f=e.setReply;return j.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:function(){return f({messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey)},primaryText:a,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFRX.entrypoint",["CometFRXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.conformed_interface_override,e=a.entryPoint,f=a.id,g=a.location;a=a.responsible_id;return{queries:{frx:{parameters:c("CometFRXQuery$Parameters"),variables:{input:{conformed_interface_override:b,entry_point:e,id:f,location:g,responsible_id:a},scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometFRX.react").__setRef("CometFRX.entrypoint")};g["default"]=a}),98);
__d("FRXEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVITY_LOG:"activity_log",AGORA_GROUPS:"agora_groups",AGORA_RECENT_NEWS:"agora_recent_news",BLOCK_BUTTON:"block_button",BLOCK_COMPOSER:"block_composer",BUSINESS_NOTIFICATION_MESSAGE_REPORT_BUTTON:"business_notification_message_report_button",CHEVRON_BUTTON:"chevron_button",CHEVRON_TAGS:"chevron_tags",COLLEGES_LIVE_CHAT_REPORT_TO_FB:"colleges_live_chat_report_to_fb",COMMENT:"comment",CONTENT_OVERLAY:"content_overlay",CROWDSOURCING_REPORT:"crowdsourcing_report",DELETE_CONTENT_REPORT:"delete_content_report",DELETE_CONVERSATION_REPORT:"delete_conversation_report",DEVELOPER_FEEDBACK_BUTTON:"developer_feedback_button",EVENTS_REPORTING:"events_reporting",FEEDBACK_BUTTON:"feedback_button",FOX_CHEVRON_TAGS:"fox_chevron_tags",GEMSTONE_MEDIA:"gemstone_media",GEMSTONE_MESSAGING:"gemstone_messaging",GEMSTONE_PROFILE:"gemstone_profile",GROUP_MALL_RELATED_GROUPS_CHAINING:"group_mall_related_groups_chaining",GROUP_MALL_RHC:"group_mall_rhc",GROUPS_ADMIN_FEEDBACK:"groups_admin_feedback",GROUPS_DISCOVER:"groups_discover_page",GROUPS_DISCOVER_HIDE_BUTTON:"groups_discover_hide_button",GROUPS_JOIN_QUESTION:"groups_join_question",GROUPS_LEAVE:"groups_leave",GROUPS_LEAVE_BROWSE:"groups_leave_browse",GROUPS_LEAVE_SPECIAL:"groups_leave_special",GROUPS_PARTICIPATION_QUESTION:"groups_participation_question",GROUPS_PENDING_QUEUE:"groups_pending_queue",GROUPS_POLL:"groups_poll",GROUPS_REPORT:"groups_report",GROUPS_REPORT_LONG_PRESS_TO_ADMIN:"groups_report_long_press_to_admin",GROUPS_REPORT_TO_ADMIN:"groups_report_to_admin",GROUPS_RULE:"groups_rule",GROUPS_TAB_CHAT_ROW:"groups_tab_chat_row",GROUPS_TAB_DISCOVER_FIRST:"groups_tab_discover_first",GROUPS_TRANSPARENCY:"groups_transparency",HATE_CTA:"hate_cta",HELP_NAV_BUTTON:"help_nav_button",HIDE_AD_BUTTON:"hide_ad_button",HIDE_AD_XOUT_BUTTON:"hide_ad_xout_button",IN_PROFILE_MEDIA_SELECTOR:"in_profile_media_selector",INSTANT_GAMES_BOT_FEEDBACK_LINK:"instant_games_bot_feedback_link",LEAVE_CONVERSATION_REPORT:"leave_conversation_report",LOCAL_COMMUNITY_DEMOTE_CONTENT:"local_community_demote_content",LOCAL_COMMUNITY_MOD_HUB_DEMOTE:"local_community_mod_hub_demote",LOCAL_COMMUNITY_POST_REPORT_TO_MOD:"local_community_post_report_to_mod",LOCAL_LIVE_CHAT_REPORT_TO_FB:"local_live_chat_report_to_fb",MARK_AS_SOLD_BUTTON:"mark_as_sold_button",MARK_AS_SUSPICIOUS_BUTTON:"mark_as_suspicious_button",MESSAGE_MEDIA_BUBBLE_REPORT:"message_media_bubble_report",MOBILE_GYSJ:"mobile_gysj",NOTIFICATIONS_JEWEL:"notifications_jewel",PAGE_UNFOLLOW:"page_unfollow",PAGE_UNFOLLOW_CHEVRON:"page_unfollow_chevron",PAGE_UNLIKE:"page_unlike",PAGE_VERIFICATION_BADGE_OPTION:"page_verification_badge_option",PAGE_VERIFICATION_PAGE_OPTION:"page_verification_page_option",POLITICAL_AD_VERIFIED_VOICE:"political_ad_verified_voice",PROACTIVE_WARNING_BANNER:"proactive_warning_banner",PROACTIVE_WARNING_COMPOSER_BLOCK:"proactive_warning_composer_block",PROACTIVE_WARNING_POPOVER:"proactive_warning_popover",PROACTIVE_WARNING_STRAP:"proactive_warning_strap",PROFILE_REPORT_BUTTON:"profile_report_button",PROFILE_REPORT_FLOW:"profile_report_flow",PROFILE_SUBMIT_FEEDBACK:"profile_submit_feedback",QUICK_REPORT_ACTION:"quick_report_action",RELATED_SEARCHES:"related_searches",REPORT_AD_BUTTON:"report_ad_button",REPORT_AD_XOUT_BUTTON:"report_ad_xout_button",REPORT_BUTTON:"report_button",REPORT_BUTTON_DETAILED_FRX:"report_button_detailed_frx",REPORT_FROM_PREVIEW:"report_from_preview",REPORT_JOB_BUTTON:"report_job_button",REPORT_LONG_PRESS:"report_long_press",ROOMS_POST_CALL_HIGH_RATING:"rooms_post_call_high_rating",ROOMS_POST_CALL_LOW_RATING:"rooms_post_call_low_rating",ROOMS_POST_CALL_LOW_RATING_DETAILED:"rooms_post_call_low_rating_detailed",SCHOOL_COMMUNITY_TAGS:"school_community_tags",SEARCH_TYPEAHEAD:"search_typeahead",SNACKBAR:"snackbar",STORY_ATTACHMENT_SHARE:"story_attachment_share",STRUCTURED_REPORT_BUTTON:"structured_report_button",THREADLIST_MENU_REPORT:"threadlist_menu_report",TOMBSTONE:"tombstone",TOOLBAR_REPORT_ACTION:"toolbar_report_action",UNKNOWN:"unknown",UNOWNED_PAGE_ACTION_MENU_REPORT_PAGE:"unowned_page_action_menu_report_page",UPSELL_AFTER_BLOCK_BOTTOM_SHEET:"upsell_after_block_bottom_sheet",USER_CONTROL_MENU:"user_control_menu",WORKPLACE_REPORT_AND_HIDE_BUTTON:"workplace_report_and_hide_button",WORKPLACE_REPORT_BUTTON:"workplace_report_button",WORKROOM_REPORT_BUTTON:"workroom_report_button",X_OUT:"x_out"});f["default"]=a}),66);
__d("LSReportMessageInCommunityChannelImplWeb",["LSIssueNewError","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("message_id",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[7],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("thread_key"),d[2],d[5]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[4]),c.i64.cast([0,374]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[3],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSReportMessageInCommunityChannelProxy",["LSReportMessageInCommunityChannelImplWeb"],(function(a,b,c,d,e,f,g){g["default"]=c("LSReportMessageInCommunityChannelImplWeb")}),98);
__d("LSReportMessageInCommunityChannel",["LSReportMessageInCommunityChannelProxy"],(function(a,b,c,d,e,f,g){f.exports=c("LSReportMessageInCommunityChannelProxy")}),34);
__d("LSReportMessageInCommunityChannelStoredProcedure",["LSReportMessageInCommunityChannel"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSReportMessageInCommunityChannel").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWXConfirmationDialog",["fbt","JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback,k=c("JSResourceForInteraction")("MWXConfirmationDialog.react").__setRef("useMWXConfirmationDialog");function a(){var a=c("useMWXLazyDialog")(k),b=a[0];return j(function(a,c,d){var e=a.cancel;e=e===void 0?h._("Cancelar"):e;var f=a.confirm;f=f===void 0?h._("Confirmar"):f;a=babelHelpers.objectWithoutPropertiesLoose(a,["cancel","confirm"]);b(babelHelpers["extends"]({cancel:e,confirm:f},a),function(a){return a?c():d==null?void 0:d()})},[b])}g["default"]=a}),98);
__d("useReStoreIfAvailable",["useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=c("useReStore")))()}g["default"]=a}),98);
__d("useMWV2ReportMessage.react",["fbt","I64","LSFactory","LSIntEnum","LSInternetConnectionState","LSReportMessageInCommunityChannelStoredProcedure","ReQL","asyncToGeneratorRuntime","promiseDone","react","useMWXConfirmationDialog","useMWXPushToast","useReStoreIfAvailable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(i||d("react")).useCallback;function a(a,e){var f=c("useReStoreIfAvailable")(),g=c("useMWXConfirmationDialog")(),i=(j||(j=d("I64"))).isI64(a)?a:(j||(j=d("I64"))).of_string(a),m=c("useMWXPushToast")(),n=l(function(){if(f==null)return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f.runInTransaction(function(a){return c("LSReportMessageInCommunityChannelStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:i})},"readwrite");var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("connectivity_status"))));a!=null&&(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))&&m({body:h._("Has denunciado un mensaje a los administradores del grupo.")})})())},[f,i,e,m]);a=l(function(){return g({body:h._("Si denuncias este mensaje, se enviar\u00e1 a los administradores del grupo para que lo revisen."),confirm:h._("Denunciar"),title:h._("\u00bfDenunciar mensaje a los administradores del grupo?")},n)},[g,n]);return a}g["default"]=a}),98);
__d("MWV2ReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","MWXMenuItem.react","qex","react","useMWLSMessageReportingToken","useMWV2ReportMessage.react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.isSubthread;b=b===void 0?!1:b;a=a.message;var d=c("useMWLSMessageReportingToken")(a.messageId,a.threadKey);d=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),{entryPoint:"groups_report_long_press_to_admin",id:d,location:b?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details"});var e=d[0];b=c("useMWV2ReportMessage.react")(a.threadKey,a.messageId);d=h._("Enviar denuncia a los administradores del grupo");a=(a=c("qex")._("73"))!=null?a:!1;return j.jsx(c("MWXMenuItem.react"),{"aria-label":d,onClick:a?b,primaryText:d,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReportMessageToFBMenuItem.react",["CometFRX.entrypoint","MWXMenuItem.react","react","useMWLSMessageReportingToken","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isSubthread;b=b===void 0?!1:b;var d=a.menuItemLabel,e=a.messageId,f=a.onReportLogger;a=a.threadKey;e=c("useMWLSMessageReportingToken")(e,a);a={entryPoint:"report_long_press",id:e,location:b?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details"};var g={};e=a;b=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),e);var h=b[0],j=function(){return h(g)};return i.jsx(c("MWXMenuItem.react"),{"aria-label":d,onClick:primaryText:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMenu.react",["cr:12346","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:12346")}),98);
__d("useMWEntrypoint",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),b="inbox";switch(a){case"ChatTab":b="popup_chat_box";break;case"RoomsSideChat":b="rooms_lobby";break}return b}g["default"]=a}),98);
__d("MWFalcoFeatureEventLogger",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g){c("gkx")("1471")&&c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:a,event_name:b,is_secured:d("LSMessagingThreadTypeUtil").isSecure(g),other_user_fbid:e!=null?(h||(h=d("I64"))).to_string(e):null,thread_fbid:(h||(h=d("I64"))).to_string(f)}})}g.logEvent=a}),98);
__d("getMWOtherUserFBID",["I64","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=d("LSMessagingThreadTypeUtil").isOneToOne(e);if(!f)return null;f=d("LSMessagingThreadTypeUtil").isSecure(e);if(!f)return c;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants"),["contactId"]).getKeyRange(c).filter(.take(1)));return e==null?void 0:e.contactId});return i.apply(this,arguments)}g.getMWOtherUserFBID=a}),98);
__d("useMWFalcoFeatureEventLogger",["MWFalcoFeatureEventLogger","MWPActor.react","getMWOtherUserFBID","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPActor.react").useActor();return j(function(c,g){d("getMWOtherUserFBID").getMWOtherUserFBID(e,f,a,b).then(function(e){d("MWFalcoFeatureEventLogger").logEvent(c,g,e,a,b)})["catch"](function(){})},[e,f,a,b])}g["default"]=a}),98);
__d("useMWPCanUserEditMessage",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWCMIsCMSubthread","MWCMThreadTypes.react","MWPActor.react","ReQL","ReQLSuspense","gkx","qex","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=5,l=(j||(j=d("I64"))).of_int32(15*60);function m(a,b){a=(j||(j=d("I64"))).of_float(a/1e3);b=j.div(b,j.of_int32(1e3));a=j.sub(a,b);return j.lt(a,l)}function a(a,b){var e,g,l=d("MWPActor.react").useActor(),o=(h||(h=c("useReStore")))(),p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[o,a.messageId,a.threadKey],f.id+":61"),q=c("useServerTime")();if(b==null)return!1;e=(j||(j=d("I64"))).to_int32((e=a.editCount)!=null?e:(j||(j=d("I64"))).zero)<k;q=m(q.getTime(),a.timestampMs);l=j.equal(a.senderId,l);var r=a.text!=null&&a.text!=="";g=j.equal((g=a.hotEmojiSize)!=null?g:(j||(j=d("I64"))).zero,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE));p=((p=p==null?void 0:p.hasXma)!=null?p:!1)||a.mentionIds!=null;var s=a.isUnsent===!1&&(j||(j=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));return e&&q&&l&&r&&g&&!p&&s&&n(b)}function n(a){var b=a.threadType;if(d("LSMessagingThreadTypeUtil").isWorkThread(a.threadSubtype))return!1;if(d("LSMessagingThreadTypeUtil").isSecure(b))return c("gkx")("8016");if(d("MWCMThreadTypes.react").isBroadcastThread(b)||d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(b)){var e;return c("gkx")("8930")||((e=c("qex")._("303"))!=null?e:!1)}if(c("MWCMIsAnyCMThread")(b)||c("MWCMIsCMSubthread")(b)){return c("gkx")("8930")||((e=c("qex")._("305"))!=null?e:!1)}return d("LSMessagingThreadTypeUtil").isOpenFnFThread(a)?!0:!1}g["default"]=a}),98);
__d("MWV2ContextualActionsMenu.react",["fbt","LSMessagingThreadTypeUtil","MAWEditMenuItem.react","MWChatMessageBothOrientationFocusGroup.react","MWMessageRowActions.react","MWPinMessageMenuItem.react","MWV2CreatePromptMenuItem.react","MWV2ForwardMenuItem.react","MWV2MessageReactionMenuItem.react","MWV2RemoveMenuItem.react","MWV2ReplyMenuItem.react","MWV2ReportMessageMenuItem.react","MWV2ReportMessageToFBMenuItem.react","MWXMenu.react","MWXPopover.react","WebUXLoggingSurfaceContextProvider","cr:1111","cr:1200","cr:1787","cr:4140","cr:5750","cr:5790","cr:6088","focusScopeQueries","react","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPCanUserEditMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=a.attachment,f=a.canRemoveMessageGlobally;a.closeActionsMenu;var g=a.extraActions,i=a.learnMoreDialogType,k=a.learnMoreOnMessageRemove,l=a.message,m=a.onClose,n=a.onRemoveMessageLogger,o=a.removeMessageDialogTitle,p=a.showCreatePrompt,q=a.showCreateSubthread,r=a.showFeedbackOptionsInContextualMenu,s=a.showForwardActionInContextualMenu,t=a.showLearnMoreInContextualMenu,u=a.showPinMessageActionInContextualMenu,v=a.showReactionInContextualMenu,w=a.showReplyActionInContextualMenu,x=a.showReportCommunityMessageToAdmin,y=a.showReportCommunityMessageToFacebook,z=a.showUnsendInContextualMenu;a=a.thread;var A=c("useMWEntrypoint")(),B=a==null?void 0:a.threadType,C=c("useMWFalcoFeatureEventLogger")(l.threadKey,B),D=h._("M\u00e1s acciones");a=c("useMWPCanUserEditMessage")(l,a);return j.jsx(c("MWXPopover.react"),{withArrow:!0,children:j.jsx(d("MWChatMessageBothOrientationFocusGroup.react").keyCommands,{children:j.jsx(d("MWChatMessageBothOrientationFocusGroup.react").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:j.jsx(c("MWXMenu.react"),{label:D,size:"full",children:j.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_view_message_options",children:[w?j.jsx(c("MWV2ReplyMenuItem.react"),{message:l}):null,v?j.jsx(c("MWV2MessageReactionMenuItem.react"),{closeActionsMenu:m,message:l,threadType:B}):null,a?j.jsx(c("MAWEditMenuItem.react"),{message:l,threadType:B}):null,z?j.jsx(c("MWV2RemoveMenuItem.react"),{canRemoveMessageGlobally:f,learnMoreOnMessageRemove:k,message:l,onRemoveMessageLogger:n,threadType:B,title:o}):null,s?j.jsx(c("MWV2ForwardMenuItem.react"),{message:l,threadType:B}):null,b("cr:6088")&&t&&i&&i===d("MWMessageRowActions.react").LearnMoreDialogType.AI_STICKERS?j.jsx(b("cr:6088"),{dialogType:i}):null,b("cr:5750")!=null&&q?j.jsx(b("cr:5750"),{message:l}):null,p?j.jsx(c("MWV2CreatePromptMenuItem.react"),{}):null,u?j.jsx(c("MWPinMessageMenuItem.react"),{message:l,onPinCompleted:):null,x?j.jsx(c("MWV2ReportMessageMenuItem.react"),{message:l}):null,y?j.jsx(c("MWV2ReportMessageToFBMenuItem.react"),{isSubthread:d("LSMessagingThreadTypeUtil").isCMSubthread(B),menuItemLabel:h._("Enviar denuncia a Facebook"),messageId:l.messageId,threadKey:l.threadKey}):null,b("cr:5790")?j.jsx(b("cr:5790"),{message:l}):null,b("cr:1200")!=null&&r&&j.jsx(b("cr:1200"),{message:l}),b("cr:1111")!=null&&r&&j.jsx(b("cr:1111"),{message:l}),g,b("cr:4140")?j.jsxs(j.Fragment,{children:[b("cr:1787")&&j.jsx(b("cr:1787"),{}),j.jsx(b("cr:4140"),{attachment:e,message:l})]}):null]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useOpenThreadAfterJoin",["CurrentEnvironment","MWLSThreadDisplayContext","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","react","useCometRouterDispatcher","useMWChatOpenTabForGroup"],(,98);
__d("FBLikeSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a){var b=a.alt,c=a.className,d=a.color;a=a.size;a=a===void 0?20:a;var e=b!=null,f=j();return i.jsxs("svg",{"aria-hidden":e?void 0:!0,"aria-labelledby":e?f:void 0,className:c,height:a,viewBox:"0 0 16 16",width:a,children:[e&&i.jsx("title",{id:f,children:b}),i.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z",fill:d}),i.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z",fill:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MlsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1401");b=d("FalcoLoggerInternal").create("mls_message_action",a);e=b;g["default"]=e}),98);
__d("MWLogMessageAction",["I64","MWLSContactTypeExactUtils","MlsMessageActionFalcoEvent","ReQL","asyncToGeneratorRuntime","coerceMessagingThreadTypeToLSThreadType"],(function(a,b,c,d,e,f,g){"use strict";var h;unction i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i,j,k,l,m,n){var o,p=(yield (o=d("ReQL")).firstAsync(o.fromTableAscending(a.table("threads")).getKeyRange(e))),q=(yield o.toArrayAsync(o.fromTableAscending(a.table("participants")).getKeyRange(e))),r=(yield o.firstAsync(o.mergeJoin(o.fromTableAscending(a.table("participants")).getKeyRange(e),o.fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1].contactTypeExact;return d("MWLSContactTypeExactUtils").isIgContact(a)})))!=null;p!=null&&c("MlsMessageActionFalcoEvent").log(function(){var a;return{action:g,browser_window_height:window.innerHeight,browser_window_width:window.innerWidth,device_screen_height:window.screen.height,device_screen_width:window.screen.width,error_text:j,extra:i,group_size:String(q.length),is_xac_thread:r,ls_thread_type:c("coerceMessagingThreadTypeToLSThreadType")(p.threadType),message_type:(a=m)!=null?a:"text",mid:b,reaction:k,recipient_id:l!=null?(h||(h=d("I64"))).to_string(l):void 0,sender_id:(h||(h=d("I64"))).to_string(n),source:f,thread_id:h.to_string(e)}})});return i.apply(this,arguments)}g.log=a}),98);
__d("ZenonUserActionLoggerCommon",["cr:11085"],(,98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a==null)return null;a=new(h||(h=c("URI")))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("useMakeRoomRingback",["I64","LSIntEnum","MWThreadKey.react","Promise","RTWebPreCallHooks","ReQL","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useCallback;function a(){var a=d("RTWebPreCallHooks").useJoinMeetupCallback(),e=(i||(i=c("useReStore")))(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return m(function(g){var i=g.linkUrl;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(f)).then(function(e){if(e!=null){e=(j||(j=d("I64"))).equal(e.threadType,(k||(k=d("LSIntEnum"))).ofNumber(1))?c("getRingbackUrl")(i,(j||(j=d("I64"))).to_string(e.threadKey)):(c("recoverableViolation")("Cannot ring a non user thread","rtc_www"),i);return(h||(h=b("Promise"))).resolve(a(e))}c("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return(h||(h=b("Promise"))).resolve()}),void 0,function(a){c("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[a,f,e])}g["default"]=a}),98);
__d("CautionTriangleFilled12.svg.react",["react"],(,98);
__d("ChevronRightFilled12.svg.react",["react"],(,98);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(,98);
__d("WebGraphQLLegacyHelper",["invariant"],(,98);
__d("XWebGraphQLMutationController",["XController"],(,null);
__d("base62",[],(,66);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(,98);
__d("XMNCommerceCTAPostProcessController",["XController"],(,null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(.send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor"],(function(a,b,c,d,e,f,g){"use strict";unction b(a,b){c("MNCommerceCTAProcessor").process(a,(a=b)!=null?a:void 0)}g.logCTAClick=a;g.$$process=b}),98);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743853");b=d("FalcoLoggerInternal").create("ls_message_click",a);e=b;g["default"]=e}),98);