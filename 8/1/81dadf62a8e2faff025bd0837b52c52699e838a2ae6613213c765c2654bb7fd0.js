(self.webpackChunkbuzzoola_tube=self.webpackChunkbuzzoola_tube||[]).push([[41],{8485:9712:function(t,e,i){"use strict";i(9512),i(148),i(1067);var n,r=i(1441);n={1:[function(t,e,i){unction r(t){return"function"==typeof t}xports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=n.prototype.emit=function(t){var e,i,n,o,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(a(i=this._events[t]))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),l=1;l<n;l++)o[l-1]=arguments[l];i.apply(this,o)}else if(s(i)){for(n=arguments.length,o=new Array(n-1),l=1;l<n;l++)o[l-1]=arguments[l];for(n=(c=i.slice()).length,l=0;l<n;l++)c[l].apply(this,o)}return!0},n.prototype.addListener=n.prototype.on=n.prototype.addListener,n.prototype.once=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.listeners=n.listenerCount=,{}],2:[function(t,e,i){var n;n=function(){function t(){this.id=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]}return t}(),e.exports=n},{}],3:[function(t,e,i){var n,r,o;r=t("./parser"),o=t("./util"),n=function(){function t(){}var e,n;return t.cappingFreeLunch=0,t.cappingMinimumTimeInterval=0,t.options={withCredentials:!1,timeout:0},t.get=function(t,e,n){var o,s,a;if(s=+new Date,o=i.extend=n||("function"==typeof e&&(n=e),a={}),a=o(this.options,e),this.totalCallsTimeout<s?(this.totalCalls=1,this.totalCallsTimeout=s+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls)n(null);else{if(!(s-this.lastSuccessfullAd<this.cappingMinimumTimeInterval))return r.parse(t,a,(function(t,e,i){return n(t,e,i)}));n(null)}},n=o.storage,e=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach((),null==t.totalCalls&&(t.totalCalls=0),null==t.totalCallsTimeout&&(t.totalCallsTimeout=0),t}(),e.exports=n},{"./parser":9,"./util":15}],4:[function(t,e,i){var n;n=function(){function t(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.companionClickThroughURLTemplate=null,this.trackingEvents={}}return t}(),e.exports=n},{}],5:[function(t,e,i){var n,r,o,s,a={}.hasOwnProperty,l=function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.icons=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null}return l(e,t),e}(n=function(){eturn t}()),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[],this.videoClickTrackingURLTemplates=[]}return l(e,t),e}(n),r=function(t){eturn l(e,t),e}(n),e.exports={VASTCreativeLinear:o,VASTCreativeNonLinear:s,VASTCreativeCompanion:r}},{}],6:[{"./client":3,"./parser":9,"./tracker":11,"./util":15}],7:[function(t,e,i){var n;n=function(){eturn t}(),e.exports=n},{}],8:[function(t,e,i){var n;n=function(){eturn t}(),e.exports=n},{}],9:[function(t,e,i){var n,r,o,s,a,l,c,u,p,h,d,f,g=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};r=t("./urlhandler"),d=t("./response"),o=t("./ad"),f=t("./util"),l=t("./creative").VASTCreativeLinear,a=t("./creative").VASTCreativeCompanion,c=t("./creative").VASTCreativeNonLinear,u=t("./mediafile"),s=t("./companionad"),p=t("./nonlinear"),n=t("events").EventEmitter,h=function(){var t;function e(){}return t=[],e.addURLTemplateFilter=e.removeURLTemplateFilter=e.countURLTemplateFilters=function(){return t.length},e.clearUrlTemplateFilters=e.parse=function(t,e,i){return i||("function"==typeof e&&(i=e),e={}),this._parse(t,null,e,()},e.vent=new n,e.track=function(t,e){return this.vent.emit("VAST-error",e),f.track(t,e)},e.on=function(t,e){return this.vent.on(t,e)},e.once=e._parse=function(e,i,n,o){var s,a,l,c;for(o||("function"==typeof n&&(o=n),n={}),a=0,l=t.length;a<l;a++)s=t[a],e=s(e);return null==i&&(i=[]),i.push(e),r.get(e,n,(c=this,function(t,r){var s,a,l,u,p,h,f,v,y,_,m;if(null!=t)return o(t);p=new d;try{"string"==typeof r&&(r=(new DOMParser).parseFromString(r,"text/xml"))}catch(t){}if(null==(null!=r?r.documentElement:void 0)||"VAST"!==r.documentElement.nodeName)return o("Empty VAST tag");for(h=0,v=(_=r.documentElement.childNodes).length;h<v;h++)"Error"===(u=_[h]).nodeName&&p.errorURLTemplates.push(c.parseNodeText(u));for(f=0,y=(m=r.documentElement.childNodes).length;f<y;f++)"Ad"===(u=m[f]).nodeName&&(null!=(s=c.parseAdElement(u))?p.ads.push(s):c.track(p.errorURLTemplates,{ERRORCODE:101}));for(a=function(t){var e,i,n;if(null==t&&(t=!1),p){for(e=0,i=(n=p.ads).length;e<i;e++)if(null!=(s=n[e]).nextWrapperURL)return;return 0===p.ads.length&&(t||c.track(p.errorURLTemplates,{ERRORCODE:303}),p=null),o(null,p,r)}},l=p.ads.length;l--;)null!=(s=p.ads[l]).nextWrapperURL&&function(t){var r,o;i.length>=10||(o=t.nextWrapperURL,g.call(i,o)>=0)?(c.track(t.errorURLTemplates,{ERRORCODE:302}),p.ads.splice(p.ads.indexOf(t),1),a()):(0===t.nextWrapperURL.indexOf("//")?t.nextWrapperURL="https:"+t.nextWrapperURL:-1===t.nextWrapperURL.indexOf("://")&&(r=e.slice(0,e.lastIndexOf("/")),t.nextWrapperURL=r+"/"+t.nextWrapperURL),c._parse(t.nextWrapperURL,i,n,(function(e,i){var n,r,o,s,l,u,h,d,f,g,v,y,_,m,b,w,k,z;if(r=!1,null!=e)c.track(t.errorURLTemplates,{ERRORCODE:301}),p.ads.splice(p.ads.indexOf(t),1),r=!0;else if(null==i)c.track(t.errorURLTemplates,{ERRORCODE:303}),p.ads.splice(p.ads.indexOf(t),1),r=!0;else for(p.errorURLTemplates=p.errorURLTemplates.concat(i.errorURLTemplates),s=p.ads.indexOf(t),p.ads.splice(s,1),h=0,d=(b=i.ads).length;h<d;h++){if((l=b[h]).errorURLTemplates=t.errorURLTemplates.concat(l.errorURLTemplates),l.impressionURLTemplates=t.impressionURLTemplates.concat(l.impressionURLTemplates),null!=t.trackingEvents)for(y=0,f=(w=l.creatives).length;y<f;y++)if("linear"===(n=w[y]).type||"nonlinear"===n.type)for(_=0,g=(k=Object.keys(t.trackingEvents)).length;_<g;_++)o=k[_],(u=n.trackingEvents)[o]||(u[o]=[]),n.trackingEvents[o]=n.trackingEvents[o].concat(t.trackingEvents[o]);if(null!=t.videoClickTrackingURLTemplates)for(m=0,v=(z=l.creatives).length;m<v;m++)"linear"!==(n=z[m]).type&&"nonlinear"!==n.type||(n.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates));p.ads.splice(s,0,l)}return delete t.nextWrapperURL,a(r)})))}(s);return a()}))},e.childByName=function(t,e){var i,n,r,o;for(n=0,r=(o=t.childNodes).length;n<r;n++)if((i=o[n]).nodeName===e)return i},e.childsByName=function(t,e){var i,n,r,o,s;for(n=[],r=0,o=(s=t.childNodes).length;r<o;r++)(i=s[r]).nodeName===e&&n.push(i);return n},e.parseAdElement=function(t){var e,i,n,r;for(i=0,n=(r=t.childNodes).length;i<n;i++){e=r[i];try{e.id=t.getAttribute("id")}catch(i){e.setAttribute("id",t.getAttribute("id"))}if("Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}},e.parseWrapperElement=function(t){var e,i,n,r,o,s,a;for(e=this.parseInLineElement(t),null!=(r=this.childByName(t,"VASTAdTagURI"))?e.nextWrapperURL=this.parseNodeText(r):null!=(r=this.childByName(t,"VASTAdTagURL"))&&(e.nextWrapperURL=this.parseNodeText(this.childByName(r,"URL"))),o=0,s=(a=e.creatives).length;o<s;o++)n=null,"linear"!==(i=a[o]).type&&"nonlinear"!==i.type||null!=(n=i)&&(null!=n.trackingEvents&&(e.trackingEvents=n.trackingEvents),null!=n.videoClickTrackingURLTemplates&&(e.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates));if(null!=e.nextWrapperURL)return e},e.parseInLineElement=function(t){var e,i,n,r,s,a,l,c,u,p,h,d,f,g,v;for((e=new o).id=t.id,l=0,p=(f=t.childNodes).length;l<p;l++)switch((a=f[l]).nodeName){case"Error":e.errorURLTemplates.push(this.parseNodeText(a));break;case"Impression":e.impressionURLTemplates.push(this.parseNodeText(a));break;case"Extensions":for(c=0,h=(g=this.childsByName(a,"Extension")).length;c<h;c++)s=g[c],(r=this.parseExtensionElement(s))&&e.extensions.push(r);break;case"Creatives":for(c=0,h=(g=this.childsByName(a,"Creative")).length;c<h;c++)for(u=0,d=(v=g[c].childNodes).length;u<d;u++)switch((n=v[u]).nodeName){case"Linear":(i=this.parseCreativeLinearElement(n))&&e.creatives.push(i);break;case"NonLinearAds":(i=this.parseNonLinear(n))&&e.creatives.push(i);break;case"CompanionAds":(i=this.parseCompanionAd(n))&&e.creatives.push(i)}}return e},e.parseExtensionElement=function(t){var e=this,i={},n=!1;if(i.type=t.getAttribute("type"),t.hasChildNodes())return t.childNodes.forEach((function(t){3!==t.nodeType&&(i[t.nodeName.toLowerCase()]=e.parseNodeText(t),n=!0)})),n?i:void 0},e.parseCreativeLinearElement=function(t){var e,i,n,r,o,s,a,c,p,h,d,f,g,v,y,_,m,b,w,k,z,T,x,C,L,S,E,D,I,O,R,P,A,U,B,M;if((n=new l).duration=this.parseDuration(this.parseNodeText(this.childByName(t,"Duration"))),-1===n.duration&&"Wrapper"!==t.parentNode.parentNode.parentNode.nodeName)return null;if(null==(g=t.getAttribute("skipoffset"))?n.skipDelay=null:"%"===g.charAt(g.length-1)?(d=parseInt(g,10),n.skipDelay=n.duration*(d/100)):n.skipDelay=this.parseDuration(g),null!=(m=this.childByName(t,"VideoClicks"))){for(n.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(m,"ClickThrough")),w=0,x=(R=this.childsByName(m,"ClickTracking")).length;w<x;w++)i=R[w],n.videoClickTrackingURLTemplates.push(this.parseNodeText(i));for(k=0,C=(P=this.childsByName(m,"CustomClick")).length;k<C;k++)r=P[k],n.videoCustomClickURLTemplates.push(this.parseNodeText(r))}for(null!=(e=this.childByName(t,"AdParameters"))&&(n.adParameters=this.parseNodeText(e)),z=0,L=(A=this.childsByName(t,"TrackingEvents")).length;z<L;z++)for(y=A[z],T=0,S=(U=this.childsByName(y,"Tracking")).length;T<S;T++)if(o=(v=U[T]).getAttribute("event"),_=this.parseNodeText(v),null!=o&&null!=_){if("progress"===o){if(!(h=v.getAttribute("offset")))continue;o="%"===h.charAt(h.length-1)?"progress-"+h:"progress-"+Math.round(this.parseDuration(h))}null==(b=n.trackingEvents)[o]&&(b[o]=[]),n.trackingEvents[o].push(_)}for(I=0,E=(B=this.childsByName(t,"MediaFiles")).length;I<E;I++)for(p=B[I],O=0,D=(M=this.childsByName(p,"MediaFile")).length;O<D;O++)c=M[O],(a=new u).id=c.getAttribute("id"),a.fileURL=this.parseNodeText(c),a.deliveryType=c.getAttribute("delivery"),a.codec=c.getAttribute("codec"),a.mimeType=c.getAttribute("type"),a.apiFramework=c.getAttribute("apiFramework"),a.bitrate=parseInt(c.getAttribute("bitrate")||0),a.minBitrate=parseInt(c.getAttribute("minBitrate")||0),a.maxBitrate=parseInt(c.getAttribute("maxBitrate")||0),a.width=parseInt(c.getAttribute("width")||0),a.height=parseInt(c.getAttribute("height")||0),(f=c.getAttribute("scalable"))&&"string"==typeof f&&("true"===(f=f.toLowerCase())?a.scalable=!0:"false"===f&&(a.scalable=!1)),(s=c.getAttribute("maintainAspectRatio"))&&"string"==typeof s&&("true"===(s=s.toLowerCase())?a.maintainAspectRatio=!0:"false"===s&&(a.maintainAspectRatio=!1)),n.mediaFiles.push(a);for(I=0,E=(B=this.childsByName(t,"Icons")).length;I<E;I++)for(p=B[I],O=0,D=(M=this.childsByName(p,"Icon")).length;O<D;O++)c=M[O],(a={}).id=c.getAttribute("id"),a.fileURL=this.parseNodeText(c.querySelector("StaticResource")),a.width=parseInt(c.getAttribute("width")||0),a.height=parseInt(c.getAttribute("height")||0),n.icons.push(a);return n},e.parseNonLinear=function(t){var e,i,n,r,o,s,a,l,u,h,d,f,g,v,y,_,m,b,w,k,z,T,x,C,L,S,E,D,I;for(e=new c,f=0,_=(C=this.childsByName(t,"TrackingEvents")).length;f<_;f++)for(u=C[f],g=0,m=(L=this.childsByName(u,"Tracking")).length;g<m;g++)i=(l=L[g]).getAttribute("event"),h=this.parseNodeText(l),null!=i&&null!=h&&(null==(d=e.trackingEvents)[i]&&(d[i]=[]),e.trackingEvents[i].push(h));for(v=0,b=(S=this.childsByName(t,"NonLinear")).length;v<b;v++){for(s=S[v],(o=new p).id=s.getAttribute("id")||null,o.width=s.getAttribute("width"),o.height=s.getAttribute("height"),o.minSuggestedDuration=s.getAttribute("minSuggestedDuration"),o.apiFramework=s.getAttribute("apiFramework"),y=0,w=(E=this.childsByName(s,"HTMLResource")).length;y<w;y++)n=E[y],o.type=n.getAttribute("creativeType")||"text/html",o.htmlResource=this.parseNodeText(n);for(T=0,k=(D=this.childsByName(s,"IFrameResource")).length;T<k;T++)r=D[T],o.type=r.getAttribute("creativeType")||0,o.iframeResource=this.parseNodeText(r);for(x=0,z=(I=this.childsByName(s,"StaticResource")).length;x<z;x++)a=I[x],o.type=a.getAttribute("creativeType")||0,o.staticResource=this.parseNodeText(a);o.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(s,"NonLinearClickThrough")),e.variations.push(o)}return e},e.parseCompanionAd=function(t){var e,i,n,r,o,l,c,u,p,h,d,f,g,v,y,_,m,b,w,k,z,T,x,C,L,S,E,D,I;for(n=new a,f=0,_=(C=this.childsByName(t,"Companion")).length;f<_;f++){for(i=C[f],(e=new s).id=i.getAttribute("id")||null,e.width=i.getAttribute("width"),e.height=i.getAttribute("height"),g=0,m=(L=this.childsByName(i,"HTMLResource")).length;g<m;g++)o=L[g],e.type=o.getAttribute("creativeType")||"text/html",e.htmlResource=this.parseNodeText(o);for(v=0,b=(S=this.childsByName(i,"IFrameResource")).length;v<b;v++)l=S[v],e.type=l.getAttribute("creativeType")||0,e.iframeResource=this.parseNodeText(l);for(y=0,w=(E=this.childsByName(i,"StaticResource")).length;y<w;y++)c=E[y],e.type=c.getAttribute("creativeType")||0,e.staticResource=this.parseNodeText(c);for(T=0,k=(D=this.childsByName(i,"TrackingEvents")).length;T<k;T++)for(p=D[T],x=0,z=(I=this.childsByName(p,"Tracking")).length;x<z;x++)r=(u=I[x]).getAttribute("event"),h=this.parseNodeText(u),null!=r&&null!=h&&(null==(d=e.trackingEvents)[r]&&(d[r]=[]),e.trackingEvents[r].push(h));e.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(i,"CompanionClickThrough")),n.variations.push(e)}return n},e.parseDuration=function(t){var e,i,n,r,o,s;return null==t||!(s=(e=t.split(":")).length)||s>3?-1:(o=e[s-1].split("."),r=parseInt(o[0]),2===o.length&&(r+=parseFloat("0."+o[1])),i=n=0,2==s?n=parseInt(60*e[0]):3==s&&(n=parseInt(60*e[1]),i=parseInt(60*e[0]*60)),isNaN(i)||isNaN(n)||isNaN(r)||n>3600||r>60?-1:i+n+r)},e.parseNodeText=e}(),e.exports=h},{"./ad":2,"./companionad":4,"./creative":5,"./mediafile":7,"./nonlinear":8,"./response":10,"./urlhandler":12,"./util":15,events:1}],10:[function(t,e,i){var n;n=),e.exports=n},{}],11:[function(t,e,i){var n,r,o,s,a={}.hasOwnProperty,l=function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./client"),s=t("./util"),r=t("./creative").VASTCreativeLinear,o=function(t){function e(t,e){var i,o,s;for(i in this.ad=t,this.creative=e,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],s=this.creative.trackingEvents)o=s[i],this.trackingEvents[i]=o.slice(0);this.creative instanceof r?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1),this.on("start",()}return l(e,t),e.prototype.setDuration=e.prototype.setProgress=function(t){var e,i,n,r,o,s;if(-1===(r=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(r>t?this.emit("skip-countdown",r-t):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){for(i=[],t>0&&(n=Math.round(t/this.assetDuration*100),i.push("progress-"+n+"%"),i.push("progress-"+Math.round(t))),o=0,s=i.length;o<s;o++)e=i[o],this.track(e,!0);t<this.progress&&this.track("rewind")}return this.progress=t},e.prototype.setMuted=function(t){return this.muted!==t&&this.track(t?"mute":"unmute"),this.muted=t},e.prototype.setPaused=function(t){return this.paused!==t&&this.track(t?"pause":"resume"),this.paused=t},e.prototype.setFullscreen=e.prototype.setSkipDelay=function(t){if("number"==typeof t)return this.skipDelay=t},e.prototype.displayed=function(){this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates))},e.prototype.viewed=function(){this.track("creativeView")},e.prototype.errorWithCode=e.prototype.complete=e.prototype.close=e.prototype.stop=function(){},e.prototype.skip=e.prototype.click=function(){var t,e,i;if((null!=(i=this.clickTrackingURLTemplates)?i.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(e={CONTENTPLAYHEAD:this.progressFormated()}),t=s.resolveURLTemplates([this.clickThroughURLTemplate],e)[0],this.emit("clickthrough",t)},e.prototype.track=function(t,e){var i,n;null==e&&(e=!1),"closeLinear"===t&&null==this.trackingEvents[t]&&null!=this.trackingEvents.close&&(t="close"),n=this.trackingEvents[t],i=this.emitAlwaysEvents.indexOf(t),null!=n?(this.emit(t,""),this.trackURLs(n)):-1!==i&&this.emit(t,""),!0===e&&(delete this.trackingEvents[t],i>-1&&this.emitAlwaysEvents.splice(i,1))},e.prototype.trackURLs=function(t,e){return null==e&&(e={}),this.linear&&(e.CONTENTPLAYHEAD=this.progressFormated()),s.track(t,e)},e.prototype.progressFormated=function(){var t,e,i,n,r;return r=isNaN(this.progress)?0:this.progress,(t=(n=parseInt(r))/3600).length<2&&(t="0"+t),(e=n/60%60).length<2&&(e="0"+e),(i=n%60).length<2&&(i="0"+e),t+":"+e+":"+i+"."+parseInt(100*(r-n))},e}(t("events").EventEmitter),e.exports=o},{"./client":3,"./creative":5,"./util":15,events:1}],12:[function(t,e,i){var n,r,o;o=t("./urlhandlers/xmlhttprequest"),r=t("./urlhandlers/flash"),n=function(){function e(){}return e.get=function(e,i,n){return n||("function"==typeof i&&(n=i),i={}),/^https?:\/\//i.test(e)?i.urlhandler&&i.urlhandler.supported()?i.urlhandler.get(e,i,n):"undefined"==typeof window||null===window?t("./urlhandlers/node").get(e,i,n):o.supported()?o.get(e,i,n):r.supported()?r.get(e,i,n):n():n(null,Buzzoola.Utils.parseXML(e))},e}(),e.exports=n},{"./urlhandlers/flash":13,"./urlhandlers/xmlhttprequest":14}],13:[function(t,e,i){var n;n=function(){function t(){}return t.xdr=t.supported=function(){return!!this.xdr()},t.get=function(t,e,i){var n,r;return(r="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(r.async=!1,(n=this.xdr()).open("GET",t),n.timeout=e.timeout||0,n.withCredentials=e.withCredentials||!1,n.send(),n.onprogress=function(){},n.onload=:i()},t}(),e.exports=n},{}],14:[function(t,e,i){var n;n=function(){function t(){}return t.xhr=function(){var t;if("withCredentials"in(t=new window.XMLHttpRequest))return t},t.supported=t.get=function(t,e,i){var n,r;try{r=this,(n=this.xhr()).open("GET",t),n.timeout=e.timeout||0,n.withCredentials=e.withCredentials||!1,n.send(),n.onload=function(){i&&i(n.status>=400?n.status:null,n.responseXML||n.response||n.responseText)},n.onerror=function(){n.withCredentials?setTimeout((function(){var n,o={withCredentials:!1};for(n in e)"withCredentials"!==n&&(o[n]=e[n]);r.get(t,o,i)})):i&&i(!0,n.responseXML||n.response||n.responseText)},n.onprogress=n.ontimeout=function(){i&&i(!0,n.responseXML||n.response||n.responseText)}}catch(t){return i(t)}},t}(),e.exports=n},{}],15:[function(t,e,i){var n;n=function(){eturn t.track=function(t,e){var i,n,r,o,s,a;for(a=[],o=0,s=(n=this.resolveURLTemplates(t,e)).length;o<s;o++)i=n[o],"undefined"!=typeof window&&null!==window&&(r=new Image,a.push(r.src=i));return a},t.resolveURLTemplates=function(t,e){var i,n,r,o,s,a,l,c;i=[],null==e&&(e={}),"CACHEBUSTING"in e||(e.CACHEBUSTING=Math.round(1e10*Math.random())),e.random=e.CACHEBUSTING;for(l=0,c=t.length;l<c;l++)if(s=t[l]){for(n in e)a=e[n],r="["+n+"]",o="%%"+n+"%%",s=(s=s.replace(r,a)).replace(o,a);i.push(s)}return i},t.storage=function(){var t,e;try{e="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(t){e=null}return(null==e||function(t){var e;try{if(e="__VASTUtil__",t.setItem(e,e),t.getItem(e)!==e)return!0}catch(t){return!0}return!1}(e))&&(t={},e={length:0,getItem:function(e){return t[e]},setItem:removeItem:clear:),e}(),t}(),e.exports=n},{}]},{},[6])(6),t.exports=n,r("DMVAST",n)},8706:function(t,e,i){"use strict";var n,r,o,s,a,l={}.hasOwnProperty,c=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};o=i(2090),a=i(3768),s=i(8118),r=["content","contentType","mainContent","widgets"],n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["ad_format:init_widgets",0,"initWidgets"],["ad_format:get_container",0,"getWidgetContainer"],["resize:calc_widget_width",0,"calcWidgetWidth"],["resize:calc_widget_height",0,"calcWidgetHeight"]],e.prototype.handlesNodeEvents={"widget:state_changed":,e.prototype.readyWidgetsCounter=0,e.prototype.initWidgets=function(){this.core.trigger("error",new Error('Abstract method "initWidgets" call'))},e.prototype.handleWidgetStateChange=function(t){var e;e=!0,"ready"===t&&(++this.readyWidgetsCounter,e=this.formatIsReady()),e&&this.changeCoreState(t)},e.prototype.formatIsReady=function(){return this.readyWidgetsCounter>=this.node.loadedData.content.widgets.length},e.prototype.changeCoreState=function(t){this.core.state.state,"duration"!==t&&(this.node.state=t),this.core.state.state=t,this.trigger("event:state",t)},e.prototype.getWidgetContainer=e.prototype.getExtendedWidgetData=function(t){var e,i;return null==t&&(t=0),e=this.node.loadedData,null==(i=a({widgetIndex:t},e.content.widgets[t])).widgetData&&(i.widgetData={}),this._extendData(i,e,!1),this._extendData(i.widgetData,e.content),i},e.prototype._extendData=function(t,e,i){var n;for(n in null==i&&(i=!0),e)c.call(r,n)>=0||function(n){if(!t.hasOwnProperty(n))Object.defineProperty(t,n,{enumerable:!1,configurable:!0,get:set:function(r){return i?t[n]=r:e[n]!==r&&(e[n]=r),!0}})}(n)},e.prototype.calcWidgetWidth=e.prototype.calcWidgetHeight=e}(o),s("Buzzplayer.Modules.Base.AdFormat",n),t.exports=n},7911:function(t,e,i){"use strict";i(8853);var n,r,o,s,a,l,c,u={}.hasOwnProperty,p=[].slice,h=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};o=i(2090),s=i(8118),i(3768),l=i(5552),c=i(7904),a=i(9374),r=["onIntersection","onGoal","onFullIntersection"],n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)u.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["intersection:observe",0,"observe"],["intersection:unobserve",0,"unobserve"],["intersection:connect",0,"connect"],["intersection:disconnect",0,"disconnect"],["intersection:pause",0,"pause"],["intersection:resume",0,"resume"],["intersection:lock",0,"lock"],["intersection:unlock",0,"unlock"],["intersection:add_unlockable_target",0,"addUnlockableTarget"],["intersection:get_root",0,"getIntersectionRoot"]],e.prototype.handlesEvents={got_container:drawn:function(){this.onDrawn()}},e.prototype.isConnected=!1,e.prototype.thresholds=null,e.prototype.intersectionGoal=null,e.prototype.intersectionRoot=null,e.prototype.observationTargets=null,e.prototype.observationTargetsData=null,e.prototype.unlockableTargets=null,e.prototype.paused=!1,e.prototype.locked=!1,e.prototype.init=function(){var t;t=1<=arguments.length?p.call(arguments,0):[],this.observationTargets=[],this.observationTargetsData={},this.unlockableTargets=[],this.setThresholds(),e.__super__.init.apply(this,t)},e.prototype.connect=e.prototype.watchIntersections=function(){var t,e,i;for(t in i=this.observationTargetsData)e=i[t],this.canActivateData(e)&&this.activate(e)},e.prototype.disconnect=e.prototype.unwatchIntersections=function(){var t,e,i;for(e in i=this.observationTargetsData)t=i[e],delete this.observationTargetsData[e],this.deactivate(t)},e.prototype.canActivateData=function(t){var e;return this.isConnected&&!t.isRunning&&(e=t.target,h.call(this.unlockableTargets,e)>=0||!this.locked)},e.prototype.canDeactivateData=function(t){var e,i,n,o;for(e=!0,i=0,n=r.length;i<n;i++)if(t[o=r[i]]&&t[o].length>0){e=!1;break}return e},e.prototype.activate=function(t){t.isRunning=!0},e.prototype.deactivate=e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){var t,e,i;if(this.paused)for(t in this.paused=!1,i=this.observationTargetsData)(e=i[t]).needUpdateAfterPause&&this.onIntersectionChange(e)},e.prototype.lock=function(){var t,e,i,n;if(!this.locked&&(this.locked=!0,this.isConnected))for(t in i=this.observationTargetsData)n=(e=i[t]).target,h.call(this.unlockableTargets,n)>=0||!e.isRunning||this.deactivate(e)},e.prototype.unlock=function(){var t,e,i;if(this.locked&&(this.locked=!1,this.isConnected))for(t in i=this.observationTargetsData)e=i[t],this.canActivateData(e)&&this.activate(e)},e.prototype.addUnlockableTarget=function(t){var e;!l(t)||h.call(this.unlockableTargets,t)>=0||(this.unlockableTargets.push(t),h.call(this.observationTargets,t)>=0&&(e=this.getTargetData(t),this.canActivateData(e)&&this.activate(e)))},e.prototype.observe=function(t,e){var i,n,o,s,c,u,p;if(null==e&&(e={}),l(t)){for(p in n=this.getTargetData(t),h.call(this.observationTargets,t)>=0||(null==(i=t.dataset).isectionId&&(i.isectionId=a()),this.observationTargetsData[t.dataset.isectionId]=n,this.observationTargets.push(t)),e)u=e[p],h.call(r,p)>=0&&!(h.call(n[p],u)>=0)&&n[p].push(u);if(n.isRunning){for(o={},s=0,c=r.length;s<c;s++)o[p=r[s]]=e[p]?[e[p]]:[];this.sendDataToListeners(n,o)}else this.canActivateData(n)&&this.activate(n)}else this.core.warn("observation target should be an element",t)},e.prototype.unobserve=function(t,e){var i,n,o,s;if(null==e&&(e={}),h.call(this.observationTargets,t)>=0){for(s in i=this.getTargetData(t),e)o=e[s],n=i[s],h.call(r,s)>=0&&h.call(n,o)>=0&&n.splice(n.indexOf(o),1);this.canDeactivateData(i)&&(this.deactivate(this.observationTargetsData[t.dataset.isectionId]),delete this.observationTargetsData[t.dataset.isectionId],this.observationTargets.splice(this.observationTargets.indexOf(t),1))}},e.prototype.getTargetData=function(t){return h.call(this.observationTargets,t)>=0?this.observationTargetsData[t.dataset.isectionId]:this.createTargetData(t)},e.prototype.createTargetData=function(t){var e,i,n;for(e={target:t,lastActiveIntersectionPercent:null,intersectionPercent:null,reachedIntersectionGoal:null,reachedFullIntersection:null,isRunning:!1,needUpdateAfterPause:!1},i=0,n=r.length;i<n;i++)e[r[i]]=[];return e},e.prototype.updateIntersectionPercent=function(t,e){t.intersectionPercent=e,this.paused?t.needUpdateAfterPause=t.lastActiveIntersectionPercent!==e:this.onIntersectionChange(t)},e.prototype.saveLastActiveIntersectionPercent=e.prototype.onIntersectionChange=e.prototype.sendDataToListeners=function(t,e){var i,n,o,s,a,l,u;if(!this.destroyed){if(!e)for(e={},i=0,o=r.length;i<o;i++)e[l=r[i]]=t[l];if(e.onIntersection)for(n=0,s=(u=e.onIntersection).length;n<s;n++)a=u[n],c(a)&&a(t.target,t.intersectionPercent);this.checkIntersectionGoal(t,"reachedIntersectionGoal",this.intersectionGoal,e.onGoal,e.onGoal!==t.onGoal),this.checkIntersectionGoal(t,"reachedFullIntersection",100*this.thresholds[this.thresholds.length-1],e.onFullIntersection,e.onFullIntersection!==t.onFullIntersection)}},e.prototype.checkIntersectionGoal=function(t,e,i,n,r){var o,s,a,l,u;if(null==n&&(n=[]),null==r&&(r=!1),u=t.intersectionPercent>=i,(o=t[e]!==u)||r)for(o&&!r&&(t[e]=u),s=0,a=n.length;s<a;s++)l=n[s],c(l)&&l(t.target,u)},e.prototype.onDrawn=e.prototype.setIntersectionRoot=function(t){t&&t!==this.intersectionRoot&&(this.intersectionRoot=t,this.trigger("intersection:root_changed",this.intersectionRoot))},e.prototype.getIntersectionRoot=function(){var t;return this.intersectionRoot?this.intersectionRoot:null!=(t=this.core.options.parentCore)?t.wrapperBlock||t.wrap:this.core.container.ownerDocument.defaultView},e.prototype.setThresholds=function(){var t;this.thresholds=[.25,.5,.75,1],t=parseInt(this.node.loadedData.content.percentSeen,10),!isNaN(t)&&0<t&&t<=100&&50!==t?(this.intersectionGoal=t,this.thresholds.push(this.intersectionGoal/100)):this.intersectionGoal=50,this.thresholds.sort()},e.prototype._deinitialize=function(){this.disconnect(),e.__super__._deinitialize.call(this)},e}(o),s("Buzzplayer.Modules.Base.IntersectionObserver",n),t.exports=n},9685:function(t,e,i){"use strict";var n,r,o,s,a={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};o=i(2090),s=i(8118),n=["right","left"],r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.handlesEvents={drawn:function(){this.draw()}},e.prototype.logo=null,e.prototype.text=null,e.prototype.visibleText=null,e.prototype.position=null,e.prototype.plank=null,e.prototype.init=function(){var t,e,i;t=this.node.loadedData,this.logo=null!=(e=t.sponsorLogo)?e:null,this.text=t.clickthroughText,this.visibleText=this.text.length>=20?this.text.slice(0,18)+"...":this.text,this.position=(i=t.clickthroughPosition,l.call(n,i)>=0?t.clickthroughPosition:"right")},e.prototype.draw=function(){var t,e;this.callStrategy("embed_svg","arrow_right"),(e=document.createElement("div")).className="buzz-adomain__plank buzz-adomain__plank-position-"+this.position,e.dataset.buzzClickthrough="",t="",this.logo?t+='<div class="buzz-adomain__plank-logo">\n  <div class="buzz-adomain__plank-logo-img" style="background-image: url('+this.logo+');"></div>\n</div>':e.classList.add("buzz-adomain__plank_no-logo"),t+='<div class="buzz-adomain__plank-text" title="'+this.text+'">'+this.visibleText+"</div>",e.innerHTML=t,this.core.wrapHtml.appendChild(e),this.plank=e},e.prototype._deinitialize=function(){null!=this.plank&&(this.plank.parentNode.removeChild(this.plank),this.plank=null),e.__super__._deinitialize.call(this)},e}(o),s("Buzzplayer.Modules.Creative.Submodules.AdomainPlank",r),t.exports=r},1296:function(t,e,i){"use strict";var n,r,o,s,a={}.hasOwnProperty;r=i(2090),o=i(8118),s=i(1879),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.handlesEvents={"event:state":function(t){"ready"===t&&this.setData()},drawn:function(){this.draw()},"api:ads_total":function(){this.setData()}},e.prototype.counter=null,e.prototype.params=null,e.prototype.draw=function(){var t;(t=document.createElement("div")).className="buzz__ads__counter",this.core.wrap.appendChild(t),this.counter=t,this.setData()},e.prototype.setData=function(){null!=this.counter&&s(this.counter,this.core.currentAd+" из "+this.core.adsToPlay)},e.prototype._deinitialize=function(){var t;null!=(t=this.counter)&&t.parentNode.removeChild(this.counter),this.counter=null,e.__super__._deinitialize.call(this)},e}(r),o("Buzzplayer.Modules.Creative.Submodules.AdsCounter",n),t.exports=n},6207:function(t,e,i){"use strict";var n,r,o,s,a,l,c,u={}.hasOwnProperty,p=[].slice;s=i(2090),a=i(8118),l=i(4947),c=i(6078),o=["advertiser","buzzoola"],r=["wrap","background","expandButton"],n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)u.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.handlesEvents={drawn:function(){this.render()}},e.prototype.wrap=null,e.prototype.hasInfo=!0,e.prototype.isOpened=!1,e.prototype.expandButton=null,e.prototype.advertiserLinkButton=null,e.prototype.buzzoolaLinkButton=null,e.prototype.background=null,e.prototype.init=function(){var t;this.onClick=(t=this,function(){var e;return e=1<=arguments.length?p.call(arguments,0):[],t._onClick.apply(t,e)})},e.prototype.render=function(){var t,e,i,n,s,a,l,c,u,p,h,d,f,g,v,y,_,m,b;this.callStrategy("embed_svg",["go_to_link","go_to_link_plus"]),e=null!=(_=(a=null!=(y=this.node.loadedData.adLabelInfo)?y:{}).adLabels)?_:[],b=a.sellerLink;try{this.hasInfo=e.length>0&&(null!=b?b.length:void 0)>0}catch(t){t,this.hasInfo=!1}if((l=document.createElement("div")).className="buzz-ad-wrap",c='<div class="buzz-ad-wrap__header">\n  <div class="buzz-ad-wrap__text-wrap">\n    <div class="buzz-ad-wrap__text buzz-ad-wrap__text_add">Реклама</div>\n    <div class="buzz-ad-wrap__text buzz-ad-wrap__text_buzz">BUZZOOLA</div>\n  </div>',this.hasInfo&&(c+='<div class="buzz-ad-wrap__icon">\n  <div></div>\n  <div></div>\n</div>'),c+="</div>",this.hasInfo){for(c+='<div class="buzz-ad-wrap__body">',u=0,d=e.length;u<d;u++)c+='<div>\n  <div class="buzz-ad-wrap__title">'+(t=e[u])[0]+':</div>\n  <div class="buzz-ad-wrap__text">'+t[1]+"</div>\n</div>";c+='</div>\n<div class="buzz-ad-wrap__footer">\n  <div class="buzz-ad-wrap-btn buzz-ad-wrap-btn_advertiser">\n    <div class="buzz-ad-wrap-btn__text">ссылка рекламодателя</div>\n    <div class="buzz-ad-wrap-btn__icon-wrap">\n      <div class="buzz-ad-wrap-btn__icon">\n        <svg viewBox="0 0 6 6">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#buzz_go_to_link"></use>\n        </svg>\n      </div>\n    </div>\n  </div>\n  <div class="buzz-ad-wrap-btn buzz-ad-wrap-btn_right buzz-ad-wrap-btn_buzzoola">\n    <div class="buzz-ad-wrap-btn__text">разместить рекламу</div>\n    <div class="buzz-ad-wrap-btn__icon-wrap">\n      <div class="buzz-ad-wrap-btn__icon">\n        <svg viewBox="0 0 7 7">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#buzz_go_to_link_plus"></use>\n        </svg>\n      </div>\n    </div>\n  </div>\n</div>'}if(l.innerHTML=c,this.wrap=l,this.hasInfo){for(this.background=document.createElement("div"),this.background.className="buzz-ad-wrap__background",this.core.wrapHtml.appendChild(this.background),this.expandButton=this.wrap.querySelector(".buzz-ad-wrap__icon"),p=0,f=r.length;p<f;p++)null!=(m=this[r[p]])&&m.addEventListener("click",this.onClick,!1);for(h=0,g=o.length;h<g;h++)v=o[h],null!=(n=l.querySelector(".buzz-ad-wrap-btn_"+v))&&(n.addEventListener("click",this.onClick,!1),this[v+"LinkButton"]=n)}"maxiscroller"===(i=this.node.loadedData.adSubtype)||"scroller"===i||"fullscreen"===this.core.placement.unitType?("maxiscroller"!==i&&"scroller"!==i||this.core.wrapHtml.classList.add("buzz-maxiscroll_with-info"),s=this.core.wrapHtml):s=this.core.wrap,s.appendChild(l)},e.prototype._onClick=function(t){var e;switch(t.currentTarget){case this.advertiserLinkButton:l(this.node.loadedData.adLabelInfo.sellerLink,"in-app"===this.core.placement.envType);break;case this.buzzoolaLinkButton:e=encodeURIComponent(window.location.hostname),l("https://buzzoola.com?utm_source=buzzoola_network&utm_medium=direct_link&utm_campaign=engageroll_branding&utm_term="+e,"in-app"===this.core.placement.envType);break;case this.expandButton:case this.background:case this.wrap:!this.hasInfo||t.currentTarget===this.wrap&&this.isOpened||(this.trigger("adv_legal_info:toggle",this.isOpened=!this.isOpened),this.wrap.classList.toggle("buzz-ad-wrap_opened"),this.background.classList.toggle("buzz-ad-wrap__background_enabled"))}c(t)},e.prototype._deinitialize=function(){var t,i,n,s,a,l;for(t=0,n=r.length;t<n;t++)null!=(l=this[r[t]])&&l.removeEventListener("click",this.onClick,!1);for(i=0,s=o.length;i<s;i++)null!=this[(a=o[i])+"LinkButton"]&&this[a+"LinkButton"].removeEventListener("click",this.onClick,!1);e.__super__._deinitialize.call(this)},e}(s),a("Buzzplayer.Modules.Creative.Submodules.AdvertiserLegalInfo",n),t.exports=n},2663:function(t,e,i){"use strict";i(148);var n,r,o,s,a={}.hasOwnProperty;r=i(2090),o=i(8118),s=i(4947),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["clickthrough_url:open",0,"openClickthroughURL"]],e.prototype.handlesEvents={"engagement:user_left_page":function(){var t;this.clearTimeouts(),this.userLeftPage=!0,this.userLeftPageTS=Date.now(),this.clicked?this.send("visiut((t=this,function(){t.userLeftPageTS=null}),3e3)},"engagement:user_page_back":function(){var t,e;this.userLeftPageTS&&this.clicked&&(this.clearTimeouts(),this.userLeftPage=!1,this.clicked=!1,e=(t=Date.now()-this.userLeftPageTS)<=3e3?0:t>9e4?10:Math.ceil(t/1e4),this.send("return","return"+e),this.userLeftPageTS=null)}},e.prototype.pageLeaveTimeout=null,e.prototype.userLeftPageTS=null,e.prototype.userLeftPage=!1,e.prototype.clickTimeout=null,e.prototype.clicked=!1,e.prototype.sentEvents=null,e.ption(){this.sentEvents={visit:{},return:{}}},e.prototype.send=function(t,e){var i;null==e&&(e=null),this.sentEvents[t][this.clickSlugname]||(i={},null!=this.clickSlugname&&""!==this.clickSlugname&&(i.slugname=this.clickSlugname),e&&e.length>0&&(i.event=e),this.trigger("clickthrough:"+t,i),this.sentEvents[t][this.clickSlugname]=!0,"return"===t&&(this.clickSlugname=null))},e.prototype.clearTimeouts=function(){null!=this.pageLeaveTimeout&&clearTimeout(this.pageLeaveTimeout),null!=this.clickTimeout&&clearTimeout(this.clickTimeout)},e.prototype.openClickthroughURL=function(t,e){var i,n,r,o,a,l,c,u;null==t&&(t=!0),null==e&&(e={}),i=null!=(a=e.url)?a:this.node.loadedData.clickthroughUrl,n=null!=(l=e.dnt)&&l,!i&&t||(this.clickSlugname=c=e.slugname||this.callStrategy("api:get_slugname"),r=null!=c&&""!==c,/^http(s?):\/\/(dev)?exchange\.buzzoola\.com/gi.test(i)?r&&(i+=(-1!==i.indexOf("?")?"&":"?")+"slugname="+c):(o={},r&&(o.slugname=c),n||this.trigger("clickthrough:click",o)),n||(this.clearTimeouts(),this.clicked=!0,this.userLeftPage&&!t?this.send("=setTimeout((u=this,function(){u.clicked=!1}),3e3)),t&&s(i,"in-app"===this.core.placement.envType),n||this.trigger("clickthrough:action",c))},e}(r),o("Buzzplayer.Modules.Creative.Submodules.ClickthroughURL",n),t.exports=n},1643:function(t,e,i){"use strict";var n,r,o,s={}.hasOwnProperty;r=i(2090),o=i(8118),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)s.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.p|this.callStrategy("clickthrough_url:open")},"clickthrough:action":function(){this.clickthroughURLFirstOpen=!0}},e.prototype.clickthroughURLFirstOpen=!1,e}(r),o("Buzzplayer.Modules.Creative.Submodules.ClickthroughURLCloseButton",n),t.exports=n},9494:function(t,e,i){"use strict";var n,r,o,s,a,l,c,u,p={}.hasOwnProperty,h=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},d=[].slice;n=i(7911),u=i(5552),a=i(8118),c=i(1726),l=i(3768),r=["height","width"],s={width:["left","right"],height:["top","bottom"]},o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)p.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.showUnreachableParentWarning=!0,e.prototype.handlesEvents={"intersection:root_changed":function(t){var e,i;for(e in i=this.observationTargetsData)i[e].root=t}},e.prototype.handlesParentEvents={"scroller:open":function(){this.setIntersectionRoot(this.cor(this.core.options.parentCore.wrapperBlock)}},e.prototype.activate=function(t){var i;e.__super__.activate.call(l((i=this,function(){i.checkIntersection(t)}),250),this.checkIntersection(t)},e.prototype.checkIntersection=function(t){var e,i,n,r;try{n=this.calcIntersection(t.target,t.root),i=25*Math.floor(n/25),n>=(r=this.intersectionGoal)&&r>i&&(i=this.intersectionGoal)}catch(t){e=t,this.core.warn(e),i=0}t.intersectionPercent!==i&&this.updateIntersectionPercent(t,i)},e.prototype.calcIntersection=function(t,e,i){var n,o,a,p,d,f,g,v,y,_,m,b;if(null==i&&(i=null),u(t)){if(g=t.getBoundingClientRect(),b=l({},g),i){for(f in b)h.call(r,f)>=0||isNaN(i[f])||(b+=i[f]);for(n in s)_=(v=s[n])[0],o=v[1],b[n]=Math.abs(b[o]-b[_])}}else b=i;return null!=b?(y=u(e)?e.getBoundingClientRect():{left:0,top:0,right:e.innerWidth,bottom:e.innerHeight},0===(m=b.width*b.height)?p=0:(p=100*(d=this.mergeClientRects(b,y)).width*d.height/m)>=100*this.thresholds[0]&&(u(e)?p*=.01*this.calcIntersection(null,e.ownerDocument.defaultView,d):e.parent!==e&&(null!=(a=c(e))?p*=.01*this.calcIntersection(a,e.parent,d):this.showUnreachableParentWarning&&(this.core.warn("could not get frame while checking intersection"),this.showUnreachableParentWarning=!1)))):p=0,p},e.prototype.mergeClientRects=function(){var t,e,i,n,r,o;switch((n=1<=arguments.length?d.call(arguments,0):[]).length){case 0:i={left:0,right:0,top:0,bottom:0};break;case 1:i=l({},n[0]);break;case 2:for(t in i={},s)o=(r=s[t])[0],e=r[1],i[o]=Math.max(n[0][o],n[1][o]),i[e]=Math.max(i[o],Math.min(n[0][e],n[1][e])),i[t]=Math.abs(i[e]-i[o]);break;default:for(i=this.mergeClientRects.apply(this,n.splice(0,2));n.length>0;)i=this.mergeClientRects(i,n.shift())}return i},e.prototype.deactivate=function(t){e.__super__.deactivate.call(this,t),null!=t.updateInterval&&clearInterval(t.updateInterval)},e.prototype.createTargetData=function(t,i){return l(e.__super__.createTargetData.call(this,t,i),{root:this.core.options.parentCore?this.intersectionRoot:t.ownerDocument.defaultView,updateInterval:null})},e}(n),a("Buzzplayer.Modules.Creative.Submodules.ClientRectIntersectionObserver",o),t.exports=o},5719:function(t,e,i){"use strict";var n,r,o,s,a={}.hasOwnProperty;r=i(2090),o=i(8118),s=i(2131),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.init=function(){var t;this.node.loadedData.customJs&&(t="(function(id){"+this.node.loadedData.customJs+"})('"+this.core.params.id+"')",s(t,this.core.embedContainer))},e}(r),o("Buzzplayer.Modules.Creative.Submodules.CustomJs",n),t.exports=n},1138:function(t,e,i){"use strict";var n,r,o,s,a,l={}.hasOwnProperty,c=[].slice;o=i(2090),a=i(5552),s=i(8118),n={"300x600":165,"240x400":160,"240x400_vertical":255,default:110},r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["get_wrap",7,"getWrap"],["get_video_size",2,"getCreativeSize"]],e.prototype.handlesEvents={"tgb:apply_image":function(t){var e;(e=t.baseWidth/t.baseHeight)!==this.ratio&&(this.ratio=e)}},e.prototype.hoverableElements=null,e.prototype.ratio=16/9,e.prototype.init=function(){var t,i;t=1<=arguments.length?c.call(arguments,0):[],e.__super__.init.apply(this,t),this.hoverableElements=[],i=this.core.options.parentWidget.widgetData,this.width=i.bannerWidth,this.height=i.bannerHeight,this.onHover=function(t){t.currentTarget.classList.add("hovered")},this.onOut=function(t){t.currentTarget.classList.remove("hovered")}},e.prototype.getWrap=function(){var t,e,i,n,r,o,s;for(n='<div class="buzz-ecomm-banner">\n  <div class="buzz_code"></div>\n  <div class="buzz-ecomm-banner__title">'+(t=this.node.loadedData).title+'</div>\n  <div class="buzz-ecomm-banner__bottom">\n    <div class="buzz-ecomm-price">\n      <div class="buzz-ecomm-price__value">'+t.displayedPrice+"</div>",(t.oldPrice||t.discountPercent)&&(n+='<div class="buzz-ecomm-price__discount">',t.oldPrice&&(n+='<div class="buzz-ecomm-price__discount-title">'+t.oldPrice+"</div>"),t.discountPercent&&(n+='<div class="buzz-ecomm-price__discount-percents">-'+t.discountPercent+"%</div>"),n+="</div>"),n+='    </div>\n    <div class="buzz-ecomm-banner__button">Купить</div>\n  </div>\n</div>',(i=document.createElement("div")).className="buzz-ecomm-carousel__elem",i.innerHTML=n,this.hoverableElements.push(i.children[0]),this.hoverableElements.push(i.querySelector(".buzz-ecomm-banner__button")),r=0,o=(s=this.hoverableElements).length;r<o;r++)e=s[r],a(e)&&(e.addEventListener("mouseover",this.onHover,!0),e.addEventListener("mouseout",this.onOut,!0));return i},e.prototype.getCreativeSize=function(t,e){return this.ratio<1&&(e=n[this.width+"x"+this.height+"_vertical"]),{width:t,height:e=e||n[this.width+"x"+this.height]||n.default}},e.prototype._deinitialize=function(){var t,i,n,r;for(i=0,n=(r=this.hoverableElements).length;i<n;i++)t=r[i],a(t)&&(t.removeEventListener("mouseover",this.onHover,!0),t.removeEventListener("mouseout",this.onOut,!0));e.__super__._deinitialize.call(this)},e}(o),s("Buzzplayer.Modules.Creative.Submodules.EcommItemWrap",r),t.exports=r},4711:function(t,e,i){"use strict";i(148);var n,r,o,s,a,l={}.hasOwnProperty,c=[].slice;r=i(2090),o=i(8118),s=i(4947),a=i(6078),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.handlesEvents={drawn:function(){var t;setTimeout((t=this,function(){t.initHrefHandlers()}),0)},"event:state":function(t){"ready"===t&&this.subscribe()}},e.prototype.aElements=null,e.prototype.clickthroughButtons=null,e.prototype.init=function(){var t;this.replaceDefaultLogic=(t=this,function(){var e;return e=1<=arguments.length?c.call(arguments,0):[],t._replaceDefaultLogic.apply(arguments,0):[],t._handleClickthrough.apply(t,e)}}(this)},e.prototype.subscribe=function(){var t,e,i,n,r;for(this.clickthroughButtons=Array.prototype.slice.call(this.core.container.querySelectorAll("[data-buzz-clickthrough]")),e=0,i=(n=this.clickthroughButtons).length;e<i;e++)(null!=(r=(t=n[e]).dataset.buzzClickthrough)?r.length:void 0)>0&&(t.dataset.buzzClickthroughUrl=t.dataset.buzzClickthrough),delete t.dataset.buzzClickthrough,t.addEventListener("click",this.handleClickthrough,!0)},e.prototype._handleClickthrough=function(t){var e,i,n,r;return r=(e=t.currentTarget).dataset.buzzClickthroughUrl||this.node.loadedData.clickthroughUrl,n=e.dataset.buzzClickthroughSlugname||null,i=e.hasAttribute("data-buzz-clickthrough-dnt"),this.callStrategy("clickthrough_url:open",!0,{url:r,slugname:n,dnt:i}),a(t)},e.prototype.unsubscribe=function(){var t,e,i;if(this.clickthroughButtons)for(t=0,e=(i=this.clickthroughButtons).length;t<e;t++)i[t].removeEventListener("click",this.handleClickthrough,!0)},e.prototype.initHrefHandlers=function(){var t,e,i,n,r,o;for(this.aElements=Array.prototype.slice.call(this.core.wrapHtml.querySelectorAll("a")),n=i=0,r=(o=this.aElements).length;i<r;n=++i)(t=o[n]).getAttribute("href")===this.node.loadedData.clickthroughUrl&&(e=t.cloneNode(!0),t.parentNode.replaceChild(e,t),this.aElements[n]=t=e),t.addEventListener("click",this.replaceDefaultLogic,!1)},e.prototype.destroyHrefHandlers=function(){var t,e,i;if(this.aElements)for(t=0,e=(i=this.aElements).length;t<e;t++)i[t].removeEventListener("click",this.replaceDefaultLogic,!1)},e.prototype._replaceDefaultLogic=function(t){var e;if((t=t||window.event).cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),null!=t.currentTarget&&(e=t.currentTarget.getAttribute("href"),/^\s*?http(s?):/g.test(e))){if(t.preventDefault(),e===this.node.loadedData.clickthroughUrl)return void this.callStrategy("clickthrough_url:open");s(e,"in-app"===this.core.placement.envType)}},e.prototype._deinitialize=function(){this.destroyHrefHandlers(),this.unsubscribe(),e.__super__._deinitialize.call(this)},e}(r),o("Buzzplayer.Modules.Creative.Submodules.HrefHandler",n),t.exports=n},2934:function(t,e,i){"otype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,u=[].slice;r=i(2090),o=i(8118),a=i(1241),s=i(5460),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.addsStrategies=[["js_wrapper:load",0,"loady:function(){null!=this._resolve&&this._resolve()}},e.prototype.jsUrl=null,e.prototype.load=function(){return new Promar n,o,c,pinit(),e()},t._reject=function(e){t.deinit(),i(e)},(n=t.node.loadedData).jsWrapperUrl?("/"!==(p=n.jsWrapperUrl).slice(-1)&&(p+="/"),t.jsUrl=o=p+"index.js",h=p.split("/"),c=h[h.length-2],a(o).then((function(){var e,i,o;"wait forever"!==n.content.jsWrapperTimeoutStrategy&&t.startLoadingTimeout(),i=window.Buzzoola.Buzzplayer.Plugins[c],o=t.node,Object.getPrototypeOf(i.prototype).constructor===Object&&(o=t.core,e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.init=function(){var t;t=1<=arguments.length?u.call(arguments,0):[],i.apply(this,t)},e}(r),window.Buzzoola.Buzzplayer.Plu)).catch((function(e){t.handleInitFail(e.message)}))):t.trigger("remote_module_ready")}));var t},e.prototype.handleInitFail=function(t){null!=this._reject&&this._reject(t.replace(/\{js_wrapper\}/g,this.jsUrl))},e.prototype.startLoadingTimeout=function(){var t;this.stopLoadingTimeout(),this.wrapperLoadingTimeout=setTimeout((t=this,function(){t.handleInitFail("{js_wrapper} is not rnction(){clearTimeout(this.wrapperLoadingTimeout)},e.prototype._deinitialize=function(){delete this._resolve,delete this._reject,this.stopLoadingTimeout(),e.__super__._deinitialize.call(this)},e}(r),o("Buzzplayer.Modules.Creative.Submodules.JsWrapper",n),t.exports=n},4119:function(t,e,i){"use strict";var n,r,o,s,a,l,c,u,p,h,d,f=[].slice,g={}.hasOwnProperty,v=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};s=i(2090),u=i(3768),h=i(7904),p=i(5552),c=i(9202),l=i(8118),n={active:!1,ended:!1,disabled:!1,value:0,lastCheckTs:null,checkIntervalId:null,resetOnStop:!1,handler:null,markers:null,update:function(){var t;if(!this.ended&&!this.disabled)if(t=Date.now(),this.value+=(t-this.lastCheckTs)/1e3,this.lastCheckTs=t,this.markers){for(;this.markers[0]<=this.value;)this.handler(this.markers.shift(),this.value);0===this.markers.length&&(this.ended=!0,this.stop())}else this.handler(Math.floor(this.value),this.value)},disable:function(){tthis.stop(!1)},enable:function(){this.disabled=!1},stop:function(t){null==t&&(t=!0),this.active&&(this.update(),clearInterval(this.checkIntervalId),this.resetOnStop&&this.fullStop&&(this.value=0),this.active=!1)},start:function(){var t;this.ended||this.active||this.disabled||(this.active=!0,this.lastCheckTs=Date.now(),this.checkIntervalId=setInterval((t=this,function(){t.update()}),250))}},a=[5,10,15].concat(f.call(function(){var t,e;for(e=[],d=t=20;t<=180;d=t+=10)e.push(d);return e}())),r=["maxiscroller","scroller"],o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)g.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["metrics:disable_timer",0,"disableTimer"],["metrics:enable_timer",0,"enableTimer"],["metrics:stop_timer",0,"stopTimer"],["metrics:start_timer",0,"startTimer"]],e.prototype.handlesEvents={drawn:function(){var t;this.initHover(),this.core.options.parentCore||(t=this.node.loadedData.adSubtype,v.call(r,t)>=0)||this.setFullViewElement()},got_wrapper_block:functent:seen":function(){this.leftPage||this.onSeen()},"engagement:user_page_back":function(){this.leftPage=!1,this.core.state.seen&&this.onSeen()},"engagement:unseen":function(){this.shouldCountContapage":function(){this.leftPage=!0,this.onUnseen()},"event:state":function(t){this.isPlaying="play"===t,this.checkMrcVideoState()},"scroller:open":function(){this.setFullViewElement(this.core.wrap)},"scroller:close":function(){this.setFullViewElement(this.core.subwrapperBlock)},"landing:open":function(){this.setFullViewElement(this.core.landingBlock)},"landing:close":function(){this.setFullViewElement()},"adv_legal_info:toggle":function(t){var e,i;if(this.legalInfoIsShown=t,this.legalInfoIsShown)for(e in i=this.timers)i[e].stop(!1);else this.core.state.seen&&!this.leftPage&&this.onSeen()},"api:event_sent":function(t){var e;if("click"===t&&null!=this.timers.ttc&&!this.ttcIsMeasured&&(this.ttcIsMeasured=!0,this.ttcValue>=0))try{this.timers.ttc.update(),e=this.ttcValue>=180?"180+":this.ttcValue,this.trigger("metrics:ttc",{slugname:e})}catch(t){}},"engagement:seen_first_time":function(){"display"===this.node.loadedData.adTyeo"===this.node.loadedData.adType&&this.initTTC()}},e.prototype.handlesParentEvents={"adv_legal_info:toggle":function(t){var e,i;if(this.legalInfoIsShown=t,this.legalInfoIsShown)for(e in i=this.timers)i[e].stop(!1);else this.core.state.seen&&!this.leftPage&&this.onSeen()}},e.prototype.timers=null,e.prototype.hasHover=!1,e.prototype.fullViewElement=null,e.prototype.ttcValue=-1,e.prototype.ttcIsMeasured=!1,e.prototype.isPlaying=!1,e.prototype.hasFullView=!1,e.prototype.leftPage=!1,e.prototype.contacts=0,e.prototype.shouldCountContact=!0,e.prototype.contactCounterIsEnabled=!1,e.protoction(e,i){t.hasFullView=i,t.checkFullViewState()}),this.createTimers(),this.onMouseenter=function(t){return function(){t.hasHover=!0,t.checkHoverStturn function(){t.hasHover=!1,t.checkHoverState()}}(this)},e.prototype.createTimers=function(){var t,e,i,n;this.timers={},this.core.options.parentCore?(i=(e=this.core.options.parentCore).creative.adSubtype,v.call(r,i)>=0&&(this.createMRCTimers(),e.callStrategy("metrics:disable_timer","mrc_vvi"),e.callStrategy("metrics:disable_timer","mrc_dvi"))):(this.createMRCTimers(),(t=this.node.loadedData).content.disableAttentionMetrics||(this.contactCounterIsEnabled=!0,-1!==t.crunction(t){n.trigger("metrics:tick",{slugname:t})}),mdler:function(t){return function(e){t.ttcValue=e}}(this)}),this.createTimer("attention_view",{resetOnStop:!0,handler:function(t){return function(){t.trigger("metrics:attention_view")}}(this),markers:[3]}),c.mobile||c.tablet||this.createTimer("hover",{resetOnStop:!0,handler:function(t){return function(){t.trigger("metrics:hover")}}(this),markers:[2]})))},e.prototype.createMRCTimers=function(){var t;"video"===this.node.loadedData.adType?this.createTimer("mrc_vvi",{resetOnStop:!0,handler:(t=this,function(){t.trigger("metrics:mrc_vvi")}),markers:[2]}):){return function(){t.trigger("metrics:mrc_dvi")}}(this),markers:[1]})},e.prototype.stopTimers=function(){var t,e,i;for(t in e=this.timers)(i=e[t]).stop(),i.ended=!0},e.prototype.createTimer=function(t,e){var i;null==e&&(e={}),i=u({},n,e),h(i.handler)?this.timers[t]=i:this.core.warn("could not create timer "+t+" without handler")},e.prototype.stopTimer=function(t){this.destroyed||this.timers[t]&&this.timers[t].stop()},e.prototype.startTimer=function(t){this.destroyed||this.timers[t]&&this.timers[t].start()},e.prototype.disableTimer=function(t){this.destroyed||this.timers[t]&&this.timers[t].disable()},e.prototype.enableTimer=function(t){this.destroyed||this.timers[t]&&this.timers[t].enable()},e.prototype.initHover=function(){null!=this.core.wrapHtml&&(this.core.wrapHtml.addEventListener("mouseenter",this.onMouseenter,!0),this.core.wrapHtml.addEventListener("mouseleave",this.onMouseleave,!0))},e.prototype.initTTC=function(){-1===this.ttcValue&&(this.startTimer("ttc"),this.ttcValue=0)},e.prototype.deinitHover=function(){null!=this.core.wrapHtml&&(this.core.wrapHtml.removeEventListener("mouseenter",this.onMouseenter,!0),this.core.wrapHtml.removeEventListener("mouseleave",this.onMouseleave,!0))},e.prototype.setFullViewElement=function(t){var e,i;p(t)?e=t:(i=this.node.loadedData.adSubtype,e=v.call(r,i)>=0?this.core.subwrapperBlock:this.core.wrapHtml),this.fullViewElement!==e&&(this.callStrategy("intersection:unobserve",this.fullViewElement,{onFullIntersection:this.onFullView}),this.fullViewElement=e,this.callStrategy("intersection:observe",this.fullViewElement,{onFullIntersection:this.onFullView}))},e.prototype.onSeen=function(){this.legalInfoIsShown||(this.startTimer("tick"),this.ttcValue>=0&&this.startTimer("ttc"),this.checkHoverState(),this.checkMrcVideoState(),this.checkFullViewState(),"video"!==this.node.loadedData.adType&&this.startTimer("mrc_dvi"))},e.prototype.onUnseen=function(){this.stopTimer("tick"),-1!==this.ttcValue&&this.stopTimer("ttc"),this.checkHoverState(),this.checkMrcVideoState(),"video"!==this.node.loadedData.adType&&this.stopTimer("mrc_dvi")},e.prototype.checkHoverState=function(){this.legalInfoIsShown||(this.core.state.seen&&this.hasHover?this.startTimer("hover"):this.stopTimer("hover"))},e.prototype.checkMrcVideoState=function(){"video"===this.node.loadedData.adType&&this.core.state.seen&&this.isPlaying?this.startTimer("mrc_vvi"):this.stopTimer("mrc_vvi")},e.prototype.checkFullViewState=function(){this.hasFullView&&!this.leftPage?(this.startTimer("attention_view"),this.contactCounterIsEnabled&&this.shouldCountContact&&(this.contacts++,this.trigger("metrics:contact",{slugname:this.contacts}),this.shouldCountContact=!1)):this.stopstopTimers(),e.__super__._deinitialize.call(this)},e}(s),l("Buzzplayer.Modules.Creative.Submodules.MetricsWatcher",o),t.exports=o},4676:function(t,e,i){"use strict";i(148),i(1067),i(5739);var n,r,o,s,a,l={}.hasOwnProperty;r=i(2090),a=i(1909),s=i(4032),o=i(8118),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["my_target_tracker:load",0,"load"]],e.prototype.handlesEvents={drawn:function(){var t;"banner"===this.node.adSubtype&&this.core.callStrategyByMaxWeight("banner:subscribe",Number.MAX_VALUE,(t=this,function(e){"loaded"===e.method&&null!=t.clickUrl&&t.core.callStrategyByMaxWeight("banner:send",Number.MAX_VALUE,{method:"buzzoolaProxy",target:"subframe",name:"replaceClick",data:{url:t.clickUrl}})}))},"api:event_sent":function(t){"impression"!==t&&"click"!==t||this.track(t)}},e.prototype.pixels=null,e.prototype.requestUrl=null,e.prototype.clickUrl=null,e.prototype.hasEnoughParams=null,e.prototype.isAllowedDomain=null,e.prototype.isOptional=null,e.prototype.init=function(){var t,e,i,n;if(null!=this.core.options.parentCore&&this.core.options.parentCore.creative.clickthroughUrlMT)this.replaceClick(this.core.options.parentCore.creative.clickthroughUrlMT);else{t=this.node.loadedData.content,this.pixels={click:[],impression:[]};try{this.isAllowedDomain=-1===window.location.hostname.indexOf("demo.buzzoola.com")}catch(t){this.isAllowedDomain=!0}var r;if(this.isOptional=null!=(e=t.mtTrackerOptional)&&e,this.hasEnoughParams=this.isAllowedDomain&&(null!=t.mtTrackerId||null!=t.mtTrackerUrl),this.hasEnoughParams)n=null!=(i=t.mtTrackerUrl)?i:"https://ad.mail.ru/vp/{{mt_tracker_id}}",this.requestUrl=n.replace(/\{{2}(mt_tracker_.*?)\}{2}/g,(r=this,function(e,i){var n,o;return n=a(i),null==t[n]?(r.hasEnoughParams=!1,i):null!=(o=t[n])?o:i}))}},e.prototype.load=function(){var t,e,i;return t=this.node.loadedData.content,!this.isAllowedDomain||null!=this.core.options.parentCore||null==t.mtTrackerId&&null==t.mtTrackerUrl?(this.deinit(),e=Promise.resolve()):this.hasEnoughParams?e=s(this.requestUrl,null,null,{withCredentials:!0}).catch((i=this,function(){return s(i.retion(){throw new Error("Failed to fetch MT data")})).then(function(e){return function(i){var n,r;if(!(r=i.response))throw new Error("Empty MT response");try{n=(t=JSON.parse(r)).targetBlock.banners[0]}catch(t){throw new Error("Failed to parse MT response")}e.replaceClick(n.url),e.addPixels(n.pixels)}}(this)).catch(function(t){return function(e){return t.isOptional?(t.core.warn(e),Promise.resolve()):Promise.reject(e)}}(this)):(this.deinit(),e=Promise.reject(new Error("Not enough parameters for MT tracker"))),e},e.prototype.replaceClick=function(t){var e,i,n,r;if(t)for(this.clickUrl=t,(e=this.node.loadedData).clickthroughUrl=e.clickthroughUrlMT=t,i=0,n=(r=e.content.widgets).length;i<n;i++)r[i].clickthroughUrl=t},e.prototype.addPixels=function(t){var e,i,n;for(e=0,i=t.length;e<i;e++)"impression"!==(n=t[e]).event&&"click"!==n.event||this.pixels[n.event].push(n.url)},e.prototype.track=function(t){var e,i,n,r;try{for(r=this.pixels[t],e=0,i=r.length;e<i;e++)n=r[e],(new Image).src=n,this.core.log("Tracking MT event "+t,n)}catch(e){this.core.trigger("warning","Failed to track MT event "+t,n)}},e}(r),o("Buzzplayer.Modules.Creative.Submodules.MyTargetTracker",n),t.exports=n},9181:function(t,e,i){"use strict";i(8853);var n,r,o,s,a,l={}.hasOwnProperty,c=[].slice;n=i(7911),o=i(8118),a=i(3768),s=i(3304),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.handlesEvents={"intersection:root_changed":function(t){var e,i,n;for(e in n=this.observationTargetsData)(i=n[e]).root=t,i.isRunning=!1;this.destroyObservers(),this.watchIntersections()}},e.prototype.rootObserver=null,e.prototype.parentObservetries.apply(i,t)}),e.__super__.init.apply(this,t)},e.prototype.onDrawn=function(){e.__super__.onDrawn.call(this),this.createObservers()},e.prototype.createObservers=function(){this.createObserver("rootObserver"),this.core.options.parentCore&&this.createObserver("parentObserver",this.intersectionRoot)},e.prototype.createObserver=function(t,e){var i;i={threshold:this.thresholds},null!=e?i.root=e:"maxiscroller"===this.node.loadedData.adSubtype&&(i.rootMargin="10px 0px 10px"),this[t]=new IntersectionObserver(this.handleIntersectionEntries,i),this.observers.push(t)},e.prototype.destroyObservers=function(){for(var t;this.observers.length>0;)this[t=this.observers.shift()]&&this[t].disconnect(),this[t]=null},e.prototype._handleIntersectionEntries=function(t,e){var i,n,r,o,s,a,l,c,u,p;for(c=[],t.sort(this.sortByTime),o=0,l=t.length;o<l;o++)if(r=t[o],-1===c.indexOf(r))for(i in c.push(r.target),r.intersectionRatio&&!isNaN(r.intersectionRatio)?(a=100*r.intersectionRatio,s=25*Math.floor(a/25),a>=(u=this.intersectionGoal)&&u>s&&(s=this.intersectionGoal)):s=r.isIntersecting?100:0,p=this.observationTargetsData)(n=p[i]).target===r.target&&(e===this.parentObserver?n.parentIntersectionPercent=s:n.rootInterseype.sortByTime=function(t,e){return e.time-t.time},e.prototype.watchIntersections=function(){0===this.observers.length&&this.createObservers(),e.__super__.watchIntersechIntersections.call(this),this.destroyObservers()},e.prototype.activate=function(t){e.__super__.activate.call(this,t),this.rootObserver.observe(t.target),null!=this.core.options.parentCore&&this.parentObserver.observe(t.target)},e.prototype.deactivate=function(t){e.__super__.deactivate.call(this,t),this.rootObserver.unobserve(t.target),null!=this.core.options.parentCore&&this.parentObserver.unobserve(t.target)},e.prototype.createTargetData=function(t,i){var n,r,o;return r=null!=this.core.options.parentCore?0:100,(n=a(e.__super__.createTargetData.call(this,t,i),{rootIntersectionPercent:0,parentIntersectionPercent:r})).update=s((o=this,function(){var t;t=Math.min(n.rootIntersectionPercent,n.parentIntersectionPercent),n.intersectionPercent!==t&&o.updateIntersectionPercent(n,t)}),250,!1),n},e}(n),o("Buzzplayer.Modules.Creative.Submodules.NativeIntersectionObserver",r),t.exports=r},1941:function(t,e,i){"use strict";var n,r,o,s={}.hasOwnProperty;r=i(2090),o=i(8118),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)s.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["get_wrap",7,"getWrap"]],e.prototype.getWrap=function(){var t,e,i;return this.callStrategy("embed_svg",["close","maximize"]),t='<div class="'+(i="maxiscroller"===this.node.loadedData.adSubtype?"buzz-maxiscroll":"buzz-scroll")+'__wrapper">',"buzz-scroll"===i&&(t+='<div class="buzz-scroll__close">\n  <span class="buzz-scroll__close__wrap">\n    <svg viewBox="0 0 100 100" class="buzz-scroll__icon">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#buzz_close"></use>\n    </svg>\n  </span>\n</div>'),t+='<div class="'+i+'__sub-wrapper">\n  <div class="'+i+'__clip">\n    <div class="'+i+'__clip__fixed buzz_code"></div>\n  </div>\n</div>',"buzz-scroll"===i&&(t+='<span class="buzz-scroll__maximize buzz-scroll__maximize_active">\n  <svg viewBox="0 0 100 100" class="buzz-scroll__icon">\n    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#buzz_maximize"></use>\n  </svg>\n</span>'),t+="</div>",(e=document.createElement("div")).className=i,e.innerHTML=t,e},e}(r),o("Buzzplayer.Modules.Creative.Submodules.ScrollerWrap",n),t.exports=n},2397:function(t,e,i){"use strict";i(8485);var n,r,o,s,a,l={}.hasOwnProperty;n=i(2090),o=i(8118),s=i(3935),a=[150,200,250,300],r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["get_wrap",7,"getWrap"],["resize:calc_height",10,"calcHeight"]],e.prototype.handlesEvents={"widget:resize":function(t,e){var i,n,r,o;for(i=null,n=0,r=a.length;n<r;n++)if(t<=(o=a[n])){i=o;break}null!=this.currentModificator&&this.currentModificator!==i&&this.core.wrapHtml.classList.remove("shoppable-ads-width-"+this.currentModificator),null!=i&&i!==this.currentModificator&&this.core.wrapHtml.classList.add("shoppable-ads-width-"+i),this.currentModificator=i,this.core.wrap.style.width=e+"px"}},e.prototype.currentModificator=null,e.prototype.getWrap=function(){var t,e,i,n,r,o,s;return this.callStrategy("embed_svg",["ruble"]),(e=document.createElement("div")).className="buzz shoppable-ads",o="",r=(t=this.node.loadedData).showTitle&&!!t.title,n=!!t.description,i=!!t.clickthroughUrl&&!(!0===(s=t.content.excludeClickButton)||"true"===s),o+='<div class="buzz__player">\n    <div class="buzz_code" data-width="1" data-height="1" data-resize=""></div>\n</div>\n<div class="buzz__data">\n    <div class="buzz__data-top">',(r||n)&&(r&&(o+='<div class="buzz__title">'+t.title+"</div>"),n&&(o+='<div class="buzz__desc">'+t.description+"</div>",o+="</div>")),o+='<div class="buzz__data-bottom">',t.displayedPrice&&(o+='<div class="buzz__price-wrap">\n    <div class="buzz__price">\n        <span>'+t.displayedPrice+'</span>\n        <span class="buzz__price-icon buzz-icon">\n            <svg viewBox="0 0 17 19">\n                <use xlink:href="#buzz-icon-ruble"></use>\n            </svg>\n        </span>\n    </div>',(t.discountPercent||t.oldPrice)&&(o+='<div class="buzz__sale-wrap">',t.discountPercent&&(o+='<div class="buzz__sale">-'+t.discountPercent+"%</div>"),t.oldPrice&&(o+='<div class="buzz__old-price">\n    <span>'+t.oldPrice+'</span>\n    <span class="buzz__old-price-icon buzz-icon">\n        <svg viewBox="0 0 17 19">\n            <use xlink:href="#buzz-icon-ruble"></use>\n        </svg>\n    </span>\n</div>'),o+="</div>"),o+="</div>"),i&&(o+='<div class="buzz__btn" data-buzz-clickthrough>'+t.actionButtonTitle+"</div>"),o+="    </div>\n</div>",e.innerHTML=o,e.style.position="relative",e},e.prototype.calcHeight=function(t){var e,i;return e=s(this.core.wrapHtml),i=parseFloat(e.height),i-=parseFloat(e.paddingTop),i-=parseFloat(e.paddingBottom)},e}(n),o("Buzzplayer.Modules.Creative.Submodules.ShoppableAdsItemWrap",r),t.exports=r},3192:function(t,e,i){"use strict";i(8485);var n,r,o,s,a={}.hasOwnProperty,l=[].slice;r=i(2090),s=i(5552),o=i(8118),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["get_wrap",7,"getWrap"]],e.prototype.hoverableElements=null,e.prototype.init=function(){var t;t=1<=arguments.length?l.call(arguments,0):[],e.__super__.init.apply(this,t),this.hoverableElements=[],this.onHover=function(t){t.on(t){t.currentTarget.classList.remove("hovered")}},e.prototype.getWrap=function(){var t,e,i,n,r,o,a;for(n='<div class="buzz default_install">\n  <div class="buzz__player">\n    <div class="buzz_code" data-width="2" data-height="3" data-resize=""></div>\n  </div>',(t=this.node.loadedData).title&&(n+='<div class="buzz__title">'+t.title+"</div>"),t.displayedPrice?n+='<div class="buzz__price">'+t.displayedPrice+"</div>":n+='<div class="buzz__price buzz__price_none"></div>',n+='<div class="buzz__data">',t.title&&(n+='<div class="buzz__title buzz__title_white">'+t.title+"</div>"),t.description&&(n+='<div class="buzz__desc buzz__desc_white">'+t.description+"</div>"),n+='<div class="buzz__bottom">',t.displayedPrice?n+='<div class="buzz__price buzz__price_white">'+t.displayedPrice+"</div>":n+='<div class="buzz__price buzz__price_none"></div>',t.actionButtonTitle&&t.clickthroughUrl&&(n+='<div class="buzz__install">\n  <span data-buzz-clickthrough class="buzz__install__btn">\n    <span class="buzz__install__btn__wrapper">'+t.actionButtonTitle+"</span>\n  </span>\n</div>"),n+="    </div>\n  </div>\n</div>",(i=document.createElement("div")).className="buzz-showcase-carousel__elem",i.innerHTML=n,this.hoverableElements.push(i.children[0]),r=0,o=(a=this.hoverableElements).length;r<o;r++)e=a[r],s(e)&&(e.addEventListener("mouseover",this.onHover,!0),e.addEventListener("mouseout",this.onOut,!0));return i},e.prototype._deinitialize=function(){var t,i,n,r;for(i=0,n=(r=this.hoverableElements).length;i<n;i++)t=r[i],s(t)&&(t.removeEventListener("mouseover",this.onHover,!0),t.removeEventListener("mouseout",this.onOut,!0));e.__super__._deinitialize.call(this)},e}(r),o("Buzzplayer.Modules.Creative.Submodules.ShowcaseItemWrap",n),t.exports=n},1471:function(t,e,i){"use strict";var n,r,o,s,a={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};r=i(2090),s=i(8118),n=["ctor","player_seen"],o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.handlesEvents={got_wrap:function(){var t,e,i;e=("scroller"===(t=this.node.loadedData).adSubtype||"maxiscroller"===t.adSubtype)&&(this.core.wrapHtml.querySelector(".buzz-maxiscroll__wrapper")||this.core.wrapHtml.querySelector(".buzz-scroll__wrapper"))||this.core.wrapHtml,null!=(null!=(i=t.extra)?i.impId:void 0)&&null!=e&&e.setAttribute("id",t.extra.impId)},"event:state":function(t){this.sendState("ready"===t?"ctor":t)},"clickthrough:action":function(){this.sendState("click")},"api:event_sent":function(t,e){"custom_widget"===this.node.loadedData.adSubtype&&null!=e.slugname||"ctor"!==t&&this.sendState(t)},"engagement:seen_first_time":function(){"display"===this.node.loadedData.adType&&this.sendState("player_seen")},"event:player_seen_first_time":function(){"video"===this.node.loadedData.adType&&this.sendState("player_seen")e.prototype.init=function(){this.trackedEvents=[]},e.prototype.isProhibited=function(t,e){var i,r;return null==e&&(e=!1),r=!1,(this.trackedEvents.indexOf(t)>=0||(i=this.core.options).suppressEvents||i.doNotTrack||i.parentCore&&l.call(n,t)>=0)&&(r=!0),r},e.prototype.sendState=function(t,e){null==e&&(e=!1),this.isProhibited(t,e)||(BUZZOOLA.callStrategy("tracker:track",{event:t,placement:this.core.placement.placementId,imp:this.node.loadedData.extra.impId}),this.trackedEvents.push(t))},e}(r),s("Buzzplayer.Modules.Creative.Submodules.TrackingUrlSender",o),t.exports=o},8795:function(t,e,i){"use strict";var n,r,o,s,a,l,c={}.hasOwnProperty;n=i(2090),o=i(8118),s=i(9946),l=i(6808),i(7904),a=i(5552),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)c.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["engagement:disable_listener",0,"disableListener"],["engagement:enable_listener_for_leave_page",0,"enableListenerForLeavePage"],["engagement:enable_listener_for_visibility",0,"enableListenerForVisite":function(t){"ready"===t&&this.onPlayerReady()},"preroll:shown":function(){this.callStrategy("intersection:unlock")},"expandable:shown":function(){this.callStrategy("intersection:unlock")},"fullscreen:shown":function(){this.callStrategyisInFullscreenMode=t,this.toggleVisibilityCheck()},"scroller:open":function(){this.setVisibilityTarget(this.core.wrap)},"scroller:close":fun{this.setVisibilding:close":function(){this.setVisibilityTarget()}},e.prototype.visibilityTarget=null,e.prototype.isInFullscreenMode=!1,e.prototype.isPaused=null,e.prototype.sendFirstSeen=!0,e.prototype.pageListener=null,e.prototype.listeners=null,e.prototype.init=function(){var t;this.listeners={},this.onVisibilityChange=(t=this,function(e,i){var n;t.destroyed||t.core.destroyed||t.core.state.seen!==i&&(t.core.state.seen=i,n="seen",i?t.sendFirstSeen&&(t.sendFirstSeen=!1,t.trigger("engagement:seen_first_time")):n="unseen",t.trigger("engagement:"+n),t.core.options.parentCore&&t.core.options.parentCore.trigger("widget:player:"+n))})},e.prototype.onPlayerReady=function(){var t;"inread"!==(t=this.core.placement.unitType)&&"buzzoola_flyroll"!==t&&this.callStrategy("intersection:lock"),this.setVisibilityTarget(),this.callStrategy("engagement:enable_listener_for_visibility"),this.callStrategy("engagement:enable_listener_for_leave_page")},e.prototype.setVisibilityTarget=function(t){var e;if(a(t))e=t;else switch(this.node.loadedData.adSubtype){case"carousel":e=this.core.wrap;break;case"scroller":case"maxiscroller":e=this.core.subwrapperBlock;break;default:e=this.core.widgetDiv}this.visibilityTarget!==e&&(this.callStrategy("intersection:unobserve",this.visibilityTarget,{onGoal:this.onVisibilityChange}),this.visibilityTarget=e,this.callStrategy("intersection:observe",this.visibilityTarget,{onGoal:this.onVisibilityChange}))},e.prototype.toggleVisibilityCheck=function(){var t,e;(t=this.isInFullscreenMode)!==this.isPaused&&(this.isPaused=t,e=t?"pause":"resume",this.callStrategy("intersection:"+e))},e.prototype.disableListener=function(t){"user_left_page"===t&&(t="pageLeft"),this.listeners[t]&&("pageLeft"===t?l(this.listeners[t]):"visibility"===t&&this.callStrategy("intersection:disconnect"),this.listeners[t]=null)},e.prototype.disableAllListeners=function(){var t;for(t in this.listeners)this.disableListener(t)},e.prototype.enableListenerForVisibility=function(){-1!==[].indexOf.call(this.core.container.classList,"buzz-invisible")||this.listeners.visibility||(this.listeners.visibility=!0,this.callStrategy("intersection:connect"))},e.prototype.enableListenerForLeavePage=function(){var t;this.listeft_page"):t.trigger("engagemelListeners(),e.__super__._deinitialize.call(this)},e}(n),o("Buzzplayer.Modules.Creative.Submodules.UserEngagement",r),t.exports=r},4473:function(t,e,i){"use strict";i(5739),i(148),i(1067),i(6387);var n,r,o,s,a,l,c,u,pi;e++)if(e in this&&this[e]===t)return e;return-1},k=[].slice;a=i(2090),y=i(9712),p=y.client,m=y.tracker,d=i(7609),v=i(3713),f=i(6356),g=i(6209),h=i(3768),u=i(9202),_=i(4032),c=i(8118),r=i(7664).CREATIVE_VAST_VIDEO_TYPES,s={"audio/mpeg":1,"audio/mp3":1,"audio/ogg":1,"video/ogg":2,"video/webm":3,"video/mp4":4,"application/javascript":5},n={video_url:["audio/mpeg","audio/mp3","audio/ogg","video/ogg","video/webm","video/mp4"],vpaidjs:["application/javascript"]},o={title:"nativetext.title",sponsorLogo:"nativetext.image",description:"nativetext.description",actionButtonTitle:"cturn e.ototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["vast:parse",0,"parse"]],e.prototype.handlesNodeEvents={"event:player_seen_first_time":function(){this.callTrackerMethod("viewed")},"event:time":function(t){this.callTrackerMethod("setProgress",t)},"event:quartile":function(t){var e;switch(t){case 0:e="start";break;case 1:e="firstQuartile";break;case 2:e="midpoint";break;case 3:e="thirdQuartile";break;case 4:e="complete"}e&&this.callTrackerMethod("track",e)},"vpaidjs:ad_video_start":function(){this.callTrackerMethod("track","start")},"vpaidjs:ad_video_first_quartile":function(){this.callTrackerMethod("track","firstQuartile")},"vpaidjs:ad_video_midpoint":function(){this.callTrackerMethod("tra){this.callTrackerMethod("track","thirdQuartile")},"vpaidjs:ad_impression":function(){this.callTrackerMethod("displayed")},"vpaidjs:ad_video_complete":function(){this.callTrackerMethod("complete")},"video_widget:state_changed":function(t){switch(t){case"startdgets.filter((function(t){return t.isVPAIDJSVideo})).length&&this.callTrackerMethod("displayed");break;case"play":this.pause&&this.callTrackerMethod("setPaused",this.pause=!1);break;case"pause":this.callTrackerMethod("setPaused",this.pause=!0);break;case"duration":this.tracker&&this.tracker.setDuration(this.callStrategy("function(t){this.callTracktion(t){this.callTrackction":function(){this.callTrackerMethod("click")},"close_button:click":function(){this.callTrackerMethod("skip")}},e.prototype.handlesEvents={error:function(){this.callTrackerMethod("errorWithCode",400)}},e.prototype.pause=!1,e.prototype.mediaFile=null,e.prototype.tracker=null,e.prototype.icon=null,e.prototype.parse=function(){var t,e,i,n,o,s,a,l,c,u;for(l=null,a=null,s=0,e=t=0,i=(n=this.node.loadedData.content.widgets).length;t<i;e=++t)o=(c=n[e]).contentType,w.call(r,o)>=0&&(l=c,a=e,s++);return 0===s?Promise.resolve():s>1?Promise.reject(new Error("Expected 0-1 VAST tag but got "+s)):l.isParsedTag?this.onVen((u=this,function(){return u.onVASTTagLoad(l,a)}),function(t){return function(e){throw new Error(t.getErrorMessage(e))}}(this))},e.prototype.loadVASTTag=function(t,e){return new Promise((i=this,function(n,r){var o,a,l,c;return o=i.node.loadedData,(l=t.widgetData).mainContent=l.mainContent.replace(/\[DL\]/g,d()),c=null==(a=l.withCredentials)||a,p.get(l.mainContent,{withCredentials:c},(function(a,c,u){var p,d,f,v,y,_,b,w,k,z,T,x,C,L,S,E,D,I,O,R,P,A,U,B,M,N,W,F,V,H,j,G,q,Z;if(f=[],null!=c&&null!=(N=c.ads)?N.length:void 0)for(C=T=0,D=(W=c.ads).length;T<D;C=++T){if(p=W[C],v={},(null!=(F=Z=l.ignoreImpression)?F.length:void 0)>0){try{z=new RegExp(Z)}catch(t){z=null}null!=z&&(p.impreURLTemplates.filter((function(t){return!z.test(t)})))}for(L=0,I=(V=p.creatives).length;L<I;L++)if("linear"===(d=V[L]).type){for(S=0,O=(H=d.mediaFiles).length;S<O;S++)(null!=(U=H[S])&&null!=(j=U.fileURL)?j.length:void 0)>0&&s[U.mimeType]&&(v.mediaFile?v.mediaFile.mimeType===U.mimeType?i.compareRates(v.mediaFile,U)&&(v.mediaFile=U):1===i.compareMimes(U,v.mediaFile)&&(v.mediaFile=U):v.mediaFile=U);for(v.adParameters=d.adParameters,E=0,R=(G=d.icons).length;E<R;E++){x=G[E],v.icon=i.replaceHTTPS(x.fileURL);break}v.ad=p,v.tracker=new m(p,d)}v.mediaFile&&(k=v.mediaFile.fileURL,v.mediaFile.fileURL=i.replaceHTTPS(k),b=h({},o),h(b.content.widgets[e],{vastAd:v,isParsedTag:!0}),C>0&&(b.extra.seqMarker=C),f.push(b))}if(y=t.creativeDataToSave||o.creativeDataToSave,g(y)&&i.saveCreative(u,y),!l.allowMultipleCreatives&&f.length>1&&(f=f.slice(0,1)),"boolean"==typeof a&&a)r("Unknown VAST tag error");else if(a>=400||a||0===f.length)null!=(w=null!=c&&null!=(q=c.ads)?q[0]:void 0)&&(i.tracker=new m(w,null!=(B=null!=(M=w.creatives)?M[0]:void 0)?B:{})),r(c&&0===f.length?"Empty creatives list":a);else{if(i.callStrategy("api:add_data",f),_=f.shift(),i.changeLoadedData(i.node.loadedData,_.content.widgets[e]),f.length>1)for(A=0,P=f.length;A<P;A++)p=f[A],i.changeLoadedData(p,p.content.widgets[e]);n()}}))}));var i},e.prototype.onVASTTagLoad=function(t,e){return new Promise((i=this,function(e){var n;null!=(n=t.vastAd)&&(i.mediaFile=n.mediaFile,i.tracker=n.tracker,i.icon=n.icon),i.icon?i.calll",i.icon).then(e,(function(t){i.core.warn(t),e()})):e()}));var i},e.prototype.getErrorMessage=function(t){return f(t)?"VAST response status code: "+t:v(t)?t:"Not found mediaFile in vast tag"},e.prototype.compareMimes=function(t,e){var i;return 0===(i=s[t.mimeType]-s[e.mimeType])?i:i/Math.abs(i)},e.prototype.compareRates=function(t,e){var i,n,r;return n=parseInt(t.bitrate,10),r=parseInt(e.bitrate,10),0===(i=u.mobile||u.tablet?n-r:r-n)?i:i/Math.abs(i)},e.prototype.replaceHTTPS=function(t){return 0===(null!=t?t.indexOf("//"):void 0)?"https:"+t:t},e.prototype.changeLoadedData=function(t,e){var i,r,o,s,a,l,c,u,p,d;for(i in d=e.vastAd,n)if(-1!==n[i].indexOf(d.mediaFile.mimeType)){e.contentType=i;break}if(h(e,{widgetData:{mainContent:e.vastAd.mediaFile.fileURL,mimeType:e.vastAd.mediaFile.mimeType},isVPAIDJSVideo:(a=e.vastAd.mediaFile.mimeType,w.call(n.vpaidjs,a)>=0)}),d.adParameters&&(e.widgetData.adParameters=d.adParameters),("audio/mpeg"===(l=d.mediaFile.mimeType)||"audio/mp3"===l||"audio/ogg"===l)&&(t.clickthroughPosition="bottom",t.overlayStart=0,t.overlayClose=20,t.playerShowPanels=!1,!d.icon)){for(o=!1,r=0,s=(c=this.node.loadedData.content.widgets).length;r<s;r++)if("audioroll"===(e=c[r]).contentType){o=!0;break}(o||/tube\.buzzoola\.com\/thumbnails\/default_thumbnail\.png/.test(t.thumbnail))&&(d.icon=BUZZOOLA.options.origin+"/img/audioroll_thumbnail.gif")}d.icon&&(t.thumbnail=d.icon),d.tracker.skipDelay?t.playerShowSkipButtonSeconds=d.tracker.skipDelay:-1===d.tracker.skipDelay&&(t.playerShowSkipButtonSeconds=0),(null!=(u=d.tracker)?u.assetDuration:void 0)&&(t.duration=d.tracker.assetDuration),(null!=(p=d.tracker)?p.clickThroughURLTemplate:void 0)&&!t.clickthroughUrlMT&&(e.clickthroughUrl=t.clickthroughUrl=d.tracker.clickThroughURLTemplate),e.widgetData.useExtensions&&this.extractDataFromExtensions(e)},e.prototype.extractDataFromExtensions=function(t){var e,i,n,r,s,a,l,c,u,p;if(e=this.node.loadedData,0!==(r=null!=(c=t.vastAd.ad.extensions)?c:[]).length)for(s in l=null!=(u=t.widgetData.extPaths)?u:o)if(a=l[s],null!=(i=r.filter((function(t){return t.type===n}))[0])){for(;null!=(p=a.shift())&&null!=i;)i=i[p];e[s]=null!=i?i:""}else e[s]=""},e.prototype.saveCreative=function(t,e){var i,n,r,o,s;o=e.key,n=e.creativeId;try{r=(new XMLSerializer).serializeToString(t)}catch(e){e,r=null===t?"null":void 0===t?"undefined":t.toString()}i={dev:"https://devexchange.buzzoola.com",prod:"https://exchange.buzzoola.com",debug:"https://devexchange.buzzoola.com",test:"https://devexchange.buzzoola.com"}[this.core.options.env],_(i+"/dsp_content/"+o+"/"+n,"POST"ut:3e3}).catch((s=this,function(t){s.core.warn(t)}))},e.prototype.callTrackerMethod=function(){var t,e;e=arguments[0],t=2<=arguments.length?k.call(arguments,1):[],this.tracker&&this.tracker[e]&&this.tracker[e].apply(this.tracker,t)},e}(a),c("Buzzplayer.Modules.Creative.Submodules.VAST",l),t.exports=l},8969:function(t,e,i){"use strict";var n,r,o,s,a,l,c={}.hasOwnProperty;r=i(2090),l=i(6209),a=i(6356),s=i(8118),n=["landscape","portrait"],o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)c.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["viewport:get_orientation",0,"getOrientation"],["viewport:lock_orientation",0,"lockOrientation"],["viewport:unlock_orientation",0,"initChecking"]],e.prototype.defaultOrientation="landscape",e.prototype.orientation=null,e.prototype.lockedOrientation=null,e.prototype.checkOrientation=null,e.prototype.continueChecking=!1,e.prototype.eventIsSupported=!1,e.prototype.init=function(){this.setOrientation(),null!=this.orientation?this.eventIsSupported=!0:(this.orientation={},this.eventIsSupported=!1),this.initChecking()},e.prototype.initChecking=function(){var t;this.lockedOrientation=null,this.eventIsSupported?(null!=this.checkOrientation&&window.removeEventListener("orientationchange",this.checkOrientation,!1),this.checkOrientation=(t=this,function(){return t.setOrientation(),t.trigger("orientation:change",t.getOrientation())}),window.addEventListener("orientationchange",this.checkOrientation,!1)):(this.continueChecking=!0,this.checkOrientation=function(t){return function(){var e;!t.inactive&&t.continueChecking&&((e=window.innerWidth>window.innerHeight?"landscape":"portrait")!==t.orientation.type&&(t.orientation.type=e,t.trigger("orientation:change",t.orientation.type)),setTimeout(t.checkOrientation,100))}}(this)),this.checkOrientation()},e.prototype.stopChecking=function(){this.eventIsSupported?window.removeEventListener("orientationchange",this.checkOrientation,!1):this.continueChecking=!1},e.prototype.setOrientation=function(){var t;this.orientation=window.orientation,this.orientation||(t=window.screen)&&(this.orientation=t.orientation||t.mozOrientation||t.msOrientation)},e.prototype.getOrientation=function(){var t;return t=void 0,null!=this.lockedOrientation?t=this.lockedOrientation:l(this.orientation)&&this.orientation.type?-1!==n.indexOf(this.orientation.type)&&(t=this.orientation.type):a(this.orientation)&&(t=Math.abs(90===this.orientation)?"landscape":"portrait"),t||this.defaultOrientation},e.prototype.lockOrientation=function(t){this.lockedOrientation=t||this.getOrientation(),this.stopChecking(),this.trigger("orientation:change",this.lockedOrientation)},e.prototype._deinitialize=function(){this.stopChecking(),e.__super__._deinitialize.call(this)},e}(r),s("Buzzplayer.Modules.Creative.Submodules.ViewportOrientation",o),t.exports=o},8782:function(t,e,i){"use strict";i(8485),i(148),i(1067);var n,r,o,s,a,l,c={}.hasOwnProperty;n=i(2090),s=i(9202),a=i(7570),l=i(3935),o=i(8118),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)c.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.handlesEvents={"event:state":function(t){var e;"ready"===t&&(null!=(e=this.core.options.parentCore)&&"ready"!==e.state.state||(this.core.wrapHtml.style.visibility="visible",e||this.addContentImage()))},"resize:after":function(){var t,e,i,n,r,o;if(("tgb"===(r=this.node.loadedData.adSubtype)||"carousel"===r)&&(e=null!=this.core.options.parentCore,(i=this.callStrategy("placement:get_height")).value>0&&!e))for(n in i=this.callStrategy("resize:calc_preliminary_height"),o=this.smallPlacementClasses)t=o[n],this.core.wrapHtml.classList[i<=n?"add":"remove"](t)}},e.prototype.handlesParentEvents={"event:state":function(t){"ready"===t&&"ready"===this.core.state.state&&(this.core.wrapHtml.style.visibility="visible")}},e.prototype.addsStrategies=[["get_wrap",0,"getWrap"],["wrap:width",0,"width"],["wrap:height",0,"height"],["wrap:customize",0,"customize"]],e.prototype.smallPlacementClasses={300:"buzzplayer__small-placement",250:"buzzplayer__small-250-placement"},e.prototype.styles=null,e.prototype.getBlockClassName=function(t){return null==t&&(t=!1),t?"b-def-half__elemhalf__elem">'+this.node.loadedData.title+"</div>"},e.prototype.getDescription=function(t){return null==t&&(t=!1),'<div class="'+this.getBlockClassName(t)+' buzz-default__desc">'+this.node.loadedData.description+"</div>"},e.prototype.getSponsor=function(t){var e,i;return null==t&&(t=!1),e=this.node.loadedData,i='<div class="'+this.getBlockClassName(t)+' buzz-default__sponsor b-def-sponsor">\n  <div class="b-def-sponsor__link">\n    <span class="b-def-sponsor__name">На правах рекламы</span>',e.sponsorLogo&&(i+='<span class="b-def-sponsor__logo">\n\t<img src="'+e.sponsorLogo+'" alt="" class="b-def-sponsor__logo__img">\n</span>'),i+="</div></div>"},e.prototype.getButton=function(){var t;return'<div class="buzz-default__install b-def-install b-def-half__elem">\n\t<span data-buzz-clickthrough class="b-def-install__btn">\n\t\t<span class="b-def-install__btn__wrapper">\n\t\t\t'+(null!=(t=this.node.loadedData.actionButtonTitle)?t:"Перейти")+"\n\t\t\t<span class=\"b-def-install__btn__icon\">\n\t\t\t\t<svg class='buzzplayer-svg-icon' viewBox='0 0 70 110'>\n\t\t\t\t\t<use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#buzz_arrow_right'></use>\n\t\t\t\t</svg>\n\t\t\t</span>\n\t\t</span>\n\t</span>\n</div>"},e.prototype.getWrap=function(){var t,e,i,n,r,o,a,l,c,u,p,h,d,f;return this.callStrategy("embed_svg",["arrow_right"]),n=document.createElement("div"),c="",e=this.node.loadedData,u=!(s.mobile||s.tablet),p=(h="video"===e.adType)&&u,l=e.showTitle&&!!e.title,o=!!e.description,a=!!e.sponsorLogo,t=!(h||e.content.excludeClickButton)||!!e.actionButtonTitle&&!p,r=!!e.clickthroughUrl&&t,i=null,l?i="getTitle":o?i="getDescription":a&&(i="getSponsor"),d=null,"getDescription"!==i&&o?d="getDescription":"getSponsor"!==i&&a&&(d="getSponsor"),f=null,"getSponsor"!==i&&"getSponsor"!==d&&a&&(f="getSponsor"),c+='<div class="buzz-default">',c+="<div class=\"buzz__default__player\">\n\t<div class=\"buzz_code\" data-width='16' data-height='9' data-resize></div>\n</div>",i&&(c+='<div class="buzz__info">',c+='<div class="buzz-default__half b-def-half',r&&!i&&(c+=" b-def-half_one"),c+='">',c+="\t"+(i&&this[i](!0)||"")+"\n\t"+(r&&this.getButton()||"")+"\n</div>",c+=(d&&this[d]()||"")+"\n"+(f&&this[f]()||""),c+="</div>"),c+="</div>",n.innerHTML=c,n.style.position="relative",n},e.prototype.addContentImage=function(){var t;(t=new Image).className="buzz__content__image",t.src=BUZZOOLA.options.origin+"/img/content_image.png",t.width=t.height="11",this.core.widgetDiv&&this.core.widgetDiv.appendChild(t)},e.prototype.width=function(){return parseFloat(l(this.core.wrap,"width")||0)},e.prototype.height=function(){return parseFloat(l(this.core.wrap,"height")||0)},e.prototype.customize=function(){var t,e,i;(i=(null!=(t=null!=(e=this.node.loadedData.content)?e.styles:void 0)?t:"").replace(/\{\{id\}\}/gm,"."+this.core.wrapId)).length>0&&(this.styles=a(i))},e.prototype._deinitialize=function(){try{this.styles.parentNode.removeChild(this.styles)}catch(t){}e.__super__._deinitialize.call(this)},e}(n),o("Buzzplayer.Modules.Creative.Submodules.Wrap",r),t.exports=r},7507:function(t,e,i){"use strict";var n,r,o,s,a={}.hasOwnProperty,l=[].slice;n=i(2090),i(4199),o=i(8118),s=i(1241),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["metrika:reach_goal",0,"reachGoal"]],e.prototype.handlesEvents={"api:event_sent":function(t){"impression"===t&&this.callStrategy("metrika:reach_goal",t)}},e.prototype.yaId=null,e.prototype.eventQueue=null,e.prototype.metrika=null,e.prototype.init=function(){this.yaId=this.node.loadedData.yaId,this.eventQueue=[];try{window.Ya?this.createMetrika():(null==window.yandex_metrika_callbacks&&(window.yndow.yandex_metrika_callbacks.push((t=this,function(){t.createMetrika()})),this.loadMetrikaLibrary())}catch(t){}var t},e.prototype.reachGoal=function(){var t,e;t=1<=arguments.length?l.call(arguments,0):[],this.callEvent((e=this,function(){var i,n;return(i=e.metrika).reachGoal.apply(i,l.call(t).concat([{uuid:e.core.params.uuid,timestamp:Date.now()}])),(n=e.core).log.apply(n,["Goal reached"].concat(l.call(t)))}))},e.prototype.createMetrika=function(){this.metrika=new window.Ya.Metrika({id:this.yaId,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,trackHash:!0}),this.callQueuedEvents()},e.prototype.loadMetrikaLibrary=fx.ru/metrika/watch.js").ccallEvent=function(t){this.metrika?t.call(this):this.eventQueue.push(t)},e.prototype.callQueuedEvents=function(){var t,e,i;if(!this.destroyed){for(t=0,e=(i=this.eventQueue).length;t<e;t++)i[t].call(this);this.eventQueue=[]}},e}(n),o("Buzzplayer.Modules.Creative.Submodules.YandexMetrika",r),t.exports=r},6977:function(t,e,i){"use strict";i(148),i(8853),i(5739);var n,r,o,s,a,l,c,u,p={}.hasOwnProperty;n=i(8706),u=i(4032),a=i(3713),l=i(429),s=i(5460),o=i(8118),c=function(){var t;return t=1,Math.round(100*Math.random())>=50&&(t=-1),t},r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)p.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.initWidgets=function(){var t,e,n,r,o;r=this.getExtendedWidgetData(0),e=(null!=(n=(t=r.widgetData).mainContent)?n.search(/http(s)?:\/\//):void 0)>=0?t.mainContent:BUZZOOLA.options.origin+"/build/html/bls.html",u(e,"GET",null,null,null).then((o=this,function(e){var i,n,r,s,u,p,h,d,f,g,v,y,_,m,b,w,k,z;if(w=e.response,a(w)&&w.length>0){for(g=r=0,p=(v=t.blsQuestions).length;r<p;g=++r){for(null==(f=v[g]).id&&(f.id=g),n=s=0,h=(y=f.answers).length;s<h;n=++s)null==(i=y[n]).id&&(i.id=n),i.couldBeShuffled=!(null!=(_=i.isExclusive)&&_),f.isMultianswer||(i.isExclusive=!0);if(f.isShuffled){for(k=[],z=[],u=0,d=(m=f.answers).length;u<d;u++)(i=m[u]).couldBeShuffled?k.push(i):z.push(i);k.sort(c),f.answers=k.concat(z)}}if(t.blsQuestions.length<1)throw new Error("Expected data for at least 1 question");return b={endscreenText:t.blsEndscreenText||"Спасибо за участие в опросе",questions:t.blsQuestions,styles:{},libraries:[BUZZOOLA.options.origin+"/js/lib/banner.js"]},null!=o.node.loadedData.content.styles&&(b.styles.internal=o.node.loadedData.content.styles,o.node.loadedData.content.styles=""),t.mainContent=l.render(w,b)}throw new Error("Empty bls html")})).then(function(t){return function(){return new Promise((function(e,n){Promise.resolve().then(function(n){i(1190),s(t,[["Widget",r]],"Buzzplayer.Widgets.Banner"),e()}.bind(null,i)).catch((function(t){return n(t)}))}))}}(this)).catch(function(t){return function(e){t.trigger("error",e||"Failed to load widgets")}}(this))},e}(n),o("Buzzplayer.Modules.Creative.AdFormats.BLSBanner",r),t.exports=r},3786:function(t,e,i){"use strict";i(148),i(5739);var n,r,o,s,a,l,c,u={}.hasOwnProperty;n=i(8706),c=i(4032),a=i(3713),l=i(429),s=i(5460),o=i(8118),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)u.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.initWidgets=function(){var t,e,n,r,o;r=this.getExtendedWidgetData(0),e=(null!=(n=(t=r.widgetData).mainContent)?n.search(/http(s)?:\/\//):void 0)>=0?t.mainContent:BUZZOOLA.options.origin+"/build/html/cube_banner.html",c(e,"GET",null,null,null).then((o=this,function(e){var i,n,r,s;if(r=e.response,a(r)&&r.length>0){if(4!==(s=(null!=(i=t.cubeBanner)?i:[]).map((function(t,e){return a(t)&&(t={image:t}),t.id=e+1,null==t.clickthroughUrl&&(t.clickthroughUrl=o.node.loadedData.clickthroughUrl),t}))).length)throw new Error("Expected data for 4 slides");return n={slides:s,styles:{external:BUZZOOLA.options.origin+"/build/css/external/swiper.min.css"},libraries:[BUZZOOLA.options.origin+"/js/lib/external/swiper.min.js",BUZZOOLA.options.origin+"/js/lib/banner.js"]},null!=o.node.loadedData.content.styles&&(n.styles.internal=o.node.loadedData.content.styles,o.node.loadedData.content.styles=""),t.mainContent=l.render(r,n)}throw new Error("Empty cube banner html")})).then(function(t){return function(){return new Promise((function(e,n){Promise.resolve().the,[["Widget",r]],"Buzzplayer.Widgets.Banner"),e()}.bind(null,i)).catch((function(t){return n(t)}))}))}}(this)).catch(function(t){return function(e){t.trigger("error",e||"Failed to load widgets")}}(this))},e}(n),o("Buzzplayer.Modules.Creative.AdFormats.CubeBanner",r),t.exports=r},140:function(t,e,i){"use strict";var n,r,o,s,a,l={}.hasOwnProperty;n=i(8706),s=i(6993),a=i(5460),o=i(8118),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.initWidgets=function(){var t,e,n,r,o,l,c;for(l=[],e=0,n=(r=(t=this.node.loadedData).content.widgets).length;e<n;e++)switch((o=r[e]).widgetType){case"video":l.push("Video");break;case"tgb":l.push("TGB");break;case"custom_widget":l.push("Custom");break;default:l.push(s(o.widgetType))}l.length===t.content.widgets.length&&l.length>0?i.e(768).then((c=this,function(t){var e,n,r,o,s;for(e=n=0,r=l.length;n<r;e=++n)return s=l[e],i(8035)("./"+s.toLowerCase()+"/Widget"),o="Video"===s?"Player":s,void a(c,[["Widget",c.getExtendedWidgetData(e)]],"Buzzplayer.Widgets."+o)}).bind(null,i)).catch(function(t){return function(e){t.trigger("error",e||"Failed to load widgets")}}(this)):this.trigger("error","Creative contains unknown widgets")},e}(n),o("Buzzplayer.Modules.Creative.AdFormats.Default",r),t.exports=r},5767:function(t,e,i){"use strict";var n,r,o,s,a,l={}.hasOwnProperty;n=i(8706),a=i(5460),s=i(6993),o=i(8118),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["get_wrap",20,"getWrap"],["widget:resize",10,"resize"]],e.prototype.handlesEvents={"widget_div:created":function(){var t,e,i,n;for(e=0,i=(n=this.containers).length;e<i;e++)t=n[e],this.core.widgetDiv.appendChild(t)}},e.prototype.containers=null,e.width=0,e.height=0,e.prototype.resize=function(t,e){var i,n,r,o,s;if(this.width=t,this.height=e,(o=this.node.widgets).length>0&&this.width>0&&this.height>0)for(i=0,n=o.length;i<n;i++)r=o[i],s=this.calcWidgetWidth(r),this.core.callStrategyByMaxWeight("widget:resize${"+r+"}",0,s,this.calcWidgetHeight(r,s))},e.prototype.calcWidgetWidth=function(t){var e,i;i=this.width;try{i=(e=this.node.widgets.in.width/3):0}catch(t){t}return i},e.prototype.calcWidgetHeight=function(t,e){return this.height},e.prototype.getWidgetContainer=function(t){return this.containers[t.widgetIndex]},e.prototype.getWrap=function(){var t,e,i;return e=document.createElement("div"),i="",i+='<div class="buzz-default">',i+='<div class="buzz__default__player">\n  <div class="buzz_code inread_plus" data-resize></div>\n</div>',!!(t=this.node.loadedData).clickthroughUrl&&(i+='<div class="buzz-default__long-block buzz-default__long-block_no-padd">\n  <div class="buzz-default__install b-def-install b-def-install_mobile-site-link">\n    <span data-buzz-clickthrough class="b-def-install__btn">\n      <span class="b-def-install__btn__wrapper">'+(!!t.actionButtonTitle&&t.actionButtonTitle||"Перейти на сайт")+"</span>\n    </span>\n  </div>\n</div>"),e.innerHTML=i,e.style.position="relative",e},e.prototype.initWidgets=function(){var t,e,n;(t=this.node.loadedData,2===(e=t.content.widgets).length)?(this.containers=[],Promise.resolve().then((n=this,function(t){var r,o,l,c,u,p;for(i(1190),i(2819),i(6941),i(4352),l=o=0,c=e.length;o<c;l=++o){switch((p=e[l]).widgetType){case"video":u="Player";break;case"tgb":u="TGB";break;default:u=s(p.widgetType)}(r=document.createElement("div")).className="inread_plus__widget_container inread_plus__widget_container-"+l,r.dataset.widgetIndex=l,n.containers.push(r),a(n,[["Widget",n.getExtendedWidgetData(l)]],"Buzzplayer.Widgets."+u)}}).bind(null,i)).catch(function(t){return function(e){t.trigger("error",e||"Failed to load widgets")}}(this))):this.trigger("error","Unsupported amount of widgets (expected 2, got "+e.length+")")},e}(n),o("Buzzplayer.Modules.Creative.AdFormats.InreadPlus",r),t.exports=r},4885:function(t,e,i){"use strict";var n,r,o,s,a,l={}.hasOwnProperty;n=i(8706),a=i(5460),s=i(6993),o=i(8118),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.addsStrategies=[["get_wrap",20,"getWrap"],["widget:resize",10,"resize"]],e.prototype.handlesEvents={"widget_div:created":function(){var t,e,i,n;for(e=0,i=(n=this.containers).length;e<i;e++)t=n[e],this.core.widgetDiv.appendChild(t)}},e.prototype.containers=null,e.width=0,e.height=0,e.prototype.resize=function(t,e){var i,n,r,o,s;if(this.width=t,this.height=e,(o=this.node.widgets).length>0&&this.width>0&&this.height>0)for(i=0,n=o.length;i<n;i++)r=o[i],s=this.calcWidgetWidth(r),this.core.callStrategyByMaxWeight("widget:resize${"+r+"}",0,s,this.calcWidgetHeight(r,s))},e.prototype.calcWidgetWidth=function(t){var e,i;i=this.width;try{(e=this.node.widgets.indexOf(t))>0&&this.node.loadedData.content.widgets[e].widgetData.carouselIsVertical&&(i=.283*this.width)}catch(t){t}return i},e.prototype.calcWidgetHeight=function(t,e){var i,n;n=this.height;try{(i=this.node.widgets.indexOf(t))>0&&(this.node.loadedData.content.widgetght))}catch(t){t}return n},e.prototype.getWidgetContainer=function(t){return this.containers[t.widgetIndex]},e.prototype.getWrap=function(){var t;return"",'<div class="buzz-default">','<div class="buzz__default__player">\n  <div class="buzz_code shoppable-ads" data-resize></div>\n</div>',(t=document.createElement("div")).innerHTML='<div class="buzz-default"><div class="buzz__default__player">\n  <div class="buzz_code shoppable-ads" data-resize></div>\n</div>',t.style.position="relative",t},e.prototype.initWidgets=function(){var t,e,n;(t=this.node.loadedData,2===(e=t.content.widgets).length)?(this.containers=[],Promise.resolve().then((n=this,function(t){var r,o,l,c,u,p;for(i(2819),i(4352),l=o=0,c=e.length;o<c;l=++o)u="video"===(p=e[l]).widgetType?"Player":s(p.widgetType),(r=document.createElement("div")).className="shoppable-ads__widget-container shoppable-ads__widget-container_"+l,r.dataset.widgetIndex=l,n.containers.push(r),a(n,[["Widget",n.getExtendedWidgetData(l)]],"Buzzplayer.Widgets."+u)}).bind(null,i)).catch(function(t){return function(e){t.trigger("error",e||"Failed to load widgets")}}(this))):this.trigger("error","Unsupported amount of widgets (expected 2, got "+e.length+")")},e}(n),o("Buzzplayer.Modules.Creative.AdFormats.ShoppableAds",r),t.exports=r},701:function(t,e,i){"use strict";var n,r,o,s,a,l={}.hasOwnProperty;n=i(8706),a=i(5460),o=i(8118),s=i(4980).Z,r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructon,t.__super__=e.prototype}(e,t),e.prototype.handlesEvents={drawn:ftePlayer()}},e.prototype.addsStrategies=[["vertical_video:get_child_playtotype.player=null,e.protoTML=s},e.prototype.formatIsReady=function(){return e.__super__.formatIsReady.call(this)&&this.playerIsReady},e.prototype.createPlayer=function(){var t,e,i,n,r,o,s,a,l;i=this.node.loadedData,a=(e=i.content).widgets[0],n=e.isVerticalVideoVpaidjs,t=!1,this.player=new Buzzoola.Buzzplayer.Core({slot:this.core.widgetDiv.querySelector("div#buzz__vertical_video__widget"),parentCore:this.core,playerData:{crs:[{adFormatType:"inread",customHtml:'<div class="buzz_code"></div>',autoPlay:!0,jsWrapperUrl:"",playerShowPanels:!1,playerShowSkipButtonSeconds:-3,content:{widgets:[{contentType:n?"vpaidjs":"video_url",widgetType:"video",widgetData:{disableReplayTimer:a.widgetData.disableReplayTimer,infiniteVideo:a.widgetData.infiniteVideo,mainContent:a.widgetData.mainContent}}]}}],placement:{unitSettings:{autoplayEnableSound:null!=(r=null!=(o=this.core.placement)&&null!=(s=o.unitSettings)?s.autoplayEnableSound:void 0)&&r,expandable:!1},unitSettingsList:["containerHeight","height","width","debugMode","expandable"],unitType:"inread"}}}),this.player.addStrategy("resize:set_aspect",10,(l=this,function(i){var n;n=!isNaN(e.verticalVideoCustomAspect)&&e.verticalVideoCustomAspect>0?e.verticalVideoCustomAspect:i,t=!0,l.player.callStrategyByMaxWeight("resize:set_aspect",9,n)})),this.player.on("event:state",function(i){return function(n){"ready"===n&&(!t&&!isNaN(e.verticalVideoCustomAspect)&&e.verticalVideoCustomAspect>0&&i.player.callStrategy("resize:set_aspect",e.verticalVideoCustomAspect),i.playerIsReady=!0,i.formatIsReady()&&i.changeCoreState("ready"))}}(this)),this.player.on("destroyed",function(t){return function(){var i,n;t.trigger("vertical_video:child_player_destroyed"),(null==(i=e.verticalVideoDestroyWithChild)||i)&&null!=(n=t.core)&&n.destroy()}}(this)),this.trigger("vertical_video:child_player",this.player)},e.prototype.initWidgets=function(){var t;i.e(314).then((t=this,function(e){i(4181),ller")}).bind(null,i)).catch(function(t){return function(e){t.trigger("error",e||"Failed to load widgets")}}(this))},e}(n),o("Buzzplayer.Modukeyframes small{0%{opacity:1}100%{opacity:.999}}@keyframes small{0%{opacity:1}100%{opacity:.999}}</style> '},9960:function(t,e,i){var n={"./APIEventSender.coffee":8751,"./AdomainPlank.coffee":9685,"./AdsCounter.coffee":1296,"./AdvertiserLegalInfo.coffee":6207,"./ClickthroughUrl.coffee":2663,"./ClickthroughUrlCloseButton.coffee":1643,"./ClientRectIntersectionObserver.coffee":9494,"./CloseButtonDisplay.coffee":4121,"./CloseButtonVideo.coffee":2005,"./CustomHtml.coffee":8303,"./CustomJs.coffee":5719,"./EcommItemWrap.coffee":1138,"./HrefHandler.coffee":4711,"./JsWrapper.coffee":2934,"./MetricsWatcher.coffee":4119,"./MyTargetTracker.coffee":4676,"./NativeIntersectionObserver.coffee":9181,"./ScrollerWrap.coffee":1941,"./ShoppableAdsItemWrap.coffee":2397,"./ShowcaseItemWrap.coffee":3192,"./TrackingUrlSender.coffee":1471,"./UserEngagement.coffee":8795,"./VAST.coffee":4473,"./ViewportOrientation.coffee":8969,"./Wrap.coffee":8782,"./YandexMetrika.coffee":7507,"./adFormats/BLSBanner.coffee":6977,"./adFormats/CubeBanner.coffee":3786,"./adFormats/DefaultAdFormat.coffee":140,"./adFormats/InreadPlus.cof{if(!find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id=9960}}]);